// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
(function(c,e){var k,l=function(){return"undefined"!==typeof u&&"function"!==typeof u?u:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},b=function(a){for(var d in a)return 0;return 1},h={}.toString,f=function(a){return"[object Function]"==h.call(a)},a=function(a){return"[object String]"==h.call(a)},d=function(a){return"[object Array]"==h.call(a)},g=function(a,d){if(a)for(var b=0;b<a.length;)d(a[b++])},q=function(a,d){for(var b in d)a[b]=d[b];return a},r=function(a,
d){return q(Error(a),{src:"dojoLoader",info:d})},n=1,w=function(){return"_"+n++},t=function(a,d,b){return fa(a,d,b,0,t)},u=l,z=u.document,x=z&&z.createElement("DiV"),p=t.has=function(a){return f(A[a])?A[a]=A[a](u,z,x):A[a]},A=p.cache=e.hasCache;f(c)&&(c=c(l));p.add=function(a,d,b,g){(void 0===A[a]||g)&&(A[a]=d);return b&&p(a)};p.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);p("host-webworker")&&(q(e.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),e.loaderPatch={injectUrl:function(a,d){try{importScripts(a),d()}catch(Ia){console.info("failed to load resource ("+a+")"),console.error(Ia)}}});for(var v in c.has)p.add(v,c.has[v],0,1);t.async=1;var y=p("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(a,d){return y(a+"\r\n//# sourceURL\x3d"+d)};var B={},F=t.signal=function(a,b){a=B[a];g(a&&a.slice(0),function(a){a.apply(null,
d(b)?b:[b])})};v=t.on=function(a,d){var b=B[a]||(B[a]=[]);b.push(d);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===d){b.splice(a,1);break}}}};var J=[],I={},C=[],E={},G=t.map={},D=[],H={},K="",L={},O={},l={},M=0;if(!p("foreign-loader"))var N=function(a,d){d=!1!==d;var b,g,f,q;for(b in O)g=O[b],(f=b.match(/^url\:(.+)/))?L["url:"+la(f[1],a)]=g:"*now"==b?q=g:"*noref"!=b&&(f=ia(b,a,!0),L[f.mid]=L["url:"+f.url]=g);q&&q(ga(a));d&&(O={})};var S=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},Q=function(a,d){d.splice(0,d.length);for(var b in a)d.push([b,a[b],new RegExp("^"+S(b)+"(/|$)"),b.length]);d.sort(function(a,d){return d[3]-a[3]});return d},V=function(d,b){g(d,function(d){b.push([a(d[0])?new RegExp("^"+S(d[0])+"$"):d[0],d[1]])})},Y=function(a){var d=a.name;d||(d=a,a={name:d});a=q({main:"main"},a);a.location=a.location?a.location:d;a.packageMap&&(G[d]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));E[d]=a},T=[],W=function(d,b,f){for(var n in d){"waitSeconds"==
n&&(t.waitms=1E3*(d[n]||0));"cacheBust"==n&&(K=d[n]?a(d[n])?d[n]:(new Date).getTime()+"":"");if("baseUrl"==n||"combo"==n)t[n]=d[n];d[n]!==A&&(t.rawConfig[n]=d[n],"has"!=n&&p.add("config-"+n,d[n],0,b))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(n in d.has)p.add(n,d.has[n],0,b);g(d.packages,Y);for(var h in d.packagePaths)g(d.packagePaths[h],function(d){var b=h+"/"+d;a(d)&&(d={name:d});d.location=b;Y(d)});Q(q(G,d.map),D);g(D,function(a){a[1]=Q(a[1],[]);"*"==a[0]&&(D.star=
a)});Q(q(I,d.paths),C);V(d.aliases,J);if(!p("foreign-loader")){if(b)T.push({config:d.config});else for(n in d.config)b=ca(n,f),b.config=q(b.config||{},d.config[n]);d.cache&&(N(),O=d.cache,N(0,!!d.cache["*noref"]))}F("config",[d,t.rawConfig])};if(p("dojo-cdn")){var aa=z.getElementsByTagName("script");k=0;for(var R,P,da,ea;k<aa.length;)if(R=aa[k++],(da=R.getAttribute("src"))&&(ea=da.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(P=ea[3]||"",e.baseUrl=e.baseUrl||P,M=R),da=R.getAttribute("data-dojo-config")||
R.getAttribute("djConfig"))l=t.eval("({ "+da+" })","data-dojo-config"),M=R}t.rawConfig={};W(e,1);p("dojo-cdn")&&((E.dojo.location=P)&&(P+="/"),E.dijit.location=P+"../dijit/",E.dojox.location=P+"../dojox/");W(c,1);W(l,1);if(!p("foreign-loader"))var Z=function(a){Da(function(){g(a.deps,Ja)})},fa=function(b,g,f,n,h){var c;if(a(b)){if((c=ca(b,n,!0))&&c.executed)return c.result;throw r("undefinedModule",b);}d(b)||(W(b,0,n),b=g,g=f);if(d(b))if(b.length){f="require*"+w();for(var v,e=[],k=0;k<b.length;)v=
b[k++],e.push(ca(v,n));c=q(ja("",f,0,""),{injected:2,deps:e,def:g||m,require:n?n.require:t,gc:1});H[c.mid]=c;Z(c);var p=wa&&!0;Da(function(){Ea(c,p)});c.executed||U.push(c);Fa()}else g&&g();return h},ga=function(a){if(!a)return t;var d=a.require;d||(d=function(b,g,f){return fa(b,g,f,a,d)},a.require=q(d,t),d.module=a,d.toUrl=function(d){return la(d,a)},d.toAbsMid=function(d){return ma(d,a)});return d},U=[],ba=[],X={},ha=function(a){a.injected=1;X[a.mid]=1;a.url&&(X[a.url]=a.pack||1);Oa()},ka=function(a){a.injected=
2;delete X[a.mid];a.url&&delete X[a.url];b(X)&&Pa()},Ba=t.idle=function(){return!ba.length&&b(X)&&!U.length&&!wa};var na=function(a,d){if(d)for(var b=0;b<d.length;b++)if(d[b][2].test(a))return d[b];return 0},oa=function(a){var d=[],b,g;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&d.length&&".."!=g?(d.pop(),g=d[d.length-1]):"."!=b&&d.push(g=b);return d.join("/")},ja=function(a,d,b,g){return{pid:a,mid:d,pack:b,url:g,executed:0,def:0}},xa=function(a,d,b,n,q,h,c,t,v,w){var e,k,
p,m;m=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||m&&!d)return ja(0,a,0,a);a=oa(m?d.mid+"/../"+a:a);if(/^\./.test(a))throw r("irrationalPath",a);w||m||!h.star||(p=na(a,h.star[1]));!p&&d&&(p=(p=na(d.mid,h))&&na(a,p[1]));p&&(a=p[1]+a.substring(p[3]));d=(ea=a.match(/^([^\/]+)(\/(.+))?$/))?ea[1]:"";(e=b[d])?a=d+"/"+(k=ea[3]||e.main):d="";var u=0;g(t,function(d){var b=a.match(d[0]);b&&0<b.length&&(u=f(d[1])?a.replace(d[0],d[1]):d[1])});if(u)return xa(u,0,b,n,q,h,c,t,v);if(b=n[a])return v?ja(b.pid,b.mid,
b.pack,b.url):n[a];n=(p=na(a,c))?p[1]+a.substring(p[3]):d?("/"===e.location.slice(-1)?e.location.slice(0,-1):e.location)+"/"+k:a;/(^\/)|(\:)/.test(n)||(n=q+n);return ja(d,a,e,oa(n+".js"))},ia=function(a,d,b){return xa(a,d,E,H,t.baseUrl,D,C,J,void 0,b)};if(!p("foreign-loader"))var ra=function(a,d,b){return a.normalize?a.normalize(d,function(a){return ma(a,b)}):ma(d,b)},sa=0,ca=function(a,d,b){var g,f;(g=a.match(/^(.+?)\!(.*)$/))?(f=ca(g[1],d,b),5!==f.executed||f.load||pa(f),f.load?(g=ra(f,g[2],d),
a=f.mid+"!"+(f.dynamic?++sa+"!":"")+g):(g=g[2],a=f.mid+"!"+ ++sa+"!waitingForPlugin"),a={plugin:f,mid:a,req:ga(d),prid:g}):a=ia(a,d);return H[a.mid]||!b&&(H[a.mid]=a)};var ma=t.toAbsMid=function(a,d){return ia(a,d).mid},la=t.toUrl=function(a,d){d=ia(a+"/x",d);var b=d.url;return Ka(0===d.pid?a:b.substring(0,b.length-5))};if(!p("foreign-loader")){var ta={injected:2,executed:5,def:3,result:3};P=function(a){return H[a]=q({mid:a},ta)};var ya=P("require"),ua=P("exports"),za=P("module"),qa={},va=0,pa=function(a){var d=
a.result;a.dynamic=d.dynamic;a.normalize=d.normalize;a.load=d.load;return a},Aa=function(a){var d={};g(a.loadQ,function(b){var g=ra(a,b.prid,b.req.module),f=a.dynamic?b.mid.replace(/waitingForPlugin$/,g):a.mid+"!"+g,g=q(q({},b),{mid:f,prid:g,injected:0});H[f]&&H[f].injected||La(H[f]=g);d[b.mid]=H[f];ka(b);delete H[b.mid]});a.loadQ=0;var b=function(a){for(var b=a.deps||[],g=0;g<b.length;g++)(a=d[b[g].mid])&&(b[g]=a)},f;for(f in H)b(H[f]);g(U,b)},Ga=function(a){t.trace("loader-finish-exec",[a.mid]);
a.executed=5;a.defOrder=va++;a.loadQ&&(pa(a),Aa(a));for(k=0;k<U.length;)U[k]===a?U.splice(k,1):k++;/^require\*/.test(a.mid)&&delete H[a.mid]},Qa=[],Ea=function(a,d){if(4===a.executed)return t.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||d?qa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return qa;var b=a.mid,g=a.deps||[],n,q=[],h=0;for(a.executed=4;n=g[h++];){n=n===ya?ga(a):n===ua?a.cjs.exports:n===za?a.cjs:Ea(n,d);if(n===qa)return a.executed=0,t.trace("loader-exec-module",
["abort",b]),qa;q.push(n)}t.trace("loader-run-factory",[a.mid]);d=a.def;q=f(d)?d.apply(null,q):d;a.result=void 0===q&&a.cjs?a.cjs.exports:q;Ga(a)}return a.result},wa=0,Da=function(a){try{wa++,a()}catch(Na){throw Na;}finally{wa--}Ba()&&F("idle",[])},Fa=function(){wa||Da(function(){for(var a,d,b=0;b<U.length;)a=va,d=U[b],Ea(d),a!=va?b=0:b++})}}var Ka="function"==typeof c.fixupUrl?c.fixupUrl:function(a){a+="";return a+(K?(/\?/.test(a)?"\x26":"?")+K:"")};void 0===p("dojo-loader-eval-hint-url")&&p.add("dojo-loader-eval-hint-url",
1);var La=function(a){var d=a.plugin;5!==d.executed||d.load||pa(d);var b=function(d){a.result=d;ka(a);Ga(a);Fa()};d.load?d.load(a.prid,a.req,b):d.loadQ?d.loadQ.push(a):(d.loadQ=[a],U.unshift(d),Ja(d))},Ca=0,Ra=function(a,d){p("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===Ca?Ca.call(null):t.eval(a,p("dojo-loader-eval-hint-url")?d.url:d.mid)},Ja=function(a){var d=a.mid,b=a.url;if(!(a.executed||a.injected||X[d]||a.url&&(a.pack&&X[a.url]===a.pack||1==X[a.url])))if(ha(a),a.plugin)La(a);
else{var g=function(){Sa(a);if(2!==a.injected){if(p("dojo-enforceDefine")){F("error",r("noDefine",a));return}ka(a);q(a,ta);t.trace("loader-define-nonmodule",[a.url])}Fa()};(Ca=L[d]||L["url:"+a.url])?(t.trace("loader-inject",["cache",a.mid,b]),Ra(Ca,a),g()):(t.trace("loader-inject",["script",a.mid,b]),t.injectUrl(Ka(b),g,a))}},Ma=function(a,d,b){t.trace("loader-define-module",[a.mid,d]);if(2===a.injected)return F("error",r("multipleDefine",a)),a;q(a,{deps:d,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(d){a.cjs.exports=d},config:function(){return a.config}}});for(var g=0;d[g];g++)d[g]=ca(d[g],a);ka(a);f(b)||d.length||(a.result=b,Ga(a));return a},Sa=function(a,d){for(var b=[],f,n;ba.length;)n=ba.shift(),d&&(n[0]=d.shift()),f=n[0]&&ca(n[0])||a,b.push([f,n[1],n[2]]);N(a);g(b,function(a){Z(Ma.apply(null,a))})},Pa=m,Oa=m;p("dom");if(p("dom")){var Ha=function(a,d,b,g){a.addEventListener(d,g,!1);return function(){a.removeEventListener(d,g,!1)}},Ta=Ha(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(Ua){}Ta()}),aa=z.getElementsByTagName("script");for(k=0;!M;)/^dojo/.test((R=aa[k++])&&R.type)||(M=R);t.injectUrl=function(a,d,b){b=b.node=z.createElement("script");var g=Ha(b,"load","onreadystatechange",function(a){a=a||window.event;var b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))g(),f(),d&&d()}),f=Ha(b,"error","onerror",function(d){g();f();F("error",r("scriptError: "+a,[a,d]))});b.type="text/javascript";
b.charset="utf-8";b.src=a;M.parentNode.insertBefore(b,M);return b}}t.log=m;t.trace=m;p("foreign-loader")?R=m:(R=function(d,b,g){var n=arguments.length,q=["require","exports","module"],h=[0,d,b];1==n?h=[0,f(d)?q:[],d]:2==n&&a(d)?h=[d,f(b)?q:[],b]:3==n&&(h=[d,b,g]);t.trace("loader-define",h.slice(0,2));(n=h[0]&&ca(h[0]))&&!X[n.mid]?Z(Ma(n,h[1],h[2])):ba.push(h)},R.amd={vendor:"dojotoolkit.org"});q(q(t,e.loaderPatch),c.loaderPatch);v("error",function(a){try{if(console.error(a),a instanceof Error){for(var d in a)console.log(d+
":",a[d]);console.log(".")}}catch(Ia){}});q(t,{uid:w,cache:L,packs:E});u.define||(u.define=R,u.require=t,p("foreign-loader")||(g(T,function(a){W(a)}),R=l.deps||c.deps||e.deps,c=l.callback||c.callback||e.callback,t.boot=R||c?[R||[],c]:0))})(function(c){return c.dojoConfig||c.djConfig||c.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"https://[HOSTNAME_AND_PATH_TO_JSAPI]dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"esri-console-log-version":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",
name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(c){return c})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(c,e,k,l,m){var b=0,h=[],f=0;e=function(){b=1;c._postLoad=c.config.afterOnLoad=!0;a()};var a=function(){if(!f){for(f=1;b&&(!l||0==l._Q.length)&&
(k.idle?k.idle():1)&&h.length;){var a=h.shift();try{a()}catch(r){if(r.info=r.message,k.signal)k.signal("error",r);else throw r;}}f=0}};k.on&&k.on("idle",a);l&&(l._onQEmpty=a);var d=c.ready=c.addOnLoad=function(d,b,g){var f=m._toArray(arguments);"number"!=typeof d?(g=b,b=d,d=1E3):f.shift();g=g?m.hitch.apply(c,f):function(){b()};g.priority=d;for(f=0;f<h.length&&d>=h[f].priority;f++);h.splice(f,0,g);a()},g=c.config.addOnLoad;if(g)d[m.isArray(g)?"apply":"call"](c,g);l?l(e):e();return d})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(c,e,k,l,m){var b,h={},f={},a={config:k,global:c,dijit:h,dojox:f},h={dojo:["dojo",a],dijit:["dijit",h],dojox:["dojox",f]};m=l.map&&l.map[m.id.match(/[^\/]+/)[0]];for(b in m)h[b]?h[b][0]=m[b]:h[b]=[m[b],{}];for(b in h)m=h[b],m[1]._scopeName=m[0],k.noGlobals||(c[m[0]]=m[1]);a.scopeMap=h;a.baseUrl=a.config.baseUrl=l.baseUrl;a.isAsync=l.async;a.locale=k.locale;c="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);a.version={major:1,minor:14,patch:2,flag:"",revision:c?
c[0]:NaN,toString:function(){var d=a.version;return d.major+"."+d.minor+"."+d.patch+d.flag+" ("+d.revision+")"}};e("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(a);a.exit=function(){};e("host-webworker");"undefined"!=typeof console||(console={});c="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var d;for(e=0;d=c[e++];)console[d]?console[d]=Function.prototype.bind.call(console[d],
console):function(){var a=d+"";console[a]="log"in console?function(){var d=Array.prototype.slice.call(arguments);d.unshift(a+":");console.log(d.join(" "))}:function(){};console[a]._fake=!0}();a.deprecated=a.experimental=function(){};a._hasResource={};return a})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(c,e,k){var l=e.has||function(){};if(!l("dojo-has-api")){var m=(e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,b=m&&m.createElement("DiV"),h=k.config&&k.config()||{},l=function(f){return"function"==typeof h[f]?h[f]=h[f](c,m,b):h[f]};l.cache=h;l.add=function(b,a,d,g){("undefined"==typeof h[b]||g)&&(h[b]=a);return d&&l(b)};l.add("host-browser",e);l.add("dom",e)}l("host-browser")&&(l.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),l.add("touch-events","ontouchstart"in document),l.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),l.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),l.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));l.clearElement=function(b){b.innerHTML="";return b};
l.normalize=function(b,a){var d=b.match(/[\?:]|[^:\?]*/g),g=0,f=function(a){var b=d[g++];if(":"==b)return 0;if("?"==d[g++]){if(!a&&l(b))return f();f(!0);return f(a)}return b||0};return(b=f())&&a(b)};l.load=function(b,a,d){b?a([b],d):d()};return l})},"dojo/_base/config":function(){define(["../global","../has","require"],function(c,e,k){c={};k=k.rawConfig;for(var l in k)c[l]=k[l];!c.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(c.locale=l.toLowerCase());return c})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(c,e){var k=function(b,a,d){d||(d=b[0]&&c.scopeMap[b[0]]?c.scopeMap[b.shift()][1]:c.global);try{for(var g=0;g<b.length;g++){var f=b[g];if(!(f in d))if(a)d[f]={};else return;d=d[f]}return d}catch(r){}},l=Object.prototype.toString,m=function(b,a,d){return(d||[]).concat(Array.prototype.slice.call(b,a||0))},b=/\{([^\}]+)\}/g,h={_extraNames:[],_mixin:function(b,a,
d){var g,f,h={};for(g in a)f=a[g],g in b&&(b[g]===f||g in h&&h[g]===f)||(b[g]=d?d(f):f);return b},mixin:function(b,a){b||(b={});for(var d=1,g=arguments.length;d<g;d++)h._mixin(b,arguments[d]);return b},setObject:function(b,a,d){var g=b.split(".");b=g.pop();return(d=k(g,!0,d))&&b?d[b]=a:void 0},getObject:function(b,a,d){return b?k(b.split("."),a,d):d},exists:function(b,a){return void 0!==h.getObject(b,!1,a)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||
function(b){return"[object Array]"==l.call(b)},isFunction:function(b){return"[object Function]"===l.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||h.isArray(b)||h.isFunction(b))},isArrayLike:function(b){return!!b&&!h.isString(b)&&!h.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(h.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!h.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,a){for(var d=1,g=arguments.length;d<
g;d++)h._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,a){var d=h._toArray(arguments,2),g=h.isString(a);return function(){var f=h._toArray(arguments),r=g?(b||c.global)[a]:a;return r&&r.apply(b||this,d.concat(f))}},hitch:function(b,a){if(2<arguments.length)return h._hitchArgs.apply(c,arguments);a||(a=b,b=null);if(h.isString(a)){b=b||c.global;if(!b[a])throw['lang.hitch: scope["',a,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[a].apply(b,arguments||[])}}return b?
function(){return a.apply(b,arguments||[])}:a},delegate:function(){function b(){}return function(a,d){b.prototype=a;a=new b;b.prototype=null;d&&h._mixin(a,d);return a}}(),_toArray:e("ie")?function(){function b(a,d,b){b=b||[];for(d=d||0;d<a.length;d++)b.push(a[d]);return b}return function(a){return(a.item?b:m).apply(this,arguments)}}():m,partial:function(b){return h.hitch.apply(c,[null].concat(h._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||h.isFunction(b))return b;if(b.nodeType&&
"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var a,d,g;if(h.isArray(b))for(a=[],d=0,g=b.length;d<g;++d)d in b&&(a[d]=h.clone(b[d]));else a=b.constructor?new b.constructor:{};return h._mixin(a,b,h.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(f,a,d){return f.replace(d||b,h.isFunction(a)?a:function(b,d){return h.getObject(d,
!1,a)})}};h.mixin(c,h);return h})},"dojo/sniff":function(){define(["./has"],function(c){if(c("host-browser")){var e=navigator,k=e.userAgent,e=e.appVersion,l=parseFloat(e);c.add("edge",parseFloat(k.split("Edge/")[1])||void 0);c.add("webkit",!c("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);c.add("chrome",!c("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);c.add("safari",0<=e.indexOf("Safari")&&!c("chrome")&&!c("edge")?parseFloat(e.split("Version/")[1]):void 0);c.add("mac",0<=e.indexOf("Macintosh"));
if(k.match(/(iPhone|iPod|iPad)/)){var m=RegExp.$1.replace(/P/,"p"),b=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",b=parseFloat(b.replace(/_/,".").replace(/_/g,""));c.add(m,b);c.add("ios",b)}c.add("trident",parseFloat(e.split("Trident/")[1])||void 0);c("webkit")||(0<=k.indexOf("Opera")&&c.add("opera",9.8<=l?parseFloat(k.split("Version/")[1])||l:l),0<=k.indexOf("Gecko")&&!c("trident")&&!c("edge")&&c.add("mozilla",l),c("mozilla")&&c.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
document.all&&!c("opera")&&(k=parseFloat(e.split("MSIE ")[1])||void 0,(e=document.documentMode)&&5!=e&&Math.floor(k)!=e&&(k=e),c.add("ie",k)))}return c})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(c,e,k,l,m,b,h,f){function a(a,d,g,h,q){h=f.hitch(g,h);if(!a||!a.addEventListener&&!a.attachEvent)return l.after(a||c.global,d,h,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));a||(a=c.global);
if(!q)switch(d){case "keypress":d=n;break;case "mouseenter":d=b.enter;break;case "mouseleave":d=b.leave}return e(a,d,h,q)}function d(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(u){}return 0==a.charCode&&!h("opera")});var g={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},q=h("mac")?"metaKey":"ctrlKey",r=function(a,b){b=f.mixin({},a,b);d(b);b.preventDefault=function(){a.preventDefault()};b.stopPropagation=function(){a.stopPropagation()};return b},n;n=h("events-keypress-typed")?function(a,b){var d=e(a,"keydown",function(a){var d=a.keyCode,f=13!=d&&32!=d&&(27!=d||!h("ie"))&&(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(f||a.ctrlKey){f=f?0:d;if(a.ctrlKey){if(3==d||13==d)return b.call(a.currentTarget,
a);f=95<f&&106>f?f-48:!a.shiftKey&&65<=f&&90>=f?f+32:g[f]||f}d=r(a,{type:"keypress",faux:!0,charCode:f});b.call(a.currentTarget,d);if(h("ie"))try{a.keyCode=d.keyCode}catch(y){}}}),f=e(a,"keypress",function(a){var d=a.charCode;a=r(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){d.remove();f.remove()}}}:h("opera")?function(a,d){return e(a,"keypress",function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&!a.shiftKey&&65<=b&&90>=b&&(b+=32);return d.call(this,
r(a,{charCode:b}))})}:function(a,b){return e(a,"keypress",function(a){d(a);return b.call(this,a)})};var w={_keypress:n,connect:function(b,d,g,f,n){var h=arguments,q=[],c=0;q.push("string"==typeof h[0]?null:h[c++],h[c++]);var r=h[c+1];q.push("string"==typeof r||"function"==typeof r?h[c++]:null,h[c++]);for(r=h.length;c<r;c++)q.push(h[c]);return a.apply(this,q)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return k.subscribe(a,f.hitch(b,d))},publish:function(a,b){return k.publish.apply(k,
[a].concat(b))},connectPublisher:function(a,b,d){var g=function(){w.publish(a,arguments)};return d?w.connect(b,d,g):w.connect(b,g)},isCopyKey:function(a){return a[q]}};w.unsubscribe=w.disconnect;f.mixin(c,w);return w})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(c,e,k){function l(a,b,d,q,c){if(q=b.match(/(.*):(.*)/))return b=q[2],q=q[1],h.selector(q,b).call(c,a,d);k("touch")&&f.test(b)&&(d=r(d));if(a.addEventListener){var n=b in g,t=n?g[b]:b;a.addEventListener(t,d,
n);return{remove:function(){a.removeEventListener(t,d,n)}}}throw Error("Target must be an event emitter");}function m(){this.cancelable=!1;this.defaultPrevented=!0}function b(){this.bubbles=!1}k("dom")&&k("touch");var h=function(a,b,d,g){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?h.parse(a,b,d,l,g,this):a.on(b,d)};h.pausable=function(a,b,d,g){var f;a=h(a,b,function(){if(!f)return d.apply(this,arguments)},g);a.pause=function(){f=!0};a.resume=function(){f=!1};return a};h.once=function(a,
b,d,g){var f=h(a,b,function(){f.remove();return d.apply(this,arguments)});return f};h.parse=function(a,b,d,g,f,q){var n;if(b.call)return b.call(q,a,d);b instanceof Array?n=b:-1<b.indexOf(",")&&(n=b.split(/\s*,\s*/));if(n){var c=[];b=0;for(var r;r=n[b++];)c.push(h.parse(a,r,d,g,f,q));c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c}return g(a,b,d,f,q)};var f=/^touch/;h.matches=function(a,b,d,g,f){f=f&&"function"==typeof f.matches?f:e.query;g=!1!==g;1!=a.nodeType&&(a=a.parentNode);
for(;!f.matches(a,b,d);)if(a==d||!1===g||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};h.selector=function(a,b,d){return function(g,f){function n(b){return h.matches(b,a,g,d,q)}var q="function"==typeof a?{matches:a}:this,c=b.bubble;return c?h(g,c(n),f):h(g,b,function(a){var b=n(a.target);if(b)return a.selectorTarget=b,f.call(b,a)})}};var a=[].slice,d=h.emit=function(d,g,f){var q=a.call(arguments,2),h="on"+g;if("parentNode"in d){var n=q[0]={},c;for(c in f)n[c]=f[c];n.preventDefault=m;n.stopPropagation=
b;n.target=d;n.type=g;f=n}do d[h]&&d[h].apply(d,q);while(f&&f.bubbles&&(d=d.parentNode));return f&&f.cancelable&&f},g={};h.emit=function(a,b,g){if(a.dispatchEvent&&document.createEvent){var f=(a.ownerDocument||document).createEvent("HTMLEvents");f.initEvent(b,!!g.bubbles,!!g.cancelable);for(var q in g)q in f||(f[q]=g[q]);return a.dispatchEvent(f)&&f}return d.apply(h,arguments)};if(k("touch"))var q=window.orientation,r=function(a){return function(b){var d=b.corrected;if(!d){var g=b.type;try{delete b.type}catch(p){}if(b.type){var d=
{},f;for(f in b)d[f]=b[f];d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=g;b.corrected=d;if("resize"==g){if(q==window.orientation)return null;q=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);if(window.TouchEvent&&b instanceof TouchEvent){var g=d.changedTouches[0],h;for(h in g)delete d[h],d[h]=g[h]}}return a.call(this,d)}};return h})},"dojo/topic":function(){define(["./Evented"],
function(c){var e=new c;return{publish:function(c,l){return e.emit.apply(e,arguments)},subscribe:function(c,l){return e.on.apply(e,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(c,e){function k(){}var l=c.after;k.prototype={on:function(c,b){return e.parse(this,c,b,function(h,f){return l(h,"on"+f,b,!0)})},emit:function(c,b){var h=[this];h.push.apply(h,arguments);return e.emit.apply(e,h)}};return k})},"dojo/aspect":function(){define([],function(){function c(b,f,a,d){var g=
b[f],q="around"==f,h;if(q){var n=a(function(){return g.advice(this,arguments)});h={remove:function(){n&&(n=b=a=null)},advice:function(a,b){return n?n.apply(a,b):g.advice(a,b)}}}else h={remove:function(){if(h.advice){var d=h.previous,g=h.next;g||d?(d?d.next=g:b[f]=g,g&&(g.previous=d)):delete b[f];b=a=h.advice=null}},id:b.nextId++,advice:a,receiveArguments:d};if(g&&!q)if("after"==f){for(;g.next&&(g=g.next););g.next=h;h.previous=g}else"before"==f&&(b[f]=h,h.next=g,g.previous=h);else b[f]=h;return h}
function e(b){return function(f,a,d,g){var h=f[a],r;h&&h.target==f||(f[a]=r=function(){for(var a=r.nextId,b=arguments,d=r.before;d;)d.advice&&(b=d.advice.apply(this,b)||b),d=d.next;if(r.around)var g=r.around.advice(this,b);for(d=r.after;d&&d.id<a;){if(d.advice)if(d.receiveArguments)var f=d.advice.apply(this,b),g=f===k?g:f;else g=d.advice.call(this,g,b);d=d.next}return g},h&&(r.around={advice:function(a,b){return h.apply(a,b)}}),r.target=f,r.nextId=r.nextId||0);f=c(r||h,b,d,g);d=null;return f}}var k,
l=e("after"),m=e("before"),b=e("around");return{before:m,around:b,after:l}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(c,e,k,l){if(e._fixEvent){var m=e._fixEvent;e._fixEvent=function(b,h){(b=m(b,h))&&l.normalizeEvent(b);return b}}k={fix:function(b,h){return e._fixEvent?e._fixEvent(b,h):b},stop:function(b){b.preventDefault();b.stopPropagation()}};c.fixEvent=k.fix;c.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(c,e,k,l){function m(a,b,f,h,n,c){c=c||"px";a=a.style;isNaN(b)||(a.left=b+c);isNaN(f)||(a.top=f+c);0<=h&&(a.width=h+c);0<=n&&(a.height=n+c)}function b(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==f.boxModel||"table"==a.tagName.toLowerCase()||b(a)}var f={boxModel:"content-box"};c("ie")&&(f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
f.getPadExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a),g=l.toPixelValue;b=g(a,d.paddingLeft);var f=g(a,d.paddingTop),h=g(a,d.paddingRight);a=g(a,d.paddingBottom);return{l:b,t:f,r:h,b:a,w:b+h,h:f+a}};f.getBorderExtents=function(a,b){a=k.byId(a);var d=l.toPixelValue,g=b||l.getComputedStyle(a);b="none"!=g.borderLeftStyle?d(a,g.borderLeftWidth):0;var f="none"!=g.borderTopStyle?d(a,g.borderTopWidth):0,h="none"!=g.borderRightStyle?d(a,g.borderRightWidth):0;a="none"!=g.borderBottomStyle?
d(a,g.borderBottomWidth):0;return{l:b,t:f,r:h,b:a,w:b+h,h:f+a}};f.getPadBorderExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a);b=f.getPadExtents(a,d);a=f.getBorderExtents(a,d);return{l:b.l+a.l,t:b.t+a.t,r:b.r+a.r,b:b.b+a.b,w:b.w+a.w,h:b.h+a.h}};f.getMarginExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a),g=l.toPixelValue;b=g(a,d.marginLeft);var f=g(a,d.marginTop),h=g(a,d.marginRight);a=g(a,d.marginBottom);return{l:b,t:f,r:h,b:a,w:b+h,h:f+a}};f.getMarginBox=function(a,
b){a=k.byId(a);b=b||l.getComputedStyle(a);b=f.getMarginExtents(a,b);var d=a.offsetLeft-b.l,g=a.offsetTop-b.t,h=a.parentNode,e=l.toPixelValue;8==c("ie")&&h&&(h=l.getComputedStyle(h),d-="none"!=h.borderLeftStyle?e(a,h.borderLeftWidth):0,g-="none"!=h.borderTopStyle?e(a,h.borderTopWidth):0);return{l:d,t:g,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};f.getContentBox=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a);b=a.clientWidth;var g,h=f.getPadExtents(a,d);g=f.getBorderExtents(a,d);var d=a.offsetLeft+
h.l+g.l,e=a.offsetTop+h.t+g.t;b?g=a.clientHeight:(b=a.offsetWidth-g.w,g=a.offsetHeight-g.h);if(8==c("ie")){var t=a.parentNode,m=l.toPixelValue;t&&(t=l.getComputedStyle(t),d-="none"!=t.borderLeftStyle?m(a,t.borderLeftWidth):0,e-="none"!=t.borderTopStyle?m(a,t.borderTopWidth):0)}return{l:d,t:e,w:b-h.w,h:g-h.h}};f.setContentSize=function(a,b,q){a=k.byId(a);var d=b.w;b=b.h;h(a)&&(q=f.getPadBorderExtents(a,q),0<=d&&(d+=q.w),0<=b&&(b+=q.h));m(a,NaN,NaN,d,b)};var a={l:0,t:0,w:0,h:0};f.setMarginBox=function(d,
g,q){d=k.byId(d);var r=q||l.getComputedStyle(d);q=g.w;var n=g.h,e=h(d)?a:f.getPadBorderExtents(d,r),r=f.getMarginExtents(d,r);if(c("webkit")&&b(d)){var t=d.style;0<=q&&!t.width&&(t.width="4px");0<=n&&!t.height&&(t.height="4px")}0<=q&&(q=Math.max(q-e.w-r.w,0));0<=n&&(n=Math.max(n-e.h-r.h,0));m(d,g.l,g.t,q,n)};f.isBodyLtr=function(a){a=a||e.doc;return"ltr"==(e.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){a=a||e.doc;var b=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in
b?{x:b.pageXOffset,y:b.pageYOffset}:(b=a.documentElement)&&{x:f.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};f.getIeDocumentElementOffset=function(a){return{x:0,y:0}};f.fixIeBiDiScrollLeft=function(a,b){b=b||e.doc;var d=c("ie");if(d&&!f.isBodyLtr(b)){b=b.documentElement;var g=e.global;6==d&&g.frameElement&&b.scrollHeight>b.clientHeight&&(a+=b.clientLeft);return 8>d?a+b.clientWidth-b.scrollWidth:-a}return a};f.position=function(a,b){a=k.byId(a);e.body(a.ownerDocument);var d=a.getBoundingClientRect(),
d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};9>c("ie")&&(d.x-=0,d.y-=0);b&&(a=f.docScroll(a.ownerDocument),d.x+=a.x,d.y+=a.y);return d};f.getMarginSize=function(a,b){a=k.byId(a);b=f.getMarginExtents(a,b||l.getComputedStyle(a));a=a.getBoundingClientRect();return{w:a.right-a.left+b.w,h:a.bottom-a.top+b.h}};f.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var b=a.target,b=b&&b.ownerDocument||document,d=b.documentElement;a.pageX=a.clientX+
f.fixIeBiDiScrollLeft(d.scrollLeft||0,b);a.pageY=a.clientY+(d.scrollTop||0)}};return f})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(c,e,k){var l={global:c.global,doc:c.global.document||null,body:function(e){e=e||c.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,b){c.global=l.global=e;c.doc=l.doc=b},withGlobal:function(e,b,h,f){var a=c.global;try{return c.global=l.global=e,l.withDoc.call(null,e.document,b,h,f)}finally{c.global=l.global=
a}},withDoc:function(e,b,h,f){var a=l.doc,d=k("ie"),g,q,r;try{return c.doc=l.doc=e,c.isQuirks=0,k("ie")&&(r=e.parentWindow)&&r.navigator&&(g=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(q=e.documentMode)&&5!=q&&Math.floor(g)!=q&&(g=q),c.isIE=k.add("ie",g,!0,!0)),h&&"string"==typeof b&&(b=h[b]),b.apply(h,f||[])}finally{c.doc=l.doc=a,c.isQuirks=0,c.isIE=k.add("ie",d,!0,!0)}}};e.mixin(c,l);return l})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(c,
e,k){if(7>=c("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}var l={};c("ie")?l.byId=function(b,h){if("string"!=typeof b)return b;var f=h||e.doc;h=b&&f.getElementById(b);if(!h||h.attributes.id.value!=b&&h.id!=b){f=f.all[b];if(!f||f.nodeName)f=[f];for(var a=0;h=f[a++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==b||h.id==b)return h}else return h}:l.byId=function(b,h){return("string"==typeof b?(h||e.doc).getElementById(b):b)||null};k=k.global.document||null;c.add("dom-contains",
!(!k||!k.contains));l.isDescendant=c("dom-contains")?function(b,h){return!(!(h=l.byId(h))||!h.contains(l.byId(b)))}:function(b,h){try{for(b=l.byId(b),h=l.byId(h);b;){if(b==h)return!0;b=b.parentNode}}catch(f){}return!1};c.add("css-user-select",function(b,h,f){if(!f)return!1;b=f.style;h=["Khtml","O","Moz","Webkit"];f=h.length;var a="userSelect";do if("undefined"!==typeof b[a])return a;while(f--&&(a=h[f]+"UserSelect"));return!1});var m=c("css-user-select");l.setSelectable=m?function(b,h){l.byId(b).style[m]=
h?"":"none"}:function(b,h){b=l.byId(b);var f=b.getElementsByTagName("*"),a=f.length;if(h)for(b.removeAttribute("unselectable");a--;)f[a].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");a--;)f[a].setAttribute("unselectable","on")};return l})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(c,e,k){function l(a,b,d){b=b.toLowerCase();if("auto"==d){if("height"==b)return a.offsetHeight;if("width"==b)return a.offsetWidth}if("fontweight"==b)switch(d){case 700:return"bold";
default:return"normal"}b in g||(g[b]=q.test(b));return g[b]?h(a,d):d}var m,b={};m=c("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||{}}:c("ie")&&9>c("ie")?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){if(1===a.nodeType){var b=a.ownerDocument.defaultView;return(b.opener?b:k.global.window).getComputedStyle(a,null)}return{}};b.getComputedStyle=
m;var h;h=c("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,g=a.runtimeStyle,f=d.left,h=g.left;g.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(p){b=0}d.left=f;g.left=h;return b}:function(a,b){return parseFloat(b)||0};b.toPixelValue=h;var f=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(t){return b?{}:null}},a=9>c("ie")||(c("ie"),0)?function(a){try{return f(a).Opacity/100}catch(w){return 1}}:
function(a){return m(a).opacity},d=9>c("ie")||(c("ie"),0)?function(a,b){""===b&&(b=1);var g=100*b;1===b?(a.style.zoom="",f(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,f(a)?f(a,1).Opacity=g:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+g+")",f(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&d(a,b);return b}:function(a,b){return a.style.opacity=
b},g={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};b.get=function(d,g){var f=e.byId(d),h=arguments.length;if(2==h&&"opacity"==g)return a(f);g=r[g]?"cssFloat"in f.style?"cssFloat":"styleFloat":g;var q=b.getComputedStyle(f);return 1==h?q:l(f,g,q[g]||f.style[g])};b.set=function(a,g,f){var h=e.byId(a),q=arguments.length,c="opacity"==g;g=r[g]?"cssFloat"in h.style?"cssFloat":"styleFloat":g;if(3==q)return c?d(h,f):h.style[g]=f;for(var n in g)b.set(a,
n,g[n]);return b.getComputedStyle(h)};return b})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,e,k,l,m){function b(h,f){var a=function(a,b){return e(a,h,function(d){if(f)return f(d,b);if(!l.isDescendant(d.relatedTarget,a))return b.call(this,d)})};a.bubble=function(a){return b(h,function(b,d){var g=a(b.target),f=b.relatedTarget;if(g&&g!=(f&&1==f.nodeType&&a(f)))return d.call(g,b)})};return a}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,f){return b.button==
f},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};c.mouseButtons=k;return{_eventHandler:b,enter:b("mouseover"),leave:b("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(c,e,k){if(!k("host-browser"))return k;c._name="browser";e.mixin(c,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(c,e){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:e("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:e("mac")?e("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(c,e,k){var l=window,m={addOnWindowUnload:function(b,h){c.windowUnloaded||k(l,"unload",c.windowUnloaded=function(){});k(l,"unload",e.hitch(b,h))},addOnUnload:function(b,h){k(l,"beforeunload",e.hitch(b,h))}};c.addOnWindowUnload=m.addOnWindowUnload;c.addOnUnload=m.addOnUnload;return m})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(c,e,k,l,m,b,h,f){c.byId=e.byId;
c.isDescendant=e.isDescendant;c.setSelectable=e.setSelectable;c.getAttr=l.get;c.setAttr=l.set;c.hasAttr=l.has;c.removeAttr=l.remove;c.getNodeProp=l.getNodeProp;c.attr=function(a,b,g){return 2==arguments.length?l["string"==typeof b?"get":"set"](a,b):l.set(a,b,g)};c.hasClass=b.contains;c.addClass=b.add;c.removeClass=b.remove;c.toggleClass=b.toggle;c.replaceClass=b.replace;c._toDom=c.toDom=h.toDom;c.place=h.place;c.create=h.create;c.empty=function(a){h.empty(a)};c._destroyElement=c.destroy=function(a){h.destroy(a)};
c._getPadExtents=c.getPadExtents=f.getPadExtents;c._getBorderExtents=c.getBorderExtents=f.getBorderExtents;c._getPadBorderExtents=c.getPadBorderExtents=f.getPadBorderExtents;c._getMarginExtents=c.getMarginExtents=f.getMarginExtents;c._getMarginSize=c.getMarginSize=f.getMarginSize;c._getMarginBox=c.getMarginBox=f.getMarginBox;c.setMarginBox=f.setMarginBox;c._getContentBox=c.getContentBox=f.getContentBox;c.setContentSize=f.setContentSize;c._isBodyLtr=c.isBodyLtr=f.isBodyLtr;c._docScroll=c.docScroll=
f.docScroll;c._getIeDocumentElementOffset=c.getIeDocumentElementOffset=f.getIeDocumentElementOffset;c._fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft;c.position=f.position;c.marginBox=function(a,b){return b?f.setMarginBox(a,b):f.getMarginBox(a)};c.contentBox=function(a,b){return b?f.setContentSize(a,b):f.getContentBox(a)};c.coords=function(a,b){c.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");a=e.byId(a);var d=k.getComputedStyle(a),d=f.getMarginBox(a,d);a=
f.position(a,b);d.x=a.x;d.y=a.y;return d};c.getProp=m.get;c.setProp=m.set;c.prop=function(a,b,g){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,g)};c.getStyle=k.get;c.setStyle=k.set;c.getComputedStyle=k.getComputedStyle;c.__toPixelValue=c.toPixelValue=k.toPixelValue;c.style=function(a,b,g){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,g)};return c})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(c,e,k,l,m,b){function h(a,b){a=a.getAttributeNode&&a.getAttributeNode(b);return!!a&&a.specified}var f={innerHTML:1,textContent:1,className:1,htmlFor:e("ie"),value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(d,g){var q=g.toLowerCase();return f[b.names[q]||g]||h(l.byId(d),a[q]||g)};c.get=function(d,g){d=l.byId(d);var q=g.toLowerCase(),c=b.names[q]||g,n=d[c];if(f[c]&&"undefined"!=typeof n)return n;if("textContent"==c)return b.get(d,c);if("href"!=
c&&("boolean"==typeof n||k.isFunction(n)))return n;g=a[q]||g;return h(d,g)?d.getAttribute(g):null};c.set=function(d,g,h){d=l.byId(d);if(2==arguments.length){for(var q in g)c.set(d,q,g[q]);return d}q=g.toLowerCase();var n=b.names[q]||g,e=f[n];if("style"==n&&"string"!=typeof h)return m.set(d,h),d;if(e||"boolean"==typeof h||k.isFunction(h))return b.set(d,g,h);d.setAttribute(a[q]||g,h);return d};c.remove=function(b,g){l.byId(b).removeAttribute(a[g.toLowerCase()]||g)};c.getNodeProp=function(d,g){d=l.byId(d);
var f=g.toLowerCase(),c=b.names[f]||g;if(c in d&&"href"!=c)return d[c];g=a[f]||g;return h(d,g)?d.getAttribute(g):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,e,k,l,m,b,h,f){var a={},d=1,g=e._scopeName+"attrid";c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
c.get=function(a,b){a=m.byId(a);var d=b.toLowerCase();return a[c.names[d]||b]};c.set=function(q,r,n){q=m.byId(q);if(2==arguments.length&&"string"!=typeof r){for(var e in r)c.set(q,e,r[e]);return q}e=r.toLowerCase();e=c.names[e]||r;if("style"==e&&"string"!=typeof n)return b.set(q,n),q;if("innerHTML"==e)return k("ie")&&q.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(q),q.appendChild(h.toDom(n,q.ownerDocument))):q[e]=n,q;if(l.isFunction(n)){var t=q[g];
t||(t=d++,q[g]=t);a[t]||(a[t]={});var u=a[t][e];if(u)f.disconnect(u);else try{delete q[e]}catch(z){}n?a[t][e]=f.connect(q,e,n):q[e]=null;return q}q[e]=n;return q}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,e,k,l,m,b){function h(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function f(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(p){}for(var b;b=a.lastChild;)a.removeChild(b)}var a={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,g={},q=0,r="__"+e._scopeName+"ToDomId",n;for(n in a)a.hasOwnProperty(n)&&(e=a[n],e.pre="option"==n?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+e.join("\x3e\x3c")+"\x3e",e.post="\x3c/"+e.reverse().join("\x3e\x3c/")+"\x3e");var w;8>=k("ie")&&(w=function(a){a.__dojo_html5_tested="yes";
var b=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});u(b)});c.toDom=function(b,f){f=f||l.doc;var h=f[r];h||(f[r]=h=++q+"",g[h]=f.createElement("div"));8>=k("ie")&&!f.__dojo_html5_tested&&f.body&&w(f);b+="";var c=b.match(d),n=c?c[1].toLowerCase():"",
h=g[h];if(c&&a[n])for(c=a[n],h.innerHTML=c.pre+b+c.post,b=c.length;b;--b)h=h.firstChild;else h.innerHTML=b;if(1==h.childNodes.length)return h.removeChild(h.firstChild);for(b=f.createDocumentFragment();f=h.firstChild;)b.appendChild(f);return b};c.place=function(a,b,d){b=m.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?c.toDom(a,b.ownerDocument):m.byId(a));if("number"==typeof d){var g=b.childNodes;!g.length||g.length<=d?b.appendChild(a):h(a,g[0>d?0:d])}else switch(d){case "before":h(a,b);break;case "after":d=
a;(g=b.parentNode)&&(g.lastChild==b?g.appendChild(d):g.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":c.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){h(a,b.firstChild);break}default:b.appendChild(a)}return a};var t=c.create=function(a,d,g,f){var h=l.doc;g&&(g=m.byId(g),h=g.ownerDocument);"string"==typeof a&&(a=h.createElement(a));d&&b.set(a,d);g&&c.place(a,g,f);return a};c.empty=function(a){f(m.byId(a))};var u=c.destroy=function(a){if(a=
m.byId(a)){var b=a;a=a.parentNode;b.firstChild&&f(b);a&&(k("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(c,e,k){function l(a){if("string"==typeof a||a instanceof String){if(a&&!b.test(a))return h[0]=a,h;a=a.split(b);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return a?e.filter(a,function(a){return a}):[]}var m,b=/\s+/,h=[""],f={};return m={contains:function(a,
b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=l(b);var d=a.className,f,d=d?" "+d+" ":" ";f=d.length;for(var h=0,c=b.length,e;h<c;++h)(e=b[h])&&0>d.indexOf(" "+e+" ")&&(d+=e+" ");f<d.length&&(a.className=d.substr(1,d.length-2))},remove:function(a,b){a=k.byId(a);var d;if(void 0!==b){b=l(b);d=" "+a.className+" ";for(var f=0,h=b.length;f<h;++f)d=d.replace(" "+b[f]+" "," ");d=c.trim(d)}else d="";a.className!=d&&(a.className=d)},replace:function(a,b,g){a=
k.byId(a);f.className=a.className;m.remove(f,g);m.add(f,b);a.className!==f.className&&(a.className=f.className)},toggle:function(a,b,g){a=k.byId(a);if(void 0===g){b=l(b);for(var d=0,f=b.length,h;d<f;++d)h=b[d],m[m.contains(a,h)?"remove":"add"](a,h)}else m[g?"add":"remove"](a,b);return g}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(c,e,k){function l(a){return h[a]=new Function("item","index","array",a)}function m(a){var b=!a;return function(d,g,f){var c=0,q=d&&
d.length||0,n;q&&"string"==typeof d&&(d=d.split(""));"string"==typeof g&&(g=h[g]||l(g));if(f)for(;c<q;++c){if(n=!g.call(f,d[c],c,d),a^n)return!n}else for(;c<q;++c)if(n=!g(d[c],c,d),a^n)return!n;return b}}function b(b){var d=1,h=0,c=0;b||(d=h=c=-1);return function(g,q,r,e){if(e&&0<d)return a.lastIndexOf(g,q,r);e=g&&g.length||0;var n=b?e+c:h;r===f?r=b?h:e+c:0>r?(r=e+r,0>r&&(r=h)):r=r>=e?e+c:r;for(e&&"string"==typeof g&&(g=g.split(""));r!=n;r+=d)if(g[r]==q)return r;return-1}}var h={},f,a={every:m(!1),
some:m(!0),indexOf:b(!0),lastIndexOf:b(!1),forEach:function(a,b,f){var d=0,g=a&&a.length||0;g&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(f)for(;d<g;++d)b.call(f,a[d],d,a);else for(;d<g;++d)b(a[d],d,a)},map:function(a,b,f,c){var d=0,g=a&&a.length||0;c=new (c||Array)(g);g&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(f)for(;d<g;++d)c[d]=b.call(f,a[d],d,a);else for(;d<g;++d)c[d]=b(a[d],d,a);return c},filter:function(a,b,f){var d=0,g=a&&a.length||
0,c=[],q;g&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(f)for(;d<g;++d)q=a[d],b.call(f,q,d,a)&&c.push(q);else for(;d<g;++d)q=a[d],b(q,d,a)&&c.push(q);return c},clearCache:function(){h={}}};k.mixin(c,a);return a})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(c,e,k){e=e.NodeList;var l=e.prototype;l.connect=e._adaptAsForEach(function(){return c.connect.apply(this,arguments)});l.coords=e._adaptAsMap(c.coords);
e.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(e.events,function(c){var b="on"+c;l[b]=function(h,f){return this.connect(b,h,f)}});return c.NodeList=e})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(c,e,k,l,m,b,h,f){function a(a,b){var d=function(d,g){if("string"==typeof g&&
(g=k.byId(g),!g))return new b([]);d="string"==typeof d?a(d,g):d?d.end&&d.on?d:[d]:[];return d.end&&d.on?d:new b(d)};d.matches=a.match||function(a,b,g){return 0<d.filter([a],b,g).length};d.filter=a.filter||function(a,b,g){return d(b,g).filter(function(b){return-1<m.indexOf(a,b)})};if("function"!=typeof a){var g=a.search;a=function(a,b){return g(b||document,a)}}return d}var d=Array.prototype,g=d.slice,q=d.concat,r=m.forEach,n=function(a,b,d){b=[0].concat(g.call(b,0));d=d||c.global;return function(g){b[0]=
g;return a.apply(d,b)}},w=function(a){var d=this instanceof t&&1;"number"==typeof a&&(a=Array(a));var g=a&&"length"in a?a:arguments;if(d||!g.sort){for(var f=d?this:[],h=f.length=g.length,c=0;c<h;c++)f[c]=g[c];if(d)return f;g=f}b._mixin(g,u);g._NodeListCtor=function(a){return t(a)};return g},t=w,u=t.prototype=[];t._wrap=u._wrap=function(a,b,d){a=new (d||this._NodeListCtor||t)(a);return b?a._stash(b):a};t._adaptAsMap=function(a,b){return function(){return this.map(n(a,arguments,b))}};t._adaptAsForEach=
function(a,b){return function(){this.forEach(n(a,arguments,b));return this}};t._adaptAsFilter=function(a,b){return function(){return this.filter(n(a,arguments,b))}};t._adaptWithCondition=function(a,b,d){return function(){var g=arguments,f=n(a,g,d);if(b.call(d||c.global,g))return this.map(f);this.forEach(f);return this}};r(["slice","splice"],function(a){var b=d[a];u[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var b=
m[a];u[a]=function(){return b.apply(c,[this].concat(g.call(arguments,0)))}});b.extend(w,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return l(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=g.call(this,0),d=m.map(arguments,function(a){return g.call(a,
0)});return this._wrap(q.apply(b,d),this)},map:function(a,b){return this._wrap(m.map(this,a,b),this)},forEach:function(a,b){r(this,a,b);return this},filter:function(a){var b=arguments,d=this,g=0;if("string"==typeof a){d=z._filterResult(this,b[0]);if(1==b.length)return d._stash(this);g=1}return this._wrap(m.filter(d,b[g],b[g+1]),this)},instantiate:function(a,d){var g=b.isFunction(a)?a:b.getObject(a);d=d||{};return this.forEach(function(a){new g(d,a)})},at:function(){var a=new this._NodeListCtor(0);
r(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var z=a(f,w);c.query=a(f,function(a){return w(a)});z.load=function(b,d,g){h.load(b,d,function(b){g(a(b,w))})};c._filterQueryResult=z._filterResult=function(a,b,d){return new w(z.filter(a,b,d))};c.NodeList=z.NodeList=w;return z})},"dojo/selector/_loader":function(){define(["../has","require"],function(c,e){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(l,
m,b,h){if(h&&h.isBuild)b();else{h=e;l="default"==l?c("config-selectorEngine")||"css3":l;l="css2"==l||"lite"==l?"./lite":"css2.1"==l?"./lite":"css3"==l?"./lite":"acme"==l?"./acme":(h=m)&&l;if("?"==l.charAt(l.length-1)){l=l.substring(0,l.length-1);var f=!0}if(f&&(c("dom-compliant-qsa")||k))return b(k);h([l],function(a){"./lite"!=l&&(k=a);b(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(c,e){var k=document.createElement("div"),l=k.matches||k.webkitMatchesSelector||
k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,m=k.querySelectorAll,b=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,h=function(a,b){var d=b?b.ownerDocument||b:e.doc||document,q=(m?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(a);b=b||d;if(q){var r=(c("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===d);if(q[2]&&r){var n=e.byId?e.byId(q[2],d):d.getElementById(q[2]);if(!n||q[1]&&q[1]!=n.tagName.toLowerCase())return[];
if(b!=d)for(a=n;a!=b;)if(a=a.parentNode,!a)return[];return q[3]?h(q[3],n):[n]}if(q[3]&&b.getElementsByClassName)return b.getElementsByClassName(q[4]);if(q[5])if(n=b.getElementsByTagName(q[5]),q[4]||q[6])a=(q[4]||"")+q[6];else return n}if(m)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?f(b,a,b.querySelectorAll):b.querySelectorAll(a);n||(n=b.getElementsByTagName("*"));q=[];d=0;for(r=n.length;d<r;d++){var k=n[d];1==k.nodeType&&(void 0)(k,a,b)&&q.push(k)}return q},f=function(a,d,g){var f=
a,h=a.getAttribute("id"),c=h||"__dojo__",e=a.parentNode,t=/^\s*[+~]/.test(d);if(t&&!e)return[];h?c=c.replace(/'/g,"\\$\x26"):a.setAttribute("id",c);t&&e&&(a=a.parentNode);d=d.match(b);for(e=0;e<d.length;e++)d[e]="[id\x3d'"+c+"'] "+d[e];d=d.join(",");try{return g.call(a,d)}finally{h||f.removeAttribute("id")}};h.match=l?function(a,b,g){return g&&9!=g.nodeType?f(g,b,function(b){return l.call(a,b)}):l.call(a,b)}:void 0;return h})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(c,e,k,l,m,b,h,f,a){function d(a){return function(b,d,g){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,g)}}var g=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var b=a.parentNode;b&&b.removeChild(a)},r=e.NodeList,n=r._adaptWithCondition,w=r._adaptAsForEach,t=r._adaptAsMap;l.extend(r,{_normalize:function(a,d){var g=!0===a.parse;if("string"==typeof a.template){var f=a.templateFunc||c.string&&c.string.substitute;a=f?f(a.template,a):a}f=typeof a;
"string"==f||"number"==f?(a=b.toDom(a,d&&d.ownerDocument),a=11==a.nodeType?l._toArray(a.childNodes):[a]):l.isArrayLike(a)?l.isArray(a)||(a=l._toArray(a)):a=[a];g&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,d,g,f){if(1==d.nodeType||"only"!=g)for(var h,q=a.length,n=q-1;0<=n;n--){var e=f?this._cloneNode(a[n]):a[n];if(a._runParse&&c.parser&&c.parser.parse)for(h||(h=d.ownerDocument.createElement("div")),h.appendChild(e),c.parser.parse(h),e=h.firstChild;h.firstChild;)h.removeChild(h.firstChild);
n==q-1?b.place(e,d,g):d.parentNode.insertBefore(e,d);d=e}},position:t(h.position),attr:n(d(f),g),style:n(d(a),g),addClass:w(m.add),removeClass:w(m.remove),toggleClass:w(m.toggle),replaceClass:w(m.replace),empty:w(b.empty),removeAttr:w(f.remove),marginBox:t(h.getMarginBox),place:function(a,d){var g=e(a)[0];return this.forEach(function(a){b.place(a,g,d)})},orphan:function(a){return(a?e._filterResult(this,a):this).forEach(q)},adopt:function(a,b){return e(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;
var b=new r;this.map(function(d){e(a,d).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,d=this,g=0;if("string"==typeof a){d=e._filterResult(this,b[0]);if(1==b.length)return d._stash(this);g=1}return this._wrap(k.filter(d,b[g],b[g+1]),this)},addContent:function(a,d){a=this._normalize(a,this[0]);for(var g=0,f;f=this[g];g++)a.length?this._place(a,f,d,0<g):b.empty(f);return this}});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(c,e,k,l,m,b,h,f,a,d,g,q,r,n,w,t){c._xhrObj=w._create;var u=c.config;c.objectToQuery=l.objectToQuery;c.queryToObject=l.queryToObject;c.fieldToObject=b.fieldToObject;c.formToObject=b.toObject;c.formToQuery=b.toQuery;c.formToJson=b.toJson;c._blockAsync=!1;var z=c._contentHandlers=c.contentHandlers={text:function(a){return a.responseText},json:function(b){return a.fromJson(b.responseText||null)},"json-comment-filtered":function(b){f.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
b=b.responseText;var d=b.indexOf("/*"),g=b.lastIndexOf("*/");if(-1==d||-1==g)throw Error("JSON was not comment filtered");return a.fromJson(b.substring(d+2,g))},javascript:function(a){return c.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&!b.querySelectorAll&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(e("ie")&&(!b||!b.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];g.some(d,function(d){try{var g=
new ActiveXObject(d);g.async=!1;g.loadXML(a.responseText);b=g}catch(C){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?z["json-comment-filtered"](a):z.json(a)}};z.arraybuffer=z.blob=z.document=function(a,b){return a.response};c._ioSetArgs=function(a,g,f,q){var n={args:a,url:a.url},e=null;if(a.form){var e=m.byId(a.form),r=e.getAttributeNode("action");n.url=n.url||(r?r.value:c.doc?c.doc.URL:null);e=b.toObject(e)}r={};e&&d.mixin(r,
e);a.content&&d.mixin(r,a.content);a.preventCache&&(r["dojo.preventCache"]=(new Date).valueOf());n.query=l.objectToQuery(r);n.handleAs=a.handleAs||"text";var v=new h(function(a){a.canceled=!0;g&&g(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});v.addCallback(f);var t=a.load;t&&d.isFunction(t)&&v.addCallback(function(b){return t.call(a,b,n)});var k=a.error;k&&d.isFunction(k)&&v.addErrback(function(b){return k.call(a,b,n)});var w=a.handle;w&&
d.isFunction(w)&&v.addBoth(function(b){return w.call(a,b,n)});v.addErrback(function(a){return q(a,v)});u.ioPublish&&c.publish&&!1!==n.args.ioPublish&&(v.addCallbacks(function(a){c.publish("/dojo/io/load",[v,a]);return a},function(a){c.publish("/dojo/io/error",[v,a]);return a}),v.addBoth(function(a){c.publish("/dojo/io/done",[v,a]);return a}));v.ioArgs=n;return v};var x=function(a){a=z[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},p=function(a,b){b.ioArgs.args.failOk||console.error(a);
return a},A=function(a){0>=v&&(v=0,u.ioPublish&&c.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&c.publish("/dojo/io/stop"))},v=0;r.after(n,"_onAction",function(){--v});r.after(n,"_onInFlight",A);c._ioCancelAll=n.cancelAll;c._ioNotifyStart=function(a){u.ioPublish&&c.publish&&!1!==a.ioArgs.args.ioPublish&&(v||c.publish("/dojo/io/start"),v+=1,c.publish("/dojo/io/send",[a]))};c._ioWatch=function(a,b,g,f){a.ioArgs.options=a.ioArgs.args;d.mixin(a,{response:a.ioArgs,isValid:function(d){return b(a)},isReady:function(b){return g(a)},
handleResponse:function(b){return f(a)}});n(a);A(a)};c._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};c.xhr=function(a,b,d){var g,f=c._ioSetArgs(b,function(a){g&&g.cancel()},x,p),h=f.ioArgs;"postData"in b?h.query=b.postData:"putData"in b?h.query=b.putData:"rawBody"in b?h.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&c._ioAddQueryToUrl(h);var q={method:a,handleAs:{arraybuffer:1,blob:1,document:1}[b.handleAs]?
b.handleAs:"text",responseType:b.responseType,timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:h};"undefined"!==typeof b.headers&&(q.headers=b.headers);"undefined"!==typeof b.contentType&&(q.headers||(q.headers={}),q.headers["Content-Type"]=b.contentType);"undefined"!==typeof h.query&&(q.data=h.query);"undefined"!==typeof b.sync&&(q.sync=b.sync);c._ioNotifyStart(f);try{g=w(h.url,q,!0)}catch(G){return f.cancel(),f}f.ioArgs.xhr=g.response.xhr;g.then(function(){f.resolve(f)}).otherwise(function(a){h.error=
a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);f.reject(a)});return f};c.xhrGet=function(a){return c.xhr("GET",a)};c.rawXhrPost=c.xhrPost=function(a){return c.xhr("POST",a,!0)};c.rawXhrPut=c.xhrPut=function(a){return c.xhr("PUT",a,!0)};c.xhrDelete=function(a){return c.xhr("DELETE",a)};c._isDocumentOk=function(a){return t.checkStatus(a.status)};c._getText=function(a){var b;c.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};d.mixin(c.xhr,{_xhrObj:c._xhrObj,
fieldToObject:b.fieldToObject,formToObject:b.toObject,objectToQuery:l.objectToQuery,formToQuery:b.toQuery,formToJson:b.toJson,queryToObject:l.queryToObject,contentHandlers:z,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete});return c.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(c){var e=
{};return{objectToQuery:function(k){var l=encodeURIComponent,m=[],b;for(b in k){var h=k[b];if(h!=e[b]){var f=l(b)+"\x3d";if(c.isArray(h))for(var a=0,d=h.length;a<d;++a)m.push(f+l(h[a]));else m.push(f+l(h))}}return m.join("\x26")},queryToObject:function(e){var k=decodeURIComponent;e=e.split("\x26");for(var m={},b,h,f=0,a=e.length;f<a;++f)if(h=e[f],h.length){var d=h.indexOf("\x3d");0>d?(b=k(h),h=""):(b=k(h.slice(0,d)),h=k(h.slice(d+1)));"string"==typeof m[b]&&(m[b]=[m[b]]);c.isArray(m[b])?m[b].push(h):
m[b]=h}return m}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(c,e,k,l){var m={fieldToObject:function(b){var h=null;if(b=e.byId(b)){var f=b.name,a=(b.type||"").toLowerCase();if(f&&a&&!b.disabled)if("radio"==a||"checkbox"==a)b.checked&&(h=b.value);else if(b.multiple)for(h=[],b=[b.firstChild];b.length;)for(f=b.pop();f;f=f.nextSibling)if(1==f.nodeType&&"option"==f.tagName.toLowerCase())f.selected&&h.push(f.value);else{f.nextSibling&&b.push(f.nextSibling);
f.firstChild&&b.push(f.firstChild);break}else h=b.value}return h},toObject:function(b){var h={};b=e.byId(b).elements;for(var f=0,a=b.length;f<a;++f){var d=b[f],g=d.name,q=(d.type||"").toLowerCase();if(g&&q&&0>"file|submit|image|reset|button".indexOf(q)&&!d.disabled){var r=h,n=g,d=m.fieldToObject(d);if(null!==d){var k=r[n];"string"==typeof k?r[n]=[k,d]:c.isArray(k)?k.push(d):r[n]=d}"image"==q&&(h[g+".x"]=h[g+".y"]=h[g].x=h[g].y=0)}}return h},toQuery:function(b){return k.objectToQuery(m.toObject(b))},
toJson:function(b,h){return l.stringify(m.toObject(b),null,h?4:0)}};return m})},"dojo/json":function(){define(["./has"],function(c){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(c,e,k,l,m,b,h){var f=function(){},a=Object.freeze||function(){},d=c.Deferred=function(g){function h(a){if(w)throw Error("This deferred has already been resolved");n=a;w=!0;c()}function c(){for(var a;!a&&p;){var d=
p;p=p.next;if(a=d.progress==f)w=!1;var g=z?d.error:d.resolved;m("config-useDeferredInstrumentation")&&z&&e.instrumentRejected&&e.instrumentRejected(n,!!g);if(g)try{var h=g(n);h&&"function"===typeof h.then?h.then(b.hitch(d.deferred,"resolve"),b.hitch(d.deferred,"reject"),b.hitch(d.deferred,"progress")):(g=a&&void 0===h,a&&!g&&(z=h instanceof Error),d.deferred[g&&z?"reject":"resolve"](g?n:h))}catch(I){d.deferred.reject(I)}else z?d.deferred.reject(n):d.deferred.resolve(n)}}var n,w,t,u,z,x,p,A=this.promise=
new k;this.isResolved=A.isResolved=function(){return 0==u};this.isRejected=A.isRejected=function(){return 1==u};this.isFulfilled=A.isFulfilled=function(){return 0<=u};this.isCanceled=A.isCanceled=function(){return t};this.resolve=this.callback=function(a){this.fired=u=0;this.results=[a,null];h(a)};this.reject=this.errback=function(a){z=!0;this.fired=u=1;m("config-useDeferredInstrumentation")&&e.instrumentRejected&&e.instrumentRejected(a,!!p);h(a);this.results=[null,a]};this.progress=function(a){for(var b=
p;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,f);return this};A.then=this.then=function(a,b,g){var h=g==f?this:new d(A.cancel);a={resolved:a,error:b,progress:g,deferred:h};p?x=x.next=a:p=x=a;w&&c();return h.promise};var v=this;A.cancel=this.cancel=function(){if(!w){var a=g&&g(v);w||(a instanceof Error||(a=new l(a)),a.log=!1,v.reject(a))}t=!0};a(A)};b.extend(d,{addCallback:function(a){return this.addCallbacks(b.hitch.apply(c,arguments))},addErrback:function(a){return this.addCallbacks(null,
b.hitch.apply(c,arguments))},addBoth:function(a){var d=b.hitch.apply(c,arguments);return this.addCallbacks(d,d)},fired:-1});d.when=c.when=h;return d})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(c,e,k,l,m){var b=Object.freeze||function(){},h=function(a,b,d,h,e){c("config-deferredInstrumentation")&&2===b&&g.instrumentRejected&&0===a.length&&g.instrumentRejected(d,!1,
h,e);for(e=0;e<a.length;e++)f(a[e],b,d,h)},f=function(b,f,h,e){var q=b[f],n=b.deferred;if(q)try{var r=q(h);if(0===f)"undefined"!==typeof r&&d(n,f,r);else{if(r&&"function"===typeof r.then){b.cancel=r.cancel;r.then(a(n,1),a(n,2),a(n,0));return}d(n,1,r)}}catch(x){d(n,2,x)}else d(n,f,h);c("config-deferredInstrumentation")&&2===f&&g.instrumentRejected&&g.instrumentRejected(h,!!q,e,n.promise)},a=function(a,b){return function(g){d(a,b,g)}},d=function(a,b,d){if(!a.isCanceled())switch(b){case 0:a.progress(d);
break;case 1:a.resolve(d);break;case 2:a.reject(d)}},g=function(a){var d=this.promise=new l,q=this,e,t,m,z=!1,x=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(q,g),Error.captureStackTrace(d,g));this.isResolved=d.isResolved=function(){return 1===e};this.isRejected=d.isRejected=function(){return 2===e};this.isFulfilled=d.isFulfilled=function(){return!!e};this.isCanceled=d.isCanceled=function(){return z};this.progress=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");
return d}h(x,0,a,null,q);return d};this.resolve=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}h(x,e=1,t=a,null,q);x=null;return d};var p=this.reject=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(m={},p);h(x,e=2,t=a,m,q);x=null;return d};this.then=d.then=function(a,b,h){var c=[h,a,b];c.cancel=d.cancel;c.deferred=new g(function(a){return c.cancel&&
c.cancel(a)});e&&!x?f(c,e,t,m):x.push(c);return c.deferred.promise};this.cancel=d.cancel=function(b,d){if(!e){a&&(d=a(b),b="undefined"===typeof d?b:d);z=!0;if(!e)return"undefined"===typeof b&&(b=new k),p(b),b;if(2===e&&t===b)return b}else if(!0===d)throw Error("This deferred has already been fulfilled.");};b(d)};g.prototype.toString=function(){return"[object Deferred]"};m&&m(g);return g})},"dojo/errors/CancelError":function(){define(["./create"],function(c){return c("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(c){return function(e,k,l,m){l=l||Error;var b=function(h){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,b);var f=Error.call(this,h),a;for(a in f)f.hasOwnProperty(a)&&(this[a]=f[a]);this.message=h;this.stack=f.stack}else l.apply(this,arguments);k&&k.apply(this,arguments)};b.prototype=c.delegate(l.prototype,m);b.prototype.name=e;return b.prototype.constructor=b}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(c){function e(){throw new TypeError("abstract");}return c.extend(function(){},{then:function(c,l,m){e()},cancel:function(c,l){e()},isResolved:function(){e()},isRejected:function(){e()},isFulfilled:function(){e()},isCanceled:function(){e()},"finally":function(c){return this.then(function(e){var k=c();return k&&"function"===typeof k.then?k.then(function(){return e}):e},function(e){var k=c();if(k&&"function"===typeof k.then)return k.then(function(){throw e;});throw e;})},always:function(c){return this.then(c,
c)},"catch":function(c){return this.then(null,c)},otherwise:function(c){return this.then(null,c)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(c,e){return function(k,l,m,b){var h=k&&"function"===typeof k.then,f=h&&k instanceof e;if(!h)return 1<arguments.length?l?l(k):k:(new c).resolve(k);f||(h=new c(k.cancel),k.then(h.resolve,h.reject,h.progress),k=h.promise);
return l||m||b?k.then(l,m,b):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(c,e){c.fromJson=function(c){return eval("("+c+")")};c._escapeString=e.stringify;c.toJsonIndentStr="\t";c.toJson=function(k,l){return e.stringify(k,function(c,b){return b&&(c=b.__json__||b.json,"function"==typeof c)?c.call(b):b},l&&c.toJsonIndentStr)};return c})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(c,e,k,l,m,b){function h(){for(var b=+new Date,h=0,c;h<d.length&&(c=d[h]);h++){var n=c.response,k=n.options;c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(n)?(d.splice(h--,1),f._onAction&&f._onAction()):c.isReady&&c.isReady(n)?(d.splice(h--,1),c.handleResponse(n),f._onAction&&f._onAction()):c.startTime&&c.startTime+(k.timeout||0)<b&&(d.splice(h--,1),c.cancel(new e("Timeout exceeded",n)),f._onAction&&f._onAction())}f._onInFlight&&f._onInFlight(c);d.length||(clearInterval(a),a=null)}function f(b){b.response.options.timeout&&
(b.startTime=+new Date);b.isFulfilled()||(d.push(b),a||(a=setInterval(h,50)),b.response.options.sync&&h())}var a=null,d=[];f.cancelAll=function(){try{l.forEach(d,function(a){try{a.cancel(new k("All requests canceled."))}catch(q){}})}catch(g){}};m&&b&&m.doc.attachEvent&&b(m.global,"unload",function(){f.cancelAll()});return f})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),
function(c,e,k,l,m,b,h,f,a){function d(a){return q(a)}function g(a){return void 0!==a.data?a.data:a.text}c.deepCopy=function(a,b){for(var d in b){var g=a[d],f=b[d];g!==f&&(g&&"object"===typeof g&&f&&"object"===typeof f?f instanceof Date?a[d]=new Date(f):c.deepCopy(g,f):a[d]=f)}return a};c.deepCreate=function(a,b){b=b||{};var d=h.delegate(a),g,f;for(g in a)(f=a[g])&&"object"===typeof f&&(d[g]=c.deepCreate(f,b[g]));return c.deepCopy(d,b)};var q=Object.freeze||function(a){return a};c.deferred=function(a,
b,m,t,u,z){var n=new l(function(d){b&&b(n,a);return d&&(d instanceof e||d instanceof k)?d:new k("Request canceled",a)});n.response=a;n.isValid=m;n.isReady=t;n.handleResponse=u;m=n.then(d).otherwise(function(b){b.response=a;throw b;});c.notify&&m.then(h.hitch(c.notify,"emit","load"),h.hitch(c.notify,"emit","error"));t=m.then(g);u=new f;for(var r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);u.response=m;q(u);z&&n.then(function(a){z.call(n,a)},function(b){z.call(n,a,b)});n.promise=u;n.then=u.then;return n};
c.addCommonMethods=function(a,d){b.forEach(d||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(d,g){g=h.delegate(g||{});g.method=b;return a(d,g)}})};c.parseArgs=function(a,b,d){var g=b.data,f=b.query;!g||d||"object"!==typeof g||g instanceof ArrayBuffer||g instanceof Blob||(b.data=m.objectToQuery(g));f?("object"===typeof f&&(f=m.objectToQuery(f)),b.preventCache&&(f+=(f?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(f="request.preventCache\x3d"+
+new Date);a&&f&&(a+=(~a.indexOf("?")?"\x26":"?")+f);return{url:a,options:b,getHeader:function(a){return null}}};c.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(c){return c("RequestError",function(c,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(c,e){return c("RequestTimeoutError",null,e,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(c,e,k,l,m){function b(a,b){var d=a.xhr;a.status=a.xhr.status;try{a.text=d.responseText}catch(p){}"xml"===a.options.handleAs&&(a.data=d.responseXML);var g;if(b)this.reject(b);else{try{k(a)}catch(p){g=p}l.checkStatus(d.status)?g?this.reject(g):this.resolve(a):(b=g?new c("Unable to load "+a.url+" status: "+d.status+" and an error in handleAs: transformation of response",a):new c("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}}function h(a){return this.xhr.getResponseHeader(a)}
function f(k,u,z){var t=u&&u.data&&u.data instanceof FormData,p=l.parseArgs(k,l.deepCreate(w,u),t);k=p.url;u=p.options;var A=!u.data&&"POST"!==u.method&&"PUT"!==u.method;10>=m("ie")&&(k=k.split("#")[0]);var v,y=l.deferred(p,r,d,g,b,function(){v&&v()}),B=p.xhr=f._create();if(!B)return y.cancel(new c("XHR was not created")),z?y:y.promise;p.getHeader=h;q&&(v=q(B,y,p,u.uploadProgress));var F="undefined"===typeof u.data?null:u.data,J=!u.sync,I=u.method;try{B.open(I,k,J,u.user||n,u.password||n);u.withCredentials&&
(B.withCredentials=u.withCredentials);u.handleAs in a&&(B.responseType=a[u.handleAs]);var C=u.headers;k=t||A?!1:"application/x-www-form-urlencoded";if(C)for(var E in C)"content-type"===E.toLowerCase()?k=C[E]:C[E]&&B.setRequestHeader(E,C[E]);k&&!1!==k&&B.setRequestHeader("Content-Type",k);C&&"X-Requested-With"in C||B.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",p,y.promise.cancel);B.send(F)}catch(G){y.reject(G)}e(y);B=null;return z?y:y.promise}m.add("dojo-force-activex-xhr",
function(){return 0});var a={blob:"blob",document:"document",arraybuffer:"arraybuffer"},d,g,q,r;d=function(a){return!this.isFulfilled()};r=function(a,b){b.xhr.abort()};q=function(a,b,d,g){function f(a){b.handleResponse(d)}function h(a){a=new c("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function q(a,g){d.transferType=a;g.lengthComputable?(d.loaded=g.loaded,d.total=g.total,b.progress(d)):3===d.xhr.readyState&&(d.loaded="loaded"in g?g.loaded:g.position,b.progress(d))}
function n(a){return q("download",a)}function e(a){return q("upload",a)}a.addEventListener("load",f,!1);a.addEventListener("error",h,!1);a.addEventListener("progress",n,!1);g&&a.upload&&a.upload.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",f,!1);a.removeEventListener("error",h,!1);a.removeEventListener("progress",n,!1);a.upload.removeEventListener("progress",e,!1);a=null}};var n,w={data:null,query:null,sync:!1,method:"GET"};f._create=function(){throw Error("XMLHTTP not available");
};m("dojo-force-activex-xhr")||(f._create=function(){return new XMLHttpRequest});l.addCommonMethods(f);return f})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(c,e,k,l){function m(h){var f=b[h.options.handleAs];h.data=f?f(h):h.data||h.text;return h}k=function(b){return b.xhr.response};var b={javascript:function(b){return e.eval(b.text||"")},json:function(b){return c.parse(b.text||null)},xml:void 0,blob:k,
arraybuffer:k,document:k};m.register=function(h,f){b[h]=f};return m})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(c,e,k,l,m,b,h,f,a){var d=k.mixin,g={},q=g._Line=function(a,b){this.start=a;this.end=b};q.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var r=g.Animation=function(a){d(this,a);k.isArray(this.curve)&&(this.curve=new q(this.curve[0],this.curve[1]))};r.prototype=new l;
k.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){b=b||[];if(this[a])if(e.debugAtAllCosts)this[a].apply(this,b);else try{this[a].apply(this,b)}catch(A){console.error("exception in animation handler for:",a),console.error(A)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
this._fire("beforeBegin",[this.node]);a=a||this.delay;b=k.hitch(this,"_play",b);if(0<a)return this._delayTimer=setTimeout(b,a),this;b();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);
this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,
!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var n=0,w=null,t={run:function(){}};k.extend(r,{_startTimer:function(){this._timer||(this._timer=b.after(t,"run",k.hitch(this,"_cycle"),!0),n++);w||(w=setInterval(k.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
this._timer=null,n--);0>=n&&(clearInterval(w),w=null,n=0)}});var u=h("ie")?function(b){var d=b.style;d.width.length||"auto"!=a.get(b,"width")||(d.width="auto")}:function(){};g._fade=function(h){h.node=f.byId(h.node);var c=d({properties:{}},h);h=c.properties.opacity={};h.start="start"in c?c.start:function(){return+a.get(c.node,"opacity")||0};h.end=c.end;h=g.animateProperty(c);b.after(h,"beforeBegin",k.partial(u,c.node),!0);return h};g.fadeIn=function(a){return g._fade(d({end:1},a))};g.fadeOut=function(a){return g._fade(d({end:0},
a))};g._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var z=function(a){this._properties=a;for(var b in a){var d=a[b];d.start instanceof m&&(d.tempColor=new m)}};z.prototype.getValue=function(a){var b={},d;for(d in this._properties){var g=this._properties[d],f=g.start;f instanceof m?b[d]=m.blendColors(f,g.end,a,g.tempColor).toCss():k.isArray(f)||(b[d]=(g.end-f)*a+f+("opacity"!=d?g.units||"px":0))}return b};g.animateProperty=function(g){var h=g.node=f.byId(g.node);g.easing||(g.easing=
c._defaultEasing);g=new r(g);b.after(g,"beforeBegin",k.hitch(g,function(){var b={},g;for(g in this.properties){var f=function(b,d){var g={height:b.offsetHeight,width:b.offsetWidth}[d];if(void 0!==g)return g;g=a.get(b,d);return"opacity"==d?+g:q?g:parseFloat(g)};if("width"==g||"height"==g)this.node.display="block";var c=this.properties[g];k.isFunction(c)&&(c=c(h));c=b[g]=d({},k.isObject(c)?c:{end:c});k.isFunction(c.start)&&(c.start=c.start(h));k.isFunction(c.end)&&(c.end=c.end(h));var q=0<=g.toLowerCase().indexOf("color");
"end"in c?"start"in c||(c.start=f(h,g)):c.end=f(h,g);q?(c.start=new m(c.start),c.end=new m(c.end)):c.start="opacity"==g?+c.start:parseFloat(c.start)}this.curve=new z(b)}),!0);b.after(g,"onAnimate",k.hitch(a,"set",g.node),!0);return g};g.anim=function(a,b,d,f,h,c){return g.animateProperty({node:a,duration:d||r.prototype.duration,properties:b,easing:f,onEnd:h}).play(c||0)};d(c,g);c._Animation=r;return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(c,e,
k,l){var m=c.Color=function(b){b&&this.setColor(b)};m.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:l.transparentColor||[0,0,0,0]};e.extend(m,{r:255,g:255,b:255,a:1,_set:function(b,h,f,a){this.r=b;this.g=h;this.b=f;this.a=a},setColor:function(b){e.isString(b)?
m.fromString(b,this):e.isArray(b)?m.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof m||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var h=this.r+", "+this.g+", "+this.b;return(b?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});
m.blendColors=c.blendColors=function(b,h,f,a){a=a||new m;a.r=Math.round(b.r+(h.r-b.r)*f);a.g=Math.round(b.g+(h.g-b.g)*f);a.b=Math.round(b.b+(h.b-b.b)*f);a.a=b.a+(h.a-b.a)*f;return a.sanitize()};m.fromRgb=c.colorFromRgb=function(b,h){return(b=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&m.fromArray(b[1].split(/\s*,\s*/),h)};m.fromHex=c.colorFromHex=function(b,h){var f=h||new m,a=4==b.length?4:8,d=(1<<a)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;k.forEach(["b","g","r"],function(g){var h=
b&d;b>>=a;f[g]=4==a?17*h:h});f.a=1;return f};m.fromArray=c.colorFromArray=function(b,h){h=h||new m;h._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(h.a)&&(h.a=1);return h.sanitize()};m.fromString=c.colorFromString=function(b,h){var f=m.named[b];return f&&m.fromArray(f,h)||m.fromRgb(b,h)||m.fromHex(b,h)};return m})},"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(c,e,k,l,m){k.add("postmessage",!1,!0);c={applicationUrl:l.location&&
l.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};l.esriConfig&&m.deepMerge(c,l.esriConfig,!0);c.request.corsEnabledServers=[];c.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return c})},"@dojo/framework/has/has":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?
(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],c)})(function(c,e){function k(a){a=a.toLowerCase();return!!(a in f||a in e.testCache||e.testFunctions[a])}function l(a,b,h){void 0===h&&(h=!1);var d=a.toLowerCase();if(k(d)&&!h&&!(d in f))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof b?e.testFunctions[d]=b:(e.testCache[d]=b,delete e.testFunctions[d])}function m(a){var b=
a.toLowerCase();if(b in f)a=f[b];else if(e.testFunctions[b])a=e.testCache[b]=e.testFunctions[b].call(null),delete e.testFunctions[b];else if(b in e.testCache)a=e.testCache[b];else throw new TypeError('Attempt to detect unregistered has feature "'+a+'"');return a}Object.defineProperty(e,"__esModule",{value:!0});var b=c("tslib"),h=c("../shim/global");e.testCache={};e.testFunctions={};c=(h.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in h.default&&delete h.default.DojoHasEnvironment;
var f=c?"function"===typeof c?c.apply(h.default):c:{};e.load=function(a,b,f,h){a?b([a],f):f()};e.normalize=function(a,b){function d(a){var b=g[f++];if(":"===b)return null;if("?"===g[f++]){if(!a&&m(b))return d();d(!0);return d(a)}return b}var g=a.match(/[\?:]|[^:\?]*/g)||[],f=0;return(a=d())&&b(a)};e.exists=k;e.add=l;e.default=m;l("public-path",void 0);l("dojo-debug",!1);l("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);l("host-node",function(){if("object"===typeof process&&
process.versions&&process.versions.node)return process.versions.node});l("fetch","fetch"in h.default&&"function"===typeof h.default.fetch,!0);l("es6-array",function(){return["from","of"].every(function(a){return a in h.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in h.default.Array.prototype})},!0);l("es6-array-fill",function(){return"fill"in h.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);l("es7-array",function(){return"includes"in h.default.Array.prototype},
!0);l("es6-map",function(){if("function"===typeof h.default.Map)try{var a=new h.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&m("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(g){}return!1},!0);l("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof h.default.Math[a]})},!0);l("es6-math-imul",function(){return"imul"in h.default.Math?
-5===Math.imul(4294967295,5):!1},!0);l("es6-object",function(){return m("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);l("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);l("es-observable",function(){return"undefined"!==typeof h.default.Observable},!0);l("es6-promise",function(){return"undefined"!==typeof h.default.Promise&&
m("es6-symbol")},!0);l("es2018-promise-finally",function(){return m("es6-promise")&&"undefined"!==typeof h.default.Promise.prototype.finally},!0);l("es6-set",function(){if("function"===typeof h.default.Set){var a=new h.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&m("es6-symbol")}return!1},!0);l("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof h.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===
typeof h.default.String.prototype[a]})},!0);l("es6-string-raw",function(){function d(a){for(var d=1;d<arguments.length;d++);d=b.__spread(a);d.raw=a.raw;return d}if("raw"in h.default.String){var g=d(a||(a=b.__makeTemplateObject(["a\n",""],["a\\n",""])),1);g.raw=["a\\n"];return"a\\n"===h.default.String.raw(g,42)}return!1},!0);l("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);l("es6-symbol",function(){return"undefined"!==
typeof h.default.Symbol&&"symbol"===typeof Symbol()},!0);l("es6-weakmap",function(){if("undefined"!==typeof h.default.WeakMap){var a={},b={},f=new h.default.WeakMap([[a,1]]);Object.freeze(a);return 1===f.get(a)&&f.set(b,2)===f&&m("es6-symbol")}return!1},!0);l("microtasks",function(){return m("es6-promise")||0||m("dom-mutationobserver")},!0);l("postmessage",function(){return"undefined"!==typeof h.default.window&&"function"===typeof h.default.postMessage},!0);l("raf",function(){return"function"===typeof h.default.requestAnimationFrame},
!0);l("setimmediate",function(){return"undefined"!==typeof h.default.setImmediate},!0);l("dom-mutationobserver",function(){if(m("host-browser")&&(h.default.MutationObserver||h.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (h.default.MutationObserver||h.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);l("dom-webanimation",function(){return m("host-browser")&&void 0!==
h.default.Animation&&void 0!==h.default.KeyframeEffect},!0);l("abort-controller",function(){return"undefined"!==typeof h.default.AbortController});l("abort-signal",function(){return"undefined"!==typeof h.default.AbortSignal});l("dom-intersection-observer",function(){return m("host-browser")&&void 0!==h.default.IntersectionObserver},!0);l("dom-resize-observer",function(){return m("host-browser")&&void 0!==h.default.ResizeObserver},!0);l("dom-pointer-events",function(){return m("host-browser")&&void 0!==
h.default.onpointerdown},!0);l("build-elide",!1);var a})},"tslib/tslib":function(){var c,e,k,l,m,b,h,f,a,d,g,q,r,n,w,t,u,z,x;(function(a){function b(a,b){a!==d&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(d,g){return a[d]=b?b(d,g):g}}var d="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(g){a(b(d,b(g)))}):"object"===
typeof module&&"object"===typeof module.exports?a(b(d,b(module.exports))):a(b(d))})(function(p){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};c=function(a,b){function d(){this.constructor=a}A(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};e=Object.assign||function(a){for(var b,d=1,g=arguments.length;d<g;d++){b=arguments[d];for(var f in b)Object.prototype.hasOwnProperty.call(b,
f)&&(a[f]=b[f])}return a};k=function(a,b){var d={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&0>b.indexOf(g)&&(d[g]=a[g]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var f=0;for(g=Object.getOwnPropertySymbols(a);f<g.length;f++)0>b.indexOf(g[f])&&(d[g[f]]=a[g[f]])}return d};l=function(a,b,d,g){var f=arguments.length,h=3>f?b:null===g?g=Object.getOwnPropertyDescriptor(b,d):g,c;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(a,b,d,g);
else for(var q=a.length-1;0<=q;q--)if(c=a[q])h=(3>f?c(h):3<f?c(b,d,h):c(b,d))||h;return 3<f&&h&&Object.defineProperty(b,d,h),h};m=function(a,b){return function(d,g){b(d,g,a)}};b=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};h=function(a,b,d,g){return new (d||(d=Promise))(function(f,h){function c(a){try{n(g.next(a))}catch(H){h(H)}}function q(a){try{n(g["throw"](a))}catch(H){h(H)}}function n(a){a.done?f(a.value):(new d(function(b){b(a.value)})).then(c,
q)}n((g=g.apply(a,b||[])).next())})};f=function(a,b){function d(a){return function(b){return g([a,b])}}function g(d){if(h)throw new TypeError("Generator is already executing.");for(;f;)try{if(h=1,c&&(q=d[0]&2?c["return"]:d[0]?c["throw"]||((q=c["return"])&&q.call(c),0):c.next)&&!(q=q.call(c,d[1])).done)return q;if(c=0,q)d=[d[0]&2,q.value];switch(d[0]){case 0:case 1:q=d;break;case 4:return f.label++,{value:d[1],done:!1};case 5:f.label++;c=d[1];d=[0];continue;case 7:d=f.ops.pop();f.trys.pop();continue;
default:if(!(q=f.trys,q=0<q.length&&q[q.length-1])&&(6===d[0]||2===d[0])){f=0;continue}if(3===d[0]&&(!q||d[1]>q[0]&&d[1]<q[3]))f.label=d[1];else if(6===d[0]&&f.label<q[1])f.label=q[1],q=d;else if(q&&f.label<q[2])f.label=q[2],f.ops.push(d);else{q[2]&&f.ops.pop();f.trys.pop();continue}}d=b.call(a,f)}catch(H){d=[6,H],c=0}finally{h=q=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}var f={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},h,c,q,n;return n={next:d(0),
"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};a=function(a,b){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])};d=function(a){var b="function"===typeof Symbol&&a[Symbol.iterator],d=0;return b?b.call(a):{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}}};g=function(a,b){var d="function"===typeof Symbol&&a[Symbol.iterator];if(!d)return a;a=d.call(a);var g,f=[],h;try{for(;(void 0===b||0<b--)&&!(g=a.next()).done;)f.push(g.value)}catch(C){h=
{error:C}}finally{try{g&&!g.done&&(d=a["return"])&&d.call(a)}finally{if(h)throw h.error;}}return f};q=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(g(arguments[b]));return a};r=function(a){return this instanceof r?(this.v=a,this):new r(a)};n=function(a,b,d){function g(a){n[a]&&(e[a]=function(b){return new Promise(function(d,g){1<k.push([a,b,d,g])||f(a,b)})})}function f(a,b){try{var d=n[a](b);d.value instanceof r?Promise.resolve(d.value.v).then(h,c):q(k[0][2],d)}catch(M){q(k[0][3],
M)}}function h(a){f("next",a)}function c(a){f("throw",a)}function q(a,b){(a(b),k.shift(),k.length)&&f(k[0][0],k[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=d.apply(a,b||[]),e,k=[];return e={},g("next"),g("throw"),g("return"),e[Symbol.asyncIterator]=function(){return this},e};w=function(a){function b(b,f){d[b]=a[b]?function(d){return(g=!g)?{value:r(a[b](d)),done:"return"===b}:f?f(d):d}:f}var d,g;return d={},b("next"),b("throw",function(a){throw a;
}),b("return"),d[Symbol.iterator]=function(){return this},d};t=function(a){function b(b){h[b]=a[b]&&function(d){return new Promise(function(f,h){d=a[b](d);g(f,h,d.done,d.value)})}}function g(a,b,d,g){Promise.resolve(g).then(function(b){a({value:b,done:d})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=a[Symbol.asyncIterator],h;return f?f.call(a):(a="function"===typeof d?d(a):a[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.asyncIterator]=
function(){return this},h)};u=function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};z=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b};x=function(a){return a&&a.__esModule?a:{"default":a}};p("__extends",c);p("__assign",e);p("__rest",k);p("__decorate",l);p("__param",m);p("__metadata",b);p("__awaiter",h);p("__generator",f);p("__exportStar",a);p("__values",d);p("__read",
g);p("__spread",q);p("__await",r);p("__asyncGenerator",n);p("__asyncDelegator",w);p("__asyncValues",t);p("__makeTemplateObject",u);p("__importStar",z);p("__importDefault",x)})},"@dojo/framework/shim/global":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){if("undefined"!==
typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();e.default=c})},"esri/core/global":function(){define(["require","exports"],function(c,e){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/object":function(){define(["require","exports","./lang"],function(c,e,k){function l(b,
h,f){for(var a=0;a<b.length;a++){var d=b[a];if(null==f)return;if(!(d in f))if(h)f[d]={};else return;f=f[d]}return f}function m(b,h,f){return h?Object.keys(h).reduce(function(a,b){var d=a[b],c=h[b];if(d===c)return a;if(void 0===d)return a[b]=k.clone(c),a;if(Array.isArray(c)||Array.isArray(a))d=d?Array.isArray(d)?a[b]=d.concat():a[b]=[d]:a[b]=[],c&&(Array.isArray(c)||(c=[c]),f?c.forEach(function(a){-1===d.indexOf(a)&&d.push(a)}):a[b]=c.concat());else if(c&&"object"===typeof c)a[b]=m(d,c,f);else if(!a.hasOwnProperty(b)||
h.hasOwnProperty(b))a[b]=c;return a},b||{}):b}Object.defineProperty(e,"__esModule",{value:!0});e.deepMerge=function(b,h,f){void 0===f&&(f=!1);return m(b,h,f)};e.getDeepValue=function(b,h){if(null!=h)return h[b]||l(b.split("."),!1,h)};e.setDeepValue=function(b,h,f){var a=b.split(".");b=a.pop();(f=l(a,!0,f))&&b&&(f[b]=h)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(c,e,k){function l(b,f){var a;if(f)for(a in b)b.hasOwnProperty(a)&&(void 0===b[a]?delete b[a]:
b[a]instanceof Object&&l(b[a],!0));else for(a in b)b.hasOwnProperty(a)&&void 0===b[a]&&delete b[a];return b}function m(h){if(!h||"object"!==typeof h||"function"===typeof h)return h;if(k.isInt8Array(h)||k.isUint8Array(h)||k.isUint8ClampedArray(h)||k.isInt16Array(h)||k.isUint16Array(h)||k.isInt32Array(h)||k.isUint32Array(h)||k.isFloat32Array(h)||k.isFloat64Array(h))return k.slice(h);if(h instanceof Date)return new Date(h.getTime());if(h instanceof ArrayBuffer)return h.slice(0,h.byteLength);if(h instanceof
Map){var f=new Map;h.forEach(function(a,b){f.set(b,m(a))});return f}if(h instanceof Set){var a=new Set;h.forEach(function(b){a.add(m(b))});return a}return"function"===typeof h.clone?h.clone():"function"===typeof h.map&&"function"===typeof h.forEach?h.map(m):"function"===typeof h.notifyChange&&"function"===typeof h.watch?h.clone():b({},h,m)}function b(b,f,a){var d,g,h={};for(d in f){g=f[d];var c=!(d in h)||h[d]!==g;if(!(d in b)||b[d]!==g&&c)b[d]=a?a(g):g}return b}Object.defineProperty(e,"__esModule",
{value:!0});e.fixJson=l;e.clone=m;e.equals=function(b,f){return b===f||"number"===typeof b&&isNaN(b)&&"number"===typeof f&&isNaN(f)||"function"===typeof(b||{}).getTime&&"function"===typeof(f||{}).getTime&&b.getTime()===f.getTime()||!1};e.mixin=function(h){void 0===h&&(h={});for(var f=[],a=1;a<arguments.length;a++)f[a-1]=arguments[a];for(a=0;a<f.length;a++)b(h,f[a]);return h}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});
e.forEach=function(c,e){if(c.forEach)c.forEach(e);else for(var k=0;k<c.length;k++)e(c[k],k,c)};e.slice=function(c,e,m){if(c.slice)return c.slice(e,m);void 0===e?e=0:(0>e&&(e+=c.length),e=Math.min(c.length,Math.max(0,e)));void 0===m?m=c.length:(0>m&&(m+=c.length),m=Math.min(c.length,Math.max(0,m)));m=Math.max(0,m-e);for(var b=new c.constructor(m),h=0;h<m;h++)b[h]=c[e+h];return b};e.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};e.isInt8Array=
function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};e.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};e.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};e.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};e.isUint16Array=function(c){return c instanceof Uint16Array||
c&&c.constructor&&"Uint16Array"===c.constructor.name};e.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};e.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};e.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};e.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};
e.toArray=function(c){for(var e=Array(c.length),k=0;k<c.length;k++)e[k]=c[k];return e};e.estimateSize=function(c){return c?128+c.buffer.byteLength+64:0}})},"esri/kernel":function(){define("require exports dojo/_base/kernel ./core/has ./core/promiseUtils ./support/revision".split(" "),function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});e.revision=b.commitHash;(function(){var b=k.config,f=b.has&&void 0!==b.has["config-deferredInstrumentation"],a=b.has&&void 0!==b.has["config-useDeferredInstrumentation"];
void 0!==b.useDeferredInstrumentation||f||a||(l.add("config-deferredInstrumentation",!1,!0,!0),l.add("config-useDeferredInstrumentation",!1,!0,!0))})();e.version="4.15";e.workerMessages={request:function(b){return m.create(function(b){c(["./request"],b)}).then(function(f){var a=b.options||{};a.responseType="array-buffer";return f(b.url,a)}).then(function(b){return{result:{data:b.data,ssl:b.ssl},transferList:[b.data]}})}};e.setId=function(b){e.id=b};!l("host-webworker")&&l("esri-console-log-version")&&
console.debug("Using ArcGIS API for JavaScript "+e.version+" [Date: "+b.buildDate+", Revision: "+b.commitHash.slice(0,8)+"]")})},"esri/core/has":function(){define("require exports dojo/sniff ../config ./global ../views/webgl/context-util".split(" "),function(c,e,k,l,m,b){function h(){if(d)return d;d={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,
supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return d;var g=b.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!g&&(g=b.createContext(a,{},"webgl"))&&(d.majorPerformanceCaveat=!0);if(!g)return d;a=g.getParameter(g.VERSION);if(!a)return d;if(a=a.match(/^WebGL\s+([\d.]*)/)){d.version=parseFloat(a[1]);d.available=.94<=d.version;if(a=g.getShaderPrecisionFormat(g.FRAGMENT_SHADER,g.HIGH_FLOAT))d.supportsHighPrecisionFragment=0<a.precision;
d.supportsVertexShaderSamplers=0<g.getParameter(g.MAX_VERTEX_TEXTURE_IMAGE_UNITS);d.supportsElementIndexUint=null!==g.getExtension("OES_element_index_uint");d.supportsStandardDerivatives=null!==g.getExtension("OES_standard_derivatives");d.supportsInstancedArrays=null!==g.getExtension("ANGLE_instanced_arrays");d.supportsTextureFloat=null!==g.getExtension("OES_texture_float");d.supportsColorBufferFloat=null!==g.getExtension("WEBGL_color_buffer_float")}d.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE);
return d}function f(){if(g)return g;g={available:!1,version:0};var a=document.createElement("canvas");if(!a)return g;a=b.createContext(a,{},"webgl2");if(!a)return g;g.available=!0;a=a.getParameter(a.VERSION);if(!a)return g;if(a=a.match(/^WebGL\s+([\d.]*)/))g.version=parseFloat(a[1]);return g}if("object"===typeof l.has){c=0;for(e=Object.keys(l.has);c<e.length;c++){var a=e[c];k.add(a,l.has[a],!1,!0)}delete l.has}(function(){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),
a=a.match(/iPhone/i);b&&k.add("esri-mobile",b);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});k.add("esri-canvas-svg-support",function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});k.add("esri-wasm","WebAssembly"in m);k.add("esri-shared-array-buffer",function(){var a=!1===m.crossOriginIsolated;
return"SharedArrayBuffer"in m&&!a});k.add("esri-atomics","Atomics"in m);k.add("esri-workers","Worker"in m);k.add("esri-text-decoder","TextDecoder"in m);k.add("esri-deprecation-warnings",!0);k.add("esri-native-promise",!k("disable-feature:esri-native-promise"));k("host-webworker")||(k.add("esri-abortable-fetch","fetch"in m&&"signal"in new Request("https://www.arcgis.com")),k.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';
a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=m.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return h().available}),k.add("esri-webgl-high-precision-fragment",function(){return h().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return h().supportsVertexShaderSamplers}),
k.add("esri-webgl-element-index-uint",function(){return h().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return h().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return h().supportsTextureFloat}),k.add("esri-webgl-color-buffer-float",function(){return h().supportsColorBufferFloat}),k.add("esri-webgl-instanced-arrays",function(){return h().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",function(){return h().majorPerformanceCaveat}),
k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return f().available}),k.add("esri-webgl-max-texture-size",function(){return h().maxTextureSize}))})();var d=null,g=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(c,e){function k(b,f,a){void 0===f&&(f={});var d;switch(a){case "webgl":d=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":d=["webgl2"];break;default:d=
["webgl","experimental-webgl","webkit-3d","moz-webgl"]}a=null;for(var g=0;g<d.length;g++){var c=d[g];try{a=b.getContext(c,f)}catch(r){}if(a)break}return a}function l(b,f){(b=b.parentNode)&&(b.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+f+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(e,"__esModule",
{value:!0});e.createContextOrErrorHTML=function(c,f,a){void 0===f&&(f={});if(!window.WebGLRenderingContext)return l(c,m),null;f=k(c,f,a);return f?f:(l(c,b),null)};e.createContext=k;var m='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',b='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./clock ./Error ./events ./has ./maybe ./Logger @dojo/framework/shim/Promise".split(" "),function(c,e,k,l,m,b,h,f,a,d,g){function q(b){return a("esri-native-promise")?Promise.all(b):m(b)}function r(b,d){if(a("esri-native-promise"))return new Promise(function(a,d){try{b(a,d)}catch(H){Promise.resolve().then(function(){return d(H)})}});var g=new l(d);try{b(function(a){return F(a).then(g.resolve)},
g.reject)}catch(G){g.reject(G)}return g.promise}function n(a){void 0===a&&(a="Aborted");a=new h("AbortError",a);a.dojoType="cancel";return a}function w(){return new k.default}function t(a){if(z(a))throw n();}function u(a){return d.isSome(a)?"aborted"in a?a:a.signal:a}function z(a){a=u(a);return d.isSome(a)&&a.aborted}function x(a,b){a=u(a);if(!d.isNone(a))if(a.aborted)b();else return f.once(a,"abort",function(){return b()})}function p(a){return a&&("AbortError"===a.name||"cancel"===a.dojoType)}function A(a){var b=
null;a=r(function(a,d){b={resolve:a,reject:d}},a);b.promise=a;b.cancel=function(){b.reject(n())};return b}function v(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),d=b.map(function(b){return a[b]});return v(d).then(function(a){var d={};b.forEach(function(b,g){return d[b]=a[g]});return d})}var g=null,f=y;return r(function(b,d){var c=[],h=a.length;0===h&&b(c);a.forEach(function(a){var q={promise:a||f(a)};c.push(q);q.promise.then(function(a){q.value=a}).catch(function(a){q.error=a}).then(function(){--h;
0===h&&(g?d(n()):b(c))})})},function(b){g=b||"Invocation cancellation";a.forEach(function(a){"cancel"in a&&a.cancel(b)})})}}function y(b){void 0===b&&(b=void 0);if(a("esri-native-promise"))return Promise.resolve(b);var d=new l;d.resolve(b);return d.promise}function B(a,b,d){void 0===b&&(b=void 0);var g=w();x(d,function(){return g.abort()});return r(function(d,f){var c=setTimeout(function(){c=0;d(b)},a);x(g,function(){c&&(clearTimeout(c),f(n()))})},function(){return g.abort()})}function F(a){return a&&
"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:y(a)}Object.defineProperty(e,"__esModule",{value:!0});var J=g.getLogger("esri");e.all=q;e.filter=function(a,b){var d=a.slice();return q(a.map(function(a,d){return b(a,d)})).then(function(a){return d.filter(function(b,d){return a[d]})})};e.create=r;e.createAbortError=n;e.createAbortController=w;e.throwIfAborted=t;e.isAborted=z;e.throwIfAbortError=function(a){if(p(a))throw a;};e.throwIfNotAbortError=function(a){if(!p(a))throw a;};e.onAbort=
x;e.onAbortOrThrow=function(a,b){a=u(a);if(!d.isNone(a))return t(a),f.once(a,"abort",function(){return b(n())})};e.isAbortError=p;e.ignoreAbortErrors=function(a){return a.catch(function(a){if(!p(a))throw a;})};e.logOnError=function(a,b){return a.catch(function(a){p(a)||(b=d.isSome(b)?b:J,b.error(a))})};e.createDeferred=A;e.eachAlways=v;e.isThenable=function(a){return a&&"function"===typeof a.then};e.eachAlwaysValues=function(a){return v(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};
e.first=function(a){return a&&a.length?r(function(b,d){for(var g=0;g<a.length;g++)a[g].then(b,d)}):y()};e.reject=function(b){if(a("esri-native-promise"))return Promise.reject(b);var d=new l;d.reject(b);return d.promise};e.resolve=y;e.after=B;e.timeout=function(a,b,d,g){var f=d&&"abort"in d?d:null;null!=g||f||(g=d);var c=setTimeout(function(){c=0;f&&f.abort()},b),q=function(){throw g||new h("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");};return a.then(function(a){if(0===
c)throw q();clearTimeout(c);return a},function(a){clearTimeout(c);throw 0===c?q():a;})};e.wrapCallback=function(a){var b=!1;return r(function(){a(function(a){b||y(a)})},function(){return b=!0})};e.isPromiseLike=function(a){return a&&"function"===typeof a.then};e.when=F;e.debounce=function(a,b){void 0===b&&(b=-1);var d,g,f,c,h=null,q=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(d)return g=e,c&&c.reject(n()),c=A(),e=c.promise,h&&(r=h,h=null,r.abort()),e;f=c||A();c=null;if(0<
b){var t=w(),k=d=F(a.apply(void 0,e.concat([t.signal])));B(b).then(function(){d===k&&(c?t.abort():h=t)})}else d=1,d=F(a.apply(void 0,e));var e=function(){var a=g;g=f=d=h=null;null!=a&&q.apply(void 0,a)},r=d,m=f;r.then(e,e);r.then(m.resolve,m.reject);return m.promise};return q};e.createResolver=function(a){var d,g;a=r(function(a,b){d=a;g=b},a);var f=function(a){d(a)};f.resolve=function(a){return d(a)};f.reject=function(a){return g(a)};f.timeout=function(a,d){return b.default.setTimeout(function(){return f.reject(d)},
a)};f.promise=a;return f};e.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("./global"),l=c("../has/has"),m=c("./array");e.ShimAbortSignal=k.default.AbortSignal;
l.default("abort-signal")||(k.default.AbortSignal=e.ShimAbortSignal=function(){function b(){this._aborted=!1;this.listeners={}}Object.defineProperty(b.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});b.prototype.addEventListener=function(b,f){b in this.listeners||(this.listeners[b]=[]);this.listeners[b].push(f)};b.prototype.removeEventListener=function(b,f){if(b in this.listeners){var a=m.findIndex(this.listeners[b],function(a){return a===f});0<=a&&this.listeners[b].splice(a,
1)}};b.prototype.dispatchEvent=function(b){var f=this,a=b.type;"abort"===a&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,b));if(!(a in this.listeners))return!1;this.listeners[a].forEach(function(a){setTimeout(function(){return a.call(f,b)},0)});return!b.preventDefault};return b}());e.ShimAbortController=k.default.AbortController;l.default("abort-controller")||(k.default.AbortController=e.ShimAbortController=function(){function b(){this.signal=new e.ShimAbortSignal}b.prototype.abort=
function(){var b;try{b=new Event("abort")}catch(f){"undefined"!==typeof document?(b=document.createEvent("Event"),b.initEvent("abort",!1,!1)):b={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(b)};return b}());e.default=e.ShimAbortController})},"@dojo/framework/shim/array":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),
c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("tslib"),l=c("./global"),m=c("./iterator"),b=c("./number"),h=c("../has/has");c=c("./support/util");if(h.default("es6-array")&&h.default("es6-array-fill"))e.from=l.default.Array.from,e.of=l.default.Array.of,e.copyWithin=c.wrapNative(l.default.Array.prototype.copyWithin),e.fill=c.wrapNative(l.default.Array.prototype.fill),e.find=c.wrapNative(l.default.Array.prototype.find),e.findIndex=c.wrapNative(l.default.Array.prototype.findIndex);
else{var f=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),b.MAX_SAFE_INTEGER)},a=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},d=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};e.from=function(a,b,d){if(null==a)throw new TypeError("from: requires an array-like object");b&&d&&(b=b.bind(d));d=f(a.length);var g="function"===typeof this?Object(new this(d)):Array(d);if(!m.isArrayLike(a)&&
!m.isIterable(a))return g;if(m.isArrayLike(a)){if(0===d)return[];for(var c=0;c<a.length;c++)g[c]=b?b(a[c],c):a[c]}else{c=0;try{for(var h=k.__values(a),q=h.next();!q.done;q=h.next()){var e=q.value;g[c]=b?b(e,c):e;c++}}catch(A){r={error:A}}finally{try{q&&!q.done&&(l=h.return)&&l.call(h)}finally{if(r)throw r.error;}}}void 0!==a.length&&(g.length=d);return g;var r,l};e.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};e.copyWithin=function(b,
c,h,n){if(null==b)throw new TypeError("copyWithin: target must be an array-like object");var g=f(b.length);c=d(a(c),g);h=d(a(h),g);n=d(void 0===n?g:a(n),g);n=Math.min(n-h,g-c);g=1;c>h&&c<h+n&&(g=-1,h+=n-1,c+=n-1);for(;0<n;)h in b?b[c]=b[h]:delete b[c],c+=g,h+=g,n--;return b};e.fill=function(b,c,h,n){var g=f(b.length);h=d(a(h),g);for(n=d(void 0===n?g:a(n),g);h<n;)b[h++]=c;return b};e.find=function(a,b,d){b=e.findIndex(a,b,d);return-1!==b?a[b]:void 0};e.findIndex=function(a,b,d){var g=f(a.length);if(!b)throw new TypeError("find: second argument must be a function");
d&&(b=b.bind(d));for(d=0;d<g;d++)if(b(a[d],d,a))return d;return-1}}h.default("es7-array")?e.includes=c.wrapNative(l.default.Array.prototype.includes):e.includes=function(a,d,f){void 0===f&&(f=0);var g;g=a.length;g=Number(g);isNaN(g)?g=0:(isFinite(g)&&(g=Math.floor(g)),g=Math.min(Math.max(g,0),b.MAX_SAFE_INTEGER));for(;f<g;++f){var c=a[f];if(d===c||d!==d&&c!==c)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=
c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],c)})(function(c,e){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function l(a){return a&&"number"===typeof a.length}function m(a){if(k(a))return a[Symbol.iterator]();if(l(a))return new f(a)}Object.defineProperty(e,"__esModule",{value:!0});c("./Symbol");var b=c("./string"),h={done:!0,value:void 0},f=function(){function a(a){this._nextIndex=-1;
k(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:h:h};a.prototype[Symbol.iterator]=function(){return this};return a}();e.ShimIterator=f;e.isIterable=k;e.isArrayLike=l;e.get=m;e.forOf=function(a,d,g){function f(){c=!0}var c=!1;if(l(a)&&"string"===typeof a)for(var h=a.length,e=0;e<h;++e){var t=a[e];if(e+1<h){var k=t.charCodeAt(0);
k>=b.HIGH_SURROGATE_MIN&&k<=b.HIGH_SURROGATE_MAX&&(t+=a[++e])}d.call(g,t,a,f);if(c)break}else if(h=m(a))for(e=h.next();!e.done;){d.call(g,e.value,a,f);if(c)break;e=h.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],c)})(function(c,e){function k(a){return a&&("symbol"===
typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(e,"__esModule",{value:!0});var l=c("../has/has"),m=c("./global"),b=c("./support/util");e.Symbol=m.default.Symbol;if(!l.default("es6-symbol")){var h=function(a){if(!k(a))throw new TypeError(a+" is not a symbol");return a},f=Object.defineProperties,a=Object.defineProperty,d=Object.create,g=Object.prototype,q={},r=function(){var f=d(null);return function(d){for(var c=0,h;f[String(d)+(c||"")];)++c;d+=String(c||"");f[d]=!0;h="@@"+d;Object.getOwnPropertyDescriptor(g,
h)||a(g,h,{set:function(d){a(this,h,b.getValueDescriptor(d))}});return h}}(),n=function t(a){if(this instanceof n)throw new TypeError("TypeError: Symbol is not a constructor");return t(a)};e.Symbol=m.default.Symbol=function u(a){if(this instanceof u)throw new TypeError("TypeError: Symbol is not a constructor");var d=Object.create(n.prototype);a=void 0===a?"":String(a);return f(d,{__description__:b.getValueDescriptor(a),__name__:b.getValueDescriptor(r(a))})};a(e.Symbol,"for",b.getValueDescriptor(function(a){return q[a]?
q[a]:q[a]=e.Symbol(String(a))}));f(e.Symbol,{keyFor:b.getValueDescriptor(function(a){var b;h(a);for(b in q)if(q[b]===a)return b}),hasInstance:b.getValueDescriptor(e.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:b.getValueDescriptor(e.Symbol.for("isConcatSpreadable"),!1,!1),iterator:b.getValueDescriptor(e.Symbol.for("iterator"),!1,!1),match:b.getValueDescriptor(e.Symbol.for("match"),!1,!1),observable:b.getValueDescriptor(e.Symbol.for("observable"),!1,!1),replace:b.getValueDescriptor(e.Symbol.for("replace"),
!1,!1),search:b.getValueDescriptor(e.Symbol.for("search"),!1,!1),species:b.getValueDescriptor(e.Symbol.for("species"),!1,!1),split:b.getValueDescriptor(e.Symbol.for("split"),!1,!1),toPrimitive:b.getValueDescriptor(e.Symbol.for("toPrimitive"),!1,!1),toStringTag:b.getValueDescriptor(e.Symbol.for("toStringTag"),!1,!1),unscopables:b.getValueDescriptor(e.Symbol.for("unscopables"),!1,!1)});f(n.prototype,{constructor:b.getValueDescriptor(e.Symbol),toString:b.getValueDescriptor(function(){return this.__name__},
!1,!1)});f(e.Symbol.prototype,{toString:b.getValueDescriptor(function(){return"Symbol ("+h(this).__description__+")"}),valueOf:b.getValueDescriptor(function(){return h(this)})});a(e.Symbol.prototype,e.Symbol.toPrimitive,b.getValueDescriptor(function(){return h(this)}));a(e.Symbol.prototype,e.Symbol.toStringTag,b.getValueDescriptor("Symbol",!1,!1,!0));a(n.prototype,e.Symbol.toPrimitive,b.getValueDescriptor(e.Symbol.prototype[e.Symbol.toPrimitive],!1,!1,!0));a(n.prototype,e.Symbol.toStringTag,b.getValueDescriptor(e.Symbol.prototype[e.Symbol.toStringTag],
!1,!1,!0))}e.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){e.Symbol[a]||Object.defineProperty(e.Symbol,a,b.getValueDescriptor(e.Symbol.for(a),!1,!1))});e.default=e.Symbol})},"@dojo/framework/shim/support/util":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&
define(["require","exports"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.getValueDescriptor=function(c,e,m,b){void 0===e&&(e=!1);void 0===m&&(m=!0);void 0===b&&(b=!0);return{value:c,enumerable:e,writable:m,configurable:b}};e.wrapNative=function(c){return function(e){for(var k=[],b=1;b<arguments.length;b++)k[b-1]=arguments[b];return c.apply(e,k)}}})},"@dojo/framework/shim/string":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,
exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("tslib"),l=c("./global"),m=c("../has/has");c=c("./support/util");e.HIGH_SURROGATE_MIN=55296;e.HIGH_SURROGATE_MAX=56319;e.LOW_SURROGATE_MIN=56320;e.LOW_SURROGATE_MAX=57343;if(m.default("es6-string")&&m.default("es6-string-raw"))e.fromCodePoint=l.default.String.fromCodePoint,
e.raw=l.default.String.raw,e.codePointAt=c.wrapNative(l.default.String.prototype.codePointAt),e.endsWith=c.wrapNative(l.default.String.prototype.endsWith),e.includes=c.wrapNative(l.default.String.prototype.includes),e.normalize=c.wrapNative(l.default.String.prototype.normalize),e.repeat=c.wrapNative(l.default.String.prototype.repeat),e.startsWith=c.wrapNative(l.default.String.prototype.startsWith);else{var b=function(b,f,a,d,g){void 0===g&&(g=!1);if(null==f)throw new TypeError("string."+b+" requires a valid string to search against.");
b=f.length;return[f,String(a),Math.min(Math.max(d!==d?g?b:0:d,0),b)]};e.fromCodePoint=function(){for(var b=0;b<arguments.length;b++);b=arguments.length;if(!b)return"";for(var f=String.fromCharCode,a=[],d=-1,g="";++d<b;){var c=Number(arguments[d]);if(!(isFinite(c)&&Math.floor(c)===c&&0<=c&&1114111>=c))throw RangeError("string.fromCodePoint: Invalid code point "+c);65535>=c?a.push(c):(c-=65536,a.push((c>>10)+e.HIGH_SURROGATE_MIN,c%1024+e.LOW_SURROGATE_MIN));if(d+1===b||16384<a.length)g+=f.apply(null,
a),a.length=0}return g};e.raw=function(b){for(var f=[],a=1;a<arguments.length;a++)f[a-1]=arguments[a];var a=b.raw,d="",g=f.length;if(null==b||null==b.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var c=0,h=a.length;c<h;c++)d+=a[c]+(c<g&&c<h-1?f[c]:"");return d};e.codePointAt=function(b,f){void 0===f&&(f=0);if(null==b)throw new TypeError("string.codePointAt requries a valid string.");var a=b.length;f!==f&&(f=0);if(!(0>f||f>=a)){var d=b.charCodeAt(f);return d>=
e.HIGH_SURROGATE_MIN&&d<=e.HIGH_SURROGATE_MAX&&a>f+1&&(b=b.charCodeAt(f+1),b>=e.LOW_SURROGATE_MIN&&b<=e.LOW_SURROGATE_MAX)?1024*(d-e.HIGH_SURROGATE_MIN)+b-e.LOW_SURROGATE_MIN+65536:d}};e.endsWith=function(c,f,a){if(""===f)return!0;if("undefined"===typeof a)a=c.length;else if(null===a||isNaN(a))return!1;a=k.__read(b("endsWith",c,f,a,!0),3);c=a[0];f=a[1];a=a[2];var d=a-f.length;return 0>d?!1:c.slice(d,a)===f};e.includes=function(c,f,a){void 0===a&&(a=0);a=k.__read(b("includes",c,f,a),3);c=a[0];f=a[1];
a=a[2];return-1!==c.indexOf(f,a)};e.repeat=function(b,f){void 0===f&&(f=0);if(null==b)throw new TypeError("string.repeat requires a valid string.");f!==f&&(f=0);if(0>f||Infinity===f)throw new RangeError("string.repeat requires a non-negative finite count.");for(var a="";f;)f%2&&(a+=b),1<f&&(b+=b),f>>=1;return a};e.startsWith=function(c,f,a){void 0===a&&(a=0);f=String(f);a=k.__read(b("startsWith",c,f,a),3);c=a[0];f=a[1];a=a[2];var d=a+f.length;return d>c.length?!1:c.slice(a,d)===f}}m.default("es2017-string")?
(e.padEnd=c.wrapNative(l.default.String.prototype.padEnd),e.padStart=c.wrapNative(l.default.String.prototype.padStart)):(e.padEnd=function(b,f,a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===f)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===f||void 0===f||0>f)f=0;b=String(b);f-=b.length;0<f&&(b+=e.repeat(a,Math.floor(f/a.length))+a.slice(0,f%a.length));return b},e.padStart=function(b,f,
a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===f)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===f||void 0===f||0>f)f=0;b=String(b);f-=b.length;0<f&&(b=e.repeat(a,Math.floor(f/a.length))+a.slice(0,f%a.length)+b);return b})})},"@dojo/framework/shim/number":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=
c)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],c)})(function(c,e){function k(b){return"number"===typeof b&&m.default.isFinite(b)}function l(b){return k(b)&&Math.floor(b)===b}Object.defineProperty(e,"__esModule",{value:!0});var m=c("./global");e.EPSILON=1;e.MAX_SAFE_INTEGER=Math.pow(2,53)-1;e.MIN_SAFE_INTEGER=-e.MAX_SAFE_INTEGER;e.isNaN=function(b){return"number"===typeof b&&m.default.isNaN(b)};e.isFinite=k;e.isInteger=l;e.isSafeInteger=function(b){return l(b)&&
Math.abs(b)<=e.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(c,e,k,l){var m=c.some;return function(b){var c,f;e.isArray(b)?f=b:b&&"object"===typeof b&&(c=b);var a,d=[];if(c){f=[];for(var g in c)Object.hasOwnProperty.call(c,g)&&(d.push(g),f.push(c[g]));a={}}else f&&(a=[]);if(!f||!f.length)return(new k).resolve(a);var q=new k;q.promise.always(function(){a=d=null});var r=f.length;m(f,function(b,g){c||d.push(g);l(b,function(b){q.isFulfilled()||
(a[d[g]]=b,0===--r&&q.resolve(a))},q.reject);return q.isFulfilled()});return q.promise}})},"esri/core/clock":function(){define(["require","exports","./global"],function(c,e,k){function l(c){return{setTimeout:function(b,h){var f=c.setTimeout(b,h);return{remove:function(){return c.clearTimeout(f)}}}}}Object.defineProperty(e,"__esModule",{value:!0});e.wrap=l;e.default=l(k)})},"esri/core/Error":function(){define("require exports ./tsSupport/extendsHelper ./lang ./Logger ./Message".split(" "),function(c,
e,k,l,m,b){c=function(b){function f(a,d,g){var c=b.call(this,a,d,g)||this;return c instanceof f?c:new f(a,d,g)}k(f,b);f.prototype.toJSON=function(){if(null!=this.details)try{var a=l.clone(this.details);return{name:this.name,message:this.message,details:a,dojoType:this.dojoType}}catch(d){throw m.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details,dojoType:this.dojoType}};f.fromJSON=function(a){var b=new f(a.name,a.message,a.details);null!=a.dojoType&&
(b.dojoType=a.dojoType);return b};return f}(b);c.prototype.type="error";return c})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,k){c.__proto__=k}||function(c,k){for(var e in k)k.hasOwnProperty(e)&&(c[e]=k[e])};return function(e,k){function l(){this.constructor=e}c(e,k);e.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)}}()})},"esri/core/Logger":function(){define(["require",
"exports","./has","./string","@dojo/framework/shim/Promise"],function(c,e,k,l){var m={info:0,warn:1,error:2};c=function(){function b(c){void 0===c&&(c={});this._loggedMessages={error:new Map,warn:new Map,info:new Map};this.module=c.module||"";this.writer=c.writer||null;this.level=c.level||null;null!=c.enabled&&(this.enabled=!!c.enabled);b._loggers[this.module]=this;c=this.module.lastIndexOf(".");-1!==c&&(this.parent=b.getLogger(this.module.slice(0,c)))}b.prototype.log=function(c,f){for(var a=[],d=
2;d<arguments.length;d++)a[d-2]=arguments[d];if(this._isEnabled()&&this._matchLevel(c)){if("always"!==f&&!b._throttlingDisabled){var d=this._argsToKey(a),g=this._loggedMessages[c].get(d);if("once"===f&&null!=g||"oncePerTick"===f&&g>=b._tickCounter)return;this._loggedMessages[c].set(d,b._tickCounter);b._scheduleTickCounterIncrement()}(d=this._inheritedWriter())&&d.apply(void 0,[c,this.module].concat(a))}};b.prototype.error=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,
["error","always"].concat(b))};b.prototype.warn=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["warn","always"].concat(b))};b.prototype.info=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["info","always"].concat(b))};b.prototype.errorOnce=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["error","once"].concat(b))};b.prototype.warnOnce=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=
arguments[f];this.log.apply(this,["warn","once"].concat(b))};b.prototype.infoOnce=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["info","once"].concat(b))};b.prototype.errorOncePerTick=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["error","oncePerTick"].concat(b))};b.prototype.warnOncePerTick=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["warn","oncePerTick"].concat(b))};
b.prototype.infoOncePerTick=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];this.log.apply(this,["info","oncePerTick"].concat(b))};b.prototype.getLogger=function(c){return b.getLogger(this.module+"."+c)};Object.defineProperty(b,"test",{get:function(){return{resetLoggers:function(c){void 0===c&&(c={});var f=b._loggers;b._loggers=c;return f},set throttlingDisabled(c){b._throttlingDisabled=c}}},enumerable:!0,configurable:!0});b.getLogger=function(c){var f=b._loggers[c];f||(f=new b({module:c}));
return f};b.prototype._parentWithMember=function(b,f){for(var a=this;a&&null==a[b];)a=a.parent;return a?a[b]:f};b.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};b.prototype._consoleWriter=function(b,f){for(var a=[],d=2;d<arguments.length;d++)a[d-2]=arguments[d];console[b].apply(console,["["+f+"]"].concat(a))};b.prototype._matchLevel=function(b){return m[this._parentWithMember("level","error")]<=m[b]};b.prototype._isEnabled=function(){return this._parentWithMember("enabled",
!0)};b.prototype._argsToKey=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];return l.numericHash(JSON.stringify(b,function(a,b){return"object"!==typeof b||Array.isArray(b)?b:"[Object]"}))};b._scheduleTickCounterIncrement=function(){b._tickCounterScheduled||(b._tickCounterScheduled=!0,Promise.resolve().then(function(){b._tickCounter++;b._tickCounterScheduled=!1}))};b._loggers={};b._tickCounter=0;b._tickCounterScheduled=!1;b._throttlingDisabled=!1;return b}();c.getLogger("esri").level=
"warn";return c})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});var m=/\{([^\}]+)\}/g;e.endsWith=l.endsWith;e.startsWith=l.startsWith;e.padEnd=l.padEnd;e.padStart=l.padStart;e.replace=function(b,c){return b.replace(m,"object"===typeof c?function(b,a){return k.getDeepValue(a,c)}:function(b,a){return c(a)})};e.escapeRegExpString=function(b,c){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(b){return c&&-1!==c.indexOf(b)?b:"\\"+b})};e.numericHash=function(b){for(var c=0,f=0;f<b.length;f++)c=(c<<5)-c+b.charCodeAt(f),c|=0;return c}})},"@dojo/framework/shim/Promise":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),c)})(function(c,e){Object.defineProperty(e,"__esModule",
{value:!0});var k=c("tslib"),l=c("./global"),m=c("./support/queue");c("./Symbol");c=c("../has/has");e.ShimPromise=l.default.Promise;e.isThenable=function(b){return b&&"function"===typeof b.then};c.default("es6-promise")||(l.default.Promise=e.ShimPromise=(b=function(){function b(c){var a=this;this.state=1;this[Symbol.toStringTag]="Promise";var d=!1,g=[],f=function(a){g&&g.push(a)},h=function(b,d){1===a.state&&(a.state=b,a.resolvedValue=d,f=m.queueMicroTask,g&&0<g.length&&m.queueMicroTask(function(){if(g){for(var a=
g.length,b=0;b<a;++b)g[b].call(null);g=null}}))},n=function(b,g){1!==a.state||d||(e.isThenable(g)?(g.then(h.bind(null,0),h.bind(null,2)),d=!0):h(b,g))};this.then=function(d,g){return new b(function(b,c){f(function(){var f=2===a.state?g:d;if("function"===typeof f)try{b(f(a.resolvedValue))}catch(p){c(p)}else 2===a.state?c(a.resolvedValue):b(a.resolvedValue)})})};try{c(n.bind(null,0),n.bind(null,2))}catch(w){h(2,w)}}b.all=function(c){return new this(function(a,d){function g(b,d){h[b]=d;++n;t||n<m||a(h)}
function f(a,c){++m;e.isThenable(c)?c.then(g.bind(null,a),d):b.resolve(c).then(g.bind(null,a))}var h=[],n=0,m=0,t=!0,l=0;try{for(var z=k.__values(c),x=z.next();!x.done;x=z.next())f(l,x.value),l++}catch(v){p={error:v}}finally{try{x&&!x.done&&(A=z.return)&&A.call(z)}finally{if(p)throw p.error;}}(t=!1,n<m)||a(h);var p,A})};b.race=function(c){return new this(function(a,d){try{for(var g=k.__values(c),f=g.next();!f.done;f=g.next()){var h=f.value;h instanceof b?h.then(a,d):b.resolve(h).then(a)}}catch(t){e=
{error:t}}finally{try{f&&!f.done&&(m=g.return)&&m.call(g)}finally{if(e)throw e.error;}}var e,m})};b.reject=function(b){return new this(function(a,d){d(b)})};b.resolve=function(b){return new this(function(a){a(b)})};b.prototype.catch=function(b){return this.then(void 0,b)};return b}(),b[Symbol.species]=e.ShimPromise,b));c.default("es2018-promise-finally")||(l.default.Promise.prototype.finally=function(b){return this.then(b&&function(c){return Promise.resolve(b()).then(function(){return c})},b&&function(c){return Promise.resolve(b()).then(function(){throw c;
})})});e.default=e.ShimPromise;var b})},"@dojo/framework/shim/support/queue":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],c)})(function(c,e){function k(a){a&&a.isActive&&a.callback&&a.callback()}function l(a,b){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(e,
"__esModule",{value:!0});var m=c("../global"),b=c("../../has/has"),h,f;e.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=c(a);return l(a,g&&function(){g(b)})}var g,c;if(b.default("postmessage")){var f=[];m.default.addEventListener("message",function(a){a.source===m.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),f.length&&k(f.shift()))});c=function(a){f.push(a);m.default.postMessage("dojo-queue-message","*")}}else b.default("setimmediate")?(g=m.default.clearImmediate,
c=function(a){return setImmediate(k.bind(null,a))}):(g=m.default.clearTimeout,c=function(a){return setTimeout(k.bind(null,a),0)});return b.default("microtasks")?a:function(b){h();return a(b)}}();if(!b.default("microtasks")){var a=!1;f=[];h=function(){a||(a=!0,e.queueTask(function(){a=!1;if(f.length)for(var b=void 0;b=f.shift();)k(b)}))}}e.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(k.bind(null,a));return l(a,function(){cancelAnimationFrame(b)})}
return b.default("raf")?b.default("microtasks")?a:function(b){h();return a(b)}:e.queueTask}();e.queueMicroTask=function(){var a;if(b.default("host-node"))a=function(a){m.default.process.nextTick(k.bind(null,a))};else if(b.default("es6-promise"))a=function(a){m.default.Promise.resolve(a).then(k)};else if(b.default("dom-mutationobserver")){var g=m.default.MutationObserver||m.default.WebKitMutationObserver,c=document.createElement("div"),e=[];(new g(function(){for(;0<e.length;){var a=e.shift();a&&a.isActive&&
a.callback&&a.callback()}})).observe(c,{attributes:!0});a=function(a){e.push(a);c.setAttribute("queueStatus","1")}}else a=function(a){h();f.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return l(b)}}()})},"esri/core/Message":function(){define(["require","exports","./object"],function(c,e,k){function l(c,b){return c.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(c,f){if(""===f)return"$";c=k.getDeepValue(f,b);c=null==c?"":c;if("undefined"===typeof c)throw Error('could not find key "'+
f+'" in template');return c.toString()})}return function(){function c(b,h,f){this instanceof c&&(this.name=b,this.message=h&&l(h,f)||"",this.details=f)}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/events":function(){define(["require","exports"],function(c,e){function k(c){return c&&("function"===typeof c.on||"function"===typeof c.addEventListener)}function l(c,b,h){if(!k(c))throw new TypeError("target is not a Evented or EventTarget object");if("on"in
c)return c.on(b,h);if(Array.isArray(b)){for(var f=b.slice(),a=0;a<f.length;a++)c.addEventListener(f[a],h);return{remove:function(){for(var a=0;a<f.length;a++)c.removeEventListener(f[a],h)}}}c.addEventListener(b,h);return{remove:function(){c.removeEventListener(b,h)}}}Object.defineProperty(e,"__esModule",{value:!0});e.isEventTarget=k;e.on=l;e.once=function(c,b,h){if(!k(c))throw new TypeError("target is not a Evented or EventTarget object");if("once"in c)return c.once(b,h);var f=l(c,b,function(a){f.remove();
h.call(c,a)});return{remove:function(){f.remove()}}};e.pausable=function(c,b,h){var f=!1,a=l(c,b,function(a){f||h.call(c,a)});return{resume:function(){f=!1},pause:function(){f=!0},remove:function(){a.remove()}}};e.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};e.eventKey=function(c){c=c.key;return e.ieKeyNormalizationMap[c]||
c}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(c,e,k){function l(c,b,h){return null!=c?h(c):b}Object.defineProperty(e,"__esModule",{value:!0});e.isSome=function(c){return null!=c};e.isNone=function(c){return null==c};e.applySome=function(c,b){return null!=c?b(c):null};e.unwrap=function(c){return c};e.unwrapOr=function(c,b){return null!=c?c:"function"===typeof b?b():b};e.expect=function(c){return c};e.mapSome=function(c,b){var h=[];c.forEach(function(c){c=b(c);null!=
c&&h.push(c)});return h};e.mapMany=function(c,b){for(var h=[],f=0;f<c.length;f++)h.push(l(c[f],null,b));return h};e.forEachSome=function(c,b){for(var h=0;h<c.length;h++)l(c[h],null,b)};e.mapOr=l;e.andThen=function(c,b){return null!=c?b(c):null};e.mapSomeFirst=function(c,b){for(var h=0;h<c.length;h++){var f=b(c[h]);if(null!=f)return f}return null};e.get=function(c){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];for(var h=c,f=0;f<b.length&&h;)h=h[b[f++]];return h}})},"esri/support/revision":function(){define(["require",
"exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.buildDate="20200413";e.commitHash="bbc22ffd9f673eec2553476b4a8a0a5eaa6f0765"})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),function(c,e,k,l,m,b,h,f){var a=h.MessageType.CLOSE,d=h.MessageType.ABORT,g=h.MessageType.INVOKE,q=h.MessageType.RESPONSE,r=h.MessageType.OPEN_PORT,n=h.MessageType.ON,w=function(){function a(a){this._timer=
null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===h.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<
b.length;a++){var d=b[a];this._cancelledJobIds.has(d.jobId)||this._invoke(d)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function c(a,b,d){var g=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new w(function(a){return g._onInvokeMessage(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._channel=d.channel;d.scheduler&&(this._frameTask=d.scheduler.registerTask(f.Task.REMOTE_CLIENT,
function(a){return g._update(a)},function(){return 0<g._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}c.connect=function(a){var b=new MessageChannel;a="function"===typeof a?new a:"default"in a&&"function"===typeof a.default?new a.default:a;var d=new c(b.port1,a,{channel:b});"object"===typeof a&&"remoteClient"in a&&(a.remoteClient=d);c.clients.set(d,a);return b.port2};c.loadWorker=function(a){return(a=b.registry[a])?a():m.resolve(null)};c.prototype.close=
function(){this._post({type:a});this._close()};c.prototype.isBusy=function(){return 0<this._outJobs.size};c.prototype.invoke=function(a,b,c){var f=this,e=c&&c.signal,n=c&&c.transferList;if(!this._port)return m.reject(new k("remote-client:port-closed","Can't invoke(), port is closed"));var q=h.newJobId(),r=function(){var a=f._outJobs.get(q);a&&(f._outJobs.delete(q),f._post({type:d,jobId:q}),a.reject(m.createAbortError()))};return m.create(function(d,c){m.onAbortOrThrow(e,function(){r();c(m.createAbortError())});
f._outJobs.set(q,{resolve:d,reject:c});f._post({type:g,jobId:q,methodName:a,abortable:!0},b,n)},r)};c.prototype.on=function(a,b){function d(a){b(a.data)}var g=new MessageChannel;this._port.postMessage({type:h.MessageType.ON,eventType:a,port:g.port2},[g.port2]);g.port1.addEventListener("message",d);g.port1.start();return{remove:function(){g.port1.postMessage({type:h.MessageType.CLOSE});g.port1.close();g.port1.removeEventListener("message",d)}}};c.prototype.openPort=function(){var a=new MessageChannel;
this._post({type:r,port:a.port2});return a.port1};c.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(m.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};c.prototype._onMessage=function(b){if(b=
h.receiveMessage(b))switch(b.type){case q:this._onResponseMessage(b);break;case g:this._invokeQueue.push(b);break;case d:this._onAbortMessage(b);break;case a:this._onCloseMessage();break;case r:this._onOpenPortMessage(b);break;case n:this._onOnMessage(b)}};c.prototype._onAbortMessage=function(a){var b=this._inJobs,d=a.jobId,g=b.get(d);this._invokeQueue.push(a);g&&(g.controller&&g.controller.abort(),b.delete(d))};c.prototype._onCloseMessage=function(){var a=this._client;this._close();a&&"destroy"in
a&&c.clients.get(this)===a&&a.destroy();c.clients.delete(this);a&&a.remoteClient&&(a.remoteClient=null)};c.prototype._onInvokeMessage=function(a){var b=this,d=a.methodName,g=a.jobId,c=a.data;a=a.abortable?m.createAbortController():null;var f=this._inJobs,e=this._client,n=e[d],k;try{if(!n&&d&&-1!==d.indexOf("."))for(var r=d.split("."),t=0;t<r.length-1;t++)e=e[r[t]],n=e[r[t+1]];if("function"!==typeof n)throw new TypeError(d+" is not a function");k=n.call(e,c,{client:this,signal:a?a.signal:null})}catch(C){this._post({type:q,
jobId:g,error:h.toInvokeError(C)});return}if(m.isPromiseLike(k)){f.set(g,{controller:a,promise:k});if(a&&"cancel"in k)m.onAbort(a.signal,function(){return k.cancel()});k.then(function(a){f.has(g)&&(f.delete(g),b._post({type:q,jobId:g},a))},function(a){f.has(g)&&(f.delete(g),m.isAbortError(a)||b._post({type:q,jobId:g,error:h.toInvokeError(a||{message:"Error encountered at method "+d})}))})}else this._post({type:q,jobId:g},k)};c.prototype._onOpenPortMessage=function(a){new c(a.port,this._client,{})};
c.prototype._onOnMessage=function(a){var b=a.port,d=this._client.on(a.eventType,function(a){delete a.target;b.postMessage(a)}),g=l.on(a.port,"message",function(a){h.receiveMessage(a).type===h.MessageType.CLOSE&&(g.remove(),d.remove(),b.close())})};c.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};c.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};
c.prototype._handleResponse=function(a){var b=a.jobId,d=a.error;a=a.data;var g=this._outJobs;if(g.has(b)){var c=g.get(b);g.delete(b);d?c.reject(k.fromJSON(JSON.parse(d))):c.resolve(a)}};c.prototype._post=function(a,b,d){return h.postMessage(this._port,a,b,d)};c.clients=new Map;return c}()})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.registry={CSVSourceWorker:function(){return new Promise(function(e,
l){c(["../../layers/graphics/sources/support/CSVSourceWorker"],e,l)})},EdgeProcessingWorker:function(){return new Promise(function(e,l){c(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],e,l)})},ElevationSamplerWorker:function(){return new Promise(function(e,l){c(["../../geometry/support/meshUtils/ElevationSamplerWorker"],e,l)})},GeoJSONSourceWorker:function(){return new Promise(function(e,l){c(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],e,l)})},LercWorker:function(){return new Promise(function(e,
l){c(["../../layers/support/LercWorker"],e,l)})},MemorySourceWorker:function(){return new Promise(function(e,l){c(["../../layers/graphics/sources/support/MemorySourceWorker"],e,l)})},PBFWorker:function(){return new Promise(function(e,l){c(["../../tasks/operations/PBFWorker"],e,l)})},Pipeline:function(){return new Promise(function(e,l){c(["../../views/2d/layers/features/Pipeline"],e,l)})},PointCloudWorker:function(){return new Promise(function(e,l){c(["../../views/3d/layers/PointCloudWorker"],e,l)})},
RasterWorker:function(){return new Promise(function(e,l){c(["../../layers/support/RasterWorker"],e,l)})},SceneLayerWorker:function(){return new Promise(function(e,l){c(["../../views/3d/layers/SceneLayerWorker"],e,l)})},WorkerTileHandler:function(){return new Promise(function(e,l){c(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],e,l)})}}})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(c,e,k){function l(b){return b&&"object"===typeof b&&("result"in b||
"transferList"in b)}function m(b){if(!b||!b.length)return null;if(k("esri-workers-arraybuffer-transfer"))return b;b=b.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return b.length?b:null}Object.defineProperty(e,"__esModule",{value:!0});var b;(function(b){b[b.HANDSHAKE=0]="HANDSHAKE";b[b.CONFIGURE=1]="CONFIGURE";b[b.CONFIGURED=2]="CONFIGURED";b[b.OPEN=3]="OPEN";b[b.OPENED=4]="OPENED";b[b.RESPONSE=5]="RESPONSE";b[b.INVOKE=6]="INVOKE";b[b.ABORT=
7]="ABORT";b[b.CLOSE=8]="CLOSE";b[b.OPEN_PORT=9]="OPEN_PORT";b[b.ON=10]="ON"})(b=e.MessageType||(e.MessageType={}));var h=0;e.newJobId=function(){return h++};e.isTranferableResult=l;e.toInvokeError=function(b){return b?b.toJSON?JSON.stringify(b):JSON.stringify({name:b.name,message:b.message,details:b.details,stack:b.stack}):null};e.postMessage=function(c,a,d,g){a.type===b.OPEN_PORT?c.postMessage(a,[a.port]):a.type!==b.INVOKE&&a.type!==b.RESPONSE?c.postMessage(a):(l(d)?(g=m(d.transferList),a.data=
d.result):(g=m(g),a.data=d),g?c.postMessage(a,g):c.postMessage(a))};e.receiveMessage=function(b){return b?(b=b.data)?"string"===typeof b?JSON.parse(b):b:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/Logger ../../core/maybe ../../core/now ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),function(c,e,k,l,m,b,h,f,a){function d(a){return a in e.taskPriorities?e.taskPriorities[a]:"number"===typeof a?a:1}Object.defineProperty(e,
"__esModule",{value:!0});var g,q=l.getLogger("esri.views.support.Scheduler");e.newScheduler=function(a){return new n.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";
a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";
a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a[a.TEST_PRIO=1]="TEST_PRIO"})(c=e.Task||(e.Task={}));e.taskPriorities=(g={},g[c.REMOTE_CLIENT]=1,g[c.STREAM_DATA_LOADER]=1,g[c.FEATURE_FETCH_QUEUE]=1,g[c.TERRAIN_SURFACE]=2,g[c.SURFACE_GEOMETRY_UPDATES]=2,g[c.I3S_CONTROLLER]=4,g[c.POINT_CLOUD_LAYER]=4,g[c.FEATURE_TILE_FETCHER]=4,g[c.GRAPHICS_CORE]=6,g[c.LABELER]=6,g[c.GRAPHICS_DECONFLICTOR]=6,g[c.FILTER_VISIBILITY]=
8,g[c.FEATURE_QUERY_ENGINE]=8,g[c.SCALE_VISIBILITY]=8,g[c.FRUSTUM_VISIBILITY]=8,g[c.POINT_OF_INTEREST_FREQUENT]=6,g[c.POINT_OF_INTEREST_INFREQUENT]=30,g[c.FEATURE_TILE_TREE]=16,g[c.FEATURE_TILE_TREE_ACTIVE]=1,g[c.ELEVATION_ALIGNMENT]=12,g[c.TEXT_TEXTURE_ATLAS]=12,g[c.OVERLAY_MANAGER]=12,g[c.LINE_OF_SIGHT_TOOL]=16,g[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,g);e.getTaskPriority=d;var r=1E3/30,n;(function(b){var g=function(){function g(d){var g=this;this._now=d;this._budget=null;this._state=1;this._tasks=
new h;this._runQueue=new h;this._load=0;this._idleStateCallbacks=new h;this._idleUpdatesStartFired=!1;this._maxReschedule=t;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=f.init(a,"SCHEDULER_LOG_SLOW_TASKS",function(a){return g._debug=a});this._budget=new b.Budget(d);var c=this;this._test={state:void 0,FRAME_SAFETY_BUDGET:5,idleBudget:100,get budget(){return c._budget.budget},usedBudget:0,startTime:0,updateTask:function(a){return g._updateTask(a)},getState:function(a){return g._getState(a)},
getRuntime:function(a){return g._getRuntime(a)}}}g.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};g.prototype.registerTask=function(a,b,g){var f=this,h=d(a),e=new c(a,b,g,h);this._tasks.push(e);return{remove:function(){return f._removeTask(e)},set task(a){e.setPriority(a)}}};g.prototype.registerIdleStateCallbacks=function(a,b){var d=this,g={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(g);2===this.state&&this._idleUpdatesStartFired&&g.idleBegin();var c=this;return{remove:function(){return d._removeIdleStateCallbacks(g)},
set idleBegin(a){c._idleUpdatesStartFired&&(g.idleEnd(),2===c._state&&a());g.idleBegin=a},set idleEnd(a){g.idleEnd=a}}};Object.defineProperty(g.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"load",{get:function(){return this._load},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"state",{get:function(){return m.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=
a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});g.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,d=1;switch(this.state){case 2:this._safetyBudget=0;b=Math.max(100,a.frameDuration);d=30;break;case 1:b=Math.max(r,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==
this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,d);this._budget.reset(b,this.state);this._maxReschedule=t;this._updateLoad();return this._schedule()};g.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};
g.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};g.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};g.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};g.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===a}))return w.SCHEDULED;var b=w.IDLE;this._tasks.forEach(function(d){d.name===a&&
d.needsUpdate()&&(1>=d.schedule?b=w.READY:b!==w.READY&&(b=w.WAITING))});return b};g.prototype._getRuntime=function(a){var b=0;this._tasks.forEach(function(d){d.name===a&&(b+=d.runtime)});return b};g.prototype._runIdle=function(){this._run()};g.prototype._runInteracting=function(){this._run()};g.prototype._runAnimating=function(){this._run()};g.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?++a:a});this._load=.9*this._load+a*(1-.9)};g.prototype._schedule=
function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,g=0;d._tasks.forEach(function(d){if(0!==d.schedule&&d.needsUpdate())switch(b=!0,g=Math.max(g,d.priority),d.schedule){case 1:d.schedule=0;a._runQueue.push(d);break;default:--d.schedule}});if(!b)return{value:!1};d._maxReschedule===t&&(d._maxReschedule=g);--d._maxReschedule},d=this;0===this._runQueue.length;){var g=
b();if("object"===typeof g)return g.value}return!0};g.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.update(this._budget)}catch(y){q.error('Exception in task "'+a.name+'"',y)}a.schedule=a.priority;a.runtime+=this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};
Object.defineProperty(g.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});return g}();b.Scheduler=g;var c=function(){function a(a,b,d,g){this.name=a;this.update=b;this.needsUpdate=d;this._priority=g;this.runtime=0;this.schedule=this._priority}Object.defineProperty(a.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});a.prototype.setPriority=function(a){this.name=a;this._priority=d(a);0!==this.schedule&&(this.schedule=this._priority)};
return a}(),g=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=
function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();b.Budget=g})(n||(n={}));var w;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(w=e.TaskState||(e.TaskState={}));e.noBudget=function(){var a=new n.Budget(b);
a.enabled=!1;return a}();var t=k.MAX_SAFE_INTEGER})},"esri/core/now":function(){define(["require","exports","./global"],function(c,e,k){return function(){var c=k.performance||{};if(c.now)return function(){return c.now()};if(c.webkitNow)return function(){return c.webkitNow()};if(c.mozNow)return function(){return c.mozNow()};if(c.msNow)return function(){return c.msNow()};if(c.oNow)return function(){return c.oNow()};var e;e=c.timing&&c.timing.navigationStart?c.timing.navigationStart:Date.now();return function(){return Date.now()-
e}}()})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper","./arrayUtils","./HeapSort"],function(c,e,k,l,m){return function(){function b(b){var c=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=function(){};this._shrink=function(){};this._hint=new l.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator?(this._allocator=b.allocator,this._deallocator=b.deallocator):"deallocator"in b&&(this._deallocator=b.deallocator),
b.shrink&&(this._shrink=function(){c.data.length>1.5*c.length&&(c.data.length=Math.floor(1.1*c.length))}))}b.prototype.toArray=function(){return this.data.slice(0,this.length)};b.prototype.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(b){if(b>this._length)if(this._allocator)for(;this._length<b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=b;else{if(this._deallocator)for(var c=
b;c<this._length;++c)this.data[c]=this._deallocator(this.data[c]);this._length=b;this._shrink()}},enumerable:!0,configurable:!0});b.prototype.clear=function(){this.length=0};b.prototype.prune=function(){this.clear();this.data=[]};b.prototype.push=function(b){this.data[this._length++]=b};b.prototype.pushArray=function(b,c){void 0===c&&(c=b.length);for(var a=0;a<c;a++)this.data[this._length++]=b[a]};b.prototype.fill=function(b,c){for(var a=0;a<c;a++)this.data[this._length++]=b};b.prototype.pushNew=
function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};b.prototype.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();return b}};b.prototype.iterableRemoveMany=function(b){var c,a;return k(this,function(d){switch(d.label){case 0:c=[],a=0,d.label=1;case 1:if(!(a<this.length)||a>=this.length)return[3,4];0>l.indexOf(b.data,this.data[a],b.length,b._hint)&&c.push(this.data[a]);return[4];
case 2:d.sent(),d.label=3;case 3:return++a,[3,1];case 4:return this.data=c,this._length=this.data.length,[2]}})};b.prototype.remove=function(b){var c=l.indexOf(this.data,b,this.length,this._hint);if(-1!==c)return this.data.splice(c,1),--this.length,b};b.prototype.removeUnordered=function(b){b=l.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;return b};b.prototype.removeUnorderedIndex=function(b){if(!(b>=this.length||0>b))return this.swapElements(b,this.length-1),this.pop()};
b.prototype.removeUnorderedMany=function(b,c,a){void 0===c&&(c=b.length);this.length=l.removeUnorderedMany(this.data,b,this.length,c,this._hint,a)};b.prototype.front=function(){if(0!==this.length)return this.data[0]};b.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};b.prototype.swapElements=function(b,c){var a;b>=this.length||c>=this.length||b===c||(a=[this.data[c],this.data[b]],this.data[b]=a[0],this.data[c]=a[1])};b.prototype.sort=function(b){m.sort(this.data,0,this.length,
b)};b.prototype.iterableSort=function(b){return m.iterableSort(this.data,0,this.length,b)};b.prototype.some=function(b,c){for(var a=0;a<this.length;++a)if(b.call(c,this.data[a],a,this.data))return!0;return!1};b.prototype.filterInPlace=function(b,c){for(var a=0,d=0;d<this._length;++d){var g=this.data[d];b.call(c,g,d,this.data)&&(this.data[d]=this.data[a],this.data[a]=g,a++)}if(this._deallocator)for(d=a;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);this._length=a;return this};b.prototype.forEach=
function(b,c){for(var a=this.length,d=0;d<Math.min(this.length,a);++d)b.call(c,this.data[d],d,this.data)};b.prototype.iterableForEach=function(){var b;return k(this,function(c){switch(c.label){case 0:b=0,c.label=1;case 1:return b<this.length?[4,this.data[b]]:[3,4];case 2:c.sent(),c.label=3;case 3:return++b,[3,1];case 4:return[2]}})};b.prototype.map=function(b,c){for(var a=Array(this.length),d=0;d<this.length;++d)a[d]=b.call(c,this.data[d],d,this.data);return a};b.prototype.reduce=function(b,c){for(var a=
0;a<this.length;++a)c=b(c,this.data[a],a,this.data);return c};return b}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(c,e){function k(a){return function(b){return l([a,b])}}function l(a){if(b)throw new TypeError("Generator is already executing.");for(;m;)try{if(b=1,h&&(f=a[0]&2?h["return"]:a[0]?h["throw"]||((f=h["return"])&&f.call(h),0):h.next)&&!(f=f.call(h,a[1])).done)return f;if(h=0,f)a=[a[0]&2,f.value];switch(a[0]){case 0:case 1:f=a;break;case 4:return m.label++,
{value:a[1],done:!1};case 5:m.label++;h=a[1];a=[0];continue;case 7:a=m.ops.pop();m.trys.pop();continue;default:if(!(f=m.trys,f=0<f.length&&f[f.length-1])&&(6===a[0]||2===a[0])){m=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))m.label=a[1];else if(6===a[0]&&m.label<f[1])m.label=f[1],f=a;else if(f&&m.label<f[2])m.label=f[2],m.ops.push(a);else{f[2]&&m.ops.pop();m.trys.pop();continue}}a=e.call(c,m)}catch(g){a=[6,g],h=0}finally{b=f=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var m=
{label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},b,h,f,a;return a={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(c,e,k,l){function m(a,b,g,c){c=c||d;for(var f=Math.max(0,c.last-10),h=f;h<g;++h)if(a[h]===b)return c.last=h;g=Math.min(f,g);for(h=0;h<g;++h)if(a[h]===b)return c.last=h;return-1}
function b(a,b){return-1===a.indexOf(b)}function h(a,b,d){return!a.some(b.bind(null,d))}function f(a){return a}Object.defineProperty(e,"__esModule",{value:!0});e.find=k.find;e.findIndex=k.findIndex;e.includes=k.includes;e.unique=function(a,b){return b?a.filter(function(a,d,g){return k.findIndex(g,b.bind(null,a))===d}):a.filter(function(a,b,d){return d.indexOf(a)===b})};e.equals=function(a,b,d){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(d)for(var g=0;g<a.length;g++){if(!d(a[g],b[g]))return!1}else for(g=
0;g<a.length;g++)if(a[g]!==b[g])return!1;return!0};e.difference=function(a,d,g){var c;g?(c=d.filter(h.bind(null,a,g)),a=a.filter(h.bind(null,d,g))):(c=d.filter(b.bind(null,a)),a=a.filter(b.bind(null,d)));return{added:c,removed:a}};e.intersect=function(a,b,d){return a&&b?d?a.filter(function(a){return-1<k.findIndex(b,function(b){return d(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};var a=!!Array.prototype.fill;e.constant=function(b,d){if(a)return Array(b).fill(d);for(var g=Array(b),c=0;c<
b;c++)g[c]=d;return g};e.range=function(a,b){void 0===b&&(b=a,a=0);for(var d=Array(b-a),g=a;g<b;g++)d[g-a]=g;return d};e.binaryIndexOf=function(a,b,d){for(var g=a.length,c=0,f=g-1;c<f;){var h=c+Math.floor((f-c)/2);b>a[h]?c=h+1:f=h}f=a[c];return d?b>=a[g-1]?-1:f===b?c:c-1:f===b?c:-1};e.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};c=function(){return function(){this.last=0}}();e.PositionHint=c;var d=new c;e.indexOf=m;e.removeUnordered=function(a,b,d,g){var c=null==
d?a.length:d;g=m(a,b,c,g);if(-1!==g)return a[g]=a[c-1],null==d&&a.pop(),b};var g=new Set;e.removeUnorderedMany=function(a,b,c,f,h,e){void 0===c&&(c=a.length);void 0===f&&(f=b.length);if(0===f||0===c)return c;g.clear();for(var q=0;q<f;++q)g.add(b[q]);h=h||d;for(q=b=Math.max(0,h.last-10);q<c;++q)if(g.has(a[q])&&(e&&e.push(a[q]),g.delete(a[q]),a[q]=a[c-1],--c,--q,0===g.size||0===c))return g.clear(),c;for(q=0;q<b;++q)if(g.has(a[q])&&(e&&e.push(a[q]),g.delete(a[q]),a[q]=a[c-1],--c,--q,0===g.size||0===
c))return g.clear(),c;g.clear();return c};e.pickRandom=function(a,b,d){var c=a.length;if(b>=c)return a.slice(0);d=(q.seed=d)?function(){return q.getFloat()}:Math.random;for(var g=new Set,f=[];f.length<b;){var h=Math.floor(d()*c);g.has(h)||(g.add(h),f.push(a[h]))}return f};e.shuffle=function(a,b){b=(q.seed=b)?function(){return q.getFloat()}:Math.random;for(var d=a.length-1;0<d;d--){var c=Math.floor(b()*(d+1)),g=a[d];a[d]=a[c];a[c]=g}return a};var q=new l;e.keysOfMap=function(a){var b=Array(a.size),
d=0;a.forEach(function(a,c){return b[d++]=c});return b};e.keysOfSet=function(a,b){void 0===b&&(b=f);var d=Array(a.size),c=0;a.forEach(function(a){return d[c++]=b(a)});return d};e.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};e.remove=function(a,b){var d=a.indexOf(b);return-1!==d?(a.splice(d,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(c,e){return function(){function c(c){void 0===
c&&(c=1);this._seed=c}Object.defineProperty(c.prototype,"seed",{set:function(e){this._seed=null==e?Math.random()*c._m:e},enumerable:!0,configurable:!0});c.prototype.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};c.prototype.getFloat=function(){return this.getInt()/(c._m-1)};c.prototype.getIntRange=function(c,e){return Math.round(this.getFloatRange(c,e))};c.prototype.getFloatRange=function(e,k){k-=e;var b=this.getInt()/c._m;return e+Math.floor(b*k)};c._m=2147483647;c._a=48271;c._c=
0;return c}()})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],function(c,e,k){var l;(function(c){function b(b,a,d,c){for(var g=a,f=d>>>1,h=b[g-1];a<=f;){a=g<<1;a<d&&0>c(b[a-1],b[a])&&++a;var e=b[a-1];if(0>=c(e,h))break;b[g-1]=e;g=a}b[g-1]=h}function h(b,a){return b<a?-1:b>a?1:0}c.sort=function(c,a,d,g){void 0===a&&(a=0);void 0===d&&(d=c.length);void 0===g&&(g=h);for(var f=d>>>1;f>a;f--)b(c,f,d,g);for(var e=a+1,f=d-1;f>a;f--)d=c[a],c[a]=c[f],c[f]=d,b(c,
e,f,g)};c.iterableSort=function(c,a,d,g){var f,e,n;return k(this,function(q){switch(q.label){case 0:void 0===a&&(a=0),void 0===d&&(d=c.length),void 0===g&&(g=h),f=d>>>1,q.label=1;case 1:if(!(f>a))return[3,4];b(c,f,d,g);return[4];case 2:q.sent(),q.label=3;case 3:return f--,[3,1];case 4:e=a+1,f=d-1,q.label=5;case 5:if(!(f>a))return[3,8];n=c[a];c[a]=c[f];c[f]=n;b(c,e,f,g);return[4];case 6:q.sent(),q.label=7;case 7:return f--,[3,5];case 8:return[2]}})}})(l||(l={}));return l})},"esri/core/watchUtils":function(){define("require exports ./events ./has ./lang ./promiseUtils".split(" "),
function(c,e,k,l,m,b){function h(a,b,d,c,g){g=a.watch(b,function(b,g,f,h){d&&!d(b)||c.call(a,b,g,f,h)},g);if(Array.isArray(b))for(var f=0;f<b.length;f++){var h=a.get(b[f]);d&&d(h)&&c.call(a,h,h,b,a)}else h=a.get(b),d&&d(h)&&c.call(a,h,h,b,a);return g}function f(a,d,c,g,f){function e(){t&&(t.remove(),t=null)}var q="function"===typeof g?g:null,n="object"===typeof g?g:null;"boolean"===typeof g&&(f=g);var k=!1,t,m=b.createDeferred(e);b.onAbort(n,function(){e();m.reject(b.createAbortError())});g=l("esri-native-promise")?
{then:m.promise.then.bind(m.promise),catch:m.promise.catch.bind(m.promise),remove:e}:{cancel:m.cancel,then:m.promise.then.bind(m.promise),catch:m.promise.catch.bind(m.promise),remove:e};Object.freeze(g);t=h(a,d,c,function(b,d,c,g){k=!0;e();q&&q.call(a,b,d,c,g);m.resolve({value:b,oldValue:d,propertyName:c,target:g})},f);k&&e();return g}function a(a){return!!a}function d(a){return!a}function g(a){return!0===a}function q(a){return!1===a}function r(a){return void 0!==a}function n(a){return void 0===a}
function w(a,b,d,c){var g=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,d,c);for(c=0;c<g.length;c++){var f=g[c].trim().replace(t,"$1"),h=a.get(f);d.call(a,h,h,f,a)}return b}Object.defineProperty(e,"__esModule",{value:!0});e.whenValidOnce=f;var t=/\?(\.|$)/g;e.init=w;e.watch=function(a,b,d,c){return a.watch(b,d,c)};e.once=function(a,b,d,c){return f(a,b,null,d,c)};e.when=function(b,d,c,g){return h(b,d,a,c,g)};e.whenOnce=function(b,d,c,g){return f(b,d,a,c,g)};e.whenNot=function(a,
b,c,g){return h(a,b,d,c,g)};e.whenNotOnce=function(a,b,c,g){return f(a,b,d,c,g)};e.whenTrue=function(a,b,d,c){return h(a,b,g,d,c)};e.whenTrueOnce=function(a,b,d,c){return f(a,b,g,d,c)};e.whenFalse=function(a,b,d,c){return h(a,b,q,d,c)};e.whenFalseOnce=function(a,b,d,c){return f(a,b,q,d,c)};e.whenDefined=function(a,b,d,c){return h(a,b,r,d,c)};e.whenDefinedOnce=function(a,b,d,c){return f(a,b,r,d,c)};e.whenUndefined=function(a,b,d,c){return h(a,b,n,d,c)};e.whenUndefinedOnce=function(a,b,d,c){return f(a,
b,n,d,c)};e.whenEqual=function(a,b,d,c,g){return h(a,b,function(a){return m.equals(d,a)},c,g)};e.whenEqualOnce=function(a,b,d,c,g){return f(a,b,function(a){return m.equals(d,a)},c,g)};e.pausable=function(a,b,d,c){var g=!1,f=a.watch(b,function(b,c,f,h){g||d.call(a,b,c,f,h)},c);return{remove:function(){f.remove()},pause:function(){g=!0},resume:function(){g=!1}}};e.on=function(a,b,d,c,g,f,h){function e(b){var c=q[b];c&&(f&&f(c.target,b,a,d),c.handle.remove(),delete q[b])}var q={},n=w(a,b,function(b,
f,h){e(h);k.isEventTarget(b)&&(q[h]={handle:k.on(b,d,c),target:b},g&&g(b,h,a,d))},h);return{remove:function(){n.remove();for(var a in q)e(a)}}}})},"esri/views/support/debugFlags":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(c,e,k,l,m,b){return new (function(c){function f(){var a=null!==c&&c.apply(this,arguments)||this;a.SCHEDULER_LOG_SLOW_TASKS=!1;return a}
l(f,c);k([b.property()],f.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return f=k([b.subclass("esri.views.support.DebugFlags")],f)}(b.declared(m)))})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(c,e,k,l){var m=arguments.length,b=3>m?e:null===l?l=Object.getOwnPropertyDescriptor(e,k):l,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)b=Reflect.decorate(c,e,k,l);else for(var f=c.length-1;0<=f;f--)if(h=c[f])b=(3>m?h(b):3<m?h(e,k,b):h(e,k))||
b;return 3<m&&b&&Object.defineProperty(e,k,b),b}})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(c,e){return function(c,e){c.__bases__=e.__bases__}})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(c,e,k,l,m,b,h){e=e.default;c.before(function(a,b){c.hasMixin(a,f)&&l.processPrototype(b)});
c.after(function(a){c.hasMixin(a,f)&&(l.processClass(a),Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var f=c(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===
f)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{value:new e(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}if(h.interceptor)h.interceptor.onInstanceConstruct(this)},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&
(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(a){console.warn(a.stack)}else if(b.removeTarget(this),this.__accessor__.destroy(),h.interceptor)h.interceptor.onInstanceDestroy(this)},get:function(a){return k.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?
this.__accessor__.keys():[]},set:function(a,b){m.set(this,a,b);return this},watch:function(a,d,c){return b.watch(this,a,d,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,
b)}});return f})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare","./deprecate","./Logger"],function(c,e,k,l,m){function b(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return h([this].concat(a),b)}function h(c,h){c&&!Array.isArray(c)&&"function"!==typeof c&&(h=c,c=null);"function"===typeof c?c=[c]:c||(c=[]);1<c.length&&l.deprecated(f,"Extending multiple classes with Accessor",{version:"4.13",see:"https://arcg.is/T8fr4"});h=h||{};var g,
e;g=0;for(e=a.length;g<e;g++)a[g](c,h);c=k(c,h);c.createSubclass=b;var q=c.prototype.isInstanceOf;c.prototype.isInstanceOf=function(){l.deprecatedFunction(f,"isInstanceOf",{moduleName:"Accessor",replacement:"Use `instanceof` or check for property presence `'property' in instance`",version:"4.13"});return q.apply(this,arguments)};g=0;for(e=d.length;g<e;g++)d[g](c);return c}var f=m.getLogger("esri.core.Accessor"),a=[],d=[];(function(b){b.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,
b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var d=a.length-1;0<=d;d--)if(a[d].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};b.safeMixin=function(a,b){return k.safeMixin(a,b)};b.before=function(b){a.push(b)};b.after=function(a){d.push(a)}})(h||(h={}));return h})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(c,e,k){function l(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function m(a,
b){for(var d=[],c=[{cls:0,refs:[]}],g={},f=1,h=a.length,e=0,q,n,k,m,t;e<h;++e){(q=a[e])?"[object Function]"!=v.call(q)&&l("mixin #"+e+" is not a callable constructor.",b):l("mixin #"+e+" is unknown. Did you use dojo.require to pull it in?",b);n=q._meta?q._meta.bases:[q];k=0;for(q=n.length-1;0<=q;--q)m=n[q].prototype,m.hasOwnProperty("declaredClass")||(m.declaredClass="uniqName_"+B++),m=m.declaredClass,g.hasOwnProperty(m)||(g[m]={count:0,refs:[],cls:n[q]},++f),m=g[m],k&&k!==m&&(m.refs.push(k),++k.count),
k=m;++k.count;c[0].refs.push(k)}for(;c.length;){k=c.pop();d.push(k.cls);for(--f;t=k.refs,1==t.length;){k=t[0];if(!k||--k.count){k=0;break}d.push(k.cls);--f}if(k)for(e=0,h=t.length;e<h;++e)k=t[e],--k.count||c.push(k)}f&&l("can't build consistent linearization",b);q=a[0];d[0]=q?q._meta&&q===d[d.length-q._meta.bases.length]?q._meta.bases.length:1:0;return d}function b(a,b,d,c){var g,f,h,e,q,n,k=this._inherited=this._inherited||{};"string"===typeof a&&(g=a,a=b,b=d,d=c);if("function"===typeof a)h=a,a=
b,b=d;else try{h=a.callee}catch(N){if(N instanceof TypeError)l("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw N;}(g=g||h.nom)||l("can't deduce a name to call inherited()",this.declaredClass);d=c=0;e=this.constructor._meta;c=e.bases;n=k.p;if("constructor"!=g){if(k.c!==h&&(n=0,q=c[0],e=q._meta,e.hidden[g]!==h)){(f=e.chains)&&"string"==typeof f[g]&&l("calling chained method with inherited: "+g,this.declaredClass);do if(e=q._meta,f=
q.prototype,e&&(f[g]===h&&f.hasOwnProperty(g)||e.hidden[g]===h))break;while(q=c[++n]);n=q?n:-1}if(q=c[++n])if(f=q.prototype,q._meta&&f.hasOwnProperty(g))d=f[g];else{h=A[g];do if(f=q.prototype,(d=f[g])&&(q._meta?f.hasOwnProperty(g):d!==h))break;while(q=c[++n])}d=q&&d||A[g]}else{if(k.c!==h&&(n=0,(e=c[0]._meta)&&e.ctor!==h)){for((f=e.chains)&&"manual"===f.constructor||l("calling chained constructor with inherited",this.declaredClass);(q=c[++n])&&(!(e=q._meta)||e.ctor!==h););n=q?n:-1}for(;(q=c[++n])&&
!(d=(e=q._meta)?e.ctor:q););d=q&&d}k.c=d;k.p=n;if(d)return!0===b?d:d.apply(this,b||a)}function h(a,b,d){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,d,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function f(a,b,d,c){var g=this.getInherited(a,b,d);if(g)return g.apply(this,c||d||b||a)}function a(a){for(var b=this.constructor._meta.bases,d=0,c=b.length;d<c;++d)if(b[d]===a)return!0;return this instanceof a}function d(a,b){for(var d in b)"constructor"!=
d&&b.hasOwnProperty(d)&&(a[d]=b[d])}function g(a){x.safeMixin(this.prototype,a);return this}function q(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return x([this].concat(a),b)}function r(a,b){return function(){var d=arguments,c=d,g=d[0],f,h;h=a.length;var e;if(!(this instanceof d.callee))return z(d);if(b&&(g&&g.preamble||this.preamble))for(e=Array(a.length),e[0]=d,f=0;;){(g=d[0])&&(g=g.preamble)&&(d=g.apply(this,d)||d);g=a[f].prototype;(g=g.hasOwnProperty("preamble")&&
g.preamble)&&(d=g.apply(this,d)||d);if(++f==h)break;e[f]=d}for(f=h-1;0<=f;--f)g=a[f],(g=(h=g._meta)?h.ctor:g)&&g.apply(this,e?e[f]:d);(g=this.postscript)&&g.apply(this,c)}}function n(a,b){return function(){var d=arguments,c=d,g=d[0];if(!(this instanceof d.callee))return z(d);b&&(g&&(g=g.preamble)&&(c=g.apply(this,c)||c),(g=this.preamble)&&g.apply(this,c));a&&a.apply(this,d);(g=this.postscript)&&g.apply(this,d)}}function w(a){return function(){var b=arguments,d=0,c,g;if(!(this instanceof b.callee))return z(b);
for(;c=a[d];++d)if(c=(g=c._meta)?g.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,b)}}function t(a,b,d){return function(){var c,g,f=0,h=1;d&&(f=b.length-1,h=-1);for(;c=b[f];f+=h)g=c._meta,(c=(g?g.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function u(a){y.prototype=a.prototype;a=new y;y.prototype=null;return a}function z(a){var b=a.callee,d=u(b);b.apply(d,a);return d}function x(c,f,y){"string"!=typeof c&&(y=f,f=c,c="");y=y||{};var z,B,D,H,J,C,I,M=1,N=f;"[object Array]"==v.call(f)?
(C=m(f,c),D=C[0],M=C.length-D,f=C[M]):(C=[0],f?"[object Function]"==v.call(f)?(D=f._meta,C=C.concat(D?D.bases:f)):l("base class is not a callable constructor.",c):null!==f&&l("unknown base class. Did you use dojo.require to pull it in?",c));if(f)for(B=M-1;;--B){z=u(f);if(!B)break;D=C[B];(D._meta?d:p)(z,D.prototype);H=e("csp-restrictions")?function(){}:new Function;H.superclass=f;H.prototype=z;f=z.constructor=H}else z={};x.safeMixin(z,y);D=y.constructor;D!==A.constructor&&(D.nom="constructor",z.constructor=
D);for(B=M-1;B;--B)(D=C[B]._meta)&&D.chains&&(I=p(I||{},D.chains));z["-chains-"]&&(I=p(I||{},z["-chains-"]));f&&f.prototype&&f.prototype["-chains-"]&&(I=p(I||{},f.prototype["-chains-"]));D=!I||!I.hasOwnProperty("constructor");C[0]=H=I&&"manual"===I.constructor?w(C):1==C.length?n(y.constructor,D):r(C,D);H._meta={bases:C,hidden:y,chains:I,parents:N,ctor:y.constructor};H.superclass=f&&f.prototype;H.extend=g;H.createSubclass=q;H.prototype=z;z.constructor=H;z.getInherited=h;z.isInstanceOf=a;z.inherited=
F;z.__inherited=b;c&&(z.declaredClass=c,k.setObject(c,H));if(I)for(J in I)z[J]&&"string"==typeof I[J]&&"constructor"!=J&&(D=z[J]=t(J,C,"after"===I[J]),D.nom=J);return H}var p=k.mixin,A=Object.prototype,v=A.toString,y,B=0;y=e("csp-restrictions")?function(){}:new Function;var F=c.config.isDebug?f:b;c.safeMixin=x.safeMixin=function(a,b){var d,c;for(d in b)c=b[d],c===A[d]&&d in A||"constructor"==d||("[object Function]"==v.call(c)&&(c.nom=d),a[d]=c);return a};return c.declare=x})},"esri/core/deprecate":function(){define(["require",
"exports","./has"],function(c,e,k){function l(b,c,f){void 0===f&&(f={});if(k("esri-deprecation-warnings")){var a=f.replacement,d=f.version,g=f.see;f=f.warnOnce;a&&(c+="\n\t\ud83d\udee0\ufe0f Replacement: "+a);d&&(c+="\n\t\u2699\ufe0f Version: "+d);g&&(c+="\n\t\ud83d\udd17 See "+g+" for more details.");a=c;d=f;void 0===d&&(d=!1);d&&m.has(a)||(d&&m.add(a),b.warn("\ud83d\uded1 DEPRECATED - "+a))}}Object.defineProperty(e,"__esModule",{value:!0});var m=new Set;e.deprecatedModule=function(b,c,f){void 0===
f&&(f={});k("esri-deprecation-warnings")&&l(b,"Module: "+c,f)};e.deprecatedFunction=function(b,c,f){void 0===f&&(f={});if(k("esri-deprecation-warnings")){var a=f.moduleName;l(b,"Function: "+((a?a+"::":"")+c+"()"),f)}};e.deprecatedProperty=function(b,c,f){void 0===f&&(f={});if(k("esri-deprecation-warnings")){var a=f.moduleName;l(b,"Property: "+((a?a+"::":"")+c),f)}};e.deprecated=l})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),
function(c,e,k,l,m,b,h,f,a){Object.defineProperty(e,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.Properties");c=function(){function b(b){this.host=b;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new a.Store;b=this.host.constructor.__accessorMetadata__;this.metadatas=b.properties;this.autoDestroy=b.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;h.instanceCreated(this.host,this.metadatas)};
b.prototype.constructed=function(){this.lifecycle=2};b.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<d.length;b++){var c=d[b],g=a[c];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,c);a[c]=null}}if(this.autoDestroy)for(c in this.metadatas)(a=this.internalGet(c))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[c].nonNullable||this.internalSet(c,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==
this.lifecycle},enumerable:!0,configurable:!0});b.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};b.prototype.get=function(a){var b=this.metadatas[a],d=b.get;return!this.store.has(a)||d&&this.dirties[a]?d?(b=d.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};b.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};b.prototype.getterComputed=function(a,b){if(this.store.has(a)&&
!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};b.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":f.idToName(b)};b.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};b.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};b.prototype.internalSet=
function(a,b){if(this.metadatas[a]){var d=this.initialized?this._origin:0,c=this.store.get(a);l.equals(b,c)&&d===this.store.originOf(a)&&this.store.has(a,d)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,d),this.propertyCommitted(a))}};b.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden=
{});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,g=b.value;d.release(b);if(!c)return;b=g}this.overridden[a]=!0;this.internalSet(a,b)}}};b.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var g=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,f=b.value;d.release(b);if(!c)return;b=f}g?g.call(this.host,b):this.internalSet(a,b)}}};b.prototype.setDefaultOrigin=function(a){this._origin=f.nameToId(a)};
b.prototype.getDefaultOrigin=function(){return f.idToName(this._origin)};b.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var d=0;d<b.length;d++)b[d].propertyInvalidated(this,a)};b.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var d=0;d<b.length;d++)b[d].propertyCommitted(this,a)};b.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var d=this.cursors[a];
d||(this.cursors[a]=d=[]);d.push(b)};b.prototype.removeCursor=function(a,b){var d=this.cursors[a];this.cursors[a]&&(d.splice(d.indexOf(b),1),0===d.length&&(this.cursors[a]=null))};b.prototype.cast=function(a,b){var c=d.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return b}();k=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var d=new b(k);e.default=c})},"esri/core/ObjectPool":function(){define(["require",
"exports"],function(c,e){var k=function(){return function(){}}();return function(){function c(c,b,h,f,a){void 0===f&&(f=1);void 0===a&&(a=0);this.classConstructor=c;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=h;this.growthSize=f;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(a);this._initialSize=a;if(this.classConstructor)for(c=0;c<a;c++)this._pool[c]=new this.classConstructor;this.growthSize=Math.max(f,
1)}c.prototype.destroy=function(){this.prune(0)};c.prototype.acquire=function(){var e;e=this.classConstructor||k;if(c.test.disabled)e=new e;else{if(0===this._pool.length)for(var b=this.growthSize,h=0;h<b;h++)this._pool[h]=new e;e=this._pool.pop()}if(this.acquireFunction){for(h=arguments.length;0<h;h--)arguments[h]=arguments[h-1];arguments[0]=e;arguments.length++;this.acquireFunction.apply(this,arguments)}else e&&e.acquire&&"function"===typeof e.acquire&&e.acquire.apply(e,arguments);return e};c.prototype.release=
function(e){e&&!c.test.disabled&&(this.releaseFunction?this.releaseFunction(e):e&&e.release&&"function"===typeof e.release&&e.release(),this._pool.push(e))};c.prototype.prune=function(c){void 0===c&&(c=this._initialSize);if(!(c>=this._pool.length)){for(var b=c;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=c}};c.prototype._dispose=function(c){c.dispose&&"function"===typeof c.dispose&&c.dispose()};c.prototype._constructorAcquireFunction=function(){this.classConstructor&&this.classConstructor.call.apply(this.classConstructor,
arguments)};c.test={disabled:!1};return c}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=[k.default,l.default,m.default];e.processPrototypeMetadatas=function(c,f){for(var a=0;a<b.length;a++){var d=b[a];if(d.processPrototypePropertyMetadata)for(var g in c)d.processPrototypePropertyMetadata(g,
c[g],c,f)}};e.processClassMetadatas=function(c,f){for(var a=0;a<b.length;a++){var d=b[a];if(d.processClassPropertyMetadata)for(var g in c)d.processClassPropertyMetadata(g,c[g],c,f)}};e.instanceCreated=function(c,f){for(var a=Object.getOwnPropertyNames(f),d=0;d<b.length;d++){var g=b[d];g.instanceCreated&&g.instanceCreated(c,f,a)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(c,e,k,l,m,b,h){function f(a,
d,c){var g=b.getProperties(a);return h.wire(a,c.aliasOf,function(){g.propertyInvalidated(d)})}Object.defineProperty(e,"__esModule",{value:!0});e.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,f){var d=b.aliasOf;if(d&&(a=d.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var g;b.get=function(){var a=l.default(this,d);if("function"===typeof a){g||(g=d.split(".").slice(0,-1).join("."));var b=l.default(this,g);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return m.default(this,
d,a)})}},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var g=c[d],e=b[g];e.aliasOf&&f(a,g,e)}}};e.default=e.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(c,e,k){function l(b,a,d){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=d.getItemAt||Array.isArray(d)){var c=parseInt(b,10);if(!isNaN(c))return Array.isArray(d)?d[c]:d.getItemAt(c)}c=k.getProperties(d);return a?k.isPropertyDeclared(c,b)?c.get(b):d[b]:k.isPropertyDeclared(c,
b)?c.internalGet(b):d[b]}function m(b,a,d,c){if(null==b)return b;if((b=l(a[c],d,b))||!(c<a.length-1))return c===a.length-1?b:m(b,a,d,c+1)}function b(b,a,d,c){void 0===d&&(d=!1);void 0===c&&(c=0);return"string"===typeof a&&-1===a.indexOf(".")?l(a,d,b):m(b,k.pathToArray(a),d,c)}function h(c,a){return b(c,a,!0)}Object.defineProperty(e,"__esModule",{value:!0});e.valueOf=b;e.get=h;e.exists=function(c,a){return void 0!==b(a,c,!0)};e.default=h})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../handleUtils","../lang"],function(c,e,k,l){function m(b,a,d){return a?Object.keys(a).reduce(function(b,c){var g=null,f="merge";d&&(g=d.path?d.path+"."+c:c,f=d.policy(g));if("replace"===f)return b[c]=a[c],b;if(void 0===b[c])return b[c]=l.clone(a[c]),b;var e=b[c],f=a[c];if(e===f)return b;if(Array.isArray(f)||Array.isArray(b))e=e?Array.isArray(e)?b[c]=e.concat():b[c]=[e]:b[c]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(function(a){-1===e.indexOf(a)&&e.push(a)}));else if(f&&"object"===typeof f)if(d){var h=
d.path;d.path=g;b[c]=m(e,f,d);d.path=h}else b[c]=m(e,f,null);else if(!b.hasOwnProperty(c)||a.hasOwnProperty(c))b[c]=f;return b},b||{}):b}function b(b){return Array.isArray(b)?b:b.split(".")}function h(b){if(Array.isArray(b)||-1<b.indexOf(",")){b=Array.isArray(b)?b:b.split(",");for(var a=0;a<b.length;a++)b[a]=b[a].trim();return 1===b.length?b[0]:b}return b.trim()}Object.defineProperty(e,"__esModule",{value:!0});e.getProperties=function(b){return b?b.__accessor__?b.__accessor__:b.propertyInvalidated?
b:null:null};e.isPropertyDeclared=function(b,a){return b&&b.metadatas&&null!=b.metadatas[a]};e.merge=function(b,a,d){return d?m(b,a,{policy:d,path:""}):m(b,a,null)};e.pathToStringOrArray=function(c){return!c||"string"===typeof c&&-1===c.indexOf(".")?c:b(c)};e.pathToArray=b;e.splitPath=h;e.parseConditionalPath=function(c){if(-1===c.indexOf("?"))return null;c=b(c);for(var a=Array(c.length),d=0;d<c.length;d++){var g=c[d];a[d]="?"===g[g.length-1];a[d]&&(c[d]=g.slice(0,-1))}return{fullPath:c.join("."),
conditional:a}};e.parse=function(b,a,d,c){a=h(a);return Array.isArray(a)?(a=a.map(function(a){return c(b,a.trim(),d)}),k.handlesGroup(a)):c(b,a.trim(),d)};e.once=function(b){var a=!1;return function(){a||(a=!0,b())}}})},"esri/core/handleUtils":function(){define(["require","exports","./maybe","./accessorSupport/utils"],function(c,e,k,l){function m(b){return{remove:l.once(b||function(){})}}Object.defineProperty(e,"__esModule",{value:!0});e.handlesGroup=function(b){return m(function(){return b.forEach(function(b){return k.isSome(b)&&
b.remove()})})};e.makeHandle=m;e.refHandle=function(b){return m(function(){var c=b();k.isSome(c)&&c.remove()})};e.destroyHandle=function(b){return m(function(){return b.destroy()})};e.timeoutHandle=function(b,c){var f=setTimeout(b,c);return{remove:function(){return clearTimeout(f)}}}})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(c,e,k,l,m){function b(c,f,a){if(c&&f)if("object"===typeof f){a=0;for(var d=Object.getOwnPropertyNames(f);a<
d.length;a++){var g=d[a];b(c,g,f[g])}}else"_"!==f[0]&&(-1!==f.indexOf(".")?(f=f.split("."),g=f.splice(f.length-1,1)[0],b(m.default(c,f),g,a)):c[f]=a)}Object.defineProperty(e,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.set");e.set=b;e.default=b})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(c,e,k){function l(b,c,e){c=k.splitPath(c);if(Array.isArray(c)){for(var d=[],g=0;g<c.length;g++)d.push((new m(c[g],e)).install(b));return new f(d)}b=
(new m(c,e)).install(b);return new a(b)}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=k.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=k.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?
new h(this,a):new b(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),b=function(){function a(a,b){this.binding=a;this.target=b;k.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(k.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){k.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&
this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=k.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,
this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var d=this.stack,c=d[d.length-1];c.properties!==a&&c.propertyName!==b;)c.properties.removeCursor(c.propertyName,this),d.pop(),
c=d[d.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=k.getProperties(b))&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};
return a}(),f=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),a=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();e.create=function(b,c){b=k.splitPath(b);if(Array.isArray(b)){for(var d=[],g=0;g<b.length;g++)d.push(new m(b[g],c));return function(a){for(var b=[],c=0;c<d.length;c++)b[c]=d[c].install(a);return new f(b)}}var e=
new m(b,c);return function(b){return new a(e.install(b))}};e.wire=l;e.default=l})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.extensions.computedProperty");e.ComputedPropertyExtension={processClassPropertyMetadata:function(c,f,a,d){f.dependsOn&&f.dependsOn.length&&(f.wire=b.create(f.dependsOn,
function(a){return m.getProperties(a).propertyInvalidated(c)}))},instanceCreated:function(b,c,a){for(var d=0;d<a.length;d++){var g=c[a[d]];g.wire&&g.wire(b)}}};e.default=e.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(c,e,k,l,m,b,h){function f(a,b,c){var d=
a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===b||b in a)&&(d=a);return d}Object.defineProperty(e,"__esModule",{value:!0});e.originSpecificReadPropertyDefinition=function(a,b){return f(a,"read",b)};e.originSpecificWritePropertyDefinition=function(a,b){return f(a,"write",b)};e.originSpecificPropertyDefinition=f;e.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,d){if(b.process(d)){l.process(d);for(var c=d.type,f=0;Array.isArray(c)&&!k.isOneOf(c);)c=
c[0],f++;if(d.json.origins)for(var e in d.json.origins){var n=d.json.origins[e];m.create(c,f,a,n);h.create(c,f,a,n)}m.create(c,f,a,d.json);h.create(c,f,a,d.json)}}};e.default=e.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(c,e,k,l){function m(a){return null==a?a:new Date(a)}function b(a){return null==a?a:!!a}function h(a){return null==a?a:a.toString()}function f(a){return null==a?a:"number"===
typeof a&&isNaN(a)?0:parseFloat(a)}function a(a){return null==a?a:Math.round(parseFloat(a))}function d(a){return a&&a.constructor&&void 0!==a.constructor._meta}function g(a,b){return null!=b&&a&&!(b instanceof a)}function q(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function r(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function n(a,b){if(!b||!b.constructor||!q(b.constructor))return w(a,b)?b:new a(b);
var d=r(a.prototype.itemType),c=r(b.constructor.prototype.itemType);if(!d)return b;if(!c)return new a(b);if(d===c)return b;if((c=c._meta&&c._meta.bases)&&-1!==c.indexOf(d))return new a(b);w(a,b);return b}function w(a,b){return d(b)?(E.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+u(a)+"'"),!0):!1}function t(a,b){return null==b?b:q(a)?n(a,b):g(a,b)?w(a,b)?b:new a(b):b}function u(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}
function z(d){switch(d){case Number:return f;case G:return a;case Boolean:return b;case String:return h;case Date:return m;default:return t.bind(null,d)}}function x(a,b){var d=z(a);return 1===arguments.length?d:d(b)}function p(a,b,d){return 1===arguments.length?p.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,d)}):[a(b,d)]:b}function A(a,b,d){return 0!==b&&Array.isArray(d)?d.map(function(d){return A(a,b-1,d)}):a(d)}function v(a,b,d){if(2===arguments.length)return v.bind(null,a,b);if(!d)return d;
d=A(a,b,d);for(var c=b,g=d;0<c&&Array.isArray(g);)c--,g=g[0];if(void 0!==g)for(g=0;g<c;g++)d=[d];return d}function y(a,b){if(2===arguments.length)return y(a).call(null,b);for(var d=new Set,c=a.filter(function(a){return"function"!==typeof a}),f=a.filter(function(a){return"function"===typeof a}),e=0;e<a.length;e++){var h=a[e];"string"!==typeof h&&"number"!==typeof h||d.add(h)}var n=null,q=null;return function(a,b){if(null==a)return a;var e=typeof a,h="string"===e||"number"===e;if(h&&(d.has(a)||f.some(function(a){return"string"===
e&&a===String||"number"===e&&a===Number}))||"object"===e&&f.some(function(b){return!g(a,b)}))return a;h&&c.length?(n||(n=c.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),E.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+n)):"object"===typeof a&&f.length?(q||(q=f.map(function(a){return u(a)}).join(", ")),E.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+q)):E.error("Accessor#set",
"'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function B(a,b){if(2===arguments.length)return B(a).call(null,b);var c={},f=[],e=[],h;for(h in a.typeMap){var n=a.typeMap[h];c[h]=x(n);f.push(u(n));e.push(h)}var q="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!g(a.base,b)||null==b)return b;var h=q(b)||a.defaultKeyValue,n=c[h];if(!n)return E.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+f.join("', '")+
"'")+", or a plain object that can autocast (having .type \x3d "+("'"+e.join("', '")+"'")+")"),null;if(!g(a.typeMap[h],b))return b;if("string"===typeof a.key&&!d(b)){var h={},k;for(k in b)k!==a.key&&(h[k]=b[k]);return n(h)}return n(b)}}function F(a){switch(a.type){case "native":return x(a.value);case "array":return p(F(a.value));case "one-of":return J(a);default:k.neverReached(a)}return null}function J(a){var b=null;return function(d,c){if(C(d,a))return d;null==b&&(b=I(a));E.error("Accessor#set",
"Invalid property value, value needs to be of type "+b);c&&(c.valid=!1);return null}}function I(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case G:return"integer";case Date:return"date";default:return u(a.value)}case "array":return"array of "+I(a.value);case "one-of":return a=a.values.map(function(a){return I(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:k.neverReached(a)}return"unknown"}function C(a,
b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case G:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!C(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return C(a,b)})}}Object.defineProperty(e,"__esModule",{value:!0});var E=l.getLogger("esri.core.Accessor");e.ensureDate=m;e.ensureBoolean=b;e.ensureString=
h;e.ensureNumber=f;e.ensureInteger=a;e.isClassedType=d;e.requiresType=g;e.ensureClass=t;e.ensureType=x;e.ensureArrayTyped=p;e.ensureArray=function(a,b){return 1===arguments.length?p(x.bind(null,a)):p(x.bind(null,a),b)};e.ensureNArrayTyped=v;e.ensureNArray=function(a,b,d){return 2===arguments.length?v(x.bind(null,a),b):v(x.bind(null,a),b,d)};e.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};e.ensureOneOf=
y;e.ensureOneOfType=B;var G=function(){return function(){}}();e.Integer=G;e.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};e.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:k.neverReachedSilent(a)}return!1};e.ensureLongFormType=F;e.default=x})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],
function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.neverReached=function(c){};e.neverReachedSilent=function(c){};e.typeCast=function(c){return function(){return c}};e.tuple=function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];return c}})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.process=function(c){if(c.json&&c.json.origins){var e=
c.json.origins,k={"web-document":["web-scene","web-map"]};c=function(b){if(e[b]){var c=e[b];k[b].forEach(function(a){e[a]=c});delete e[b]}};for(var b in k)c(b)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../Logger","../../../object","./type"],function(c,e,k,l,m){function b(b,c){if(1<c)return a(b,c);if(1===c)return d(b);if(g(b)){var f=d(b.prototype.itemType.Type);return function(a,d,c){return(a=f(a,d,c))?new b(a):a}}return h(b)}
function h(a){return a.prototype.read?function(b,d,c){if(null==b)return b;d=typeof b;if("object"!==d)r.error("Expected JSON value of type 'object' to deserialize type '"+a.prototype.declaredClass+"', but got '"+d+"'");else return d=new a,d.read(b,c),d}:a.fromJSON}function f(a,b,d,c){return 0!==c&&Array.isArray(b)?b.map(function(b){return f(a,b,d,c-1)}):a(b,null,d)}function a(a,b){a=h(a);var d=f.bind(null,a);return function(a,c,g){if(null==a)return a;a=d(a,g,b);c=b;for(g=a;0<c&&Array.isArray(g);)c--,
g=g[0];if(void 0!==g)for(g=0;g<c;g++)a=[a];return a}}function d(a){var b=h(a);return function(a,d,c){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,c)}):[b(a,null,c)]}}function g(a){return m.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?q(a.Type):!1:!1}function q(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||g(a))}Object.defineProperty(e,"__esModule",{value:!0});var r=k.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
e.create=function(a,d,c,g){(!g.read||!g.read.reader&&!1!==g.read.enabled)&&q(a)&&l.setDeepValue("read.reader",b(a,d),g)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.isCollection=function(c){return!!c&&c.prototype&&c.prototype.declaredClass&&0===c.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(c,e){function k(c){"boolean"===typeof c.read?c.read={enabled:c.read}:"function"===typeof c.read?c.read={enabled:!0,reader:c.read}:c.read&&"object"===typeof c.read&&void 0===c.read.enabled&&(c.read.enabled=!0)}function l(c){"boolean"===typeof c.write?c.write={enabled:c.write}:"function"===typeof c.write?c.write={enabled:!0,writer:c.write}:c.write&&"object"===typeof c.write&&void 0===c.write.enabled&&(c.write.enabled=!0)}Object.defineProperty(e,"__esModule",{value:!0});e.process=
function(c){c.json||(c.json={});k(c.json);l(c.json);if(c.json.origins)for(var b in c.json.origins)k(c.json.origins[b]),l(c.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(c,e,k,l){function m(a,c,f,e){k.setDeepValue(f,b(a,e),c)}function b(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:
Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function h(a,c,f,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return b(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[b(a,e)];k.setDeepValue(f,a,c)}function f(a,c,e){return 0!==e&&Array.isArray(a)?a.map(function(a){return f(a,c,e-1)}):b(a,c)}function a(a){return function(b,d,c,e){if(null===b)b=null;else{b=f(b,e,a);e=a;for(var g=b;0<e&&Array.isArray(g);)e--,g=g[0];if(void 0!==g)for(g=0;g<e;g++)b=[b]}k.setDeepValue(c,
b,d)}}Object.defineProperty(e,"__esModule",{value:!0});e.create=function(b,c,f,e){!e.write||e.write.writer||!1===e.write.enabled&&!e.write.overridePolicy||(1===c||l.isCollection(b)?e.write.writer=h:e.write.writer=1<c?a(c):m)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(c,e){function k(c){switch(c){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function l(c){switch(c){case 0:return"defaults";
case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}Object.defineProperty(e,"__esModule",{value:!0});e.nameToId=k;e.idToName=l;e.readableNameToId=function(c){return k(c)};e.idToReadableName=function(c){return l(c)};e.writableNameToId=function(c){return k(c)};e.idToWritableName=function(c){return l(c)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(c,e,k,l){Object.defineProperty(e,
"__esModule",{value:!0});c=function(){function c(){this._values=new Map}c.prototype.clone=function(b){var e=new c;this._values.forEach(function(c,a){b&&b.has(a)||e.set(a,l.clone(c))});return e};c.prototype.get=function(b){return this._values.get(b)};c.prototype.originOf=function(){return 6};c.prototype.keys=function(){return k.keysOfMap(this._values)};c.prototype.set=function(b,c){this._values.set(b,c)};c.prototype.delete=function(b){this._values.delete(b)};c.prototype.has=function(b){return this._values.has(b)};
c.prototype.forEach=function(b){this._values.forEach(b)};return c}();e.Store=c})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(c,e,k,l,m,b,h){function f(a,b){return function(d){d=+a(d);null!=b.step&&(d=Math.round(d/b.step)*b.step);null!=b.min&&(d=Math.max(b.min,d));null!=b.max&&(d=Math.min(b.max,d));return d}}function a(a,b){return null==b.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,
b):b.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,b):b.value}}Object.defineProperty(e,"__esModule",{value:!0});e.processPrototype=function(a){var d=a.declaredClass,c=a.properties||{},e;for(e in c){var h=c[e],w=typeof h;null==h?m.setPropertyMetadata(a,e,{value:h}):Array.isArray(h)?m.setPropertyMetadata(a,e,{type:[h[0]],value:null}):"object"===w?b.getProperties(h)||h instanceof Date?m.setPropertyMetadata(a,e,{type:h.constructor,value:h}):m.setPropertyMetadata(a,e,h):
"boolean"===w?m.setPropertyMetadata(a,e,{type:Boolean,value:h}):"string"===w?m.setPropertyMetadata(a,e,{type:String,value:h}):"number"===w?m.setPropertyMetadata(a,e,{type:Number,value:h}):"function"===w&&m.setPropertyMetadata(a,e,{type:h,value:null})}a=m.getPropertiesMetadata(a);for(e in a){c=a[e];w=c.type;h=c.types;if(!c.cast)if(w){h=c;var t=0,u=w;if(k.isLongFormType(w))w=k.ensureLongFormType(w);else{for(;Array.isArray(u)&&1===u.length&&"string"!==typeof u[0]&&"number"!==typeof u[0];)u=u[0],t++;
w=k.isOneOf(u)?0===t?k.ensureOneOf(u):k.ensureNArrayTyped(k.ensureOneOf(u),t):1===t?k.ensureArray(u):1<t?k.ensureNArray(u,t):w.from?w.from:k.ensureType(w)}h.cast=w}else h&&(Array.isArray(h)?c.cast=k.ensureArrayTyped(k.ensureOneOfType(h[0])):c.cast=k.ensureOneOfType(h));c.range&&(c.cast=f(c.cast,c.range))}l.processPrototypeMetadatas(a,d);return a};e.processClass=function(b){for(var d=b.prototype,c=d.declaredClass,f=b._meta.bases,e={},k=f.length-1;0<=k;k--)m.merge(e,m.getMetadata(f[k].prototype));var t=
e.properties;l.processClassMetadatas(t,c);Object.defineProperty(b,"__accessorMetadata__",{value:{properties:t,autoDestroy:!!e.autoDestroy}});for(var u={},c=function(b){var d=t[b];u[b]={enumerable:!0,configurable:!0,get:a(b,d),set:function(a){var c=this.__accessor__;if(!c)Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:a});else if(!Object.isFrozen(this)){if(c.initialized&&d.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+b+"' of "+this.declaredClass);
if(2===c.lifecycle&&d.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+b+"' of "+this.declaredClass);c.set(b,a)}}}},f=0,k=Object.getOwnPropertyNames(t);f<k.length;f++)c(k[f]);Object.defineProperties(b.prototype,u);if(e.parameters)for(b=0,c=Object.getOwnPropertyNames(e.parameters);b<c.length;b++)f=c[b],k=Object.getOwnPropertyDescriptor(d,f)||{value:d[f]},(k=h.autocastMethod(d,f,k))&&Object.defineProperty(d,f,k);return e}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports","./utils"],function(c,e,k){function l(a){return null!=a.__accessorMetadata__}function m(a){return l(a)&&null!=b(a).properties}function b(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function h(a){a=b(a);var d=a.properties;d||(d=a.properties={});return d}function f(a,d){var c=b(a);a=c.parameters;a||(a=c.parameters={});c=a[d];c||(c=[],a[d]=c);return c}function a(a){return g.test(a)?
"replace":"merge"}function d(b){return q.test(b)?a(b.slice(11)):"merge"}Object.defineProperty(e,"__esModule",{value:!0});e.hasMetadata=l;e.hasPropertiesMetadata=m;e.hasPropertyMetadata=function(a,b){return m(a)&&null!=h(a)[b]};e.hasParametersMetadata=function(a,d){return l(a)&&null!=b(a).parameters&&null!=b(a).parameters[d]};e.getMetadata=b;e.getPropertiesMetadata=h;e.getPropertyMetadata=function(a,b){a=h(a);var d=a[b];d||(d=a[b]={});return d};e.setPropertyMetadata=function(a,b,d){h(a)[b]=d};e.getParametersMetadata=
f;e.getParameterMetadata=function(a,b,d){var c=f(a,b)[d];c||(f(a,b)[d]=c={index:d});return c};e.merge=function(a,b){return k.merge(a,b,d)};e.mergeProperty=function(b,d){return k.merge(b,d,a)};var g=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,q=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define("require exports ../../deprecate ../../Logger ../ensureType ../metadata".split(" "),function(c,e,k,l,m,b){function h(b){var d="_meta"in b?m.ensureType(b):
b;return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b.push(d);return"number"===typeof b[2]?a.apply(this,b):f.apply(this,b)}}function f(a,d,c,g){b.getPropertyMetadata(a,d).cast=g}function a(a,d,c,g){k.deprecated(l.getLogger("esri.core.accessorSupport.decorators.cast"),"@cast decorator on method parameters is deprecated for compatibility with ES decorator spec",{version:"4.14",see:"https://arcg.is/vvbW8"});b.getParameterMetadata(a,d,c).cast=g}function d(a){return function(d,
c){b.getPropertyMetadata(d,a).cast=d[c]}}Object.defineProperty(e,"__esModule",{value:!0});var g=Object.prototype.toString;e.autocastMethod=function(a,d,c){if(b.hasParametersMetadata(a,d)){var g=b.getParametersMetadata(a,d).filter(function(a){return null!=a.cast});if(g.length){var f=c.value;c.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<g.length;b++){var d=g[b];a[d.index]=d.cast(a[d.index])}return f.apply(this,a)};return c}console.warn("Method "+a.declaredClass+
"::"+d+" is decorated with @cast but no parameters are decorated")}};e.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===g.call(a[0]))return h(a[0]);if(1===a.length&&"string"===typeof a[0])return d(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(c,e,k,l,m,b,h,f,a){function d(a){z.has(a)?
x.splice(x.indexOf(a),1):z.add(a);x.push(a);p||(p=b.schedule(q))}function g(a){if(!a.removed){var b=a.callback,d=a.path,c=a.oldValue,g=a.target,f=h.valueOf(g,a.propertyPath,!0);l.equals(c,f)||(a.oldValue=f,b.call(g,f,c,d,g))}}function q(){for(var a=10;p&&a--;){p=null;var b=x;x=u.acquire();z.clear();for(var d=u.acquire(),c=0,f=b;c<f.length;c++){var e=f[c],h=e.uid;g(e);h===e.uid&&e.removed&&d.push(e)}for(c=0;c<x.length;c++)e=x[c],e.removed&&(d.push(e),z.delete(e),x.splice(c,1),--c);for(c=0;c<d.length;c++)t.pool.release(d[c]);
u.release(b);u.release(d);A.forEach(function(a){return a()})}}function r(b,c,g){var e=f.parse(b,c,g,function(b,c,g){var k=h.valueOf(b,c,!0),q,n,v=a.wire(b,c,function(a,b){a.__accessor__.destroyed||q&&q.uid!==n?e.remove():(q||(q=t.pool.acquire(a,b,k,g),n=q.uid,k=null),d(q))});return{remove:f.once(function(){v.remove();q&&(q.uid!==n||q.removed||(q.removed=!0,d(q)),q=null);e=v=k=null})}});return e}function n(b,d,c){var g=f.parse(b,d,c,function(b,d,c){var f=h.valueOf(b,d,!0),e=!1;return a.wire(b,d,function(a,
b){if(a.__accessor__.destroyed)g.remove();else if(!e){e=!0;var d=h.valueOf(a,b,!0);l.equals(f,d)||c.call(a,d,f,b,a);f=h.valueOf(a,b,!0);e=!1}})});return g}function w(a,b,d,c){void 0===c&&(c=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:c?n(a,b,d):r(a,b,d)}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function a(b,d,c,g){this.target=b;this.path=d;this.oldValue=c;this.callback=g;this.uid=0;this.removed=!1;this.propertyPath=f.pathToStringOrArray(d);this.uid=
++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new m.ReentrantObjectPool(a,!0);a.uid=0;return a}(),u=new k,z=new Set,x=u.acquire(),p;e.dispatchTarget=function(a){for(var b=u.copy(x),d=0;d<b.length;d++){var c=b[d];c.target===a&&(g(c),z.delete(c),x.splice(x.indexOf(c),1))}};e.removeTarget=function(a){for(var b=0;b<x.length;b++){var d=x[b];d.target===a&&(d.removed=!0)}};e.dispatch=q;var A=new Set;
e.afterDispatch=function(a){A.add(a);return{remove:function(){A.delete(a)}}};e.watch=w;e.isValueInUse=function(a){return x.some(function(b){return b.oldValue===a})};e.default=w})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(c,e,k){function l(b){b.length=0}var m=Array.prototype.splice;c=function(){function c(b,a){void 0===b&&(b=50);void 0===a&&(a=50);this._pool=new k(Array,!1,l,a,b)}c.prototype.acquire=function(){return this._pool.acquire()};c.prototype.copy=
function(b){var a=this.acquire();b.unshift(0,0);m.apply(a,b);b.splice(0,2);return a};c.prototype.release=function(b){this._pool.release(b)};c.prototype.prune=function(){this._pool.prune(0)};c.acquire=function(){return b.acquire()};c.copy=function(c){return b.copy(c)};c.release=function(c){return b.release(c)};c.prune=function(){b.prune()};return c}();var b=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(c,
e,k,l){Object.defineProperty(e,"__esModule",{value:!0});c=function(c){function b(){var b=null!==c&&c.apply(this,arguments)||this;b._set=new Set;return b}k(b,c);b.prototype.destroy=function(){c.prototype.destroy.call(this);this._set=null};b.prototype.acquire=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];b=c.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(c.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=
function(b){this._set.delete(b);c.prototype._dispose.call(this,b)};return b}(l);e.ReentrantObjectPool=c})},"esri/core/scheduling":function(){define("require exports ./nextTick ./now ./PooledArray ./promiseUtils ./requestAnimationFrame".split(" "),function(c,e,k,l,m,b,h){function f(b){void 0===b&&(b=l());e.debug.rafId=null;0<p.length&&(e.debug.rafId=a());e.debug.executeFrameTasks(b)}function a(){return e.debug.requestNextFrame?e.debug.requestNextFrame(q):q()}function d(){p.forEach(function(a){a.removed&&
v.push(a)});p.removeUnorderedMany(v.data,v.length);v.clear()}function g(){for(;x.length;){var a=x.shift();a.isActive&&(a.isActive=!1,a.callback())}e.debug.willDispatch=!1}function q(){return h(f)}Object.defineProperty(e,"__esModule",{value:!0});e.now=l;var r=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),n=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),w=-1,t=0,u={time:0,deltaTime:0,
elapsedFrameTime:0,frameDuration:0},z=["prepare","preRender","render","postRender","update"],x=[],p=new m,A=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};return a}();e.FrameTaskHandle=A;e.debug={frameTasks:p,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);p.forEach(function(a){a.removed=!0});a&&d()},dispatch:g,
executeFrameTasks:function(a){void 0===a&&(a=l());0>w&&(w=a);var b=a-w,c=0<t?t:1E3/60,g=Math.max(0,b-c);w=a;for(var f=function(d){var f=z[d];p.forEach(function(e){e.paused||e.removed||(0===d&&e.ticks++,e.phases[f]&&(u.time=a,u.deltaTime=0===e.ticks?0:b,u.elapsedFrameTime=l()-a,u.frameDuration=c-g,e.phases[f].call(e,u)))})},e=0;e<z.length;e++)f(e);d()}};e.schedule=function(a){a=new n(a);x.push(a);e.debug.willDispatch||(e.debug.willDispatch=!0,k(g));return a};e.addFrameTask=function(b){b=new r(b);p.push(b);
e.debug.rafId||(w=-1,e.debug.rafId=a());return new A(b)};e.setFrameDuration=function(a){t=Math.max(0,a)};e.requestNextFrame=a;var v=new m;e.waitTicks=function(a,c){void 0===a&&(a=1);var d=b.createResolver(),g=function(){b.isAborted(c)?d.reject(b.createAbortError()):0===a?d():(--a,k(function(){return g()}))};g();return d.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(c,e,k){function l(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,b=!0;k.onmessage=
function(){b=!1};k.postMessage("","*");k.onmessage=a;return b}return!1}function m(b){f.push(b);1===f.length&&h(function(){for(var b=0,c=a;b<c.length;b++)(0,c[b])();b=f.slice();for(c=f.length=0;c<b.length;c++)(0,b[c])()})}var b=k.MutationObserver||k.WebKitMutationObserver,h=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};if(b){var a=[],c=document.createElement("div");(new b(function(){for(;0<a.length;)a.shift()()})).observe(c,
{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(l()){var f=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();f.length;)f.shift()()},!0);return function(a){f.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,0)}}(),f=[],a=[];(function(b){b.before=function(b){a.push(b);return{remove:function(){a=a.filter(function(a){return a!==
b})}}}})(m||(m={}));return m})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(c,e,k,l){var m=l();c=k.requestAnimationFrame;if(!c){e=["ms","moz","webkit","o"];for(var b=0;b<e.length&&!c;++b)c=k[e[b]+"RequestAnimationFrame"];c||(c=function(b){var c=l(),a=Math.max(0,16-(c-m)),d=k.setTimeout(function(){b(l())},a);m=c+a;return d})}return c})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,
"__esModule",{value:!0});e.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(c,e,k,l,m,b,h,f,a,d,g,q){function r(a){for(var b in a)e.hasOwnProperty(b)||(e[b]=a[b])}Object.defineProperty(e,"__esModule",{value:!0});r(k);r(l);
r(m);r(b);r(h);r(f);r(a);r(d);r(g);r(q)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.aliasOf=function(c){return function(e,b){k.getPropertyMetadata(e,b).aliasOf=c}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.autoDestroy=function(){return function(c,
e){k.getMetadata(c).autoDestroy=!0;return c[e]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../declare"],function(c,e,k){function l(c){var b=Object.getPrototypeOf(c.prototype),e=c._meta&&c._meta.bases;c=c._meta&&c._meta.parents;if(b&&e&&c&&!(1>=c.length))for(var f=1;f<e.length;f++){var a=e[f],d=a.__accessorMetadata__&&a.__accessorMetadata__.properties,g=b,b=Object.getPrototypeOf(b);if(-1!==c.indexOf(a))for(var k=0,l=Object.getOwnPropertyNames(a.prototype);k<
l.length;k++){var n=l[k];if("initialized"!==n&&"constructed"!==n&&"destroyed"!==n&&!(d&&n in d)){var m=Object.getOwnPropertyDescriptor(a.prototype,n);m&&(m.get||m.set)&&Object.defineProperty(g,n,m)}}}}Object.defineProperty(e,"__esModule",{value:!0});e.declared=function(c){var b=function(){return this||{}};if(1<arguments.length){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f]);c=k(e);l(c)}b.__bases__=[c];return b}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(c,e,k,l){function m(b){return l.property({type:b})}Object.defineProperty(e,"__esModule",{value:!0});e.enumeration=m;(function(b){b.serializable=function(){return function(b,c){void 0===c&&(c={ignoreUnknown:!0});b=b instanceof k.JSONMap?b:new k.JSONMap(b,c);return l.property({type:c&&c.ignoreUnknown?b.apiValues:String,json:{type:b.jsonValues,read:{reader:b.read},write:{writer:b.write}}})}}})(m=e.enumeration||(e.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function c(c,b){void 0===b&&(b={ignoreUnknown:!1});var e=this;this.jsonToAPI=c;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(c);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(b){return e.fromJSON(b)};this.write=function(b,a,c){b=e.toJSON(b);void 0!==b&&(a[c]=b)}}c.prototype.toJSON=function(c){return this.apiToJSON.hasOwnProperty(c)?
this.apiToJSON[c]:this.options.ignoreUnknown?void 0:c};c.prototype.fromJSON=function(c){return this.jsonToAPI.hasOwnProperty(c)?this.jsonToAPI[c]:this.options.ignoreUnknown?void 0:c};c.prototype.invertMap=function(c){var b={},e;for(e in c)b[c[e]]=e;return b};c.prototype.getKeysSorted=function(c){var b=[],e;for(e in c)b.push(e);b.sort();return b};return c}();e.JSONMap=k;e.strict=function(){return function(c){return new k(c,{ignoreUnknown:!0})}};e.default=k})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.decorators.property");e.property=function(c){void 0===c&&(c={});return function(f,a){var d=f.constructor.prototype;d!==Function.prototype&&((f=Object.getOwnPropertyDescriptor(f,a))&&(f.get||f.set)?(c=l.clone(c),f.set&&(c.set=f.set),f.get&&(c.get=f.get)):f&&f.hasOwnProperty("value")&&(c=l.clone(c),c.value=f.value),a=b.getPropertyMetadata(d,a),b.mergeProperty(a,c))}};e.propertyJSONMeta=function(c,
f,a){c=b.getPropertyMetadata(c.constructor.prototype,a);c.json||(c.json={});c=c.json;void 0!==f&&(c.origins||(c.origins={}),c.origins[f]||(c.origins[f]={}),c=c.origins[f]);return c}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});e.reader=function(c,b,e){var f,a;void 0===b||Array.isArray(b)?(a=c,e=b,f=[void 0]):(a=b,f=Array.isArray(c)?c:[c]);return function(b,c){var d=
b.constructor.prototype;f.forEach(function(g){g=l.propertyJSONMeta(b,g,a);g.read&&"object"!==typeof g.read&&(g.read={});k.setDeepValue("read.reader",d[c],g);e&&(g.read.source=(g.read.source||[]).concat(e))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.shared=function(c){return function(e,k){e[k]=c}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(c,e,k,l){function m(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function b(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function h(a){var c=[];a=l.getPropertiesMetadata(a.prototype);if(!a)return c;for(var d in a){var g=a[d];g.cast&&c.push(g.cast);g.copy&&c.push(g.copy);if(g=g.json)if(m(g,c),b(g,c),g=g.origins)for(var f in g){var e=
g[f];m(e,c);b(e,c)}}return c}function f(a){var b={values:{},descriptors:{}},c=["__bases__"],g=l.getPropertiesMetadata(a.prototype),f=h(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||g&&g.hasOwnProperty(b)||!d(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==f.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var g=Object.getOwnPropertyDescriptor(a.prototype,c);d(g)?b.descriptors[c]=g:b.values[c]=a.prototype[c]});return b}function a(a){var b=Object.getOwnPropertyNames(a),
c=Object.getPrototypeOf(a.prototype).constructor,g=Object.getOwnPropertyNames(Function);g.push("__bases__","caller","arguments");var f=Object.getOwnPropertyNames(c),e={values:{},descriptors:{}};b.filter(function(b){return-1!==g.indexOf(b)?!1:-1===f.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);d(c)?e.descriptors[b]=c:e.values[b]=a[b]});return e}function d(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(e,"__esModule",{value:!0});e.subclass=function(b){return function(c){var g=
f(c),e=a(c);null!=b&&(g.values.declaredClass=b);c=k(c.__bases__,g.values);var h=Object.getPrototypeOf(c.prototype),q=c._meta&&c._meta.bases,l=c._meta&&c._meta.parents;if(h&&q&&l&&!(1>=l.length))for(var m=1;m<q.length;m++){var x=q[m],p=x.__accessorMetadata__&&x.__accessorMetadata__.properties,A=h,h=Object.getPrototypeOf(h);if(-1!==l.indexOf(x))for(var v=0,y=Object.getOwnPropertyNames(x.prototype);v<y.length;v++){var B=y[v];if("initialized"!==B&&"constructed"!==B&&"destroyed"!==B&&!(p&&B in p)){var F=
Object.getOwnPropertyDescriptor(x.prototype,B);d(F)&&Object.defineProperty(A,B,F)}}}Object.defineProperties(c.prototype,g.descriptors);for(var J in e.values)c[J]=e.values[J];Object.defineProperties(c,e.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});e.writer=function(c,b,e){var f,a;void 0===b?(a=c,f=[void 0]):"string"!==typeof b?(a=c,f=[void 0],
e=b):(a=b,f=Array.isArray(c)?c:[c]);return function(b,c){var d=b.constructor.prototype;f.forEach(function(g){g=l.propertyJSONMeta(b,g,a);g.write&&"object"!==typeof g.write&&(g.write={});e&&k.setDeepValue("write.target",e,g);k.setDeepValue("write.writer",d[c],g)})}}})},"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b;e.execute=function(c,f){void 0===f&&(f=
{});var a=f.responseType;a?"json"!==a&&"text"!==a&&"blob"!==a&&"array-buffer"!==a&&(a="text"):a="json";var d=f&&f.signal;delete f.signal;return m.invokeStaticMessage("request",{url:c,options:f},{signal:d}).then(function(d){var g=d.data,e,h,m;if(g&&("json"===a||"text"===a||"blob"===a)&&(e=new Blob([g]),"json"===a||"text"===a)&&(b||(b=new FileReaderSync),h=b.readAsText(e),"json"===a)){try{m=JSON.parse(h||null)}catch(t){throw d=k({},t,{url:c,requestOptions:f}),new l("request:server",t.message,d);}if(m.error)throw d=
k({},m.error,{url:c,requestOptions:f}),new l("request:server",m.error.message,d);}switch(a){case "json":break;case "text":m=h;break;case "blob":m=e;break;default:m=g}return{data:m,requestOptions:f,ssl:d.ssl,url:c}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(c){for(var e,k=1,l=arguments.length;k<l;k++){e=arguments[k];for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(c[m]=e[m])}return c}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),
function(c,e,k,l,m,b,h){return function(){function c(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}c.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return m.resolve()};c.prototype.getLayers=function(){return this._layers};c.prototype.setLayers=function(a){this._layers=(new h(a.style)).layers;this._enableCachingTiles=a.enableCachingTiles;return m.resolve({data:""})};c.prototype.createTileAndParse=
function(a,c){for(var d=this,f=a.key,e=new b,h={},k=0,t=Object.keys(a.sourceName2DataAndRefKey);k<t.length;k++){var l=t[k];h[l]=a.sourceName2DataAndRefKey[l].refKey}e.initialize(f,h,this,a.rotation);return e.setDataAndParse(a.sourceName2DataAndRefKey,c).then(function(a){d._enableCachingTiles&&d._tiles.set(f,e);return a}).catch(function(a){e.setObsolete();e.release();if(!m.isAbortError(a))throw a;})};c.prototype.updateSymbols=function(a,b){var c=this._tiles.get(a.key);return c?c.updateSymbols(a.rotation,
b):m.reject()};c.prototype.updateStyle=function(a,b){this._layers=(new h(a)).layers;this._tiles.forEach(function(a){a.reparse(b).then(function(c){b.client.invoke("updateTileData",{tileId:a.tileKey,tileData:c.result})})});return m.resolve({data:""})};c.prototype.destructTileData=function(a){if(this._enableCachingTiles){var b=this._tiles.get(a);b&&(b.release(),this._tiles.delete(a))}};c.prototype.fetchSprites=function(a,b,c){var d=[],g=this._spriteInfo;a.forEach(function(a){void 0===g[a]&&d.push(a)});
return 0===d.length?m.resolve():b.invoke("getSprites",d,{signal:c&&c.signal}).then(function(a){for(var b in a)g[b]=a[b]})};c.prototype.getSpriteItems=function(){return this._spriteInfo};c.prototype.fetchGlyphs=function(a,b,c,f,e){var d=[],g=this._glyphInfo[b];g?c.forEach(function(a){g[a]||d.push(a)}):(g=this._glyphInfo[b]=[],c.forEach(function(a){return d.push(a)}));return 0===d.length?m.resolve():f.invoke("getGlyphs",{tileID:a,font:b,codePoints:d},e).then(function(a){for(var b=0;b<a.length;b++)a[b]&&
(g[b]=a[b])})};c.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return c}()})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(c){return function(e,k,l,m){var b=null;return c.create(function(h,f){function a(a){try{g(m.next(a))}catch(r){f(r)}}function d(a){try{g(m["throw"](a))}catch(r){f(r)}}function g(g){g.done?(b=c.when(g.value),b.then(h,f)):(b=c.when(g.value),b.then(a,d))}g((m=m.apply(e,k||[])).next())},function(c){b&&b.cancel&&b.cancel(c)})}})},
"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/maybe ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),function(c,e,k,l,m,b,h,f,a,d,g,q,r,n,w,t,u){return function(){function c(){this.rotation=0;this.status=
u.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new r.PlacementEngine;this.fillVertexBuffer=new t.FillVertexBuffer(!1);this.fillDDVertexBuffer=new t.FillVertexBuffer(!0);this.fillIndexBuffer=new g.TriangleIndexBuffer;this.outlineVertexBuffer=new t.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new t.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new g.TriangleIndexBuffer;this.lineVertexBuffer=new t.LineVertexBuffer(!1);this.lineDDVertexBuffer=new t.LineVertexBuffer(!0);this.lineIndexBuffer=
new g.TriangleIndexBuffer;this.iconVertexBuffer=new t.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.iconIndexBuffer=new g.TriangleIndexBuffer;this.textVertexBuffer=new t.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.textIndexBuffer=new g.TriangleIndexBuffer;this.circleVertexBuffer=new t.CircleVertexBuffer;this.circleIndexBuffer=new g.TriangleIndexBuffer}c.prototype.initialize=function(a,b,c,g){void 0===g&&(g=0);this.tileKey=a;this.refKeys=
b;this._workerTileHandler=c;this.rotation=g;this.placementEngine.setAngle(d.C_DEG_TO_RAD*g)};c.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=u.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};c.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();
this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};c.prototype.reparse=function(a){this.resetData();return this.setDataAndParse(this._data,a)};c.prototype.setDataAndParse=function(b,c){var d=
this,g=c&&c.signal;if(m.isSome(g)){var e=function(){g.removeEventListener("abort",e);d.status=u.TileStatus.INVALID};g.addEventListener("abort",e)}this._data=b;return this._parse(b,c).then(function(b){d.status=u.TileStatus.READY;for(var c=new Uint32Array([1,d.fillVertexBuffer.sizeInBytes,2,d.fillDDVertexBuffer.sizeInBytes,3,d.fillIndexBuffer.sizeInBytes,4,d.outlineVertexBuffer.sizeInBytes,5,d.outlineDDVertexBuffer.sizeInBytes,6,d.outlineIndexBuffer.sizeInBytes,7,d.lineVertexBuffer.sizeInBytes,8,d.lineDDVertexBuffer.sizeInBytes,
9,d.lineIndexBuffer.sizeInBytes,10,d.iconVertexBuffer.sizeInBytes,11,d.iconDDVertexBuffer.sizeInBytes,12,d.iconIndexBuffer.sizeInBytes,13,d.textVertexBuffer.sizeInBytes,14,d.textDDVertexBuffer.sizeInBytes,15,d.textIndexBuffer.sizeInBytes,16,d.circleVertexBuffer.sizeInBytes,17,d.circleIndexBuffer.sizeInBytes]),g=[],e=b.length,k=0;k<e;k++){var v=b[k];if(v instanceof a)g.push(v.layerIndex),g.push(1),g.push(v.fillIndexStart),g.push(v.fillIndexCount),g.push(v.outlineIndexStart),g.push(v.outlineIndexCount);
else if(v instanceof q)g.push(v.layerIndex),g.push(2),g.push(v.lineIndexStart),g.push(v.lineIndexCount);else if(v instanceof n){g.push(v.layerIndex);g.push(3);g.push(v.sdfMarker?1:0);var t=v.markerPageMap;g.push(t.size);t.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])});v=v.glyphsPageMap;g.push(v.size);v.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])})}else v instanceof f?(g.push(v.layerIndex),g.push(4),g.push(v.circleIndexStart),g.push(v.circleIndexCount)):v instanceof h&&(g.push(v.layerIndex),
g.push(0))}b=new Uint32Array(g);var e=d.fillVertexBuffer.toBuffer(),k=d.fillDDVertexBuffer.toBuffer(),v=d.fillIndexBuffer.toBuffer(),t=d.outlineVertexBuffer.toBuffer(),l=d.outlineDDVertexBuffer.toBuffer(),m=d.outlineIndexBuffer.toBuffer(),p=d.lineVertexBuffer.toBuffer(),r=d.lineDDVertexBuffer.toBuffer(),w=d.lineIndexBuffer.toBuffer(),z=d.iconVertexBuffer.toBuffer(),y=d.iconDDVertexBuffer.toBuffer(),x=d.iconIndexBuffer.toBuffer(),B=d.textVertexBuffer.toBuffer(),A=d.textDDVertexBuffer.toBuffer(),Y=
d.textIndexBuffer.toBuffer(),T=d.circleVertexBuffer.toBuffer(),W=d.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:c.buffer,bucketDataInfo:b.buffer,bufferData:[e,k,v,t,l,m,p,r,w,z,y,x,B,A,Y,T,W]},transferList:[e,k,v,t,l,m,p,r,w,z,y,x,B,A,Y,T,W,c.buffer,b.buffer]}})};c.prototype.addBucket=function(a){this._symbolBuckets.push(a)};c.prototype.updateSymbols=function(a,c){var g=this,f=this._symbolBuckets;if(!f||0===f.length)return b.resolve();var e=c&&c.signal;if(m.isSome(e)){var h=function(){e.removeEventListener("abort",
h);g.status=u.TileStatus.INVALID};e.addEventListener("abort",h)}this.rotation=a;var k=this.placementEngine;k.reset();k.setAngle(a/256*360*d.C_DEG_TO_RAD);var q=this.iconVertexBuffer;q.reset();var n=this.iconDDVertexBuffer;n.reset();var t=this.iconIndexBuffer;t.reset();var l=this.textVertexBuffer;l.reset();c=this.textDDVertexBuffer;c.reset();a=this.textIndexBuffer;a.reset();for(var p=[],r=0;r<f.length;r++){var w=f[r];if(w&&w.layer){var z=w.layer;if(w=w.copy(z.hasDataDrivenIcon?n:q,t,z.hasDataDrivenText?
c:l,a,k))p.push(w),w.updateSymbols()}}if(this.status===u.TileStatus.INVALID||this.status===u.TileStatus.INITIALIZED||0===q.sizeInBytes&&0===n.sizeInBytes&&0===t.sizeInBytes&&0===l.sizeInBytes&&0===c.sizeInBytes&&0===a.sizeInBytes)return b.reject();for(var f=new Uint32Array([10,q.sizeInBytes,11,n.sizeInBytes,12,t.sizeInBytes,13,l.sizeInBytes,14,c.sizeInBytes,15,a.sizeInBytes]),x=[],r=0;r<p.length;r++)k=p[r],x.push(k.layerIndex),x.push(3),x.push(k.sdfMarker?1:0),w=k.markerPageMap,x.push(w.size),w.forEach(function(a,
b){x.push(b);x.push(a[0]);x.push(a[1])}),k=k.glyphsPageMap,x.push(k.size),k.forEach(function(a,b){x.push(b);x.push(a[0]);x.push(a[1])});p=new Uint32Array(x);q=q.toBuffer();n=n.toBuffer();t=t.toBuffer();l=l.toBuffer();c=c.toBuffer();a=a.toBuffer();return b.resolve({result:{bufferDataInfo:f.buffer,bucketDataInfo:p.buffer,bufferData:[q,n,t,l,c,a]},transferList:[q,n,t,l,c,a,f.buffer,p.buffer]})};c.prototype.setObsolete=function(){this.status=u.TileStatus.INVALID};c.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};
c.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};c.prototype._parse=function(a,b){return l(this,void 0,void 0,function(){var c;return k(this,function(d){if(0===Object.keys(a).length)return[2,[]];this.status=u.TileStatus.MODIFIED;c=new w(a,this,b.client);return[2,c.parse(b)]})})};return c}()})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(c,e,k,l){return function(c){function b(b,
f){return c.call(this,b,f)||this}k(b,c);b.prototype.processFeatures=function(){};b.prototype.assignBufferInfo=function(){};return b}(l)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(c,e){return function(){function c(c,e){this.layerExtent=4096;this._features=[];this.layer=c;this.zoom=e;this._filter=c.getFeatureFilter()}c.prototype.pushFeature=function(c){this._filter.filter(c)&&this._features.push(c)};c.prototype.hasFeatures=function(){return 0<this._features.length};
return c}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(c,e,k,l){return function(c){function b(b,f,a,d){b=c.call(this,b,f)||this;b._circleVertexBuffer=a;b._circleIndexBuffer=d;return b}k(b,c);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},
enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(b){b._circleIndexStart=this._circleIndexStart;b._circleIndexCount=this._circleIndexCount};b.prototype.processFeatures=function(b){var c=this._circleVertexBuffer,a=this._circleIndexBuffer;this._circleIndexStart=a.index;this._circleIndexCount=0;var d=this.layer,g=this.zoom;b&&b.setExtent(this.layerExtent);for(var e=1,h=[1,1,1,1],k=1,l=0,t=1,m=[1,1,1,1],z=1,x=0,p=this._features;x<p.length;x++){var A=p[x],v=A.getGeometry(b);if(v)for(d.hasDataDrivenRadius&&
(e=d.getPaintValue("circle-radius",g,A)),d.hasDataDrivenColor&&(h=d.getPaintValue("circle-color",g,A)),d.hasDataDrivenOpacity&&(k=d.getPaintValue("circle-opacity",g,A)),d.hasDataDrivenStrokeWidth&&(t=d.getPaintValue("circle-stroke-width",g,A)),d.hasDataDrivenStrokeColor&&(m=d.getPaintValue("circle-stroke-color",g,A)),d.hasDataDrivenStrokeOpacity&&(z=d.getPaintValue("circle-stroke-opacity",g,A)),d.hasDataDrivenBlur&&(l=d.getPaintValue("circle-blur",g,A)),A=0;A<v.length;A++){var y=v[A];if(y)for(var B=
0;B<y.length;B++){var F=y[B],J=c.index;c.add(F.x,F.y,0,0,e,h,k,l,t,m,z);c.add(F.x,F.y,0,1,e,h,k,l,t,m,z);c.add(F.x,F.y,1,0,e,h,k,l,t,m,z);c.add(F.x,F.y,1,1,e,h,k,l,t,m,z);a.add(J+0,J+1,J+2);a.add(J+1,J+2,J+3);this._circleIndexCount+=6}}}};return b}(l)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),function(c,e,k,l,m,b,h){return function(b){function a(a,
c,f,e,h,k){c=b.call(this,a,c)||this;if(a.hasDataDrivenFill!==f.isDataDriven())throw Error("incompatible fill buffer");if(a.hasDataDrivenOutline!==h.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=f;c._fillIndexBuffer=e;c._outlineVertexBuffer=h;c._outlineIndexBuffer=k;return c}k(a,b);Object.defineProperty(a.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});a.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,
a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};a.prototype.processFeatures=function(a){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var b=this.layer,c=this.zoom,d=b.hasDataDrivenFill,f=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var e=b.getPaintValue("fill-pattern",c),h=b.getPaintValue("fill-antialias",c)&&void 0===e,k=[1,1,1,1],l=
[1,1,1,1],m=1;if(b.outlineUsesFillColor){if(h&&!b.hasDataDrivenOpacity){var p=b.getPaintValue("fill-opacity",c),A=b.getPaintValue("fill-opacity",c+1);1>p&&1>A&&(h=!1)}h&&!b.hasDataDrivenColor&&(p=b.getPaintValue("fill-color",c),A=b.getPaintValue("fill-color",c+1),1>p[3]&&1>A[3]&&(h=!1))}p=0;for(A=this._features;p<A.length;p++){var v=A[p];!e&&b.hasDataDrivenColor&&(k=b.getPaintValue("fill-color",c,v));b.hasDataDrivenOpacity&&(m=b.getPaintValue("fill-opacity",c,v));!e&&b.hasDataDrivenOutlineColor&&
(l=b.getPaintValue("fill-outline-color",c,v));var y=void 0;d&&(y={color:k,opacity:m});var B=void 0;f&&(B={color:b.outlineUsesFillColor?k:l,opacity:m});v=v.getGeometry(a);this._processFeature(v,h,b.outlineUsesFillColor,y,B)}};a.prototype._processFeature=function(b,c,f,e,h){if(b){var d=b.length;if(c&&(!f||!h||1===h.color[3]*h.opacity))for(c=0;c<d;c++)this._processOutline(b[c],h);var g;for(c=0;c<d;c++)h=a._area(b[c]),128<h?(void 0!==g&&this._processFill(b,g,e),g=[c]):-128>h&&void 0!==g&&g.push(c);void 0!==
g&&this._processFill(b,g,e)}};a.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,d=this._outlineIndexBuffer,g=d.index,f,e,k,l=new h.Point(0,0),m=new h.Point(0,0),p=new h.Point(0,0),A=-1,v=-1,y=-1,B=-1,F=-1,J=!1,I=a.length;if(!(2>I)){var C=a[0];for(f=a[I-1];I&&f.isEqual(C);)--I,f=a[I-1];if(!(2>I-0)){for(C=0;C<I;++C){0===C?(f=a[I-1],e=a[0],k=a[1],l.assignSub(e,f),l.normalize(),l.rightPerpendicular()):(f=e,e=k,k=C!==I-1?a[C+1]:a[0],l.assign(m));f=this._isClipEdge(f,e);-1===B&&
(J=f);m.assignSub(k,e);m.normalize();m.rightPerpendicular();y=l.x*m.y-l.y*m.x;p.assignAdd(l,m);p.normalize();var E=-p.x*-l.x+-p.y*-l.y,E=Math.abs(0!==E?1/E:1);8<E&&(E=8);0<=y?(y=c.add(e.x,e.y,l.x,l.y,0,1,b),-1===B&&(B=y),0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y),v=c.add(e.x,e.y,E*-p.x,E*-p.y,0,-1,b),-1===F&&(F=v),0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y),A=v,v=y,y=c.add(e.x,e.y,p.x,p.y,0,1,b),0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y),v=c.add(e.x,e.y,m.x,m.y,0,1,b)):(y=c.add(e.x,e.y,E*p.x,E*p.y,0,1,b),-1===B&&(B=y),0<=
A&&0<=v&&0<=y&&!f&&d.add(A,v,y),v=c.add(e.x,e.y,-l.x,-l.y,0,-1,b),-1===F&&(F=v),0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y),A=v,v=y,y=c.add(e.x,e.y,-p.x,-p.y,0,-1,b),0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y),A=c.add(e.x,e.y,-m.x,-m.y,0,-1,b));0<=A&&0<=v&&0<=y&&!f&&d.add(A,v,y)}0<=A&&0<=v&&0<=B&&!J&&d.add(A,v,B);0<=A&&0<=B&&0<=F&&!J&&d.add(A,F,B);this._outlineIndexCount+=3*(d.index-g)}}};a.prototype._processFill=function(a,b,c){var d;1<b.length&&(d=[]);for(var g=0,f=0;f<b.length;f++){var e=b[f];0!==g&&d.push(g);g+=
a[e].length}for(var f=2*g,g=l.acquire(),h=0;h<b.length;h++)for(var e=b[h],e=a[e],k=e.length,q=0;q<k;++q)g.push(e[q].x),g.push(e[q].y);a=m.earcut(g,d,2);b=a.length;if(0<b){d=this._fillVertexBuffer.index;for(h=0;h<f;)this._fillVertexBuffer.add(g[h++],g[h++],c);for(c=0;c<b;)this._fillIndexBuffer.add(d+a[c++],d+a[c++],d+a[c++]);this._fillIndexCount+=b}l.release(g)};a.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};a._area=function(a){for(var b=
0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return a}(b)})},"esri/core/libs/earcut/earcut":function(){define(["require","exports"],function(c,e){function k(a,b,c,d,g){var e;if(g===0<n(a,b,c,d))for(g=b;g<c;g+=d)e=h(g,a[g],a[g+1],e);else for(g=c-d;g>=b;g-=d)e=h(g,a[g],a[g+1],e);e&&z(e,e.next)&&(f(e),e=e.next);return e}function l(a,b){void 0===b&&(b=a);if(!a)return a;var c;do if(c=!1,a.steiner||!z(a,a.next)&&0!==q(a.prev,a,a.next))a=
a.next;else{f(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function m(a,c,d,e,h,k,n){void 0===n&&(n=0);if(a){!n&&k&&(a=g(a,e,h,k));for(var v=a;a.prev!==a.next;){var u=a.prev,y=a.next,x;if(k)x=b(a,e,h,k);else a:{x=a;var B=x.prev,A=x,F=x.next;if(0<=q(B,A,F))x=!1;else{for(var C=x.next.next,J=C,I=0;C!==x.prev&&(0===I||C!==J);){I++;if(w(B.x,B.y,A.x,A.y,F.x,F.y,C.x,C.y)&&0<=q(C.prev,C,C.next)){x=!1;break a}C=C.next}x=!0}}if(x)c.push(u.index/d),c.push(a.index/d),c.push(y.index/d),f(a),
v=a=y.next;else if(a=y,a===v){if(!n)m(l(a),c,d,e,h,k,1);else if(1===n){n=c;v=d;u=a;do y=u.prev,x=u.next.next,!z(y,x)&&r(y,u,u.next,x)&&t(y,x)&&t(x,y)&&(n.push(y.index/v),n.push(u.index/v),n.push(x.index/v),f(u),f(u.next),u=a=x),u=u.next;while(u!==a);a=u;m(a,c,d,e,h,k,2)}else if(2===n)a:{n=a;do{for(v=n.next.next;v!==n.prev;){if(u=n.index!==v.index){u=n;y=v;x=void 0;if(x=u.next.index!==y.index&&u.prev.index!==y.index){x=void 0;b:{x=u;do{if(x.index!==u.index&&x.next.index!==u.index&&x.index!==y.index&&
x.next.index!==y.index&&r(x,x.next,u,y)){x=!0;break b}x=x.next}while(x!==u);x=!1}x=!x}B=void 0;if(B=x&&t(u,y)&&t(y,u)){x=u;B=!1;A=(u.x+y.x)/2;y=(u.y+y.y)/2;do x.y>y!==x.next.y>y&&x.next.y!==x.y&&A<(x.next.x-x.x)*(y-x.y)/(x.next.y-x.y)+x.x&&(B=!B),x=x.next;while(x!==u)}u=B}if(u){a=p(n,v);n=l(n,n.next);a=l(a,a.next);m(n,c,d,e,h,k);m(a,c,d,e,h,k);break a}v=v.next}n=n.next}while(n!==a)}break}}}}function b(a,b,c,d){var g=a.prev,f=a.next;if(0<=q(g,a,f))return!1;var e=g.x>a.x?g.x>f.x?g.x:f.x:a.x>f.x?a.x:
f.x,h=g.y>a.y?g.y>f.y?g.y:f.y:a.y>f.y?a.y:f.y,k=u(g.x<a.x?g.x<f.x?g.x:f.x:a.x<f.x?a.x:f.x,g.y<a.y?g.y<f.y?g.y:f.y:a.y<f.y?a.y:f.y,b,c,d);b=u(e,h,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=k&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&w(g.x,g.y,a.x,a.y,f.x,f.y,c.x,c.y)&&0<=q(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&w(g.x,g.y,a.x,a.y,f.x,f.y,d.x,d.y)&&0<=q(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=k;){if(c!==a.prev&&c!==a.next&&w(g.x,g.y,a.x,a.y,f.x,f.y,c.x,c.y)&&0<=q(c.prev,c,
c.next))return!1;c=c.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==a.next&&w(g.x,g.y,a.x,a.y,f.x,f.y,d.x,d.y)&&0<=q(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function h(a,b,c,d){a=new A(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function f(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function a(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function d(a,b){var c=
b,d=a.x,g=a.y,f=-Infinity,e;do{if(g<=c.y&&g>=c.next.y&&c.next.y!==c.y){var h=c.x+(g-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){f=h;if(h===d){if(g===c.y)return c;if(g===c.next.y)return c.next}e=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!e)return null;if(d===f)return e.prev;b=e;for(var h=e.x,k=e.y,n=Infinity,q,c=e.next;c!==b;)d>=c.x&&c.x>=h&&d!==c.x&&w(g<k?d:f,g,h,k,g<k?f:d,g,c.x,c.y)&&(q=Math.abs(g-c.y)/(d-c.x),(q<n||q===n&&c.x>e.x)&&t(c,a)&&(e=c,n=q)),c=c.next;return e}function g(a,b,
c,d){for(var f=void 0;f!==a;f=f.next){f=f||a;null===f.z&&(f.z=u(f.x,f.y,b,c,d));if(f.prev.next!==f||f.next.prev!==f)return f.prev.next=f,f.next.prev=f,g(a,b,c,d);f.prevZ=f.prev;f.nextZ=f.next}a.prevZ.nextZ=null;a.prevZ=null;a:for(c=1;;){d=a;f=void 0;b=a=null;for(var e=0;d;){e++;for(var f=d,h=0;h<c&&f;h++)f=f.nextZ;for(var k=c;0<h||0<k&&f;){var n=void 0;0===h?(n=f,f=f.nextZ,k--):0!==k&&f?d.z<=f.z?(n=d,d=d.nextZ,h--):(n=f,f=f.nextZ,k--):(n=d,d=d.nextZ,h--);b?b.nextZ=n:a=n;n.prevZ=b;b=n}d=f}b.nextZ=
null;c*=2;if(2>e)break a}return a}function q(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function r(a,b,c,d){return z(a,b)&&z(c,d)||z(a,d)&&z(c,b)?!0:0<q(a,b,c)!==0<q(a,b,d)&&0<q(c,d,a)!==0<q(c,d,b)}function n(a,b,c,d){for(var g=0,f=c-d;b<c;b+=d)g+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return g}function w(a,b,c,d,g,f,e,h){return 0<=(g-e)*(b-h)-(a-e)*(f-h)&&0<=(a-e)*(d-h)-(c-e)*(b-h)&&0<=(c-e)*(f-h)-(g-e)*(d-h)}function t(a,b){return 0>q(a.prev,a,a.next)?0<=q(a,b,a.next)&&0<=q(a,a.prev,b):0>q(a,
b,a.prev)||0>q(a,a.next,b)}function u(a,b,c,d,g){a=32767*(a-c)*g;b=32767*(b-d)*g;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function z(a,b){return a.x===b.x&&a.y===b.y}function x(a,b){return a.x-b.x}function p(a,b){var c=new A(a.index,a.x,a.y),d=new A(b.index,b.x,b.y),g=a.next,f=b.prev;a.next=b;b.prev=a;c.next=g;g.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}Object.defineProperty(e,
"__esModule",{value:!0});e.earcut=function(b,c,g){var f=c&&c.length,e=f?c[0]*g:b.length,h=k(b,0,e,g,!0),n=[];if(!h||h.next===h.prev)return n;var q,t,v;if(f){for(var f=[],r=0,w=c.length;r<w;r++){var u=k(b,c[r]*g,r<w-1?c[r+1]*g:b.length,g,!1);u===u.next&&(u.steiner=!0);f.push(a(u))}f.sort(x);for(c=0;c<f.length;c++){r=f[c];w=h;if(w=d(r,w))r=p(w,r),l(r,r.next);h=l(h,h.next)}}if(b.length>80*g){q=v=b[0];t=f=b[1];for(c=g;c<e;c+=g)r=b[c],w=b[c+1],q=Math.min(q,r),t=Math.min(t,w),v=Math.max(v,r),f=Math.max(f,
w);v=Math.max(v-q,f-t);v=0!==v?1/v:0}m(h,n,g,q,t,v);return n};e.deviation=function(a,b,c,d){var g=b&&b.length,f=Math.abs(n(a,0,g?b[0]*c:a.length,c));if(g)for(var g=0,e=b.length;g<e;g++)f-=Math.abs(n(a,b[g]*c,g<e-1?b[g+1]*c:a.length,c));for(g=b=0;g<d.length;g+=3){var e=d[g]*c,h=d[g+1]*c,k=d[g+2]*c;b+=Math.abs((a[e]-a[k])*(a[h+1]-a[e+1])-(a[e]-a[h])*(a[k+1]-a[e+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};var A=function(){return function(a,b,c){this.index=a;this.x=b;this.y=c;this.nextZ=this.prevZ=
this.z=this.next=this.prev=null;this.steiner=!1}}()})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(c,e){this.x=c;this.y=e}c.prototype.clone=function(){return new c(this.x,this.y)};c.prototype.equals=function(c,e){return c===this.x&&e===this.y};c.prototype.isEqual=function(c){return c.x===this.x&&c.y===this.y};c.prototype.setCoords=function(c,e){this.x=c;this.y=e};c.prototype.normalize=
function(){var c=this.x,e=this.y,c=Math.sqrt(c*c+e*e);this.x/=c;this.y/=c};c.prototype.rightPerpendicular=function(){var c=this.x;this.x=this.y;this.y=-c};c.prototype.move=function(c,e){this.x+=c;this.y+=e};c.prototype.assign=function(c){this.x=c.x;this.y=c.y};c.prototype.assignAdd=function(c,e){this.x=c.x+e.x;this.y=c.y+e.y};c.prototype.assignSub=function(c,e){this.x=c.x-e.x;this.y=c.y-e.y};c.prototype.rotate=function(c,e){var b=this.x,h=this.y;this.x=b*c-h*e;this.y=b*e+h*c};c.prototype.scale=function(c){this.x*=
c;this.y*=c};c.prototype.length=function(){var c=this.x,e=this.y;return Math.sqrt(c*c+e*e)};c.distance=function(c,e){var b=e.x-c.x;c=e.y-c.y;return Math.sqrt(b*b+c*c)};c.add=function(e,k){return new c(e.x+k.x,e.y+k.y)};c.sub=function(e,k){return new c(e.x-k.x,e.y-k.y)};return c}();e.Point=c})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(c,e){function k(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(e,"__esModule",{value:!0});e.C_INFINITY=Number.POSITIVE_INFINITY;
e.C_PI=Math.PI;e.C_2PI=2*e.C_PI;e.C_PI_BY_2=e.C_PI/2;e.C_RAD_TO_256=128/e.C_PI;e.C_256_TO_RAD=e.C_PI/128;e.C_DEG_TO_256=256/360;e.C_DEG_TO_RAD=e.C_PI/180;e.C_SQRT2=1.414213562;e.C_SQRT2_INV=1/e.C_SQRT2;var l=1/Math.LN2;e.positiveMod=k;e.radToByte=function(c){return k(c*e.C_RAD_TO_256,256)};e.degToByte=function(c){return k(c*e.C_DEG_TO_256,256)};e.log2=function(c){return Math.log(c)*l};e.sqr=function(c){return c*c};e.interpolate=function(c,b,e){return c*(1-e)+b*e};e.between=function(c,b,e){return c>=
b&&c<=e||c>=e&&c<=b}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./MemoryBuffer"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});c=function(c){function b(){return c.call(this,12)||this}k(b,c);b.prototype.add=function(b,c,a){var d=this.array;d.push(b);d.push(c);d.push(a)};return b}(l);e.TriangleIndexBuffer=c;l=function(c){function b(){return c.call(this,4)||this}k(b,c);b.prototype.add=
function(b){this.array.push(b)};return b}(l);e.PointElementMemoryBuffer=l})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(c,e){return function(){function c(c){this._array=[];0>=c&&console.error("strideInBytes must be positive!");this._stride=c}Object.defineProperty(c.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{get:function(){return 4*this._array.length/this._stride},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});c.prototype.reset=function(){this.array.length=0};c.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};c.i1616to32=function(c,e){return 65535&c|e<<16};c.i8888to32=function(c,e,b,h){return c&255|(e&255)<<8|(b&
255)<<16|h<<24};c.i8816to32=function(c,e,b){return c&255|(e&255)<<8|b<<16};return c}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),function(c,e,k,l,m,b,h,f,a){var d=1/3.8,g=function(a){return function(b){b.entry0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,
0,1,b.distance,a._ddValues)}},q=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},r=function(a){return function(b){var c=a._joinType===m.JoinType.MITER?a._miterLimitCosine:a._roundLimitCosine,d=b.isCap&&a._capType!==m.CapType.BUTT,g=!1;.97<b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,
0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,
0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?(f.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftInner.x,b.leftInner.y,
0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)),b.cosine<c?(g=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,
0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.splitOuter?(g=g||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightOuter.x,-b.rightOuter.y,0,1,b.distance,
a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightInner.x,-b.rightInner.y,0,1,b.distance,
a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(g=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,
a._ddValues)):b.splitOuter?(g=g||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,
b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(g=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,
-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(g=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||g||d?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(g&&a._joinType!==m.JoinType.ROUND)a._lineIndexBuffer.add(c,0<b.sign?b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(d&&a._capType===m.CapType.ROUND||g&&a._joinType===m.JoinType.ROUND){var e=g=d=void 0,h=void 0,k=void 0,n=void 0;if(b.isCap){var q=Math.PI,k=Math.ceil(q/.8),n=q/k;b.isFirstVertex?(d=b.prevNormal.x,g=b.prevNormal.y,e=b.entry0,h=b.entry2):b.isLastVertex&&(d=-b.nextNormal.x,
g=-b.nextNormal.y,e=b.exit2,h=b.exit0)}else q=2*Math.acos(b.cosine),k=Math.ceil(q/.8),n=q/k,d=0<b.sign?-b.prevNormal.x:b.nextNormal.x,g=0<b.sign?-b.prevNormal.y:b.nextNormal.y,e=0<b.sign?b.entry2:b.exit0,h=0<b.sign?b.exit2:b.entry0;for(var q=Math.cos(n),n=Math.sin(n),l=n*d+q*g,d=q*d-n*g,g=l,r=void 0,l=void 0,t=0;t<k;++t){r=l;if(t<k-1)if(b.isCap){var w=b.isFirstVertex?-1:1,l=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,g,w,0,b.distance,a._ddValues)}else l=
a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,g,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===t?e:r,c,t===k-1?h:l);r=n*d+q*g;d=q*d-n*g;g=r}}else d&&a._capType===m.CapType.SQUARE&&(d=b.isFirstVertex?1:-1,e=g=void 0,a._hasPattern?(g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,-d,-1,b.distance,a._ddValues),e=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,-d,1,b.distance,a._ddValues)):(g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,0,-1,b.distance,a._ddValues),e=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,0,1,b.distance,a._ddValues)),0<d?(a._lineIndexBuffer.add(c,b.entry2,e),
a._lineIndexBuffer.add(c,e,g),a._lineIndexBuffer.add(c,g,b.entry0)):(a._lineIndexBuffer.add(c,e,b.exit2),a._lineIndexBuffer.add(c,g,e),a._lineIndexBuffer.add(c,b.exit0,g)))}},n=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,
b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)}};return function(b){function c(a,c,d,f){c=b.call(this,a,c)||this;c._tessellationOptions={};c.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,
_roundLimitCosine:null};if(a.hasDataDrivenLine!==d.isDataDriven())throw Error("incompatible line buffer");c.tessellationProperties._lineVertexBuffer=d;c.tessellationProperties._lineIndexBuffer=f;c.tessellationProperties._hasPattern=a.getPaintValue("line-pattern",c.zoom)||0<a.getPaintValue("line-dasharray",c.zoom).length;c._isThinLine=a.isThinLine;c._tessellationCallbacks=c._isThinLine?{vertex:g(c.tessellationProperties),bridge:q(c.tessellationProperties)}:{vertex:r(c.tessellationProperties),bridge:n(c.tessellationProperties)};
return c}k(c,b);Object.defineProperty(c.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};c.prototype.processFeatures=function(b){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index;
this._lineIndexCount=0;var c=this.layer,d=this.zoom,g=c.hasDataDrivenLine;b&&b.setExtent(this.layerExtent);for(var e=[1,1,1,1],k=1,n=1,q=0,l=this._features;q<l.length;q++){var m=l[q],r=new h.LineLayout(c,d,m);!this.tessellationProperties._hasPattern&&c.hasDataDrivenColor&&(e=c.getPaintValue("line-color",d,m));c.hasDataDrivenOpacity&&(k=c.getPaintValue("line-opacity",d,m));c.hasDataDrivenWidth&&(n=c.getPaintValue("line-width",d,m));var t=void 0;if(g&&(t={color:e,opacity:k,size:Math.max(Math.min(n,
256),0)},0>=t.size||0>=t.opacity||0>=t.color[3]))continue;this.tessellationProperties._capType=r.cap;this.tessellationProperties._joinType=r.join;this.tessellationProperties._miterLimitCosine=a.getLimitCosine(r.miterLimit);this.tessellationProperties._roundLimitCosine=a.getLimitCosine(r.roundLimit);m=m.getGeometry(b);this._processFeature(m,t)}f.cleanup()};c.prototype._processFeature=function(a,b){if(a)for(var c=a.length,d=0;d<c;d++)this._processGeometry(a[d],b)};c.prototype._processGeometry=function(a,
b){if(!(2>a.length)){for(var c=a[0],g=1,e,h;g<a.length;)e=a[g].x-c.x,h=a[g].y-c.y,1E-6>e*e+h*h?a.splice(g,1):(c=a[g],++g);2>a.length||(c=this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=d,this._tessellationOptions.enableOuterBisectorSplit=
this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=d,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=b,f.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-c))}};return c}(b)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,
"__esModule",{value:!0});(function(c){c[c.BUTT=0]="BUTT";c[c.ROUND=1]="ROUND";c[c.SQUARE=2]="SQUARE";c[c.UNKNOWN=4]="UNKNOWN"})(e.CapType||(e.CapType={}));(function(c){c[c.BEVEL=0]="BEVEL";c[c.ROUND=1]="ROUND";c[c.MITER=2]="MITER";c[c.UNKNOWN=4]="UNKNOWN"})(e.JoinType||(e.JoinType={}));(function(c){c[c.SCREEN=0]="SCREEN";c[c.MAP=1]="MAP"})(e.Alignment||(e.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(c,e,k,l,m,b,h){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function a(a,b,c){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=c;switch(a){case 0:this._layoutDefinition=m.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=m.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
m.StyleDefinition.fillLayoutDefinition;this._paintDefinition=m.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=m.StyleDefinition.lineLayoutDefinition;this._paintDefinition=m.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=m.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=m.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=m.StyleDefinition.circleLayoutDefinition,this._paintDefinition=m.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=l.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,c){var d,g=this._layoutProperties;g&&(g=g[a])&&(d=g.getValue(b,
c));a=this._layoutDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype.getPaintValue=function(a,b,c){var d,g=this._paintProperties;g&&(g=g[a])&&(d=g.getValue(b,c));a=this._paintDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var b in a)if(a[b].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var c={},
d;for(d in a){var f=this._layoutDefinition[d];f&&(c[d]=new b(f,a[d]))}return c};a.prototype._parsePaint=function(a){var c={},d;for(d in a){var f=this._paintDefinition[d];f&&(c[d]=new b(f,a[d]))}return c};return a}();e.StyleLayer=c;var f=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}k(b,a);return b}(c);e.BackgroundStyleLayer=f;f=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(c);e.FillStyleLayer=f;f=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;d=b.getPaintProperty("line-color");b.hasDataDrivenColor=d?d.isDataDriven:
!1;d=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("line-width");b.hasDataDrivenWidth=d?d.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=m.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<h.THIN_LINE_THRESHOLD;return b}k(b,a);return b}(c);e.LineStyleLayer=f;f=function(a){function b(b,c,d){b=a.call(this,
b,c,d)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:
!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(c);e.SymbolStyleLayer=f;c=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=
c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}k(b,a);return b}(c);e.CircleStyleLayer=c;c=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);
this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();e.LineLayout=c;c=function(){return function(a,b,c,f){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,f);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,f);this.optional=a.getLayoutValue("icon-optional",b,f);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,f);this.size=a.getLayoutValue("icon-size",
b,f);this.rotate=a.getLayoutValue("icon-rotate",b,f);this.padding=a.getLayoutValue("icon-padding",b,f);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,f);this.offset=a.getLayoutValue("icon-offset",b,f);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();e.IconLayout=c;c=function(){return function(a,b,c,f){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,f);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,f);this.optional=a.getLayoutValue("text-optional",
b,f);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,f);this.fontArray=a.getLayoutValue("text-font",b,f);this.maxWidth=a.getLayoutValue("text-max-width",b,f);this.lineHeight=a.getLayoutValue("text-line-height",b,f);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,f);this.justify=a.getLayoutValue("text-justify",b,f);this.anchor=a.getLayoutValue("text-anchor",b,f);this.maxAngle=a.getLayoutValue("text-max-angle",b,f);this.size=a.getLayoutValue("text-size",b,f);this.rotate=
a.getLayoutValue("text-rotate",b,f);this.padding=a.getLayoutValue("text-padding",b,f);this.keepUpright=a.getLayoutValue("text-keep-upright",b,f);this.transform=a.getLayoutValue("text-transform",b,f);this.offset=a.getLayoutValue("text-offset",b,f);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();e.TextLayout=c})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(c,e){return function(){function c(e,k,b){this._op=e;"$type"===k?(this._val=b instanceof
Array?b.map(function(b){return c._types.indexOf(b)}):c._types.indexOf(b),this._op+=11):(this._key=k,this._val=b)}c.prototype.filter=function(c){switch(this._op){case 0:return this._val;case 1:return c.values[this._key]===this._val;case 2:return c.values[this._key]!==this._val;case 3:return c.values[this._key]<this._val;case 4:return c.values[this._key]>this._val;case 5:return c.values[this._key]<=this._val;case 6:return c.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(c.values[this._key]);
case 8:return-1===this._val.indexOf(c.values[this._key]);case 9:for(var e=0,b=this._val;e<b.length;e++){var h=b[e];if(h.filter(c))return!0}return!1;case 10:e=0;for(b=this._val;e<b.length;e++)if(h=b[e],!h.filter(c))return!1;return!0;case 11:e=0;for(b=this._val;e<b.length;e++)if(h=b[e],h.filter(c))return!1;return!0;case 12:return c.type===this._val;case 13:return c.type!==this._val;case 14:return c.type<this._val;case 15:return c.type>this._val;case 16:return c.type>=this._val;case 17:return c.type<=
this._val;case 18:return-1!==this._val.indexOf(c.type);case 19:return-1===this._val.indexOf(c.type);case 20:return void 0!==c.values[this._key];case 21:return void 0===c.values[this._key]}};c.createFilter=function(e){if(!e)return new c(0,void 0,!0);var k=e[0];if(1>=e.length)return new c(0,void 0,"any"!==k);switch(k){case "\x3d\x3d":return new c(1,e[1],e[2]);case "!\x3d":return new c(2,e[1],e[2]);case "\x3e":return new c(4,e[1],e[2]);case "\x3c":return new c(3,e[1],e[2]);case "\x3e\x3d":return new c(6,
e[1],e[2]);case "\x3c\x3d":return new c(5,e[1],e[2]);case "in":return new c(7,e[1],e.slice(2));case "!in":return new c(8,e[1],e.slice(2));case "any":return new c(9,void 0,e.slice(1).map(c.createFilter.bind(this)));case "all":return new c(10,void 0,e.slice(1).map(c.createFilter.bind(this)));case "none":return new c(11,void 0,e.slice(1).map(c.createFilter.bind(this)));case "has":return new c(20,e[1],void 0);case "!has":return new c(21,e[1],void 0);default:throw Error("invalid operator: "+k);}};c._types=
["Unknown","Point","LineString","Polygon"];return c}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(){}c.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.lineLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};c.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},
"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",
default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};c.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};c.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};c.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};c.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},
"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,
default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};c.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},
"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};c.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],
default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return c}();e.StyleDefinition=c})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(c,e,k,l){return function(){function c(b,e){this.isDataDriven=!1;var f;switch(b.type){case "number":f=!0;break;case "color":f=
!0;e=c._parseColor(e);break;case "array":f="number"===b.value;break;default:f=!1}null==e&&(e=b.default);f&&"interval"===e.type&&(f=!1);var a=e&&e.stops&&0<e.stops.length;if(a)for(var d=0,g=e.stops;d<g.length;d++){var h=g[d];h[1]=this._validate(h[1],b)}if(this.isDataDriven=e?!!e.property:!1)if(void 0!==e.default&&(e.default=this._validate(e.default,b)),a)switch(e.type){case "identity":this.getValue=this._buildIdentity(e,b);break;case "categorical":this.getValue=this._buildCategorical(e,b);break;default:this.getValue=
f?this._buildInterpolate(e,b):this._buildInterval(e,b)}else this.getValue=this._buildIdentity(e,b);else a?this.getValue=f?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,b),this.getValue=this._buildSimple(e))}c.prototype._validate=function(b,c){if("number"===c.type){if(b<c.minimum)return c.minimum;if(b>c.maximum)return c.maximum}return b};c.prototype._buildSimple=function(b){return function(){return b}};c.prototype._buildIdentity=function(b,e){var f=this;return function(a,
d){var g;d&&(g=d.values[b.property],"color"===e.type&&(g=c._parseColor(g)));void 0===g&&(g=b.default);return void 0!==g?f._validate(g,e):e.default}};c.prototype._buildCategorical=function(b,c){var f=this;return function(a,d){var g;d&&(g=d.values[b.property]);g=f._categorical(g,b.stops);return void 0!==g?g:void 0!==b.default?b.default:c.default}};c.prototype._buildInterval=function(b,c){var f=this;return function(a,d){var g;d&&(g=d.values[b.property]);return"number"===typeof g?f._interval(g,b.stops):
void 0!==b.default?b.default:c.default}};c.prototype._buildInterpolate=function(b,c){var f=this;return function(a,d){var g;d&&(g=d.values[b.property]);return"number"===typeof g?f._interpolate(g,b.stops,b.base||1):void 0!==b.default?b.default:c.default}};c.prototype._buildZoomInterpolate=function(b){var c=this;return function(f){return c._interpolate(f,b.stops,b.base||1)}};c.prototype._buildZoomInterval=function(b){var c=this;return function(f){return c._interval(f,b.stops)}};c.prototype._categorical=
function(b,c){for(var f=c.length,a=0;a<f;a++)if(c[a][0]===b)return c[a][1]};c.prototype._interval=function(b,c){for(var f=c.length,a=0,d=0;d<f;d++)if(c[d][0]<=b)a=d;else break;return c[a][1]};c.prototype._interpolate=function(b,c,f){for(var a,d,g=c.length,e=0;e<g;e++){var h=c[e];if(h[0]<=b)a=h;else{d=h;break}}if(a&&d){e=d[0]-a[0];b-=a[0];f=1===f?b/e:(Math.pow(f,b)-1)/(Math.pow(f,e)-1);if(Array.isArray(a[1])){a=a[1];d=d[1];b=[];for(e=0;e<a.length;e++)b.push(l.interpolate(a[e],d[e],f));return b}return l.interpolate(a[1],
d[1],f)}if(a)return a[1];if(d)return d[1]};c._isEmpty=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0};c._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b){if(b=new k(b),!this._isEmpty(b))return k.toUnitRGBA(b)}else return b&&b.default&&(b.default=c._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(function(b){return[b[0],c._parseColor(b[1])]})),b};return c}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/maybe",
"./core/accessorSupport/ensureType"],function(c,e,k,l,m){function b(a){return k.clamp(m.ensureInteger(a),0,255)}function h(a,b,c){a=Number(a);return isNaN(a)?c:a<b?b:a>c?c:a}function f(a,b,c){0>c&&++c;1<c&&--c;var d=6*c;return 1>d?a+(b-a)*d:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}c=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,c,f,e){void 0===e&&(e=new a);e.r=Math.round(b.r+(c.r-b.r)*f);e.g=Math.round(b.g+(c.g-b.g)*f);e.b=Math.round(b.b+(c.b-b.b)*
f);e.a=b.a+(c.a-b.a)*f;return e._sanitize()};a.fromRgb=function(b,c){var d=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(d){b=d[2].split(/\s*,\s*/);d=d[1];if("rgb"===d&&3===b.length||"rgba"===d&&4===b.length)return d=b[0],"%"===d.charAt(d.length-1)?(d=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(d[3]=parseFloat(b[3])),a.fromArray(d,c)):a.fromArray(b.map(function(a){return parseFloat(a)}),c);if("hsl"===d&&3===b.length||"hsla"===d&&4===b.length){var d=(parseFloat(b[0])%
360+360)%360/360,g=parseFloat(b[1])/100,e=parseFloat(b[2])/100,g=.5>=e?e*(g+1):e+g-e*g,e=2*e-g,d=[256*f(e,g,d+1/3),256*f(e,g,d),256*f(e,g,d-1/3),1];4===b.length&&(d[3]=parseFloat(b[3]));return a.fromArray(d,c)}}return null};a.fromHex=function(b,c){void 0===c&&(c=new a);var d=4===b.length?4:8,g=(1<<d)-1,e=Number("0x"+b.substr(1));if(isNaN(e))return null;["b","g","r"].forEach(function(a){var b=e&g;e>>=d;c[a]=4===d?17*b:b});c.a=1;return c};a.fromArray=function(b,c){void 0===c&&(c=new a);c._set(Number(b[0]),
Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};a.fromString=function(b,c){var d=a.named[b];return d&&a.fromArray(d,c)||a.fromRgb(b,c)||a.fromHex(b,c)};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};a.toUnitRGB=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};a.toUnitRGBA=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};a.prototype.setColor=function(b){"string"===typeof b?a.fromString(b,this):Array.isArray(b)?
a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[b(this.r),b(this.g),b(this.b),b(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};a.prototype._sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};a.prototype._set=function(a,b,
c,e){this.r=a;this.g=b;this.b=c;this.a=e};a.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,
235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,
204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,
128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,
206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,
225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,
128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();c.prototype.declaredClass="esri.Color";return c})},"esri/core/mathUtils":function(){define(["require",
"exports"],function(c,e){function k(b,c,e){return b<c?c:b>e?e:b}function l(b){m[0]=b;return m[0]}Object.defineProperty(e,"__esModule",{value:!0});var m=new Float32Array(1);e.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};e.isNaN=Number.isNaN||function(b){return b!==b};e.nextHighestPowerOfTwo=function(b){--b;for(var c=1;32>c;c<<=1)b|=b>>c;return b+1};e.clamp=k;e.glClamp=function(b,c,e){return Math.min(Math.max(b,c),e)};e.isPowerOfTwo=function(b){return 0===(b&
b-1)};e.nextHighestPowerOfTen=function(b){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(b)))};e.sign=Math.sign||function(b){return+(0<b)-+(0>b)||+b};e.log2=Math.log2||function(b){return Math.log(b)/Math.LN2};e.lerp=function(b,c,e){return b+(c-b)*e};e.deg2rad=function(b){return b*Math.PI/180};e.rad2deg=function(b){return 180*b/Math.PI};e.reciprocalClamped=function(b,c){void 0===c&&(c=1E-6);return(0>b?-1:1)/Math.max(Math.abs(b),c)};e.acosClamped=function(b){return Math.acos(k(b,-1,1))};e.asinClamped=
function(b){return Math.asin(k(b,-1,1))};e.floatEqualRelative=function(b,c,f){void 0===f&&(f=1E-6);if(e.isNaN(b)||e.isNaN(c))return!1;if(b===c)return!0;var a=Math.abs(b-c),d=Math.abs(b),g=Math.abs(c);if(0===b||0===c||1E-12>d&&1E-12>g){if(a>.01*f)return!1}else if(a/(d+g)>f)return!1;return!0};e.floatEqualAbsolute=function(b,c,f){void 0===f&&(f=1E-6);return e.isNaN(b)||e.isNaN(c)?!1:(b>c?b-c:c-b)<=f};e.clampFloat32=function(b){return l(Math.max(-e.NUMBER_MAX_FLOAT32,Math.min(b,e.NUMBER_MAX_FLOAT32)))};
e.NUMBER_MAX_FLOAT32=l(3.4028234663852886E38)})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.WEBGL_MAX_STOPS=8;e.WEBGL_MAX_INNER_STOPS=e.WEBGL_MAX_STOPS-2;e.NAN_MAGIC_NUMBER=1E-30;e.EXTRUDE_SCALE=64;e.PICTURE_FILL_COLOR=4294967295;e.TILE_SIZE=512;e.RASTER_TILE_SIZE=256;e.ANGLE_FACTOR_256=256/360;e.DEBUG_LABELS=!1;e.COLLISION_BUCKET_SIZE=128;e.DOT_DENSITY_MAX_FIELDS=8;e.MAGIC_LABEL_LINE_HEIGHT=29;
e.COLLISION_MAX_ZOOM_DELTA=1;e.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;e.COLLISION_BOX_PADDING=16;e.COLLISION_TILE_BOX_SIZE=e.TILE_SIZE/e.COLLISION_BUCKET_SIZE;e.COLLISION_PLACEMENT_PADDING=8;e.HEURISTIC_GLYPHS_PER_LINE=50;e.HEURISTIC_GLYPHS_PER_FEATURE=10;e.GLYPH_SIZE=24;e.TEXT_PLACEMENT_PADDING=8;e.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};e.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;e.TEXTURE_BINDING_SPRITE_ATLAS=0;e.TEXTURE_BINDING_GLYPH_ATLAS=0;e.TEXTURE_BINDING_BITMAP=
0;e.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;e.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;e.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;e.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;e.TEXTURE_BINDING_HIGHLIGHT_0=5;e.TEXTURE_BINDING_HIGHLIGHT_1=6;e.TEXTURE_BINDING_RENDERER_0=5;e.TEXTURE_BINDING_RENDERER_1=6;e.ATTRIBUTE_DATA_FILTER_FLAGS=0;e.ATTRIBUTE_DATA_ANIMATION=1;e.ATTRIBUTE_DATA_VV=2;e.ATTRIBUTE_DATA_DD0=3;e.ATTRIBUTE_DATA_DD1=3;e.MAX_FILTERS=2;e.HIGHLIGHT_FLAG=1;e.FILTER_FLAG_0=2;e.EFFECT_FLAG_0=4;e.THIN_LINE_THRESHOLD=2.5;
e.HITTEST_SEARCH_SIZE=24;e.MAX_ANIMATION_TIME_MS=2E3;e.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;e.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;e.VTL_HIGH_RES_CUTOFF=1.15;e.MAX_GPU_UPLOADS_PER_FRAME=2})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","../../../../symbols/cim/enums","./mesh/templates/util"],function(c,e,k,l){function m(){if(p.cosine<q.innerBisectorAutoSplitThreshold){p.splitInner=!0;p.gapInner=!0;var a=Math.max(q.innerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-
a*a)/a;p.leftInner.x=p.nextNormal.x+p.sign*a*p.outbound.x;p.leftInner.y=p.nextNormal.y+p.sign*a*p.outbound.y;p.rightInner.x=p.prevNormal.x-p.sign*a*p.inbound.x;p.rightInner.y=p.prevNormal.y-p.sign*a*p.inbound.y}else q.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);p.cosine<q.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,a=Math.max(q.outerBisectorAutoSplitThreshold,p.cosine),
a=Math.sqrt(1-a*a)/a,p.leftOuter.x=p.prevNormal.x-p.sign*a*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*a*p.inbound.y,p.rightOuter.x=p.nextNormal.x+p.sign*a*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*a*p.outbound.y):q.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}function b(){if(u)p.distance=0,u=p.isCap=p.isFirstVertex=p.isLastVertex=!1;else{if(0===w)if(p.isFirstVertex=0===n,
x=g[n],0===n){if(w=0,p.closed){p.inbound.x=x.x-g[g.length-2].x;p.inbound.y=x.y-g[g.length-2].y;var a=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=a;p.inbound.y/=a}}else p.inbound.x=x.x-z.x,p.inbound.y=x.y-z.y,w=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=w,p.inbound.y/=w;p.distance+w-t<=q.wrapDistance?(n<g.length-1?(p.outbound.x=g[n+1].x-x.x,p.outbound.y=g[n+1].y-x.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=
a,p.outbound.y/=a):p.closed?(p.outbound.x=g[1].x-x.x,p.outbound.y=g[1].y-x.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0!==n||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++n,p.isLastVertex=n===g.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=w-t,t=w=0,u=p.distance+w-t===q.wrapDistance,p.currentVertex.x=x.x,p.currentVertex.y=x.y,z=x,x=null):(p.outbound.x=
p.inbound.x,p.outbound.y=p.inbound.y,t+=q.wrapDistance-p.distance,p.distance=q.wrapDistance,u=!0,a=t/w,p.currentVertex.x=(1-a)*z.x+a*x.x,p.currentVertex.y=(1-a)*z.y+a*x.y)}}function h(){p.prevNormal.x=-p.inbound.y;p.prevNormal.y=p.inbound.x;p.nextNormal.x=-p.outbound.y;p.nextNormal.y=p.outbound.x}function f(){h();p.bisector.x=p.prevNormal.x+p.nextNormal.x;p.bisector.y=p.prevNormal.y+p.nextNormal.y;var a=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);.001>a?(p.bisector.x=void 0,p.bisector.y=
void 0,p.cosine=0,p.sign=void 0):(p.bisector.x/=a,p.bisector.y/=a,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*p.nextNormal.y,p.sign=0<=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x?1:-1)}function a(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}
function d(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}Object.defineProperty(e,"__esModule",{value:!0});c=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};
this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();e.TessellationState=c;e.tessellate=function(c,e,k){q.trackDistance=null!=e.trackDistance?e.trackDistance:!1;q.wrapDistance=null!=e.wrapDistance?e.wrapDistance:65535;q.thin=null!=e.thin?e.thin:!1;q.initialDistance=null!=e.initialDistance?e.initialDistance:0;q.enableOuterBisectorSplit=null!=
e.enableOuterBisectorSplit?e.enableOuterBisectorSplit:!1;q.outerBisectorAutoSplitThreshold=null!=e.outerBisectorAutoSplitThreshold?e.outerBisectorAutoSplitThreshold:0;q.enableInnerBisectorSplit=null!=e.enableOuterBisectorSplit?e.enableOuterBisectorSplit:!1;q.innerBisectorAutoSplitThreshold=null!=e.innerBisectorAutoSplitThreshold?e.innerBisectorAutoSplitThreshold:0;g=c;r=k;t=w=n=0;u=!1;x=z=null;p.currentVertex.x=null;p.currentVertex.y=null;p.distance=q.initialDistance;c=g[0];e=g[g.length-1];p.canSplit=
!1;p.closed=c.x===e.x&&c.y===e.y;if(!(2>g.length||2===g.length&&p.closed))if(q.thin)if(q.trackDistance)for(b(),h(),d(1);w-t>q.wrapDistance||n<g.length;)b(),h(),d(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2;else for(;n<g.length;)0<n&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),n<g.length-1?(p.outbound.x=g[n+1].x-g[n].x,p.outbound.y=g[n+1].y-g[n].y,c=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.distance+=c,p.outbound.x/=c,p.outbound.y/=c):(p.outbound.x=
p.inbound.x,p.outbound.y=p.inbound.y),0===n&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=g[n].x,p.currentVertex.y=g[n].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===n?(r.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(r.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,r.bridge(p),p.leftExit0=p.rightExit0,
p.leftExit2=p.rightExit2),++n;else{if(q.enableOuterBisectorSplit||0<q.outerBisectorAutoSplitThreshold||q.enableInnerBisectorSplit||0<q.innerBisectorAutoSplitThreshold)for(p.canSplit=!0,b(),f(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,a(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;w-t>q.wrapDistance||n<g.length-1||n<g.length&&(!p.closed||q.trackDistance);)b(),f(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,a(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=
p.rightExit1,p.leftExit2=p.rightExit2;else for(b(),f(),a(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;w-t>q.wrapDistance||n<g.length-1||n<g.length&&(!p.closed||q.trackDistance);)b(),f(),a(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!q.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}};
e.cleanup=function(){r=g=null};e.splitVertex=m;var g,q={},r,n=void 0,w,t,u,z,x,p=new c;c=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=k.CapType.BUTT;this.joinType=k.JoinType.MITER;this.miterLimitCosine=l.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}a.prototype.vertex=function(a){var b=this.joinType===k.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,
c=a.isCap&&this.capType!==k.CapType.BUTT,d=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(d=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,
a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(m(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,
a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?
(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,
a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||d||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(d&&this.joinType!==k.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this.capType===k.CapType.ROUND||d&&this.joinType===k.JoinType.ROUND){var g=d=c=void 0,e=void 0,f=void 0,h=void 0;if(a.isCap){var n=
Math.PI,f=Math.ceil(n/this.radsPerSlice),h=n/f;a.isFirstVertex?(c=a.prevNormal.x,d=a.prevNormal.y,g=a.entry0,e=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,d=-a.nextNormal.y,g=a.exit2,e=a.exit0)}else n=2*Math.acos(a.cosine),f=Math.ceil(n/this.radsPerSlice),h=n/f,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,d=0<a.sign?-a.prevNormal.y:a.nextNormal.y,g=0<a.sign?a.entry2:a.exit0,e=0<a.sign?a.exit2:a.entry0;for(var n=Math.cos(h),h=Math.sin(h),q=h*c+n*d,c=n*c-h*d,d=q,l,q=void 0,p=0;p<f;++p)l=q,p<f-1&&(q=a.isCap?
this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,0,a.sign,a.distance)),this.writeTriangle(0===p?g:l,b,p===f-1?e:q),l=h*c+n*d,c=n*c-h*d,d=l}else c&&this.capType===k.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,g=d=void 0,this.textured?(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),g=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance)):(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),g=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,a.entry2,g),this.writeTriangle(b,g,d),this.writeTriangle(b,d,a.entry0)):(this.writeTriangle(b,g,a.exit2),
this.writeTriangle(b,d,g),this.writeTriangle(b,a.exit0,d)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,
a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();e.StandardTessellationCallbacks=c;c=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();e.ThinTessellationCallbacks=c})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(c,e){function k(c,e){return Math.sqrt(c*
c+e*e)}Object.defineProperty(e,"__esModule",{value:!0});e.sub=function(c,e,b){c[0]=e[0]-b[0];c[1]=e[1]-b[1];return c};e.len=k;e.normalize=function(c){var e=k(c[0],c[1]);c[0]/=e;c[1]/=e};e.dist=function(c,e){return k(c[0]-e[0],c[1]-e[1])};e.isFunction=function(c){return"function"===typeof c};e.getLimitCosine=function(c){return 1/Math.max(c,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict","./GeometryUtils","../webgl/Geometry"],function(c,e,k,l,
m){Object.defineProperty(e,"__esModule",{value:!0});c=function(){return function(b,c,e,f,h){void 0===e&&(e=0);void 0===f&&(f=-1);void 0===h&&(h=a);this.x=b;this.y=c;this.angle=e;this.segment=f;this.minzoom=h}}();e.Anchor=c;var b=function(){return function(b,c,e,f,h,k,m){void 0===h&&(h=!1);void 0===k&&(k=a);void 0===m&&(m=l.C_INFINITY);this.anchor=b;this.labelAngle=c;this.glyphAngle=e;this.page=f;this.upsideDown=h;this.minzoom=k;this.maxzoom=m}}(),h=function(){return function(a,b,c,e,f,h,k,l,m,x){this.tl=
a;this.tr=b;this.bl=c;this.br=e;this.mosaicRect=f;this.labelAngle=h;this.anchor=k;this.minzoom=l;this.maxzoom=m;this.page=x}}();e.PlacedSymbol=h;var f=function(){return function(a,b){this.footprint=a;this.shapes=b}}();e.Placement=f;var a=.5;c=function(){function c(){this.mapAngle=0;this._conflictEngine=new k.ConflictEngine}c.prototype.reset=function(){this._conflictEngine.reset()};c.prototype.setAngle=function(a){this.mapAngle=a};c.prototype.getIconPlacement=function(b,c,d,e,w){var g=d.width/d.pixelRatio,
n=d.height/d.pixelRatio,q=w.offset[0]-g/2,r=w.offset[1]-n/2,g=q+g,n=r+n,p=d.rect,A=2/d.pixelRatio,v=q-A,y=r-A,B=v+p.width/d.pixelRatio,F=y+p.height/d.pixelRatio;d=new m.Point(v,y);A=new m.Point(B,F);v=new m.Point(v,F);y=new m.Point(B,y);B=w.rotate*l.C_DEG_TO_RAD;F=1===w.rotationAlignment;0<=b.segment&&!F&&(B+=b.angle);if(0!==B){var J=Math.cos(B),I=Math.sin(B);d.rotate(J,I);A.rotate(J,I);v.rotate(J,I);y.rotate(J,I)}J=8*w.padding;I=new m.Point(b.x,b.y);b=new k.Footprint(this.mapAngle,J,F);b.addBox(I,
new k.Box(q,r,g,n),e,B,c,a,l.C_INFINITY);c=new h(d,y,v,A,p,0,I,a,l.C_INFINITY,0);c=new f(b,[c]);e=a;w.allowOverlap||(e=this._conflictEngine.getMinZoom(c.footprint,e));b.minzoom=e;return c};c.prototype.getTextPlacement=function(c,d,e,n,w,t,u){for(var g=new m.Point(c.x,c.y),q=u.rotate*l.C_DEG_TO_RAD,p=0===u.rotationAlignment,r=u.keepUpright,v=a,y=!p,B=y?0:c.angle,F=0<=c.segment&&p,y=new k.Footprint(this.mapAngle,8*u.padding,y),J=[],I=!F,C=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,G=C,D=E,
H=F?r:p&&r,K,L=0;L<n.length;L++){var O=n[L],M=O.glyphMosaicItem;if(M&&!M.rect.isEmpty){var N=M.rect,S=M.metrics,Q=M.page;I&&(K&&K!==O.y&&(y.addBox(g,new k.Box(C,G,E,D),w,q,d,a,l.C_INFINITY),C=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,G=C,D=E),K=O.y);var V=[];if(F){if(M=(e.x+O.x+S.left-4+.5*M.metrics.width)*w,v=this._placeGlyph(c,v,M,t,c.segment,1,Q,V),r&&(v=this._placeGlyph(c,v,M,t,c.segment,-1,Q,V)),2<=v)break}else V.push(new b(g,B,B,Q)),p&&r&&V.push(new b(g,B+l.C_PI,B+l.C_PI,Q,!0));for(var Q=
O.x+e.x+S.left,O=O.y+e.y-S.top,M=Q+S.width,S=O+S.height,Y=new m.Point(Q-4,O-4),T=new m.Point(Y.x+N.width,Y.y+N.height),W=new m.Point(Y.x,T.y),aa=new m.Point(T.x,Y.y),R=0;R<V.length;R++){var P=V[R],da=Y.clone(),ea=W.clone(),Z=aa.clone(),fa=T.clone(),ga=O,U=S,ba=P.glyphAngle+q;if(0!==ba){var X=Math.cos(ba),ha=Math.sin(ba);da.rotate(X,ha);fa.rotate(X,ha);ea.rotate(X,ha);Z.rotate(X,ha)}J.push(new h(da,Z,ea,fa,N,P.labelAngle,P.anchor,P.minzoom,P.maxzoom,P.page));if(!H||this._legible(P.labelAngle))I?(Q<
C&&(C=Q),ga<G&&(G=ga),M>E&&(E=M),U>D&&(D=U)):2>P.minzoom&&y.addBox(P.anchor,new k.Box(Q,ga,M,U),w,ba,d,P.minzoom,P.maxzoom)}}}if(2<=v)return null;I&&y.addBox(g,new k.Box(C,G,E,D),w,q,d,a,l.C_INFINITY);c=new f(y,J);u.allowOverlap||(v=this._conflictEngine.getMinZoom(c.footprint,v));y.minzoom=v;return c};c.prototype.add=function(a){this._conflictEngine.add(a.footprint)};c.prototype._legible=function(a){a=l.radToByte(a);return 65>a||193<=a};c.prototype._placeGlyph=function(a,c,d,e,f,h,k,z){var g=0>h?
l.positiveMod(a.angle+l.C_PI,l.C_2PI):a.angle,n=this._legible(g),q=0;0>d&&(h*=-1,d*=-1,q=l.C_PI);0<h&&++f;a=new m.Point(a.x,a.y);var r=e[f],t=l.C_INFINITY;if(e.length<=f)return t;for(;;){var w=r.x-a.x,u=r.y-a.y,J=Math.sqrt(w*w+u*u),I=Math.max(d/J,c),w=l.positiveMod(Math.atan2(u/J,w/J)+q,l.C_2PI);z.push(new b(a,g,w,k,n,I,t));if(I<=c)return I;a=r.clone();do{f+=h;if(e.length<=f||0>f)return I;r=e[f]}while(a.isEqual(r));t=r.x-a.x;w=r.y-a.y;u=Math.sqrt(t*t+w*w);t*=J/u;w*=J/u;a.x-=t;a.y-=w;t=I}};return c}();
e.PlacementEngine=c})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function b(a,b,c,e){this.left=a;this.top=b;this.right=c;this.bottom=e}b.prototype.clone=function(){return new b(this.left,this.top,this.right,this.bottom)};b.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};b.prototype.rotate=
function(a,b){var c=this.left,d=this.right,e=this.top,f=this.bottom,h=c*a-e*b,k=c*b+e*a,l=d*a-e*b,e=d*b+e*a,m=c*a-f*b,c=c*b+f*a,x=d*a-f*b;a=d*b+f*a;this.left=Math.min(h,l,m,x);this.top=Math.min(k,e,c,a);this.right=Math.max(h,l,m,x);this.bottom=Math.max(k,e,c,a)};b.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return b}();e.Box=c;var b=function(){function b(a,b,c,e){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=e}b.prototype.left=function(){return this.corners[0].x};
b.prototype.right=function(){return this.corners[2].x};b.prototype.top=function(){return this.corners[1].y};b.prototype.bottom=function(){return this.corners[3].y};return b}();e.Obstacle=b;c=function(){function c(a,b,c){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=c;this.minzoom=h}c.prototype.addBox=function(a,c,e,f,h,k,l){var d=c.left*e-this.padding,g=c.top*e-this.padding,n=c.right*e+this.padding;c=c.bottom*e+this.padding;d=[new m.Point(d,g),new m.Point(n,g),new m.Point(n,
c),new m.Point(d,c)];0!==this.mapAngle&&(g=Math.cos(this.mapAngle),n=Math.sin(this.mapAngle),a=a.clone(),a.rotate(g,n));this.isScreenAligned||(f+=this.mapAngle);if(0!==f){g=Math.cos(f);n=Math.sin(f);d[0].rotate(g,n);d[1].rotate(g,n);d[2].rotate(g,n);d[3].rotate(g,n);f=0;for(g=1;4>g;g++)d[g].x<d[f].x?f=g:d[g].x===d[f].x&&d[g].y<d[f].y&&(f=g);if(f){n=[];for(g=0;4>g;g++)n.push(d[(g+f)%4]);d=n}}if(h)for(f=0,g=d;f<g.length;f++)g[f].move(h[0],h[1]);this.obstacles.push(new b(a,d,k,l))};return c}();e.Footprint=
c;var h=.5;c=function(){function b(){this._grid=[]}b.prototype.reset=function(){this._grid=[]};b.prototype.add=function(a){var c=this._grid,e=0;for(a=a.obstacles;e<a.length;e++)for(var f=a[e],h=f.anchor,k=b._gridClamp(Math.min(f.left()+h.x,h.x)),l=b._gridClamp(Math.max(f.right()+h.x,h.x)),m=b._gridClamp(Math.min(f.top()+h.y,h.y)),h=b._gridClamp(Math.max(f.bottom()+h.y,h.y));m<=h;m++)for(var u=k;u<=l;u++){var z=c[16*m+u];z||(z=c[16*m+u]=[]);z.push(f)}};b.prototype.getMinZoom=function(a,c){if(0===a.obstacles.length)return l.C_INFINITY;
var d=this._grid,e=0;for(a=a.obstacles;e<a.length;e++)for(var f=a[e],h=f.anchor,k=b._gridClamp(Math.min(f.left()+h.x,h.x)),m=b._gridClamp(Math.max(f.right()+h.x,h.x)),u=b._gridClamp(Math.min(f.top()+h.y,h.y)),h=b._gridClamp(Math.max(f.bottom()+h.y,h.y));u<=h;u++)for(var z=k;z<=m;z++){var x=d[16*u+z];if(x)for(var p=0;p<x.length;p++){var A=x[p];if(!(f.minzoom>=A.maxzoom||A.minzoom>=f.maxzoom)&&(c=b._calcPlacementZoom(f,A,c),2<=c))return l.C_INFINITY}}return 2>c?c:l.C_INFINITY};b._gridClamp=function(a){return k.clamp(a>>
9,-7,8)};b._calcPlacementZoom=function(a,c,e){var d=c.anchor.x-a.anchor.x;if(0===d&&(a.right()<c.left()||c.right()<a.left()))return e;var g=c.anchor.y-a.anchor.y;if(0===g&&(a.bottom()<c.top()||c.bottom()<a.top()))return e;var f=l.C_INFINITY;if(0!==d){var h=(0<d?a.right()-c.left():a.left()-c.right())/d;h<f&&(f=h);d=0<d?b._calcExtZoomX(a,c,h):b._calcExtZoomX(c,a,h);d<f&&(f=d)}0!==g&&(d=(0<g?a.bottom()-c.top():a.top()-c.bottom())/g,d<f&&(f=d),g=0<g?b._calcExtZoomY(a,c,d):b._calcExtZoomY(c,a,d),g<f&&
(f=g));if(f<a.minzoom||f<c.minzoom)return e;f=Math.min(f,a.maxzoom,c.maxzoom);f<e&&(f=e);return f};b._calcExtZoomX=function(a,b,c){var d,e,f;if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/c){d=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=d*e-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[0],d=a.corners[3],e=a.corners[2],f=-1):
a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[1],d=a.corners[3],e=a.corners[2],f=-1)}else d=a.corners[2].x-a.corners[1].x,f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,0>d*e-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[0],d=a.corners[1],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/
c?(c=a.corners[2],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[3],d=a.corners[1],e=a.corners[2],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};b._calcExtZoomY=function(a,b,c){var d,e,f;if(a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[1].x/c){d=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;0>d*e-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/
c?(c=a.corners[2],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[1],d=a.corners[2],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[0],d=a.corners[2],e=a.corners[3],f=-1)}else d=a.corners[3].x-a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<d*e-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+b.corners[1].x/c?(c=a.corners[0],d=b.corners[1],e=b.corners[2],
f=1):(c=b.corners[1],d=a.corners[0],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[2],d=a.corners[0],e=a.corners[3],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};return b}();e.ConflictEngine=c})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/BidiEngine ./Bucket ./GeometryUtils ./Placement ./TextShaping ./style/StyleLayer ../webgl/Geometry".split(" "),
function(c,e,k,l,m,b,h,f,a,d){function g(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(c){function e(a,b,d,e,f,g,h,k){b=c.call(this,a,b)||this;b._markerMap=new Map;b._glyphMap=new Map;b._glyphBufferDataStorage=new Map;b._sdfMarkers=!1;if(a.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");
if(a.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");b._iconVertexBuffer=d;b._iconIndexBuffer=e;b._textVertexBuffer=f;b._textIndexBuffer=g;b._placementEngine=h;b._workerTileHandler=k;return b}k(e,c);Object.defineProperty(e.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,
"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});e.prototype.copy=function(a,b,c,d,f){a=new e(this.layer,this.zoom,a,b,c,d,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=d.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;
a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};e.prototype.getResources=function(a,b,c){var d=this.layer,f=this.zoom,g=d.hasDataDrivenIcon,h=d.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=d.getLayoutProperty("icon-image"),n=d.getLayoutProperty("text-field"),l=d.getLayoutValue("text-font",f),m=d.getLayoutValue("text-transform",f),q=[],r=[1,1,1,1],t=1,w=1,E=[1,1,1,1],G=1,D=1,H=0,K=this._features;H<K.length;H++){var L=K[H],O=L.getGeometry(a);if(O&&0!==
O.length){var M=void 0;k&&(M=d.getLayoutValue("icon-image",f,L),k.isDataDriven||(M=this._replaceKeys(M,L.values)),M&&b.add(M));var N=void 0,S=!1;if(n&&((N=d.getLayoutValue("text-field",f,L))&&!n.isDataDriven&&(N=this._replaceKeys(N,L.values)),N)){N=N.replace(/\\n/g,"\n");switch(m){case 2:N=N.toLowerCase();break;case 1:N=N.toUpperCase()}e._bidiEngine.hasBidiChar(N)&&(S=void 0,S="rtl"===e._bidiEngine.checkContextual(N)?"IDNNN":"ICNNN",N=e._bidiEngine.bidiTransform(N,S,"VLYSN"),S=!0);var Q=N.length;
if(0<Q)for(var V=0,Y=l;V<Y.length;V++){var T=Y[V],W=c[T];W||(W=c[T]=new Set);for(T=0;T<Q;T++){var aa=N.charCodeAt(T);W.add(aa)}}}if(M||N)Q=d.getLayoutValue("icon-size",f,L),V=d.getLayoutValue("text-size",f,L),d.hasDataDrivenIconColor&&(r=d.getPaintValue("icon-color",f,L)),d.hasDataDrivenIconOpacity&&(t=d.getPaintValue("icon-opacity",f,L)),d.hasDataDrivenIconSize&&(w=Q),d.hasDataDrivenTextColor&&(E=d.getPaintValue("text-color",f,L)),d.hasDataDrivenTextOpacity&&(G=d.getPaintValue("text-opacity",f,L)),
d.hasDataDrivenTextSize&&(D=V),L={sprite:M,label:N,rtl:S,type:L.type,geometry:O,iconSize:Q,iconRotate:d.getLayoutValue("icon-rotate",f,L),ddIconValues:g?{color:r,opacity:t,size:w}:null,textSize:V,textRotate:d.getLayoutValue("text-rotate",f,L),ddTextValues:h?{color:E,opacity:G,size:D}:null},q.push(L)}}this._symbolFeatures=q};e.prototype.processFeatures=function(c){c&&c.setExtent(this.layerExtent);var d=this.layer,k=this.zoom;c=this._isLinePlacement=1===d.getLayoutValue("symbol-placement",k);var n=
8*d.getLayoutValue("symbol-spacing",k),l=d.getLayoutProperty("icon-image"),m=d.getLayoutProperty("text-field"),p=this._workerTileHandler,q,r;l&&(this._iconLayout=new a.IconLayout(d,k,c),q=p.getSpriteItems(),r=this._getTranslate(!0));var y,B,F;if(m){y=this._textLayout=new a.TextLayout(d,k,c);this._fontArray=y.fontArray;F=.5;switch(y.anchor){case 5:case 1:case 7:F=0;break;case 6:case 2:case 8:F=1}B=.5;switch(y.anchor){case 5:case 3:case 6:B=0;break;case 7:case 4:case 8:B=1}d=.5;switch(y.justify){case 0:d=
0;break;case 2:d=1}var k=24*y.letterSpacing,l=c?0:24*y.maxWidth,m=24*y.lineHeight,J=[24*y.offset[0],24*y.offset[1]];y=this._fontArray.map(function(a){return p.getGlyphItems(a)});B=new f.TextShaping(y,l,m,k,J,F,B,d);F=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=d=[];k=this._textLayout;l=1;k&&k.size&&(l=k.size/24);
m=k?k.maxAngle*b.C_DEG_TO_RAD:0;y=k?8*k.size:0;for(var J=0,I=this._symbolFeatures;J<I.length;J++){var C=I[J],E=void 0;C.sprite&&(E=q[C.sprite])&&E.sdf&&(this._sdfMarkers=!0);var G=void 0,D=C.label,H=0;if(D&&(G=B.getShaping(D,C.rtl))&&0<G.length){for(var H=1E30,D=-1E30,K=0,L=G;K<L.length;K++)var O=L[K],H=Math.min(H,O.x),D=Math.max(D,O.x);H=(D-H+48)*l*8}D=0;for(K=C.geometry;D<K.length;D++){var L=K[D],M=void 0;c?(G&&0<G.length&&k&&k.size&&e._smoothVertices(L,8*k.size*(2+Math.min(2,4*Math.abs(k.offset[1])))),
M=e._findAnchors(L,n,H)):M=3===C.type?e._findCentroid(L):[new h.Anchor(L[0].x,L[0].y)];for(O=0;O<M.length;O++){var N=M[O];0>N.x||4096<N.x||0>N.y||4096<N.y||c&&0<H&&0===k.rotationAlignment&&!e._honorsTextMaxAngle(L,N,H,m,y)||d.push({shaping:G,line:L,iconMosaicItem:E,anchor:N,iconSize:C.iconSize,iconRotate:C.iconRotate,ddIconValues:C.ddIconValues,textSize:C.textSize,textRotate:C.textRotate,ddTextValues:C.ddTextValues})}}}d.sort(g);for(q=0;q<d.length;q++)this._processFeature(d[q],r,F);this._addPlacedGlyphs()};
e.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this.layer,b;a.getLayoutProperty("icon-image")&&(b=this._getTranslate(!0));var c;a.getLayoutProperty("text-field")&&(c=this._getTranslate(!1));for(var a=0,d=this._symbolInstances;a<d.length;a++)this._processFeature(d[a],b,c);this._addPlacedGlyphs()};e.prototype.assignBufferInfo=
function(){};e.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};e.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};e.prototype._processFeature=
function(a,c,e){var f=a.line,g=a.iconMosaicItem,h=a.shaping,k=a.anchor,n=this._iconLayout,l=n&&!!g,m=!0,q=1;l&&(n.size=a.iconSize,n.rotate=a.iconRotate,q=8*n.size,m=n.optional||!g);var r=this._textLayout,t=r&&h&&0<h.length,w;w=1;var C=!0;t&&(r.size=a.textSize,r.rotate=a.textRotate,w=r.size/24,w*=8,C=r.optional||!h||0===h.length);var E=new d.Point(0,-17),G;l&&(G=this._placementEngine.getIconPlacement(k,c,g,q,n),k.minzoom>G.footprint.minzoom&&(G.footprint.minzoom=k.minzoom),G.footprint.minzoom===b.C_INFINITY&&
(G=null));if(G||m){var D;t&&(D=this._placementEngine.getTextPlacement(k,e,E,h,w,f,r))&&(k.minzoom>D.footprint.minzoom&&(D.footprint.minzoom=k.minzoom),D.footprint.minzoom===b.C_INFINITY&&(D=null));if(D||C)G&&D||(C||m?C||D?m||G||(D=null):G=null:D=G=null),G&&D&&!C&&!m&&(c=Math.max(G.footprint.minzoom,D.footprint.minzoom),G.footprint.minzoom=c,D.footprint.minzoom=c),D&&(r.ignorePlacement||this._placementEngine.add(D),this._storePlacedGlyphs(D.shapes,D.footprint.minzoom,this.zoom,a.ddTextValues)),G&&
(n.ignorePlacement||this._placementEngine.add(G),this._addPlacedIcons(G.shapes,G.footprint.minzoom,this.zoom,g.page,a.ddIconValues))}};e.prototype._addPlacedIcons=function(a,c,d,e,f){c=Math.max(d+b.log2(c),0);for(var g=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var n=a[k],l=Math.max(d+b.log2(n.minzoom),c),m=Math.min(d+b.log2(n.maxzoom),25);if(!(m<=l)){var q=n.tl,r=n.tr,t=n.bl,w=n.br,u=n.mosaicRect,z=n.labelAngle,n=n.anchor,D=g.index,H=u.x,K=u.y,L=H+u.width,u=K+u.height;g.add(n.x,
n.y,q.x,q.y,H,K,z,l,m,c,f);g.add(n.x,n.y,r.x,r.y,L,K,z,l,m,c,f);g.add(n.x,n.y,t.x,t.y,H,u,z,l,m,c,f);g.add(n.x,n.y,w.x,w.y,L,u,z,l,m,c,f);h.add(D+0,D+1,D+2);h.add(D+1,D+2,D+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};e.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var g=
d[f],h=b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],g.xmin,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,
g.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(e)?a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};e.prototype._storePlacedGlyphs=function(a,c,d,e){c=Math.max(d+b.log2(c),0);for(var f=0;f<a.length;f++){var g=a[f],h=Math.max(d+b.log2(g.minzoom),c),k=Math.min(d+b.log2(g.maxzoom),25);if(!(k<=h)){var n=g.tl,l=g.tr,m=g.bl,q=g.br,r=g.labelAngle,t=g.anchor,u=g.mosaicRect;this._glyphBufferDataStorage.has(g.page)||
this._glyphBufferDataStorage.set(g.page,[]);this._glyphBufferDataStorage.get(g.page).push({glyphAnchor:[t.x,t.y],tl:[n.x,n.y],tr:[l.x,l.y],bl:[m.x,m.y],br:[q.x,q.y],xmin:u.x,ymin:u.y,xmax:u.x+u.width,ymax:u.y+u.height,labelAngle:r,minLod:h,maxLod:k,placementLod:c,ddValues:e})}}};e._findAnchors=function(a,c,e){c+=e;for(var f=0,g=a.length-1,k=0;k<g;k++)f+=d.Point.distance(a[k],a[k+1]);k=.5*(e||c);if(f<=k)return[];e=k/f;c=f/Math.max(Math.round(f/c),1);for(var f=0,g=-c/2,n=[],l=a.length-1,k=0;k<l;k++){for(var m=
a[k],q=a[k+1],r=q.x-m.x,t=q.y-m.y,w=Math.sqrt(r*r+t*t),I=void 0;g+c<f+w;){var g=g+c,C=(g-f)/w,E=b.interpolate(m.x,q.x,C),C=b.interpolate(m.y,q.y,C);void 0===I&&(I=Math.atan2(t,r));n.push(new h.Anchor(E,C,I,k,e))}f+=w}return n};e._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};e._honorsTextMaxAngle=function(a,b,c,e,f){var g=0;c/=2;for(var h=new d.Point(b.x,b.y),k=b.segment+1;g>-c;){--k;if(0>k)return!1;g-=d.Point.distance(a[k],
h);h=a[k]}g+=d.Point.distance(a[k],a[k+1]);b=[];for(var h=0,n=a.length;g<c;){var l=a[k],m=void 0;do{++k;if(k===n)return!1;m=a[k]}while(m.isEqual(l));var q=k,r=void 0;do{++q;if(q===n)return!1;r=a[q]}while(r.isEqual(m));l=this._deviation(l,m,r);b.push({deviation:l,distToAnchor:g});for(h+=l;g-b[0].distToAnchor>f;)h-=b.shift().deviation;if(Math.abs(h)>e)return!1;g+=d.Point.distance(m,r)}return!0};e._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var e=[],g=0;e.push(0);for(var f=1;f<
c;f++)g+=d.Point.distance(a[f],a[f-1]),e.push(g);b=Math.min(b,.2*g);g=[];g.push(a[0].x);g.push(a[0].y);var h=a[c-1].x,k=a[c-1].y,f=d.Point.sub(a[0],a[1]);f.normalize();a[0].x+=b*f.x;a[0].y+=b*f.y;f.assignSub(a[c-1],a[c-2]);f.normalize();a[c-1].x+=b*f.x;a[c-1].y+=b*f.y;for(f=1;f<c;f++)e[f]+=b;e[c-1]+=b;for(var n=.5*b,f=1;f<c-1;f++){for(var l=0,m=0,q=0,r=f-1;0<=r&&!(e[r+1]<e[f]-n);r--){var w=n+e[r+1]-e[f],C=e[r+1]-e[r],E=e[f]-e[r]<n?1:w/C;if(1E-6>Math.abs(E))break;var G=E*E,D=E*w-.5*G*C,H=E*C/b,K=a[r+
1],L=a[r].x-K.x,O=a[r].y-K.y,l=l+H/D*(K.x*E*w+.5*G*(w*L-C*K.x)-G*E*C*L/3),m=m+H/D*(K.y*E*w+.5*G*(w*O-C*K.y)-G*E*C*O/3),q=q+H}for(r=f+1;r<c&&!(e[r-1]>e[f]+n);r++){w=n-e[r-1]+e[f];C=e[r]-e[r-1];E=e[r]-e[f]<n?1:w/C;if(1E-6>Math.abs(E))break;G=E*E;D=E*w-.5*G*C;H=E*C/b;K=a[r-1];L=a[r].x-K.x;O=a[r].y-K.y;l+=H/D*(K.x*E*w+.5*G*(w*L-C*K.x)-G*E*C*L/3);m+=H/D*(K.y*E*w+.5*G*(w*O-C*K.y)-G*E*C*O/3);q+=H}g.push(l/q);g.push(m/q)}g.push(h);g.push(k);for(r=f=0;f<c;f++)a[f].x=g[r++],a[f].y=g[r++]}}};e._findCentroid=
function(a){var b=a.length-1,c=0,d=0,e=0,f=a[0].x,g=a[0].y;4096<f&&(f=4096);0>f&&(f=0);4096<g&&(g=4096);0>g&&(g=0);for(var k=1;k<b;k++){var n=a[k].x,l=a[k].y,m=a[k+1].x,q=a[k+1].y;4096<n&&(n=4096);0>n&&(n=0);4096<l&&(l=4096);0>l&&(l=0);4096<m&&(m=4096);0>m&&(m=0);4096<q&&(q=4096);0>q&&(q=0);var r=(n-f)*(q-g)-(m-f)*(l-g),c=c+r*(f+n+m),d=d+r*(g+l+q),e=e+r}c/=3*e;d/=3*e;return isNaN(c)||isNaN(d)?[]:[new h.Anchor(c,d)]};e._bidiEngine=new l.default;return e}(m)})},"esri/core/BidiEngine":function(){define(["require",
"exports","./bidiEngineTables"],function(c,e,k){function l(a,c,d,e,g){var h=a;void 0===c&&(c=g.defInFormat);void 0===d&&(d=g.defOutFormat);void 0===e&&(e=g.defSwap);if(c!==d){var k=c.substring(0,1),n=d.substring(0,1),q;q=c.substring(1,4);var p=d.substring(1,4);"C"===q.charAt(0)&&(q=m(h),q="ltr"===q||"rtl"===q?q.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=k+q);"C"===p.charAt(0)&&(q=m(h),"rtl"===q?p="RTL":"ltr"===q?(h=h.split(""),h.reverse(),q=m(h.join("")),p=q.toUpperCase()):p="L"===d.charAt(2)?
"LTR":"RTL",d=n+p)}if(c===d)return a;n=c.substring(0,1);h=c.substring(1,4);k=d.substring(0,1);p=d.substring(1,4);g.inFormat=c;g.outFormat=d;g.swap=e;if("L"===n&&"VLTR"===d){if("LTR"===h)return g.dir=B,b(a,g);if("RTL"===h)return g.dir=F,b(a,g)}if("V"===n&&"V"===k)return g.dir="RTL"===h?F:B,f(a,g);if("L"===n&&"VRTL"===d)return g.dir="LTR"===h?B:F,a=b(a,g),f(a);if("VLTR"===c&&"LLTR"===d)return g.dir=B,b(a,g);if("V"===n&&"L"===k&&h!==p)return a=f(a),"RTL"===h?l(a,"LLTR","VLTR",e,g):l(a,"LRTL","VRTL",
e,g);if("VRTL"===c&&"LRTL"===d)return l(a,"LRTL","VRTL",e,g);"L"===n&&"L"===k&&(c=g.swap,g.swap=c.substr(0,1)+"N","RTL"===h?(g.dir=F,a=b(a,g),g.swap="N"+c.substr(1,2),g.dir=B,a=b(a,g)):(g.dir=B,a=b(a,g),g.swap="N"+c.substr(1,2),a=l(a,"VLTR","LRTL",g.swap,g)));return a}function m(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function b(a,b){a=a.split("");var c=[];h(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,
2))for(var d=0;d<a.length;d++)if(1===c[d]){var e=d,f;b:{f=a[d];for(var n=void 0,l=0,m=k.SwapTable.length-1;l<=m;)if(n=Math.floor((l+m)/2),f<k.SwapTable[n][0])m=n-1;else if(f>k.SwapTable[n][0])l=n+1;else{f=k.SwapTable[n][1];break b}}a[e]=f}g(2,a,c,b);g(1,a,c,b);p=c;return a.join("")}function h(a,b,c){var d=a.length,e=c.dir?k.impTabRtl:k.impTabLtr,g=null,f=null,h=null,g=0,f=f=null,n=-1,l=f=null,m=[],p=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(f=0;f<d;f++){var l=
f,h=a[f].charCodeAt(0),r=k.MasterTable[h>>8];m[l]=r<k.TBBASE?r:k.UnicodeTable[r-k.TBBASE][h&255]}for(l=0;l<d;l++){p[l]=f=q(a,m,p,l,c);g=e[g][f];f=g&240;g&=15;b[l]=h=e[g][v];if(0<f){if(16===f)for(f=n;f<l;f++)b[f]=1;n=-1}if(f=e[g][y])-1===n&&(n=l);else if(-1<n){for(f=n;f<l;f++)b[f]=h;n=-1}m[l]===k.UBAT_B&&(b[l]=0);c.hiLevel|=h}if(c.hasUbatS)for(a=0;a<d;a++)if(m[a]===k.UBAT_S)for(b[a]=c.dir,e=a-1;0<=e;e--)if(m[e]===k.UBAT_WS)b[e]=c.dir;else break}function f(a,b){a=a.split("");if(b){var c=[];h(a,c,b);
p=c}a.reverse();z.reverse();return a.join("")}function a(a){for(var b=0;b<k.ArabicAlefBetIntervalsBegine.length;b++)if(a>=k.ArabicAlefBetIntervalsBegine[b]&&a<=k.ArabicAlefBetIntervalsEnd[b])return!0;return!1}function d(b,c,d,e){for(;c*d<e&&n(b[c]);)c+=d;return c*d<e&&a(b[c])?!0:!1}function g(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==F||d.hasUbatB){d=b.length;for(var e=0,f,g,h;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(g=f-1;e<g;e++,g--)h=b[e],b[e]=b[g],b[g]=h,h=z[e],z[e]=z[g],z[g]=h;e=
f}e++}}else b.reverse(),z.reverse()}function q(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return k.UBAT_L},UBAT_R:function(){e.lastArabic=!1;return k.UBAT_R},UBAT_ON:function(){return k.UBAT_ON},UBAT_AN:function(){return k.UBAT_AN},UBAT_EN:function(){return e.lastArabic?k.UBAT_AN:k.UBAT_EN},UBAT_AL:function(){e.lastArabic=!0;e.hasUbatAl=!0;return k.UBAT_R},UBAT_WS:function(){return k.UBAT_ON},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==k.UBAT_EN&&a!==k.UBAT_AN||(f=b[d+
1])!==k.UBAT_EN&&f!==k.UBAT_AN)return k.UBAT_ON;e.lastArabic&&(f=k.UBAT_AN);return f===a?f:k.UBAT_ON},UBAT_ES:function(){return(0<d?c[d-1]:k.UBAT_B)===k.UBAT_EN&&d+1<b.length&&b[d+1]===k.UBAT_EN?k.UBAT_EN:k.UBAT_ON},UBAT_ET:function(){if(0<d&&c[d-1]===k.UBAT_EN)return k.UBAT_EN;if(e.lastArabic)return k.UBAT_ON;for(var a=d+1,f=b.length;a<f&&b[a]===k.UBAT_ET;)a++;return a<f&&b[a]===k.UBAT_EN?k.UBAT_EN:k.UBAT_ON},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,g=d+1;g<f&&b[g]===k.UBAT_NSM;)g++;
if(g<f&&(f=a[d].charCodeAt[0],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===k.UBAT_R||g===k.UBAT_AL)))return k.UBAT_R}return 1>d||b[d-1]===k.UBAT_B?k.UBAT_ON:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return k.UBAT_ON},UBAT_LRE:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_RLE:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_LRO:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_RLO:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_PDF:function(){e.lastArabic=
!1;return k.UBAT_ON},UBAT_BN:function(){return k.UBAT_ON}}[k.TYPES_NAMES[b[d]]]()}function r(a,b){for(var c=0;c<k.BaseForm.length;c++)if(a===k.BaseForm[c])return b[c];return a}function n(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function w(a){return"L"===a?"LTR":"R"===a?"RTL":"C"===a?"CLR":"D"===a?"CRL":""}function t(a,b){for(var c=0;c<k.AlefTable.length;c++)if(a===k.AlefTable[c])return b[c];return a}function u(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}Object.defineProperty(e,
"__esModule",{value:!0});c=function(){function b(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}b.prototype.bidiTransform=function(b,c,e){this.sourceToTarget=[];this.targetToSource=[];if(!b)return"";var f=this.sourceToTarget,g=this.targetToSource,h=b.length;z=[];p=[];for(var m=0;m<h;m++)f[m]=m,g[m]=m,z[m]=m;if(!this.checkParameters(c,e))return b;c=this.inputFormat;e=this.outputFormat;var f=b,f=A,m=w(c.charAt(1)),g=w(e.charAt(1)),q=
"I"===c.charAt(0)?"L":c.charAt(0),h="I"===e.charAt(0)?"L":e.charAt(0),m=q+m,g=h+g,h=c.charAt(2)+e.charAt(2);f.defInFormat=m;f.defOutFormat=g;f.defSwap=h;b=l(b,m,g,h,f);f=!1;if("R"===e.charAt(1))f=!0;else if("C"===e.charAt(1)||"D"===e.charAt(1))f="rtl"===this.checkContextual(b);g=this.sourceToTarget=z;h=Array(g.length);for(m=0;m<g.length;m++)h[g[m]]=m;x=this.targetToSource=h;if(c.charAt(3)===e.charAt(3))f=b;else if("S"===e.charAt(3))if(c=f,e=!0,0===b.length)f="";else{void 0===c&&(c=!0);void 0===e&&
(e=!0);b=String(b);b=b.split("");var v=0,g=1,f=b.length;c||(v=b.length-1,g=-1,f=1);for(var h=f,m=e,y=0,f=[],q=0;v*g<h;v+=g)if(a(b[v])||n(b[v])){var B;if(B="\u0644"===b[v])b:{for(var C=b,E=v+g,F=g,D=h;E*F<D&&n(C[E]);)E+=F;B=" ";if(E*F<D)for(B=C[E],C=0;C<k.AlefTable.length;C++)if(k.AlefTable[C]===B){B=!0;break b}B=!1}if(B){b[v]=0===y?t(b[v+g],k.LamAlefInialTableFE):t(b[v+g],k.LamAlefMedialTableFE);v+=g;y=b;B=v;C=g;for(E=h;B*C<E&&n(y[B]);)B+=C;B*C<E&&(y[B]=" ");m&&(f[q]=v,q++);y=0}else{B=b[v];if(1===
y){C=v;if(d(b,v+g,g,h))b:for(E=b[v],F=0;F<k.BaseForm.length;F++){if(E===k.BaseForm[F]){E=k.MedialForm[F];break b}}else E=r(b[v],k.FinalForm);b[C]=E}else!0===d(b,v+g,g,h)?b[v]=r(b[v],k.InitialForm):b[v]=r(b[v],k.IsolatedForm);n(B)||(y=1);b:{for(C=0;C<k.StandAlonForm.length;C++)if(k.StandAlonForm[C]===B){B=!0;break b}B=!1}!0===B&&(y=0)}}else y=0;g="";for(h=0;h<b.length;h++){if(m=e){b:{for(m=0;m<f.length;m++)if(f[m]===h)break b;m=-1}m=-1<m}m?(u(x,h,!c,-1),z.splice(h,1)):g+=b[h]}f=g}else if(c=b,e=f,b=
!0,0===c.length)f="";else for(void 0===b&&(b=!0),void 0===e&&(e=!0),c=String(c),f="",g=c.split(""),h=0;h<c.length;h++)m=!1,"\ufe70"<=g[h]&&"\ufeff">g[h]?(q=c.charCodeAt(h),"\ufef5"<=g[h]&&"\ufefc">=g[h]?(e?(0<h&&b&&" "===g[h-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",m=!0),f+=k.AlefTable[(q-65269)/2]):(f+=k.AlefTable[(q-65269)/2],f+="\u0644",h+1<c.length&&b&&" "===g[h+1]?h++:m=!0),m&&(u(x,h,!0,1),z.splice(h,0,z[h]))):f+=k.FETo06Table[q-65136]):f+=g[h];this.sourceToTarget=z;this.targetToSource=
x;this.levels=p;return f};b.prototype._inputFormatSetter=function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a};b.prototype._outputFormatSetter=function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a};b.prototype.checkParameters=function(a,b){a?this._inputFormatSetter(a):a=this.inputFormat;b?this._outputFormatSetter(b):b=this.outputFormat;return a===b?!1:!0};b.prototype.checkContextual=
function(a){a=m(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(G){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a};b.prototype.hasBidiChar=function(a){return I.test(a)};return b}();e.default=c;var z=[],x=[],p=[],A={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},v=5,y=6,B=0,F=1,J=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,I=/[\u0591-\u06ff\ufb1d-\ufefc]/})},
"esri/core/bidiEngineTables":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a",
"\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];e.AlefTable=["\u0622","\u0623","\u0625","\u0627"];e.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];e.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];e.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
e.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");e.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");
e.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");e.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
e.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");e.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
e.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];e.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];e.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];e.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];e.UBAT_L=0;e.UBAT_R=1;e.UBAT_EN=2;e.UBAT_AN=3;e.UBAT_ON=4;e.UBAT_B=5;e.UBAT_S=6;e.UBAT_AL=7;e.UBAT_WS=8;e.UBAT_CS=9;e.UBAT_ES=10;e.UBAT_ET=11;e.UBAT_NSM=12;e.UBAT_LRE=13;e.UBAT_RLE=14;e.UBAT_PDF=15;e.UBAT_LRO=16;
e.UBAT_RLO=17;e.UBAT_BN=18;e.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");e.TBBASE=100;c=e.UBAT_L;var k=e.UBAT_R,l=e.UBAT_EN,m=e.UBAT_AN,b=e.UBAT_ON,h=e.UBAT_B,f=e.UBAT_S,a=e.UBAT_AL,d=e.UBAT_WS,g=e.UBAT_CS,q=e.UBAT_ES,r=e.UBAT_ET,n=e.UBAT_NSM,w=e.UBAT_LRE,t=e.UBAT_RLE,u=e.UBAT_PDF,z=e.UBAT_LRO,x=e.UBAT_RLO,p=e.UBAT_BN;e.MasterTable=[e.TBBASE+0,c,c,c,c,e.TBBASE+1,e.TBBASE+
2,e.TBBASE+3,k,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,e.TBBASE+4,b,b,b,c,b,c,b,c,b,b,b,c,c,b,b,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,b,b,c,c,b,b,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,
c,c,c,e.TBBASE+5,a,a,e.TBBASE+6,e.TBBASE+7];e.UnicodeTable=[[p,p,p,p,p,p,p,p,p,f,h,f,d,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,f,d,b,b,r,r,r,b,b,b,b,b,q,g,q,g,g,l,l,l,l,l,l,l,l,l,l,g,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,p,p,p,p,p,p,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,g,b,r,r,r,r,b,b,b,b,c,b,b,p,b,b,r,r,l,l,b,c,b,b,b,l,c,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,c,c,c,c,c,c,c,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,k,n,k,n,n,k,n,n,k,n,b,b,b,b,b,b,b,b,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,b,b,b,b,b,k,k,k,k,k,b,b,b,b,b,b,b,b,b,b,b],[m,m,m,m,b,b,b,b,a,r,r,a,g,a,b,b,n,n,n,n,n,n,n,n,n,n,n,a,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,m,m,m,m,m,m,m,m,m,m,r,m,m,a,a,a,n,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,n,n,n,n,n,n,n,m,b,n,n,n,n,n,n,a,a,n,n,b,n,n,n,n,a,a,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,a,a,n,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k,k,k,k,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,n,n,n,n,n,n,n,n,n,k,k,b,b,b,b,k,b,b,b,b,b],[d,d,d,d,d,d,d,d,d,d,d,p,p,p,c,k,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,h,w,t,u,z,x,g,r,r,r,r,r,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,g,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,p,p,p,p,p,b,b,b,b,b,p,p,p,p,p,p,l,c,b,b,l,l,l,l,l,l,q,q,b,b,b,c,l,l,l,l,l,l,l,l,l,l,q,q,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,b,b,b,b,b,b,b,b,b,b,
b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,b,b,b,b,b,k,n,k,k,k,k,k,k,k,k,k,k,q,k,k,k,k,k,k,k,k,k,k,k,k,k,b,k,k,k,k,k,b,k,b,k,k,b,k,k,b,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,g,b,g,b,b,g,b,b,b,b,b,b,b,b,b,r,b,b,q,q,b,b,b,b,b,r,r,b,b,b,b,b,a,a,a,a,a,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,b,p],[b,b,b,r,r,r,b,b,b,b,b,q,g,q,g,g,l,l,l,l,l,l,l,l,l,l,g,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,c,c,c,c,c,c,b,b,c,c,c,c,c,c,b,b,c,c,c,c,c,c,b,b,c,c,c,b,b,b,r,r,b,b,b,r,r,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]]})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["require","exports","../webgl/Rect"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(c,b,e,f,a,d,g,k){this._glyphItems=c;this._maxWidth=b;this._lineHeight=e;this._letterSpacing=f;this._offset=a;this._hAnchor=d;this._vAnchor=g;this._justify=
k}c.prototype.getShaping=function(c,b){for(var e=this._letterSpacing,f=this._lineHeight,a=this._justify,d=this._maxWidth,g=[],k=0,m=0,n=0,l=0,t=-1,u=0,z=-1,x=c.length,p=0;p<x;p++){var A=c.charCodeAt(p);if(10===A){if(p!==x-1){if(t>=l){var k=g[t],v=k.x+k.glyphMosaicItem.metrics.advance,u=Math.max(v,u);a&&this._applyJustification(g,l,t);l=g.length}m=b?m-f:m+f;k=0;++n}}else{for(var v=void 0,y=0,B=this._glyphItems;y<B.length&&!(v=B[y][A]);y++);if(v){g.push({codePoint:A,x:k,y:m,glyphMosaicItem:v});k+=v.metrics.advance+
e;if(0<d&&k>d&&0<=z){y=z+1;v=g[y].x;u=Math.max(v,u);for(B=y;B<g.length;B++)g[B].y=b?g[B].y-f:g[B].y+f,g[B].x-=v;a&&this._applyJustification(g,l,z);m=b?m-f:m+f;k-=v;++n;l=y;z=-1}++t;32===A&&(z=g.length-1)}}}t>=l&&(k=g[t],u=Math.max(u,k.x+k.glyphMosaicItem.metrics.advance),a&&this._applyJustification(g,l,t));if(0<g.length)for(c=(a-this._hAnchor)*u,e=(-this._vAnchor*(n+1)+.5)*f,b&&n&&(e+=n*f),c+=this._offset[0],e+=this._offset[1],b=0;b<g.length;b++)f=g[b],f.x+=c,f.y+=e;return g};c.getBox=function(c){if(!c.length)return null;
for(var b=Infinity,e=Infinity,f=0,a=0,d=0;d<c.length;d++)var g=c[d],k=g.glyphMosaicItem.metrics,m=k.height,n=g.x,g=g.y-(m-Math.abs(k.top)),k=n+k.width+k.left,m=g+m,b=Math.min(b,n),f=Math.max(f,k),e=Math.min(e,g),a=Math.max(a,m);return{x:b,y:e,width:f-b,height:a-e}};c.addDecoration=function(c,b){var e=c.length;if(0!==e){for(var f=c[0].x+c[0].glyphMosaicItem.metrics.left,a=c[0].y,d=1;d<e;d++){var g=c[d];if(g.y!==a){var l=c[d-1].x+c[d-1].glyphMosaicItem.metrics.left+c[d-1].glyphMosaicItem.metrics.width;
c.push({codePoint:0,x:f,y:a+b-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:l-f,height:8,left:0,top:0,advance:0},page:0,code:0}});a=g.y;f=g.x+g.glyphMosaicItem.metrics.left}}e=c[e-1].x+c[e-1].glyphMosaicItem.metrics.left+c[e-1].glyphMosaicItem.metrics.width;c.push({codePoint:0,x:f,y:a+b-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:e-f,height:8,left:0,top:0,advance:0},page:0,code:0}})}};c.prototype._applyJustification=function(c,b,e){for(var f=c[e],f=
(f.x+f.glyphMosaicItem.metrics.advance)*this._justify;b<=e;b++)c[b].x-=f};return c}();e.TextShaping=c})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(c,e,b,h){void 0===c&&(c=0);void 0===e&&(e=0);void 0===b&&(b=0);void 0===h&&(h=0);this.x=c;this.y=e;this.width=b;this.height=h}Object.defineProperty(c.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,
configurable:!0});c.prototype.union=function(c){this.x=Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);this.width=Math.max(this.width,c.width);this.height=Math.max(this.height,c.height)};return c}();e.default=c})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),
function(c,e,k,l,m,b,h,f,a,d,g,q,r,n,w){return function(){function c(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var d=b.tileKey.split("/").map(parseFloat);b=d[0];c=d[1];d=d[2];this._level=b;for(var e=Math.max(8,Math.round(1*this._level)-8),f=0,g=Object.keys(a);f<g.length;f++){var h=g[f],k=a[h];this._pbfTiles[h]=new m(new Uint8Array(k.protobuff),new DataView(k.protobuff));if(k.refKey&&(k=k.refKey.split("/").map(parseFloat)[0],k=b-k,0<k)){var l=
(1<<k)-1;this._tileClippers[h]=new n.TileClipper(k,c&l,d&l,8,e)}this._tileClippers[h]||(this._tileClippers[h]=new n.SimpleBuilder)}}c.prototype.parse=function(c){return l(this,void 0,void 0,function(){var d,e,f,g,h,n,l,m,q,r,t,u,G,D,H,K,L,O,M,N,S,Q,V,Y,T,W,aa,R,P,da,ea,Z,fa,ga,U,ba,X,ha,ka,Ba,na,oa,ja,xa,ia,ra,sa,ca,ma,la,ta,ya,ua,za,qa,va,pa,Aa;return k(this,function(k){d=c&&c.signal;e=this._parseTileData(this._pbfTiles);f=this._layers;g=this._level;n=[];l=this._tileClippers;m={};q={};for(r=f.length-
1;0<=r;r--)if(h=f[r],!(h.minzoom&&g<h.minzoom||h.maxzoom&&g>=h.maxzoom||h.layout&&h.layout.visibility&&"none"===h.layout.visibility||0===h.type)&&e[h.source]&&l[h.source]&&(t=e[h.source],u=l[h.source],G=h.sourceLayer,D=t[G]))if((H=q[h.source])||(H=q[h.source]=new Set),H.add(h.sourceLayer),K=this._createBucket(h))K.layerIndex=r,K.layerExtent=D.extent,K.tileClipper=u,(L=m[h.source])||(L=m[h.source]={}),(O=L[G])||(O=L[G]=[]),O.push(K);M=10*this._level;N=10*(this._level+1);S=[];Q=[];V=[];Y=[];T=new Set;
W={};aa=[];R=[];P=function(a){q[a].forEach(function(b){aa.push(b);R.push(a)})};da=0;for(ea=Object.keys(q);da<ea.length;da++)Z=ea[da],P(Z);for(fa=0;fa<aa.length;fa++){Z=R[fa];ga=aa[fa];if(!e[Z]||!m[Z])break;t=e[Z];D=t[ga];L=m[Z];U=L[ga];if(!U||0===U.length)break;if(b.isAborted(d))return[2,void 0];for(ba=D.getData();ba.next(2);){X=ba.getMessage();ha=new a(X,D);X.release();if(ka=ha.values){if((Ba=ka._minzoom)&&Ba>=N)continue;if((na=ka._maxzoom)&&na<=M)continue}oa=0;for(ja=U;oa<ja.length;oa++)K=ja[oa],
K.pushFeature(ha)}}xa=this._tile;ia=0;for(ra=Object.keys(m);ia<ra.length;ia++)for(G in Z=ra[ia],sa=m[Z],sa)for(U=sa[G],ca=0,ma=U;ca<ma.length;ca++)K=ma[ca],K.hasFeatures()&&(3===K.layer.type?(S.push(K),xa.addBucket(K)):K.layer.refLayerId?V.push(K):(Q.push(K),Y[K.layer.id]=K));la=0;for(ta=S;la<ta.length;la++)ya=K=ta[la],ya.getResources(ya.tileClipper,T,W);if(this._tile.status===w.TileStatus.INVALID)return[2,b.resolve([])];ua=[];za=this._tile.getWorkerTileHandler();0<T.size&&(qa=za.fetchSprites(T,this._client,
c),ua.push(qa));for(pa in W)Aa=W[pa],0<Aa.size&&(va=za.fetchGlyphs(this._tile.tileKey,pa,Aa,this._client,c),ua.push(va));return[2,b.all(ua).then(function(){for(var a=0,b=Q;a<b.length;a++){var c=b[a];c.processFeatures(c.tileClipper);n.push(c)}a=0;for(b=V;a<b.length;a++){var c=b[a],d=Y[c.layer.refLayerId];d&&(d.assignBufferInfo(c),n.push(c))}a=0;for(b=S;a<b.length;a++)c=b[a],c.processFeatures(c.tileClipper),n.push(c);n.sort(function(a,b){return a.layerIndex-b.layerIndex});return n})]})})};c.prototype._parseTileData=
function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){for(var e=d[c],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=f.getMessage(),k=new q(h);h.release();g[k.name]=k;break;default:f.skip()}b[e]=g}return b};c.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};c.prototype._createBackgroundBucket=
function(a){return new h(a,this._level)};c.prototype._createFillBucket=function(a){var b=this._tile;return new d(a,this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};c.prototype._createLineBucket=function(a){var b=this._tile;return new g(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};c.prototype._createCircleBucket=function(a){var b=
this._tile;return new f(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};c.prototype._createSymbolBucket=function(a){var b=this._tile;return new r(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return c}()})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(c,e,k,l){var m=k("esri-text-decoder")?
new TextDecoder("utf-8"):null,b=k("safari")||k("ios")?6:k("ff")?12:32;return function(){function c(b,a,c,e){void 0===c&&(c=0);void 0===e&&(e=b?b.byteLength:0);this._tag=0;this._dataType=99;this.init(b,a,c,e)}c.prototype.init=function(b,a,c,e){this._data=b;this._dataView=a;this._pos=c;this._end=e};c.prototype.clone=function(){return new c(this._data,this._dataView,this._pos,this._end)};c.prototype.pos=function(){return this._pos};c.prototype.next=function(b){for(;;){if(this._pos===this._end)return!1;
var a=this._decodeVarint();this._tag=a>>3;this._dataType=a&7;if(!b||b===this._tag)break;this.skip()}return!0};c.prototype.empty=function(){return this._pos>=this._end};c.prototype.tag=function(){return this._tag};c.prototype.getInt32=function(){return this._decodeVarint()};c.prototype.getInt64=function(){return this._decodeVarint()};c.prototype.getUInt32=function(){var b=4294967295,b=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return b};c.prototype.getUInt64=function(){return this._decodeVarint()};c.prototype.getSInt32=function(){var b=this.getUInt32();return b>>>1^-(b&1)|0};c.prototype.getSInt64=function(){return this._decodeSVarint()};c.prototype.getBool=
function(){var b=0!==this._data[this._pos];this._skip(1);return b};c.prototype.getEnum=function(){return this._decodeVarint()};c.prototype.getFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getUint32(a+4,!0);this._skip(8);return b};c.prototype.getSFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getInt32(a+4,!0);this._skip(8);return b};c.prototype.getDouble=function(){var b=this._dataView.getFloat64(this._pos,!0);this._skip(8);
return b};c.prototype.getFixed32=function(){var b=this._dataView.getUint32(this._pos,!0);this._skip(4);return b};c.prototype.getSFixed32=function(){var b=this._dataView.getInt32(this._pos,!0);this._skip(4);return b};c.prototype.getFloat=function(){var b=this._dataView.getFloat32(this._pos,!0);this._skip(4);return b};c.prototype.getString=function(){var b=this._getLength(),a=this._pos,a=this._toString(this._data,a,a+b);this._skip(b);return a};c.prototype.getBytes=function(){var b=this._getLength(),
a=this._pos,a=this._toBytes(this._data,a,a+b);this._skip(b);return a};c.prototype.processMessageWithArgs=function(b,a,c,e){var d=this.getMessage();b=b(d,a,c,e);d.release();return b};c.prototype.processMessage=function(b){var a=this.getMessage();b=b(a);a.release();return b};c.prototype.getMessage=function(){var b=this._getLength(),a=c.pool.acquire();a.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return a};c.prototype.release=function(){c.pool.release(this)};c.prototype.skip=
function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};c.prototype._skip=function(b){if(this._pos+b>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=b};c.prototype._decodeVarint=function(){var b=this._data,a=this._pos,c=0,e;if(10<=this._end-a){if(e=b[a++],c|=e&127,0!==(e&128)&&(e=b[a++],c|=(e&127)<<7,0!==(e&128)&&(e=b[a++],
c|=(e&127)<<14,0!==(e&128)&&(e=b[a++],c|=(e&127)<<21,0!==(e&128)&&(e=b[a++],c+=268435456*(e&127),0!==(e&128)&&(e=b[a++],c+=34359738368*(e&127),0!==(e&128)&&(e=b[a++],c+=4398046511104*(e&127),0!==(e&128)&&(e=b[a++],c+=562949953421312*(e&127),0!==(e&128)&&(e=b[a++],c+=72057594037927936*(e&127),0!==(e&128)&&(e=b[a++],c+=0x7fffffffffffffff*(e&127),0!==(e&128)))))))))))throw Error("Varint too long!");}else{for(var h=1;a!==this._end;){e=b[a];if(0===(e&128))break;++a;c+=(e&127)*h;h*=128}if(a===this._end)throw Error("Varint overrun!");
++a;c+=e*h}this._pos=a;return c};c.prototype._decodeSVarint=function(){var b=this._decodeVarint();return b%2?-(b+1)/2:b/2};c.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};c.prototype._toString=function(c,a,d){d=Math.min(this._end,d);if(d-a>b&&m)return c=c.subarray(a,d),m.decode(c);for(var e="",f="";a<d;++a){var h=c[a];h&128?f+="%"+h.toString(16):(e+=decodeURIComponent(f)+String.fromCharCode(h),f="")}f.length&&(e+=decodeURIComponent(f));
return e};c.prototype._toBytes=function(b,a,c){c=Math.min(this._end,c);return new Uint8Array(b.buffer,a,c-a)};c.pool=new l(c,!1,function(b){b._data=null;b._dataView=null});return c}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(c,e,k){return function(){function c(c,b){this.values={};var e=b.keys;for(b=b.values;c.next();)switch(c.tag()){case 1:this.id=c.getUInt64();break;case 2:for(var f=c.getMessage(),a=this.values;!f.empty();){var d=
f.getUInt32(),g=f.getUInt32();a[e[d]]=b[g]}f.release();break;case 3:this.type=c.getUInt32();break;case 4:this._pbfGeometry=c.getMessage();break;default:c.skip()}}c.prototype.getGeometry=function(c){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var b=this._pbfGeometry;this._pbfGeometry=null;var e,f;c?c.reset(this.type):e=[];for(var a=1,d=0,g=0,l=0;!b.empty();)switch(0===d&&(d=b.getUInt32(),a=d&7,d>>=3),d--,a){case 1:g+=b.getSInt32();l+=b.getSInt32();c?c.moveTo(g,
l):(f&&e.push(f),f=[],f.push(new k.Point(g,l)));break;case 2:g+=b.getSInt32();l+=b.getSInt32();c?c.lineTo(g,l):f.push(new k.Point(g,l));break;case 7:c?c.close():f&&!f[0].equals(g,l)&&f.push(f[0].clone());break;default:throw b.release(),Error("Invalid path operation");}c?c=c.result():(f&&e.push(f),c=e);b.release();return this._geometry=c};return c}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(c,e){return function(){function c(e){this.extent=
4096;this.keys=[];this.values=[];for(this._pbfLayer=e.clone();e.next();)switch(e.tag()){case 1:this.name=e.getString();break;case 3:this.keys.push(e.getString());break;case 4:this.values.push(e.processMessage(c._parseValue));break;case 5:this.extent=e.getUInt32();break;default:e.skip()}}c.prototype.getData=function(){return this._pbfLayer};c._parseValue=function(c){for(;c.next();)switch(c.tag()){case 1:return c.getString();case 2:return c.getFloat();case 3:return c.getDouble();case 4:return c.getInt64();
case 5:return c.getUInt64();case 6:return c.getSInt64();case 7:return c.getBool();default:c.skip()}return null};return c}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=function(){return function(b,a,c){this.ratio=b;this.x=a;this.y=c}}();c=function(){function c(a,b,c,e,f){void 0===e&&(e=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=
e;this.pixelMargin=f;this.tileSize=k.TILE_SIZE*e;this.dz=a;this.yPos=b;this.xPos=c}c.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};c.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};c.prototype.moveTo=function(a,b){this._pushLine();
this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new l.Point(a,b);this._firstPt=new l.Point(a,b);this._dist=0};c.prototype.lineTo=function(a,c){var d=this._isIn(a,c),e=new l.Point(a,c),f=l.Point.distance(this._prevPt,e),h,k,m;if(d)this._prevIsIn?this._lineTo(a,c,!0):(h=this._prevPt,k=e,a=this._intersect(k,h),this.start=this._dist+f*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,h=e,a=this._intersect(k,h),this._lineTo(a.x,
a.y,!0),this._lineTo(h.x,h.y,!1);else{var u=this._prevPt;if(!(u.x<=this.xmin&&e.x<=this.xmin||u.x>=this.xmax&&e.x>=this.xmax||u.y<=this.ymin&&e.y<=this.ymin||u.y>=this.ymax&&e.y>=this.ymax)){a=[];if(u.x<this.xmin&&e.x>this.xmin||u.x>this.xmin&&e.x<this.xmin)c=(this.xmin-u.x)/(e.x-u.x),m=u.y+c*(e.y-u.y),m<=this.ymin?k=!1:m>=this.ymax?k=!0:a.push(new b(c,this.xmin,m));if(u.x<this.xmax&&e.x>this.xmax||u.x>this.xmax&&e.x<this.xmax)c=(this.xmax-u.x)/(e.x-u.x),m=u.y+c*(e.y-u.y),m<=this.ymin?k=!1:m>=this.ymax?
k=!0:a.push(new b(c,this.xmax,m));if(u.y<this.ymin&&e.y>this.ymin||u.y>this.ymin&&e.y<this.ymin)c=(this.ymin-u.y)/(e.y-u.y),m=u.x+c*(e.x-u.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new b(c,m,this.ymin));if(u.y<this.ymax&&e.y>this.ymax||u.y>this.ymax&&e.y<this.ymax)c=(this.ymax-u.y)/(e.y-u.y),m=u.x+c*(e.x-u.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new b(c,m,this.ymax));if(0===a.length)h?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,
!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+f*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+f*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=f;this._prevIsIn=d;this._prevPt=e};c.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=
b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};c.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&h.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};c.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var c=
[],e=0;e<b;e++)c.push({line:a[e],start:this.starts[e]||0});return c};c.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};c.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:
this.xmax;var f=(c-a.x)/(b.x-a.x),h=(d-a.y)/(b.y-a.y);f<h?(e=f,d=a.y+f*(b.y-a.y)):(e=h,c=a.x+h*(b.x-a.x))}this._r=e;return new l.Point(c,d)};c.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};c.prototype._moveTo=
function(a,b,c){3!==this.type?c&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new l.Point(a,b))):(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new l.Point(a,b)),this._is_v=this._is_h=!1)};c.prototype._lineTo=function(a,
b,c){if(3!==this.type)if(c){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(c=this.line[this.line.length-1],c.equals(a,b)))return;this.line.push(new l.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-
(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){c=this.line[this.line.length-1];var d=c.x===a,e=c.y===b;d&&e||(this._is_h&&d?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):this._is_v&&e?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?
this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):(this.line.push(new l.Point(a,b)),this._is_h=d,this._is_v=e))}else this.line.push(new l.Point(a,b))};return c}();e.TileClipper=c;c=function(){function b(){}b.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};b.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};b.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);
this.line=[];var c=this._ratio;this.line.push(new l.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new l.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};b.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&h.simplify(4096,64,this.lines);return this.lines};return b}();e.SimpleBuilder=
c;var h=function(){function b(){}b.simplify=function(a,c,e){if(e){var d=-c,f=a+c,g=-c,h=a+c;a=[];c=[];for(var k=e.length,m=0;m<k;++m){var l=e[m];if(l&&!(2>l.length))for(var x=l[0],p=void 0,A=l.length,v=1;v<A;++v)p=l[v],x.x===p.x&&(x.x<=d&&(x.y>p.y?(a.push(m),a.push(v),a.push(0),a.push(-1)):(c.push(m),c.push(v),c.push(0),c.push(-1))),x.x>=f&&(x.y<p.y?(a.push(m),a.push(v),a.push(1),a.push(-1)):(c.push(m),c.push(v),c.push(1),c.push(-1)))),x.y===p.y&&(x.y<=g&&(x.x<p.x?(a.push(m),a.push(v),a.push(2),a.push(-1)):
(c.push(m),c.push(v),c.push(2),c.push(-1))),x.y>=h&&(x.x>p.x?(a.push(m),a.push(v),a.push(3),a.push(-1)):(c.push(m),c.push(v),c.push(3),c.push(-1)))),x=p}0!==a.length&&0!==c.length&&(b.fillParent(e,c,a),b.fillParent(e,a,c),d=[],b.calcDeltas(d,c,a),b.calcDeltas(d,a,c),b.addDeltas(d,e))}};b.fillParent=function(a,b,c){for(var d=c.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],h=b[f+1],k=b[f+2],l=a[g][h-1],g=a[g][h],h=8092,x=-1,p=0;p<d;p+=4)if(c[p+2]===k){var A=c[p],v=c[p+1],y=a[A][v-1],A=a[A][v];switch(k){case 0:case 1:m.between(l.y,
y.y,A.y)&&m.between(g.y,y.y,A.y)&&(y=Math.abs(A.y-y.y),y<h&&(h=y,x=p));break;case 2:case 3:m.between(l.x,y.x,A.x)&&m.between(g.x,y.x,A.x)&&(y=Math.abs(A.x-y.x),y<h&&(h=y,x=p))}}b[f+3]=x}};b.calcDeltas=function(a,c,e){for(var d=c.length,f=0;f<d;f+=4){var g=b.calcDelta(f,c,e,[]);a.push(c[f]);a.push(c[f+1]);a.push(c[f+2]);a.push(g)}};b.calcDelta=function(a,c,e,f){a=c[a+3];if(-1===a)return 0;var d=f.length;if(1<d&&f[d-2]===a)return 0;f.push(a);return b.calcDelta(a,e,c,f)+1};b.addDeltas=function(a,b){for(var c=
a.length,d=0,e=0;e<c;e+=4){var f=a[e+3];f>d&&(d=f)}for(e=0;e<c;e+=4){var h=b[a[e]],k=a[e+1],f=d-a[e+3];switch(a[e+2]){case 0:h[k-1].x-=f;h[k].x-=f;1===k&&(h[h.length-1].x-=f);k===h.length-1&&(h[0].x-=f);break;case 1:h[k-1].x+=f;h[k].x+=f;1===k&&(h[h.length-1].x+=f);k===h.length-1&&(h[0].x+=f);break;case 2:h[k-1].y-=f;h[k].y-=f;1===k&&(h[h.length-1].y-=f);k===h.length-1&&(h[0].y-=f);break;case 3:h[k-1].y+=f,h[k].y+=f,1===k&&(h[h.length-1].y+=f),k===h.length-1&&(h[0].y+=f)}}};return b}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(c,e){function k(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(e,"__esModule",{value:!0});e.C_INFINITY=Number.POSITIVE_INFINITY;e.C_PI=Math.PI;e.C_2PI=2*e.C_PI;e.C_PI_BY_2=e.C_PI/2;e.C_RAD_TO_256=128/e.C_PI;e.C_256_TO_RAD=e.C_PI/128;e.C_DEG_TO_256=256/360;e.C_DEG_TO_RAD=e.C_PI/180;e.C_SQRT2=1.414213562;e.C_SQRT2_INV=1/e.C_SQRT2;var l=1/Math.LN2;e.positiveMod=k;e.radToByte=function(c){return k(c*e.C_RAD_TO_256,256)};e.degToByte=function(c){return k(c*e.C_DEG_TO_256,256)};e.log2=
function(c){return Math.log(c)*l};e.sqr=function(c){return c*c};e.interpolate=function(c,b,e){return c*(1-e)+b*e};e.between=function(c,b,e){return c>=b&&c<=e||c>=e&&c<=b}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=e.TileStatus||(e.TileStatus={});c[c.INITIALIZED=0]="INITIALIZED";c[c.NO_DATA=1]="NO_DATA";c[c.READY=2]="READY";c[c.MODIFIED=3]="MODIFIED";c[c.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./GeometryUtils","./MemoryBuffer"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=new Float32Array(1),h=new Uint32Array(b.buffer);c=function(c){function a(a){var b=c.call(this,a?20:12)||this;b._isDataDriven=a;return b}k(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,e,f,k,l,t,u){var d=this.array;a=m.i1616to32(a,c);d.push(a);a=m.i8888to32(Math.round(31*e),Math.round(31*
f),Math.round(31*k),Math.round(31*l));d.push(a);a=m.i1616to32(t,0);d.push(a);if(this._isDataDriven){if(!u)throw Error("Expecting data driven values.");e=u.color;f=e[3]*u.opacity*255;d.push(m.i8888to32(e[0]*f,e[1]*f,e[2]*f,f));b[0]=u.size;d.push(h[0])}};return a}(m);e.LineVertexBuffer=c;c=function(b){function a(a){var c=b.call(this,a?8:4)||this;c._isDataDriven=a;return c}k(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c){var d=this.array;d.push(m.i1616to32(a,
b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;d.push(m.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return a}(m);e.FillVertexBuffer=c;c=function(b){function a(a){var c=b.call(this,a?12:8)||this;c._isDataDriven=a;return c}k(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c,e,f,h,k){var d=this.array,g=this.index;a=m.i1616to32(a,b);d.push(a);a=m.i8888to32(Math.round(15*c),Math.round(15*e),f,h);d.push(a);
if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");c=k.color;k=c[3]*k.opacity*255;d.push(m.i8888to32(c[0]*k,c[1]*k,c[2]*k,k))}return g};return a}(m);e.OutlineVertexBuffer=c;c=function(c){function a(a){var b=c.call(this,a?24:16)||this;b._isDataDriven=a;return b}k(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,e,f,k,w,t,u,z,x,p){var d=this.array;a=m.i1616to32(a,c);d.push(a);a=m.i1616to32(Math.round(8*e),Math.round(8*f));d.push(a);
a=m.i8888to32(k/4,w/4,0,0);d.push(a);a=m.i8888to32(Math.ceil(10*x),l.radToByte(t),10*u,Math.min(10*z,255));d.push(a);if(this._isDataDriven){if(!p)throw Error("Expecting data driven values.");e=p.color;f=e[3]*p.opacity*255;d.push(m.i8888to32(e[0]*f,e[1]*f,e[2]*f,f));b[0]=p.size;d.push(h[0])}};return a}(m);e.SymbolVertexBuffer=c;c=function(b){function a(){return b.call(this,16)||this}k(a,b);a.prototype.add=function(a,b,c,e,f,h,k,l,z,x,p){var d=this.array;a=m.i1616to32(2*a+c,2*b+e);d.push(a);k=h[3]*
k*255;a=m.i8888to32(h[0]*k,h[1]*k,h[2]*k,k);d.push(a);h=x[3]*p*255;a=m.i8888to32(x[0]*h,x[1]*h,x[2]*h,h);d.push(a);a=m.i8888to32(Math.min(32*l,255),Math.min(4*z,255),Math.min(f,255),0);d.push(a)};return a}(m);e.CircleVertexBuffer=c})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(c,e,k,l){return function(){function c(b,e){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=b;this.version=
parseFloat(b.version);this.sprite=e?e.spriteUrl:b.sprite;this.glyphs=e?e.glyphsUrl:b.glyphs;if(this.layers=(b.layers||[]).map(c._create))for(b=void 0,e=0;e<this.layers.length;e++)b=this.layers[e],this._layerByName[b.id.toLowerCase()]=b,0===b.type&&this.backgroundBucketIds.push(e);this._identifyRefLayers()}c.prototype.isPainterDataDriven=function(b){return(b=this._layerByName[b.toLowerCase()])?b.isPainterDataDriven():!1};c.prototype.getStyleLayerId=function(b){return b>=this.layers.length?null:this.layers[b].id};
c.prototype.getLayoutProperties=function(b){return(b=this._layerByName[b.toLowerCase()])?b.layout:null};c.prototype.getPaintProperties=function(b){return(b=this._layerByName[b.toLowerCase()])?b.paint:null};c.prototype.setPaintProperties=function(b,e){b=this._layerByName[b.toLowerCase()];if(!b)return"";var f=this.layers.indexOf(b);this.styleJSON.layers[f].paint=e;e=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,
layout:b.layout,paint:e},b);this.layers[f]=e;this._layerByName[b.id.toLowerCase()]=e;return b.id};c.prototype.setLayoutProperties=function(b,e){b=this._layerByName[b.toLowerCase()];if(!b)return"";var f=this.layers.indexOf(b);this.styleJSON.layers[f].layout=e;e=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:e,paint:b.paint},b);this.layers[f]=e;this._layerByName[b.id.toLowerCase()]=e;return b.id};c.prototype._identifyRefLayers=
function(){for(var b=[],c=[],e=0,a=0,d=this.layers;a<d.length;a++){var g=d[a];if(1===g.type){var k=g,l=g.source+"|"+g.sourceLayer,l=l+("|"+JSON.stringify(g.layout&&g.layout.visibility)),l=l+("|"+JSON.stringify(g.minzoom)),l=l+("|"+JSON.stringify(g.maxzoom)),l=l+("|"+JSON.stringify(g.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)l+="|"+JSON.stringify(e);b.push({key:l,layer:g})}2===g.type&&(k=g,l=g.source+"|"+g.sourceLayer,l+="|"+JSON.stringify(g.layout&&g.layout.visibility),l+="|"+JSON.stringify(g.minzoom),
l+="|"+JSON.stringify(g.maxzoom),l+="|"+JSON.stringify(g.filter),l+="|"+JSON.stringify(g.layout&&g.layout["line-cap"]),l+="|"+JSON.stringify(g.layout&&g.layout["line-join"]),k.hasDataDrivenLine&&(l+="|"+JSON.stringify(e)),c.push({key:l,layer:g}));++e}this._assignRefLayers(b);this._assignRefLayers(c)};c.prototype._assignRefLayers=function(b){b.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var c,e,a=b.length,d=0;d<a;d++){var g=b[d];if(g.key===c)g.layer.refLayerId=e;else if(c=g.key,
e=g.layer.id,1===g.layer.type&&!g.layer.getPaintProperty("fill-outline-color"))for(var k=d+1;k<a;k++){var l=b[k];if(l.key===c){if(l.layer.getPaintProperty("fill-outline-color")){b[d]=l;b[k]=g;e=l.layer.id;break}}else break}}};c._create=function(b,c,e){c=1-1/(e.length+1)*(1+c);switch(b.type){case "background":return new l.BackgroundStyleLayer(0,b,c);case "fill":return new l.FillStyleLayer(1,b,c);case "line":return new l.LineStyleLayer(2,b,c);case "symbol":return new l.SymbolStyleLayer(3,b,c);case "raster":throw Error("Unsupported vector tile raster layer");
case "circle":return new l.CircleStyleLayer(4,b,c)}throw Error("Unknown vector tile layer");};c._recreateLayer=function(b,c){switch(b.type){case "background":return new l.BackgroundStyleLayer(0,b,c.z);case "fill":return new l.FillStyleLayer(1,b,c.z);case "line":return new l.LineStyleLayer(2,b,c.z);case "symbol":return new l.SymbolStyleLayer(3,b,c.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,b,c.z)}};return c}()})},"*noref":1}});
require.boot&&require.apply(null,require.boot);
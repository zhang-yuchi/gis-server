// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper dojo/i18n!../nls/common dojo/i18n!./BasemapLayerList/nls/BasemapLayerList ../core/Collection ../core/deprecate ../core/events ../core/HandleOwner ../core/has ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ../libs/sortablejs/Sortable ./Widget ./BasemapLayerList/BasemapLayerListViewModel ./LayerList/ListItem ./support/widget".split(" "),function(W,X,K,
g,A,m,l,L,M,N,O,P,Q,n,f,B,R,x,S,d){function t(d){var b=d.children;d.actionsOpen&&(d.actionsOpen=!1);b.forEach(function(a){return t(a)})}var T=L.ofType(S),U=Q.getLogger("esri.widgets.BasemapLayerList"),J={statusIndicators:!0};return function(I){function b(a){a=I.call(this,a)||this;a._editingTitle=!1;a._editTitleInput=null;a._editTitleButton=null;a._focusOnElement=null;a._sortableBaseLayers=null;a._sortableReferenceLayers=null;a._sortableBaseLayersNode=null;a._sortableReferenceLayersNode=null;a._focusSortUid=
null;a._newUI=P("esri-basemaplayerlist-new-ui");a.basemapTitle=null;a.baseListItemCreatedFunction=null;a.editingEnabled=!1;a.iconClass="esri-icon-layers";a.label=l.widgetLabel;a.multipleSelectionEnabled=!1;a.referenceListItemCreatedFunction=null;a.baseItems=null;a.referenceItems=null;a.selectedItems=new T;a.view=null;a.viewModel=new x;a.visibleElements=A({},J);return a}K(b,I);b.prototype.postInitialize=function(){var a=this,c=this.baseItems,e=this.referenceItems;this.own([n.on(this,"baseItems","change",
function(){a._itemsChanged(c,"base-items");a._toggleSortingBaseLayers()}),n.on(this,"referenceItems","change",function(){return a._itemsChanged(e,"reference-items")}),n.init(this,"editingEnabled",function(){return a._toggleSorting()})])};b.prototype.destroy=function(){this._destroyBaseSortable();this._destroyReferenceSortable()};Object.defineProperty(b.prototype,"statusIndicatorsVisible",{set:function(a){M.deprecatedProperty(U,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",
version:"4.15"});this.visibleElements=A({},this.visibleElements,{statusIndicators:a})},enumerable:!0,configurable:!0});b.prototype.castVisibleElements=function(a){return A({},J,a)};b.prototype.triggerAction=function(a,c){this.viewModel.triggerAction(a,c)};b.prototype.render=function(){var a,c=this.viewModel.state,c=(a={},a["esri-basemap-layer-list--new-ui"]=this._newUI,a["esri-hidden"]="loading"===c,a["esri-disabled"]="disabled"===c,a);return d.tsx("div",{class:this.classes("esri-basemap-layer-list esri-widget esri-widget--panel",
c)},this._renderTitleContainer(),this._renderReferenceSection(),this._renderBaseSection())};b.prototype._destroyReferenceSortable=function(){var a=this._sortableReferenceLayers;a&&a.destroy();this._sortableReferenceLayersNode=null};b.prototype._destroyBaseSortable=function(){var a=this._sortableBaseLayers;a&&a.destroy();this._sortableBaseLayersNode=null};b.prototype._toggleEditingTitle=function(){var a=!this._editingTitle;this._focusOnElement=(this._editingTitle=a)?"edit-input":"edit-button";this.scheduleRender()};
b.prototype._storeEditTitleInput=function(a){this._editTitleInput=a;this._focusEditElement()};b.prototype._focusEditElement=function(){this._editTitleInput&&"edit-input"===this._focusOnElement&&(this._focusOnElement=null,this._editTitleInput.focus());this._editTitleButton&&"edit-button"===this._focusOnElement&&(this._focusOnElement=null,this._editTitleButton.focus())};b.prototype._storeEditTitleButton=function(a){this._editTitleButton=a;this._focusEditElement()};b.prototype._formSubmit=function(a){a.preventDefault();
if(a=this._editTitleInput)this.basemapTitle=a.value;this._toggleEditingTitle()};b.prototype._renderTitleContainer=function(){var a=this._editingTitle,c=this.editingEnabled,e=this.viewModel.basemapTitle,e=a?d.tsx("div",{class:"esri-basemap-layer-list__editing-card"},d.tsx("form",{bind:this,onsubmit:this._formSubmit},d.tsx("label",{class:"esri-basemap-layer-list__editing-input"},l.basemapTitle,d.tsx("input",{bind:this,class:"esri-input",title:l.basemapTitle,"aria-label":l.basemapTitle,placeholder:l.basemapTitle,
type:"text",role:"textbox",value:e,afterCreate:this._storeEditTitleInput,afterUpdate:this._focusEditElement})),d.tsx("div",{class:"esri-basemap-layer-list__editing-actions"},d.tsx("button",{title:m.cancel,"aria-label":m.cancel,type:"button",bind:this,class:this.classes("esri-button","esri-button--tertiary"),onclick:this._toggleEditingTitle},m.cancel),d.tsx("button",{title:m.form.submit,"aria-label":m.form.submit,type:"button",bind:this,class:"esri-button",onclick:this._formSubmit},m.form.ok)))):d.tsx("h2",
{class:this.classes("esri-widget__heading","esri-basemap-layer-list__main-heading")},e),a=c&&!a?d.tsx("button",{bind:this,class:"esri-basemap-layer-list__edit-button",title:m.edit,"aria-label":m.edit,onclick:this._toggleEditingTitle,afterCreate:this._storeEditTitleButton,afterUpdate:this._focusEditElement,"data-node-ref":"_editButtonNode"},d.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-edit","esri-basemap-layer-list__edit-button-icon")})):null;return d.tsx("div",{class:"esri-basemap-layer-list__title-container"},
e,a)};b.prototype._renderNoLayersInfo=function(a,c){return d.tsx("div",{key:c,class:"esri-basemap-layer-list__no-items"},a)};b.prototype._renderList=function(a,c){var e=this;return d.tsx("ul",{key:c,"aria-label":l.widgetLabel,role:this.editingEnabled&&a.length?"listbox":void 0,afterCreate:this._sortNodeCreated,afterRemoved:"reference"===c?this._destroyReferenceSortable:this._destroyBaseSortable,"data-node-ref":c,bind:this,class:this.classes("esri-basemap-layer-list__list","esri-basemap-layer-list__list--root",
"esri-basemap-layer-list__list--independent")},a.map(function(u){return e._renderItem({item:u,parent:null,itemType:c,isOnlyChild:1===a.length})}))};b.prototype._itemMovedList=function(a){this.viewModel.transferListItem({listItem:a.item["data-item"],from:a.from.dataset.nodeRef,to:a.to.dataset.nodeRef,newIndex:a.newIndex})};b.prototype._toggleSortingBaseLayers=function(){var a=this,c=this._sortableBaseLayers,e=this._sortableBaseLayersNode;if(e){var u=!this.editingEnabled;if(c)c.option("disabled",u);
else{var b=B.create(e,{dataIdAttr:"data-layer-uid",group:"root-layers",filter:".esri-basemap-layer-list__item--only-child",fallbackTolerance:4,disabled:u,onSort:function(){return a._sortLayersToItems({type:"base",itemIds:b.toArray()})},onAdd:function(c){return a._itemMovedList(c)}});this._sortableBaseLayers=b}}};b.prototype._toggleSortingReferenceLayers=function(){var a=this,c=this._sortableReferenceLayers,e=this._sortableReferenceLayersNode;if(e){var u=!this.editingEnabled;if(c)c.option("disabled",
u);else{var b=B.create(e,{dataIdAttr:"data-layer-uid",group:"root-layers",disabled:u,fallbackTolerance:4,onSort:function(){return a._sortLayersToItems({type:"reference",itemIds:b.toArray()})},onAdd:function(c){return a._itemMovedList(c)}});this._sortableReferenceLayers=b}}};b.prototype._toggleSorting=function(){this._toggleSortingBaseLayers();this._toggleSortingReferenceLayers()};b.prototype._sortNodeCreated=function(a){var c=a.getAttribute("data-node-ref");"base"===c&&(this._sortableBaseLayersNode=
a);"reference"===c&&(this._sortableReferenceLayersNode=a);this._toggleSorting()};b.prototype._renderBaseSection=function(){var a=this._getItems(this.baseItems),c=d.tsx("h3",{class:this.classes("esri-widget__heading","esri-basemap-layer-list__list-heading")},l.baseHeading),e=this._renderList(a,"base"),a=[0===a.length?this._renderNoLayersInfo(l.noBaseLayers,"base"):null,e];return[d.tsx("hr",{class:"esri-basemap-layer-list__hr"}),c,a]};b.prototype._renderReferenceSection=function(){var a=this._getItems(this.referenceItems),
c=d.tsx("h3",{class:this.classes("esri-widget__heading","esri-basemap-layer-list__list-heading")},l.referenceHeading),e=this._renderList(a,"reference"),a=[0===a.length?this._renderNoLayersInfo(l.noReferenceLayers,"reference"):null,e];return[c,a]};b.prototype._getItems=function(a){var c=this;return a.toArray().filter(function(a){return c.errorsVisible||!a.error})};b.prototype._getSingleActionButton=function(a){return a.actionsSections.reduce(function(a){return a}).filter(function(a){return a&&"button"===
a.type}).getItemAt(0)};b.prototype._renderItem=function(a){var c=this,e=a.item,b=a.parent,V=a.itemType;a=a.isOnlyChild;var q,h,k,g,f,n,t,w=this.id+"_"+e.uid,y=w+"_actions",C=w+"__list",w=w+"__title",z=this._newUI,v=!!e.error,D=!!e.children.length&&!v,E=v?l.layerError:"",r=e.visibilityMode,F=e.children&&e.children.toArray(),B=(q={},q["esri-basemap-layer-list__list--exclusive"]="exclusive"===r,q["esri-basemap-layer-list__list--inherited"]="inherited"===r,q["esri-basemap-layer-list__list--independent"]=
"inherited"!==r&&"exclusive"!==r,q);q=(h={},h["esri-basemap-layer-list__item--has-children"]=D,h["esri-basemap-layer-list__item--error"]=!!v,h["esri-basemap-layer-list__item--updating"]=e.updating&&!b&&this.visibleElements.statusIndicators,h["esri-basemap-layer-list__item--invisible"]=z&&!e.visible,h["esri-basemap-layer-list__item--invisible-at-scale"]=!e.visibleAtCurrentScale,h["esri-basemap-layer-list__item--selectable"]=this.editingEnabled,h);var z=this._countActions(e.actionsSections),p=e.panel;
h=p&&p.open?p.render():null;var p=p&&p.visible?this._renderPanelButton(p):null,G=(k={},k["esri-basemap-layer-list__item-actions-menu-item--active"]=e.actionsOpen,k),x=e.actionsOpen?m.close:m.open,H=1===z&&this._getSingleActionButton(e);k=H?this._renderAction({item:e,action:H,singleAction:!0}):null;k=(G=!H&&z?d.tsx("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-basemap-layer-list__item-actions-menu-item",
G),tabindex:"0",role:"button","aria-controls":y,"aria-label":x,title:x},d.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||p||k?d.tsx("div",{key:"esri-basemap-layer-list__actions-menu",class:"esri-basemap-layer-list__item-actions-menu"},p,k,G):null;y=z?this._renderActionsSections(e,e.actionsSections,y):null;r=D?d.tsx("ul",{key:"esri-basemap-layer-list__list-items",id:C,class:this.classes("esri-basemap-layer-list__list",B),"aria-expanded":e.open?"true":"false",role:"exclusive"===
r?"radiogroup":"group",hidden:e.open?null:!0},F.map(function(a){return c._renderItem({item:a,parent:e})})):null;F=(g={},g["esri-basemap-layer-list__child-toggle--open"]=e.open,g);g=e.open?m.collapse:m.expand;g=D?d.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"esri-basemap-layer-list__toggle-children",class:this.classes("esri-basemap-layer-list__child-toggle",F),tabindex:"0",role:"button","aria-controls":C,"aria-label":g,title:g},d.tsx("span",
{"aria-hidden":"true",class:this.classes("esri-basemap-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),d.tsx("span",{"aria-hidden":"true",class:this.classes("esri-basemap-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),d.tsx("span",{"aria-hidden":"true",class:this.classes("esri-basemap-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;C=this._createLabelNode(e,b,w);v=v?d.tsx("div",{key:"esri-basemap-layer-list__error",class:"esri-basemap-layer-list__item-error-message",
role:"alert"},d.tsx("span",null,E)):null;E=-1<this.selectedItems.indexOf(e);b=b?null:e.get("layer.uid");b=(f={},f["data-layer-uid"]=b,f);f=d.tsx("div",{key:"esri-basemap-layer-list__list-item-container",class:"esri-basemap-layer-list__item-container"},g,C,k);return this.editingEnabled?d.tsx("li",A({key:e,bind:this,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-item-type":V,tabIndex:0,"aria-labelledby":w,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,
class:this.classes("esri-basemap-layer-list__item",q,(n={},n["esri-basemap-layer-list__item--only-child"]=a,n)),"aria-selected":E?"true":"false",role:"option"},b),f,v,y,h,r):d.tsx("li",{key:e,class:this.classes("esri-basemap-layer-list__item",q,(t={},t["esri-basemap-layer-list__item--only-child"]=a,t))},f,v,y,h,r)};b.prototype._sortLayersToItems=function(a){var c=a.type,e=a.itemIds;(a="base"===c?this.get("view.map.basemap.baseLayers"):"reference"===c?this.get("view.map.basemap.referenceLayers"):null)&&
a.sort(function(a,c){a=e.indexOf(a.uid);c=e.indexOf(c.uid);return a>c?-1:a<c?1:0})};b.prototype._focusListItem=function(a){var c=this._focusSortUid;a&&c&&a.dataset.layerUid===c&&(a.focus(),this._focusSortUid=null)};b.prototype._selectionKeydown=function(a){var c=N.eventKey(a);if(-1===["ArrowDown","ArrowUp"].indexOf(c))this._toggleSelection(a);else{a.stopPropagation();var e=a.currentTarget,b=e["data-item"],e=e.dataset.itemType,d=this._sortableBaseLayers,g=this._sortableReferenceLayers,d="base"===e?
d:"reference"===e?g:null,g=-1<this.selectedItems.indexOf(b),h=d.toArray();a=h.indexOf(a.target.dataset.layerUid);var k=this.viewModel,f=k.baseItems,k=k.referenceItems;if(-1!==a)if("ArrowDown"===c)c=a+1,(k=c>=h.length)&&"reference"===e&&g?(this.viewModel.transferListItem({listItem:b,from:"reference",to:"base",newIndex:f.length}),this._focusSortUid=b.get("layer.uid"),this.scheduleRender()):k&&"reference"===e?(this._focusSortUid=(b=f.getItemAt(0))&&b.get("layer.uid"),this.scheduleRender()):k||(g&&(h.splice(c,
0,h.splice(a,1)[0]),d.sort(h),this._sortLayersToItems({type:e,itemIds:d.toArray()})),this._focusSortUid=h[c],this.scheduleRender());else if("ArrowUp"===c){var c=a-1,l=0>c;l&&"base"===e&&g?1!==f.length&&(this.viewModel.transferListItem({listItem:b,from:"base",to:"reference",newIndex:0}),this._focusSortUid=b.get("layer.uid"),this.scheduleRender()):l&&"base"===e?(this._focusSortUid=(b=k.getItemAt(k.length-1))&&b.get("layer.uid"),this.scheduleRender()):l||(g&&(h.splice(c,0,h.splice(a,1)[0]),d.sort(h),
this._sortLayersToItems({type:e,itemIds:d.toArray()})),this._focusSortUid=h[c],this.scheduleRender())}}};b.prototype._createLabelNode=function(a,c,e){var b,g=this.editingEnabled,f=this._newUI;c=c&&c.visibilityMode;var h=(b={},b["esri-basemap-layer-list__item-toggle-icon"]=f,b["esri-basemap-layer-list__item-toggle-icon"]=f&&"exclusive"!==c,b["esri-basemap-layer-list__item-radio-icon"]=f&&"exclusive"===c,b["esri-icon-radio-checked"]="exclusive"===c&&a.visible,b["esri-icon-radio-unchecked"]="exclusive"===
c&&!a.visible,b["esri-icon-visible"]="exclusive"!==c&&!f&&a.visible,b["esri-icon-non-visible"]="exclusive"!==c&&(f||!a.visible),b),k="exclusive"===c?"radio":"switch";b=a.title||l.untitledLayer;var m=a.visibleAtCurrentScale?b:b+" ("+l.layerInvisibleAtScale+")";b=d.tsx("span",{key:"layer-title-container",id:e,title:m,"aria-label":m,class:"esri-basemap-layer-list__item-title"},b);h=d.tsx("span",{class:this.classes(h),"aria-hidden":"true"});h=[g?d.tsx("span",{key:"label-icon",class:"esri-basemap-layer-list__item-toggle",
bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":c,tabIndex:0,"aria-checked":a.visible?"true":"false",role:k,"aria-labelledby":e},h):d.tsx("span",{key:"label-icon",class:"esri-basemap-layer-list__item-toggle"},h),b];f&&h.reverse();e=g?d.tsx("div",{key:"label",class:"esri-basemap-layer-list__item-label"},h):d.tsx("div",{key:"label",class:"esri-basemap-layer-list__item-label",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,
"data-item":a,"data-parent-visibility":c,tabIndex:0,"aria-checked":a.visible?"true":"false",role:k,"aria-labelledby":e},h);f=(g=!!a.error)?d.tsx("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null;return"inherited"===c||g?d.tsx("div",{key:a,class:"esri-basemap-layer-list__item-label"},f,b):e};b.prototype._renderPanelButton=function(a){var c,b,g=a.className,f=a.open,l=a.title,g=a.image||g?g:"esri-icon-default-action",h=this._getIconImageStyles(a),f=(c={},c["esri-basemap-layer-list__item-actions-menu-item--active"]=
f,c);c=(b={},b["esri-basemap-layer-list__item-action-image"]=!!h["background-image"],b);g&&(c[g]=!!g);return d.tsx("div",{key:a,bind:this,"data-panel":a,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-basemap-layer-list__item-actions-menu-item",f),role:"button",tabindex:"0",title:l,"aria-label":l},d.tsx("span",{class:this.classes(c),styles:h}))};b.prototype._watchActionSectionChanges=function(a,c){var b=this;this.handles.add(a.on("change",function(){return b.scheduleRender()}),
c);a.forEach(function(a){return b._renderOnActionChanges(a,c)})};b.prototype._renderOnActionChanges=function(a,c){var b=this;"toggle"===a.type?this.handles.add([n.init(a,"className image id title visible value".split(" "),function(){return b.scheduleRender()})],c):"slider"===a.type?this.handles.add([n.init(a,"className id title visible value displayValueEnabled max min step".split(" "),function(){return b.scheduleRender()})],c):this.handles.add([n.init(a,["className","image","id","title","visible"],
function(){return b.scheduleRender()})],c)};b.prototype._renderOnItemChanges=function(a,c){var b=this;this.handles.add([n.init(a,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return b.scheduleRender()}),a.actionsSections.on("change",function(){return b.scheduleRender()}),a.children.on("change",function(){return b.scheduleRender()})],c);a.children.forEach(function(a){return b._renderOnItemChanges(a,
c)});a.actionsSections.forEach(function(a){return b._watchActionSectionChanges(a,c)})};b.prototype._itemsChanged=function(a,c){var b=this;this.handles.remove(c);a.forEach(function(a){return b._renderOnItemChanges(a,c)});this.scheduleRender()};b.prototype._renderActionsSections=function(a,c,b){var e=this;c=c.toArray().map(function(c){return d.tsx("ul",{key:c,class:"esri-basemap-layer-list__item-actions-list"},e._renderActionSection(a,c))});return d.tsx("div",{role:"group","aria-expanded":a.actionsOpen?
"true":"false",key:"esri-basemap-layer-list__actions-section",id:b,class:"esri-basemap-layer-list__item-actions",hidden:a.actionsOpen?null:!0},c)};b.prototype._renderActionSection=function(a,c){var b=this;return(c&&c.toArray()).map(function(c){return b._renderAction({item:a,action:c})})};b.prototype._renderAction=function(a){var c,b,g=a.item,f=a.action;a=a.singleAction;var l=this._getIconImageStyles(f),h=f.active,k=f.className,m=f.disabled,n=f.title,k="button"!==f.type||f.image||k?k:"esri-icon-default-action",
m=(c={},c["esri-basemap-layer-list__item-actions-menu-item"]=a&&"button"===f.type,c["esri-basemap-layer-list__item-action"]=!a&&"toggle"!==f.type,c["esri-basemap-layer-list__action-toggle"]="toggle"===f.type,c["esri-basemap-layer-list__action-toggle--on"]="toggle"===f.type&&f.value,c["esri-disabled-element"]=m,c);c=(b={},b["esri-basemap-layer-list__item-action-image"]=!h&&!!l["background-image"],b["esri-icon-loading-indicator"]=h,b["esri-rotating"]=h,b);k&&(c[k]=!0);b=d.tsx("span",{key:"action-icon",
"aria-hidden":"true",class:this.classes("esri-basemap-layer-list__item-action-icon",c),styles:l});c=a?null:d.tsx("span",{key:"action-title",class:"esri-basemap-layer-list__item-action-title"},n);b=[b,c];return a?d.tsx("div",{bind:this,"data-item":g,"data-action":f,role:g.actionsOpen?"button":null,key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:m,tabindex:"0",title:n,"aria-label":n},b):d.tsx("li",{bind:this,"data-item":g,"data-action":f,key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,
classes:m,tabindex:"0",role:g.actionsOpen?"button":null,title:n,"aria-label":n},b)};b.prototype._countActions=function(a){return a.reduce(function(a,b){return a+b.length},0)};b.prototype._getIconImageStyles=function(a){a="esri.widgets.LayerList.ListItemPanel"===a.declaredClass||"esri.support.Action.ActionButton"===a.declaredClass||"esri.support.Action.ActionToggle"===a.declaredClass?a.image:null;return{"background-image":a?'url("'+a+'")':null}};b.prototype._toggleActionsOpen=function(a){a.stopPropagation();
a=a.currentTarget["data-item"];var b=!a.actionsOpen,d=this.baseItems,f=this.referenceItems;b&&(d.forEach(function(a){return t(a)}),f.forEach(function(a){return t(a)}));a.actionsOpen=b};b.prototype._triggerPanel=function(a){a.stopPropagation();if(a=a.currentTarget["data-panel"])a.open=!a.open};b.prototype._triggerAction=function(a){a.stopPropagation();var b=a.currentTarget;a=b["data-action"];b=b["data-item"];"toggle"===a.type&&(a.value=!a.value);this.triggerAction(a,b)};b.prototype._toggleVisibility=
function(a){a.stopPropagation();var b=a.currentTarget;a=b.getAttribute("data-parent-visibility");b=b["data-item"];"exclusive"===a&&b.visible||(b.visible=!b.visible)};b.prototype._toggleChildrenClick=function(a){a.stopPropagation();a=a.currentTarget["data-item"];a.open=!a.open};b.prototype._toggleSelection=function(a){a.stopPropagation();var b=this.selectedItems,d=this.multipleSelectionEnabled&&(a.metaKey||a.ctrlKey);a=a.currentTarget["data-item"];var f=-1<b.indexOf(a),g=b.length,l=f&&1===g;d?f?b.remove(a):
b.add(a):g&&!l?(b.removeAll(),b.add(a)):f?b.remove(a):b.add(a)};g([f.aliasOf("viewModel.basemapTitle")],b.prototype,"basemapTitle",void 0);g([f.aliasOf("viewModel.baseListItemCreatedFunction"),d.renderable()],b.prototype,"baseListItemCreatedFunction",void 0);g([f.property(),d.renderable()],b.prototype,"editingEnabled",void 0);g([f.property(),d.renderable()],b.prototype,"errorsVisible",void 0);g([f.property()],b.prototype,"iconClass",void 0);g([f.property()],b.prototype,"label",void 0);g([f.property()],
b.prototype,"multipleSelectionEnabled",void 0);g([f.aliasOf("viewModel.referenceListItemCreatedFunction"),d.renderable()],b.prototype,"referenceListItemCreatedFunction",void 0);g([f.aliasOf("viewModel.baseItems"),d.renderable()],b.prototype,"baseItems",void 0);g([f.aliasOf("viewModel.referenceItems"),d.renderable()],b.prototype,"referenceItems",void 0);g([f.property(),d.renderable()],b.prototype,"selectedItems",void 0);g([f.property(),d.renderable()],b.prototype,"statusIndicatorsVisible",null);g([f.aliasOf("viewModel.view"),
d.renderable()],b.prototype,"view",void 0);g([d.vmEvent("trigger-action"),f.property({type:x}),d.renderable("viewModel.state")],b.prototype,"viewModel",void 0);g([f.property(),d.renderable()],b.prototype,"visibleElements",void 0);g([f.cast("visibleElements")],b.prototype,"castVisibleElements",null);g([d.accessibleHandler()],b.prototype,"_toggleActionsOpen",null);g([d.accessibleHandler()],b.prototype,"_triggerPanel",null);g([d.accessibleHandler()],b.prototype,"_triggerAction",null);g([d.accessibleHandler()],
b.prototype,"_toggleVisibility",null);g([d.accessibleHandler()],b.prototype,"_toggleChildrenClick",null);g([d.accessibleHandler()],b.prototype,"_toggleSelection",null);return b=g([f.subclass("esri.widgets.BasemapLayerList")],b)}(f.declared(O.HandleOwnerMixin(R)))});
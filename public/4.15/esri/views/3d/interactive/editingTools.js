// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/graphicMove3D/GraphicMove3DTool":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/Collection ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorDragUtils ../manipulatorUtils ../settings ../visualElementUtils ./isSupportedGraphic ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N){Object.defineProperty(l,"__esModule",{value:!0});var U=function(){return function(h){this.allGraphics=h;this.type="graphic-move-start"}}();l.GraphicMoveStartEvent=U;var Y=function(){return function(h,m,p,x){this.dx=h;this.dy=m;this.dz=p;this.allGraphics=x;this.type="graphic-move"}}();l.GraphicMoveEvent=Y;var S=function(){return function(h){this.allGraphics=h;this.type="graphic-move-stop"}}();l.GraphicMoveStopEvent=S;J=function(N){function l(h){h=
N.call(this,h)||this;h.graphics=new F;h.enableZ=!0;h.type="move-3d";h._toolHandles=new K;h._handles=new K;return h}L(l,N);l.prototype.initialize=function(){var h=this;this._toolHandles.add([this.graphics.on("change",function(){h._refreshManipulators()}),M.settings.zManipulator.watch(M.settings.zManipulator.keys(),function(){return h._refreshManipulators()})]);this._refreshManipulators()};l.prototype.destroy=function(){this._handles.destroy();this._handles=null;this._toolHandles.destroy();this._toolHandles=
null;this.graphics.removeAll();this._set("view",null)};l.prototype.reset=function(){};l.prototype._refreshManipulators=function(){var h=this;this._handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();this.manipulators.removeAll();var m=this.graphics.toArray().filter(function(h){return 0===E.isSupportedGraphic(h)}).map(function(h){return new aa(h)});m.length&&(this.createManipulators(m),this.createVisualElements(m),this._handles.add(m.map(function(m){return h.view.trackGraphicState(m.state)})),
this.updateMoveManipulation(m))};l.prototype.createManipulators=function(m){for(var p=this,x=function(f){var b=f.state;f.manipulationXY=new h.MoveXYGraphicManipulation({tool:d,view:d.view,graphicState:b});f.manipulationXY.forEachManipulator(function(a){return p._handles.add(a.events.on("immediate-click",function(a){p.emit("immediate-click",G({},a,{graphic:b.graphic}));a.stopPropagation()}))});d._handles.add(f.manipulationXY.createDragPipeline(function(a,c,e){return p.buildDragEventPipeline(a,c,e,
m)}))},d=this,u=0;u<m.length;u++)x(m[u]);this.createMoveManipulation(m)};l.prototype.createMoveManipulation=function(h){var m=this,p=new Q.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===h.length?Q.MoveManipulation.radiusForSymbol(h[0].graphic.symbol):O.DISC_RADIUS});this._moveManipulation=p;p.elevationInfo={mode:"absolute-height",offset:0};p.forEachManipulator(function(a){m._handles.add(a.events.on("immediate-click",function(c){p.zManipulation.hasManipulator(a)||
1!==m.graphics.length||m.emit("immediate-click",G({},c,{graphic:m.graphics.getItemAt(0)}));c.stopPropagation()}))});for(var d=function(){return m.updateMoveManipulation(h)},u=0;u<h.length;u++){var f=h[u];this._handles.add([f.state.on("changed",d),f.state.watch("displaying",d)])}var b=h[h.length-1];this._handles.add(b.state.on("changed",function(){return m.updateMoveManipulationAngle(b)}));this._handles.add(p.createDragPipeline(function(a,c,e){m.buildDragEventPipeline(a,c,e,h)},R.getGraphicEffectiveElevationInfo(b.graphic),
D.expect(b.graphic.geometry).spatialReference));this.updateMoveManipulationAngle(b)};l.prototype.createVisualElements=function(h){for(var m=this,E=function(f){var b=v.createVisualElements({view:d.view,graphic:f.graphic,forEachManipulator:function(a){f.manipulationXY.forEachManipulator(a);m._moveManipulation.forEachManipulator(a)},onManipulatorsChanged:function(){return p.makeHandle()}});f.geometryRepresentation=b.visualElement;f.geometryRepresentation instanceof x.OutlineVisualElement&&d._handles.add([f.geometryRepresentation.events.on("attachment-origin-changed",
function(){f.state.isDraped||m.updateMoveManipulation(h)}),f.state.watch("isDraped",function(){return m.updateMoveManipulation(h)})]);d._handles.add(b)},d=this,u=0;u<h.length;u++)E(h[u])};l.prototype.updateMoveManipulationAngle=function(h){this._moveManipulation.angleDeferred=function(){return B.primaryShapeOrientation(h.graphic.geometry)}};l.prototype.updateMoveManipulation=function(h){for(var m=A.makeDehydratedPoint(0,0,0,this.view.spatialReference),p=0,d=!1,u=this._moveManipulation,f=0;f<h.length;f++){var b=
h[f];if(b.state.displaying){var a=b.state.graphic;this.enableZ&&H.canMoveZ(a)&&(d=!0);b=b.geometryRepresentation instanceof x.OutlineVisualElement&&!b.state.isDraped?b.geometryRepresentation.attachmentOrigin:y.getGraphicAttachmentOrigin(this.view,a);D.isSome(b)&&(m.x+=b.x,m.y+=b.y,m.z+=b.z,p++)}}0<p?(m.x/=p,m.y/=p,m.z/=p,u.location=m,u.xyManipulation.available=!0,u.xyAxisManipulation.available=!0,u.zManipulation.available=d):u.available=!1};l.prototype.buildDragEventPipeline=function(h,m,p,d){var u=
this,f=[],b=[],a=null,c=null,e=function(){for(var e=0;e<f.length;e++)f[e].dragging=!1;f.length=0;b.length=0;c=a=null;u._moveManipulation.interactive=!0};m.next(function(e){if("start"===e.action){f.length=0;for(var g=b.length=0;g<d.length;g++){var n=d[g];n.dragging||!n.manipulationXY.hasManipulator(h)&&n.manipulationXY.grabbing||(f.push(n),b.push(n.graphic),n.dragging=!0)}if(0!==b.length&&(u._moveManipulation.interactive=!1,a=C.dragGraphicMany(b),c=C.resetGraphicMany(b),u.emit("graphic-move-start",
new U(b)),u.destroyed))return null}return 0!==b.length?e:null}).next(function(c){return a(c)}).next(function(a){switch(a.action){case "start":case "update":if(a.translationX||a.translationY||a.translationZ)if(u.emit("graphic-move",new Y(a.translationX,a.translationY,a.translationZ,b)),u.destroyed)return null;break;case "end":u.emit("graphic-move-stop",new S(b));if(u.destroyed)return null;e()}});p.next(function(a){return c(a)}).next(function(){u.emit("graphic-move-stop",new S(b));if(u.destroyed)return null;
e()})};t([m.property({constructOnly:!0,nonNullable:!0})],l.prototype,"view",void 0);t([m.property({readOnly:!0})],l.prototype,"graphics",void 0);t([m.property({constructOnly:!0,nonNullable:!0})],l.prototype,"enableZ",void 0);t([m.property({readOnly:!0})],l.prototype,"type",void 0);return l=t([m.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMove3DTool")],l)}(m.declared(q.EventedMixin(N.InteractiveToolBase)));l.GraphicMove3DTool=J;var aa=function(){function h(h){this.manipulationXY=
this.geometryRepresentation=this.state=null;this.dragging=!1;this.state=new V.GraphicState({graphic:h})}Object.defineProperty(h.prototype,"graphic",{get:function(){return this.state.graphic},enumerable:!0,configurable:!0});return h}()})},"esri/support/elevationInfoUtils":function(){define(["require","exports","../core/maybe","../symbols/support/unitConversionUtils"],function(J,l,t,L){function G(l,p){l=t.isSome(l)?l.hasZ:!1;return t.isNone(p)?l?"absolute-height":"on-the-ground":p.mode}function F(l){var p=
q(l);return G(l.geometry,p)}function q(l){return l.layer&&"elevationInfo"in l.layer?l.layer.elevationInfo:null}Object.defineProperty(l,"__esModule",{value:!0});l.getGeometryEffectiveElevationMode=G;l.getGraphicEffectiveElevationMode=F;l.getGraphicEffectiveElevationInfo=function(l){var p=q(l);l=G(l.geometry,p);p=t.isSome(p)&&"on-the-ground"!==l?t.unwrapOr(p.offset,0)*L.getMetersPerUnit(t.unwrapOr(p.unit,"meters")):0;return{mode:l,offset:p}};l.hasGraphicFeatureExpressionInfo=function(l){if("on-the-ground"===
F(l))return!1;l=q(l);l=t.isSome(l)&&l.featureExpressionInfo?l.featureExpressionInfo.expression:null;return!(!l||"0"===l)};l.getZForElevationMode=function(l,p,q){if(!t.isNone(q)){var m=l.hasZ?l.z:0,A=t.isSome(q.offset)?q.offset:0;switch(q.mode){case "absolute-height":return m-A;case "on-the-ground":return 0;case "relative-to-ground":return l=(p.elevationProvider.getElevation(l.x,l.y,l.z,l.spatialReference,"ground")||0)+A,m-l;case "relative-to-scene":return l=(p.elevationProvider.getElevation(l.x,l.y,
l.z,l.spatialReference,"scene")||0)+A,m-l}}}})},"esri/views/3d/interactive/manipulatorUtils":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec4f64 ../../../layers/graphics/dehydratedFeatures ../layers/graphics/graphicUtils ../support/stack ../webgl-engine/lib/Geometry ../webgl-engine/lib/GeometryUtil ../webgl-engine/materials/ColorMaterial ../webgl-engine/materials/ShadedColorMaterial ../../interactive/Manipulator3D".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y){function C(m,p){void 0===p&&(p=4);var v=F.vec4f64.fromValues(m[0],m[1],m[2],3<m.length?m[3]:1);m=new R.ShadedColorMaterial({color:v,transparent:1>m[3],writeDepth:!0,cullFace:2},"manipulator");m.renderOccluded=p;return m}function H(m,l,A,y){m=G.vec3.normalize(p.sv3d.get(),m);l=G.vec3.normalize(p.sv3d.get(),l);var v=G.vec3.cross(p.sv3d.get(),m,l);y[0]=m[0];y[1]=m[1];y[2]=m[2];y[3]=0;y[4]=l[0];y[5]=l[1];y[6]=l[2];y[7]=0;y[8]=v[0];y[9]=v[1];y[10]=v[2];y[11]=0;y[12]=
A[0];y[13]=A[1];y[14]=A[2];y[15]=1;return y}function M(m,p){var l=m.getViewForGraphic(p);return t.isSome(l)&&"computeAttachmentOrigin"in l?l.computeAttachmentOrigin(p,m.spatialReference):null}Object.defineProperty(l,"__esModule",{value:!0});l.createManipulatorMaterial=C;l.createManipulatorOutlineMaterial=function(m,p){void 0===p&&(p=4);m=F.vec4f64.fromValues(m[0],m[1],m[2],4===m.length?m[3]:1);m=new A({color:m,transparent:!0,writeDepth:!0,cullFace:1},"manipulator-outline");m.renderOccluded=p;return m};
l.createSphereManipulator=function(p,l,A){return new y.Manipulator3D({view:p,renderObjects:[{geometry:new D(m.createSphereGeometry(1,32,32),"manipulator"),material:C(F.vec4f64.fromValues(l[0],l[1],l[2],null!=A?A:1))}]})};l.calculateInputRotationTransform=function(m,l,y,A){m=G.vec3.subtract(p.sv3d.get(),m,y);A=G.vec3.cross(p.sv3d.get(),A,m);y=H(m,A,y,p.sm4d.get());L.mat4.invert(y,y);l=G.vec3.transformMat4(p.sv3d.get(),l,y);return Math.atan2(l[1],l[0])};l.calculateTranslateRotateFromBases=H;l.getGraphicAttachmentOrigin=
M;l.placeAtGraphic=function(m,p,l){m=M(m,l);t.isSome(m)?p.elevationAlignedLocation=m:(l=l.geometry,t.isNone(l)||(l=K.computeCentroid(l),t.isNone(l)||(p.location=q.hydrateGeometry(l))))}})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/tsSupport/extendsHelper ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/Material ../lib/Util ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ./renderers/MergedRenderer ../shaders/ShadedColorMaterialTechnique".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C){Object.defineProperty(l,"__esModule",{value:!0});var H=q.newLayout().vec3f(D.VertexAttrConstants.POSITION).vec3f(D.VertexAttrConstants.NORMAL);J=function(p){function l(m,l){l=p.call(this,l)||this;l.supportsEdges=!0;l.techniqueConfig=new C.ShadedColorMaterialTechniqueConfiguration;l.params=R.copyParameters(m,v);return l}L(l,p);l.prototype.setParameterValues=function(m){A.updateParameters(this.params,m)&&this.parametersChanged()};l.prototype.getParameters=function(){return this.params};
l.prototype.getTechniqueConfig=function(m){this.techniqueConfig.output=m;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.writeDepth=this.params.writeDepth;return this.techniqueConfig};l.prototype.getPassParameters=function(){return this.params};l.prototype.intersect=function(m,p,h,l,v,E,y){R.intersectTriangleGeometry(m,p,l,v,E,void 0,y)};l.prototype.getGLMaterial=
function(m){return 0===m.output||4===m.output?new M(m):void 0};l.prototype.createBufferWriter=function(){return new m.DefaultBufferWriter(H)};l.prototype.createRenderer=function(m,p){return new y(m,p,this)};return l}(p.Material);l.ShadedColorMaterial=J;var M=function(m){function p(p){p=m.call(this,p)||this;p.updateParameters();return p}L(p,m);p.prototype.updateParameters=function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(C.ShadedColorMaterialTechnique,this.material.getTechniqueConfig(this.output),
this.technique)};p.prototype.beginSlot=function(m){if(4===this.output)return 3===m;var p=3;this.technique.configuration.transparent&&(p=this.technique.configuration.writeDepth?5:8);return m===p};p.prototype.bind=function(m,p){m.bindProgram(this.technique.program);this.technique.bindPass(m,this.material.getPassParameters(),p)};return p}(K.GLMaterial),v={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:G.vec3.normalize(F.vec3f64.create(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,
cullFace:0}})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/libs/gl-matrix-2/vec4f64 ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./ShadedColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C){Object.defineProperty(l,"__esModule",{value:!0});G=function(m){function l(){return null!==m&&m.apply(this,arguments)||this}t(l,m);l.prototype.initializeProgram=function(m){var p=l.shader.get(),v=this.configuration,p=p.build({slicePlaneEnabled:v.slicePlaneEnabled,sliceHighlightDisabled:v.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new y(m.rctx,p.generateSource("vertex"),p.generateSource("fragment"),A.Default3D)};l.prototype.bindPass=function(m,
p,l){m=p.color;var v=p.shadingTint;this.program.setUniform4fv("color",m);this.program.setUniform4fv("shadedColor",this.blendColor(H,v,m));this.program.setUniform3fv("shadingDirection",p.shadingDirection);this.program.setUniformMatrix4fv("viewNormal",l.viewInvTransp)};l.prototype.blendColor=function(m,p,l){var v=1-p[3],h=p[3]+l[3]*v;if(0===h)return m[3]=h,m;m[0]=(p[0]*p[3]+l[0]*l[3]*v)/h;m[1]=(p[1]*p[3]+l[1]*l[3]*v)/h;m[2]=(p[2]*p[3]+l[2]*l[3]*v)/h;m[3]=l[3];return m};l.prototype.bindDraw=function(m){K.Transform.bindUniforms(this.program,
m);q.Slice.bindUniformsWithOrigin(this.program,this.configuration,m)};l.prototype.initializePipeline=function(){var m=this.configuration,p=0===m.output?m.transparent&&C.separateBlendingParams(770,1,771,771):null;return C.makePipelineState({blending:p,culling:function(m){return 0!==m&&{face:1===m?1028:1029,mode:2305}}(m.cullFace),depthTest:{func:515},depthWrite:m.writeDepth&&C.defaultDepthWriteParams,colorWrite:C.defaultColorWriteParams})};l.shader=new p.ReloadableShaderModule(R,"./ShadedColorMaterial.glsl",
J);return l}(D.ShaderTechnique);l.ShadedColorMaterialTechnique=G;G=function(p){function l(){var m=null!==p&&p.apply(this,arguments)||this;m.output=0;m.cullFace=0;m.slicePlaneEnabled=!1;m.sliceHighlightDisabled=!1;m.transparent=!1;m.writeDepth=!0;return m}t(l,p);L([m.parameter({count:7})],l.prototype,"output",void 0);L([m.parameter({count:3})],l.prototype,"cullFace",void 0);L([m.parameter()],l.prototype,"slicePlaneEnabled",void 0);L([m.parameter()],l.prototype,"sliceHighlightDisabled",void 0);L([m.parameter()],
l.prototype,"transparent",void 0);L([m.parameter()],l.prototype,"writeDepth",void 0);return l}(m.ShaderTechniqueConfiguration);l.ShadedColorMaterialTechniqueConfiguration=G;var H=F.vec4f64.create()})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterial.glsl":function(){define("require exports ../../../../core/tsSupport/makeTemplateObjectHelper ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),
function(J,l,t,L,G,F,q){Object.defineProperty(l,"__esModule",{value:!0});l.build=function(l){var m=new q.ShaderBuilder;m.include(G.Transform,{linearDepth:!1});m.vertex.uniforms.add("proj","mat4").add("view","mat4").add("viewNormal","mat4").add("model","mat4").add("modelNormal","mat4");m.fragment.uniforms.add("color","vec4").add("shadedColor","vec4").add("shadingDirection","vec3");m.attributes.add("position","vec3");m.attributes.add("normal","vec3");m.varyings.add("vWorldPosition","vec3");m.varyings.add("vViewNormal",
"vec3");m.varyings.add("vViewDirection","vec3");m.vertex.code.add(F.glsl(K||(K=t(["\n    void main(void) {\n      vWorldPosition \x3d (model * vec4(position, 1.0)).xyz;\n\n      vec3 worldNormal \x3d (modelNormal * vec4(normal, 1)).xyz;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "],["\n    void main(void) {\n      vWorldPosition \x3d (model * vec4(position, 1.0)).xyz;\n\n      vec3 worldNormal \x3d (modelNormal * vec4(normal, 1)).xyz;\n      vViewNormal \x3d (viewNormal * vec4(worldNormal, 1)).xyz;\n\n      gl_Position \x3d transformPosition(proj, view, vWorldPosition);\n    }\n  "]))));
m.include(L.Slice,l);m.fragment.code.add(F.glsl(p||(p=t(["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "],["\n    void main() {\n      discardBySlice(vWorldPosition);\n\n      vec3 viewNormalNorm \x3d normalize(vViewNormal);\n\n      float shadingFactor \x3d 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 colorWithShading \x3d mix(color, shadedColor, shadingFactor);\n\n      gl_FragColor \x3d highlightSlice(colorWithShading, vWorldPosition);\n    }\n    "]))));
return m};var K,p})},"esri/views/interactive/Manipulator3D":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/compilerUtils ../../core/Evented ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../core/libs/gl-matrix-2/mat3 ../../core/libs/gl-matrix-2/mat3f64 ../../core/libs/gl-matrix-2/mat4 ../../core/libs/gl-matrix-2/mat4f64 ../../core/libs/gl-matrix-2/vec2 ../../core/libs/gl-matrix-2/vec2f32 ../../core/libs/gl-matrix-2/vec3 ../../core/libs/gl-matrix-2/vec3f64 ../../geometry/support/aaBoundingRect ../../layers/graphics/dehydratedFeatures ../3d/support/ElevationProvider ../3d/support/geometryUtils ../3d/support/projectionUtils ../3d/support/stack ../3d/webgl-engine/lib/Intersector ../3d/webgl-engine/lib/intersectorUtils ../3d/webgl-engine/lib/Layer ../3d/webgl-engine/lib/Object3D".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N,U,Y,S,aa){function Z(a){return 0!==a[12]||0!==a[13]||0!==a[14]}Object.defineProperty(l,"__esModule",{value:!0});J=function(I){function w(a){a=I.call(this,a)||this;a.hideOnGrab=!1;a.moveOnDrag=!0;a.snapToPointer=!0;a.collisionType={type:"point"};a.collisionPriority=0;a.renderObjects=[];a.autoScaleRenderObjects=!0;a._radius=10;a._worldSized=!1;a._focusMultiplier=2;a._touchMultiplier=2.5;a.interactive=!0;a.selectable=!1;a.cursor=null;a.dragging=
!1;a._areAnyEngineObjectsVisible=!1;a.events=new K({target:a});a._position=O.vec3f64.create();a._modelTransform=H.mat4f64.create();a._dragOffset=null;a._dirtyScreenPoint=D.createScreenPoint();a._dirtyScreenPointArray=D.createScreenPointArray();a._dirtyRenderScreenPointArray=D.createRenderScreenPointArray3();a._dirtyOriginScreenPointArray=D.createScreenPointArray();a._dirtyScreenPixelSize=1;a._screenPositionDirty=!0;a._engineResourcesAddedToStage=!1;a._engineResources=null;a._attached=!1;a._engineLayerId=
null;a._materialIdReferences=null;a._hitResult={onSurface:!1,surfaceType:"ground"};return a}L(w,I);w.prototype.initialize=function(){var a=this;this._intersector=new U.Intersector(this.view.viewingMode);this._mapPoint=B.makeDehydratedPoint(0,0,0,this.view.spatialReference);this.events.on("drag",function(c){return a.drag(c)})};w.prototype.destroy=function(){this._removeResourcesFromStage();this._engineResources=null;this._set("view",null);this._camera=null};Object.defineProperty(w.prototype,"alignment",
{get:function(){return this._get("alignment")},set:function(a){this._set("alignment",a);this.constructed&&this._refreshMapPoint()},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"visible",{set:function(a){a!==this._get("visible")&&(this._set("visible",a),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"radius",{get:function(){return this._radius},set:function(a){a!==this._radius&&(this._radius=a,this._updateEngineObject())},enumerable:!0,
configurable:!0});Object.defineProperty(w.prototype,"worldSized",{get:function(){return this._worldSized},set:function(a){a!==this._worldSized&&(this._worldSized=a,this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"focusMultiplier",{get:function(){return this._focusMultiplier},set:function(a){this._focusMultiplier=a},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"touchMultiplier",{get:function(){return this._touchMultiplier},set:function(a){this._touchMultiplier=
a},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"modelTransform",{get:function(){return this._modelTransform},set:function(a){Z(a)&&(this._screenPositionDirty=!0);C.mat4.copy(this._modelTransform,a);this._updateEngineObject()},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"position",{get:function(){return this._position},set:function(a){this.view.renderCoordsHelper.fromRenderCoords(a,this._mapPoint,this._mapPoint.spatialReference);this._refreshMapPoint()},
enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"mapPoint",{get:function(){return this._mapPoint},set:function(a){B.clonePoint(a,this._mapPoint);this._refreshMapPoint()},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"grabbing",{set:function(a){a!==this._get("grabbing")&&(this._set("grabbing",a),this._updateEngineObject());a||(this._dragOffset=null)},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"hovering",{set:function(a){a!==this._get("hovering")&&
(this._set("hovering",a),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"selected",{set:function(a){a!==this._get("selected")&&(this._set("selected",a),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"state",{set:function(a){a!==this._get("state")&&(this._set("state",a),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"areAnyEngineObjectsVisible",{get:function(){return this._areAnyEngineObjectsVisible},
enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"surfaceType",{get:function(){return this._hitResult.onSurface?this._hitResult.surfaceType:null},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"focused",{get:function(){return this._focused},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"_focused",{get:function(){return this._get("hovering")||this._get("grabbing")},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"screenPoint",
{get:function(){this._updateScreenSpaceProperties();return this._dirtyScreenPoint},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"_screenPointArray",{get:function(){this._updateScreenSpaceProperties();return this._dirtyScreenPointArray},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"_renderScreenPointArray",{get:function(){this._updateScreenSpaceProperties();return this._dirtyRenderScreenPointArray},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,
"_originScreenPointArray",{get:function(){this._updateScreenSpaceProperties();return this._dirtyOriginScreenPointArray},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"_screenPixelSize",{get:function(){this._updateScreenSpaceProperties();return this._dirtyScreenPixelSize},enumerable:!0,configurable:!0});w.prototype._updateScreenSpaceProperties=function(){if(this._screenPositionDirty){this._screenPositionDirty=!1;this._dirtyScreenPixelSize=this._camera.computeScreenPixelSizeAt(this._position);
var a=Z(this._modelTransform),c;a?(c=this._calculateModelTransformOffset(r),c=E.vec3.add(c,c,this._position)):c=this._position;this._camera.projectPoint(c,this._dirtyRenderScreenPointArray);this._camera.renderToScreen(this._dirtyRenderScreenPointArray,this._dirtyScreenPointArray);D.screenPointArrayToObject(this._dirtyScreenPointArray,this._dirtyScreenPoint);a?(this._camera.projectPoint(this._position,ea),this._camera.renderToScreen(ea,this._dirtyOriginScreenPointArray)):M.vec2.copy(this._dirtyOriginScreenPointArray,
this._dirtyScreenPointArray)}};w.prototype.intersectionDistance=function(r,z){if(!this._get("visible"))return null;var f=D.screenPointObjectToArray(r,T),I=this._getCollisionRadius(z);z=-1*this._get("collisionPriority");switch(this.collisionType.type){case "point":if(M.vec2.squaredDistance(this._screenPointArray,f)<I*I)return this._renderScreenPointArray[2]+z;break;case "line":var w=this.collisionType.paths;r=this._getWorldToScreenObjectScale();r=this._calculateObjectTransform(r,b);for(var I=I*this._screenPixelSize,
f=x.ray.fromScreen(this._camera,f,d),P=0,W=w;P<W.length;P++)if(w=W[P],0!==w.length)for(var h=E.vec3.transformMat4(c,w[0],r),m=1;m<w.length;m++){var p=E.vec3.transformMat4(e,w[m],r),l=x.lineSegment.closestRayDistance2(x.lineSegment.fromPoints(h,p,ca),f);if(null!=l&&l<I*I)return r=E.vec3.add(N.sv3d.get(),h,p),E.vec3.scale(r,r,.5),I=D.castRenderScreenPointArray(N.sv3d.get()),this._camera.projectPoint(r,I),I[2]+z;E.vec3.copy(h,p)}break;case "disc":h=this.collisionType.direction;r=this._getWorldToScreenObjectScale();
r=this._calculateObjectTransform(r,b);I*=this._screenPixelSize;f=x.ray.fromScreen(this._camera,f,d);m=R.mat3.fromMat4(u,r);m=E.vec3.transformMat3(k,h,m);h=this._calculateModelTransformPosition(n);x.plane.fromPositionAndNormal(h,m,a);P=g;if(x.plane.intersectRay(a,f,P)&&E.vec3.squaredDistance(P,h)<I*I)return this._renderScreenPointArray[2]+z;break;case "ribbon":r=this.collisionType;w=r.paths;h=r.direction;r=this._getWorldToScreenObjectScale();r=this._calculateObjectTransform(r,b);I*=this._camera.computeScreenPixelSizeAt(this._position);
f=x.ray.fromScreen(this._camera,f,d);m=R.mat3.fromMat4(u,r);m=E.vec3.transformMat3(k,h,m);h=this._calculateModelTransformPosition(n);x.plane.fromPositionAndNormal(h,m,a);P=g;if(!x.plane.intersectRay(a,f,P))break;f=0;for(W=w;f<W.length;f++)if(w=W[f],0!==w.length)for(h=E.vec3.transformMat4(c,w[0],r),m=1;m<w.length;m++){p=E.vec3.transformMat4(e,w[m],r);l=x.lineSegment.distance2(x.lineSegment.fromPoints(h,p,ca),P);if(null!=l&&l<I*I)return r=E.vec3.add(N.sv3d.get(),h,p),E.vec3.scale(r,r,.5),I=D.castRenderScreenPointArray(N.sv3d.get()),
this._camera.projectPoint(r,I),I[2]+z;E.vec3.copy(h,p)}break;default:q.neverReached(this.collisionType)}return null};w.prototype.drag=function(a){if(this.moveOnDrag){a=D.screenPointObjectToArray(a.screenPoint,T);p.isNone(this._dragOffset)&&this.grabbing&&!this.snapToPointer&&(this._dragOffset=M.vec2.subtract(v.vec2f32.create(),a,this._originScreenPointArray));p.isSome(this._dragOffset)&&M.vec2.subtract(a,a,this._dragOffset);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(a,this._intersector,
"on-the-ground"===this.alignment?da:null);a=this._intersector.results.min;var c=g;a.getIntersectionPoint(c)?(this.position=c,this._hitResult.onSurface=!0,this._hitResult.surfaceType="TerrainRenderer"===a.intersector?"ground":"feature"):this._hitResult.onSurface=!1}};w.prototype.attach=function(a){void 0===a&&(a={manipulator3D:{}});if(this.view._stage){a=a.manipulator3D;this._engineLayerId=a.engineLayerId;if(p.isNone(this._engineLayerId)){var c=new S("manipulator-3d",{isPickable:!1});this.view._stage.add(0,
c);this.view._stage.addToViewContent([c.id]);this._engineLayerId=c.id;a.engineLayerId=c.id}a.engineLayerReferences=(a.engineLayerReferences||0)+1;this._materialIdReferences=a.materialIdReferences;p.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,a.materialIdReferences=this._materialIdReferences);this._camera=this.view.state.camera;this._attached=!0;this._updateEngineObject();V.canProject(this._mapPoint.spatialReference,this.view.spatialReference)||(this.mapPoint=B.makeDehydratedPoint(0,
0,0,this.view.spatialReference))}};w.prototype.detach=function(a){void 0===a&&(a={manipulator3D:{}});a=a.manipulator3D;a.engineLayerReferences--;var c=0===a.engineLayerReferences;c&&(a.engineLayerId=null);this._removeResourcesFromStage(c);this._camera=this._materialIdReferences=this._engineLayerId=this._engineResources=null;this._attached=!1};w.prototype.onViewChange=function(){this._camera=this.view.state.camera;this._screenPositionDirty=!0;this._updateEngineObject()};w.prototype.onElevationChange=
function(a){this.view.renderCoordsHelper.fromRenderCoords(this.position,z,a.spatialReference)&&Q.containsPoint(a.extent,z)&&this._refreshMapPoint(!0)};w.prototype._refreshMapPoint=function(a){void 0===a&&(a=!1);switch(this.alignment){case "none":break;case "on-the-ground":var c=h.getElevationAtPoint(this.view.elevationProvider,this.mapPoint,"ground");if(c===this._mapPoint.z&&a)return;this._mapPoint.z=c;break;default:q.neverReached(this.alignment)}this._screenPositionDirty=!0;this._hitResult.onSurface=
!1;this.view.renderCoordsHelper.toRenderCoords(this._mapPoint,this._position);this._updateEngineObject()};w.prototype._updateEngineObject=function(){this._areAnyEngineObjectsVisible=!1;if(this._attached)if(!1===this._get("visible"))this._removeResourcesFromStage();else{var a=this._getWorldToScreenObjectScale(),c=b;!0===this._get("autoScaleRenderObjects")&&(a*=this._getFocusedSize(this._radius,this._focused));this._calculateObjectTransform(a,c);for(var a=this._ensureEngineResources().objectsByState,
e=(this._focused?2:1)|(this._get("selected")?8:4),g=this._get("hideOnGrab")&&this._get("grabbing"),k=0;k<a.length;k++){var d=a[k],n=d.stateMask,d=d.objects;if(g)for(var n=0,r=d;n<r.length;n++)d=r[n],d.hide();else if(r=0===(n&15)||(e&n)===(n&15),n=0===(n&65520)||(this._get("state")&n)===(n&65520),r&&n)for(n=0,r=d;n<r.length;n++)d=r[n],d.unhide(),d.objectTransformation=c,this._areAnyEngineObjectsVisible=!0;else for(n=0,r=d;n<r.length;n++)d=r[n],d.hide()}}};w.prototype._ensureEngineResources=function(){if(p.isNone(this._engineResources)){var a=
this.view._stage.getContent(0,p.expect(this._engineLayerId)),c=[],e=new Set;this.renderObjects.forEach(function(a){a=a.material;e.has(a)||(c.push(a),e.add(a))});var b=function(a,c){var e=c.geometry,b=c.material,g=c.transform;Array.isArray(e)?e.forEach(function(c){return a.addGeometry(c,b,g)}):a.addGeometry(e,b,g)},g=new Map;this.renderObjects.forEach(function(a){var c=new aa({idHint:"manipulator"});b(c,a);a=a.stateMask||0;var e=g.get(a)||[];e.push(c);g.set(a,e)});var k=[];g.forEach(function(a,c){k.push({stateMask:c,
objects:a})});this._engineResources={objectsByState:k,layer:a,materials:c}}this._addResourcesToStage();return this._engineResources};w.prototype._addResourcesToStage=function(){var a=this;if(!this._engineResourcesAddedToStage&&!p.isNone(this._engineResources)){var c=this._engineResources,e=c.objectsByState,b=c.layer;c.materials.forEach(function(c){var e=p.expect(a._materialIdReferences),b=e.get(c.id)||0;0===b&&a.view._stage.add(3,c);e.set(c.id,b+1)});e.forEach(function(c){c.objects.forEach(function(c){b.addObject(c);
a.view._stage.add(1,c)})});this._engineResourcesAddedToStage=!0}};w.prototype._removeResourcesFromStage=function(a){var c=this;void 0===a&&(a=!1);if(this._engineResourcesAddedToStage&&!p.isNone(this._engineResources)){var e=this._engineResources,b=e.layer,g=e.materials;e.objectsByState.forEach(function(a){a.objects.forEach(function(a){b.removeObject(a);c.view._stage.remove(1,a.id)})});g.forEach(function(a){var e=p.expect(c._materialIdReferences),b=e.get(a.id);1===b?(c.view._stage.remove(3,a.id),e.delete(a.id)):
e.set(a.id,b-1)});a&&this.view._stage.remove(0,b.id);this._engineResourcesAddedToStage=!1}};w.prototype._getCollisionRadius=function(a){return this._getFocusedSize(this._radius,!0)*("touch"===a?this._touchMultiplier:1)};w.prototype._getFocusedSize=function(a,c){return a*(c?this._focusMultiplier:1)};w.prototype._getWorldToScreenObjectScale=function(){return this._worldSized?1:this._screenPixelSize};w.prototype._calculateModelTransformPosition=function(a){var c=this._getWorldToScreenObjectScale(),c=
this._calculateObjectTransform(c,f);return E.vec3.set(a,c[12],c[13],c[14])};w.prototype._calculateModelTransformOffset=function(a){var c=this._calculateModelTransformPosition(a);return E.vec3.subtract(a,c,this._position)};w.prototype._calculateObjectTransform=function(a,c){C.mat4.set(c,a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,1);C.mat4.multiply(c,c,this._modelTransform);c[12]+=this._position[0];c[13]+=this._position[1];c[14]+=this._position[2];c[15]=1;return c};t([m.property({constructOnly:!0,nonNullable:!0})],
w.prototype,"view",void 0);t([m.property({value:"none",nonNullable:!0})],w.prototype,"alignment",null);t([m.property()],w.prototype,"hideOnGrab",void 0);t([m.property()],w.prototype,"moveOnDrag",void 0);t([m.property()],w.prototype,"snapToPointer",void 0);t([m.property()],w.prototype,"collisionType",void 0);t([m.property({type:A.Integer})],w.prototype,"collisionPriority",void 0);t([m.property({constructOnly:!0})],w.prototype,"renderObjects",void 0);t([m.property()],w.prototype,"autoScaleRenderObjects",
void 0);t([m.property({value:!0})],w.prototype,"visible",null);t([m.property()],w.prototype,"radius",null);t([m.property()],w.prototype,"worldSized",null);t([m.property()],w.prototype,"focusMultiplier",null);t([m.property()],w.prototype,"touchMultiplier",null);t([m.property()],w.prototype,"interactive",void 0);t([m.property()],w.prototype,"selectable",void 0);t([m.property()],w.prototype,"cursor",void 0);t([m.property({value:!1})],w.prototype,"grabbing",null);t([m.property()],w.prototype,"dragging",
void 0);t([m.property({value:!1})],w.prototype,"hovering",null);t([m.property({value:!1})],w.prototype,"selected",null);t([m.property({value:0})],w.prototype,"state",null);t([m.property({dependsOn:["hovering","grabbing"]})],w.prototype,"focused",null);return w=t([m.subclass("esri.views.interactive.Manipulator3D")],w)}(m.declared(F));l.Manipulator3D=J;var da={include:new Set};da.include.add(Y.TERRAIN_ID);var T=D.createScreenPointArray(),ea=D.createRenderScreenPointArray3(),ca=x.lineSegment.create(),
d=x.ray.create(),u=y.mat3f64.create(),f=H.mat4f64.create(),b=H.mat4f64.create(),a=x.plane.create(),c=O.vec3f64.create(),e=O.vec3f64.create(),g=O.vec3f64.create(),k=O.vec3f64.create(),n=O.vec3f64.create(),r=O.vec3f64.create(),z=O.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulatorDragUtils":function(){define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/tsSupport/extendsHelper ../../../../geometry ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../geometry/support/webMercatorUtils ../../../../support/elevationInfoUtils ../../support/geometryUtils ../../support/geometryUtils ../../support/projectionUtils ../../support/stack ../../../draw/support/drawUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E){function O(h,d){var u=null,f=null;return h.events.on("drag",function(b){if("cancel"===b.action)p.isSome(f)&&(f.execute({}),f=u=null);else{var a={action:b.action,screenStart:b.start,screenEnd:b.screenPoint};"start"===b.action&&p.isNone(u)&&(u=new Z,f=new Z,d(h,u,f,a));p.isSome(u)&&u.execute(a);"end"===b.action&&p.isSome(u)&&(f=u=null)}})}function Q(h,d){var u=A.vec3f64.create(),f=A.vec3f64.create(),b=!1;return function(a){if("start"===a.action){var c=
D.screenPointObjectToArray(a.screenStart,D.castScreenPointArray(v.sv2d.get())),c=H.ray.fromScreen(h.state.camera,c,ea);b=H.plane.intersectRay(d,c,u)}if(!b)return null;c=D.screenPointObjectToArray(a.screenEnd,D.castScreenPointArray(v.sv2d.get()));c=H.ray.fromScreen(h.state.camera,c,ea);return H.plane.intersectRay(d,c,f)?t({},a,{renderStart:u,renderEnd:f,plane:d}):null}}function B(h,d,u,f){void 0===f&&(f=null);var b=null;return function(a){if("start"===a.action&&(b=h.sceneIntersectionHelper.intersectElevationFromScreen(D.createScreenPointArray(a.screenStart.x,
a.screenStart.y),d,u),p.isSome(b)&&p.isSome(f)&&!M.pointToPoint(b,b,f))||p.isNone(b))return null;var c=h.sceneIntersectionHelper.intersectElevationFromScreen(D.createScreenPointArray(a.screenEnd.x,a.screenEnd.y),d,u);return p.isSome(c)?p.isSome(f)&&!M.pointToPoint(c,c,f)?null:t({},a,{mapStart:b,mapEnd:c}):null}}function h(h,d,u,f){void 0===f&&(f=null);d=y.getZForElevationMode(d,h,u);return B(h,u,d,f)}function x(m,d,u,f){void 0===f&&(f=null);return h(m,u,y.getGraphicEffectiveElevationInfo(d),f)}function V(h,
d){var u=da,f=T,b=H.plane.create();h.renderCoordsHelper.worldUpAtPosition(d,u);h=m.vec3.cross(b,u,m.vec3.subtract(f,d,h.state.camera.eye));m.vec3.cross(h,h,u);return H.plane.fromPositionAndNormal(d,h,b)}function N(h,d){var u=null,f=p.isSome(h[d])?h[d].spatialReference:null;return function(b){if("start"===b.action&&p.isSome(h[d])){var a=h[d],c=b.mapStart.spatialReference;u=p.isNone(a)||"mesh"===a.type?null:a.spatialReference.equals(c)?a.clone():R.canProject(a,c)?R.project(a,c):null}if(p.isNone(u))return null;
var a=b.mapEnd.x-b.mapStart.x,c=b.mapEnd.y-b.mapStart.y,e=b.mapEnd.z-b.mapStart.z,g=E.move(u.clone(),a,c,e);g.spatialReference.equals(f)?h[d]=g:h[d]=R.project(g,f);return t({},b,{translationX:a,translationY:c,translationZ:e})}}function U(h){return N(h,"geometry")}function Y(h){var d=p.isSome(h.geometry)?h.geometry.clone():null;return function(u){h.geometry=d;return u}}function S(h,d){var u=A.vec3f64.create(),f=m.vec3.length(d);h.renderCoordsHelper.worldUpAtPosition(d,u);var b=A.vec3f64.create(),a=
A.vec3f64.create(),c=function(a){m.vec3.subtract(a,a,d);C.vector.projectPoint(u,a,a);"global"===h.viewingMode&&m.vec3.length(a)*K.sign(m.vec3.dot(u,a))<-f+.001&&m.vec3.subtract(a,m.vec3.scale(a,u,.001),d);m.vec3.add(a,a,d);return a};return function(e){e.renderStart=c(m.vec3.copy(b,e.renderStart));e.renderEnd=c(m.vec3.copy(a,e.renderEnd));return e}}function aa(h,d){var u=h.renderCoordsHelper;return function(f){var b=u.fromRenderCoords(f.renderStart,new G.Point,d),a=u.fromRenderCoords(f.renderEnd,new G.Point,
d);return p.isSome(b)&&p.isSome(a)?t({},f,{mapStart:b,mapEnd:a}):null}}Object.defineProperty(l,"__esModule",{value:!0});l.createManipulatorDragEventPipeline=O;l.createManipulatorDragEventPipelineMany=function(h,d){for(var u=[],f=0;f<h.length;f++)u.push(O(h[f],d));return F.handlesGroup(u)};l.screenToRenderPlane=Q;l.screenToMapXY=B;l.screenToMapXYAtLocation=h;l.screenToMapXYForGraphicAtLocation=x;l.screenToMapXYForGraphic=function(h,d,u,f){h=d.toMap(h.screenStart,{include:[u]});return p.isSome(h)?x(d,
u,h,f):null};l.screenToZConstrained=function(h,d,u){var f=null,b=new Z;b.next(Q(h,V(h,d))).next(S(h,d)).next(aa(h,u)).next(function(a){a.mapEnd.x=a.mapStart.x;a.mapEnd.y=a.mapStart.y;f=a});return function(a){f=null;b.execute(a);return f}};l.constrainToMapAxis=function(h,d){var u=[h.x,h.y,h.z],f=[Math.cos(d),Math.sin(d)];h=Math.sqrt(f[0]*f[0]+f[1]*f[1]);if(0===h)return null;f[0]/=h;f[1]/=h;var b=function(a){var c=(a.x-u[0])*f[0]+(a.y-u[1])*f[1];a.x=u[0]+c*f[0];a.y=u[1]+c*f[1]};return function(a){b(a.mapStart);
b(a.mapEnd);return a}};l.dragGeometry=N;l.dragGraphic=U;l.dragGraphicMany=function(h){var d=h.map(function(d){return p.unwrap(U(d))}).filter(function(d){return p.isSome(d)});return function(u){var f=u.mapEnd.x-u.mapStart.x,b=u.mapEnd.y-u.mapStart.y,a=u.mapEnd.z-u.mapStart.z;d.forEach(function(a){return a(u)});return t({},u,{translationX:f,translationY:b,translationZ:a})}};l.resetGraphic=Y;l.resetGraphicMany=function(h){var d=h.map(function(d){return p.unwrap(Y(d))}).filter(function(d){return p.isSome(d)});
return function(u){d.forEach(function(d){return d(u)});return u}};l.resetSymbol=function(h){var d=p.isSome(h.symbol)?h.symbol.clone():null;return function(u){h.symbol=d;return u}};l.horizontalDegreesOfFreedom=3;l.verticalDegreesOfFreedom=4;l.allDegreesOfFreedom=7;l.addMapDelta=function(h){void 0===h&&(h=l.allDegreesOfFreedom);var d=0,u=0,f=0;return function(b){"start"===b.action&&(d=b.mapStart.x,u=b.mapStart.y,f=b.mapStart.z);var a=h&1?b.mapEnd.x-d:0,c=h&2?b.mapEnd.y-u:0,e=h&4?b.mapEnd.z-f:0;d=b.mapEnd.x;
u=b.mapEnd.y;f=b.mapEnd.z;return t({},b,{mapDeltaX:a,mapDeltaY:c,mapDeltaZ:e,mapDeltaSpatialReference:b.mapStart.spatialReference})}};l.addScreenDelta=function(h){void 0===h&&(h=l.allDegreesOfFreedom);var d=0,u=0;return function(f){"start"===f.action&&(d=f.screenStart.x,u=f.screenStart.y);var b=h&1?f.screenEnd.x-d:0,a=h&2?f.screenEnd.y-u:0;d=f.screenEnd.x;u=f.screenEnd.y;return t({},f,{screenDeltaX:b,screenDeltaY:a})}};l.dragAtLocation=function(h,d){var u=null,f=0,b=0;return function(a){"start"===
a.action&&(u=h.toScreen(d),0>u.x||u.x>h.width||0>u.y||u.y>h.height?u=null:(f=a.screenStart.x-u.x,b=a.screenStart.y-u.y));if(null==u)return null;var c=q.clamp(a.screenEnd.x-f,0,h.width),e=q.clamp(a.screenEnd.y-b,0,h.height),c=D.createScreenPoint(c,e);a.screenStart=u;a.screenEnd=c;return a}};l.projectToWorldUp=S;l.convertToMapCoordinates=aa;var Z=function(){function h(){this.execute=function(){}}h.prototype.next=function(d,u){void 0===u&&(u=new h);p.isSome(d)&&(this.execute=function(f){f=d(f);p.isSome(f)&&
u.execute(f)});return u};return h}();l.EventPipeline=Z;var da=A.vec3f64.create(),T=A.vec3f64.create(),ea=H.ray.create()})},"esri/views/draw/support/drawUtils":function(){define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(J,l,t,L,G){function F(p,l,m,A){null==A||p.hasZ||(A=void 0);if("point"===p.type)return p.x+=l,p.y+=m,p.hasZ&&null!=A&&(p.z+=A),p;if("multipoint"===p.type){for(var R=p.points,
y=0;y<R.length;y++)R[y]=q(R[y],l,m,A);return p}if("extent"===p.type)return p.xmin+=l,p.xmax+=l,p.ymin+=m,p.ymax+=m,null!=A&&(p.zmin+=A,p.zmax+=A),p;for(var R=G.geometryToCoordinates(p),C="polyline"===p.type?p.paths:p.rings,H=0;H<R.length;H++)for(var D=R[H],y=0;y<D.length;y++)D[y]=q(D[y],l,m,A);"paths"in p?p.paths=C:p.rings=C;return p}function q(p,l,m,A){return K(p,p[0]+l,p[1]+m,null!=p[2]&&null!=A?p[2]+A:void 0)}function K(p,l,m,A){l=[l,m];2<p.length&&l.push(null!=A?A:p[2]);3<p.length&&l.push(p[3]);
return l}Object.defineProperty(l,"__esModule",{value:!0});l.move=F;l.cloneMove=function(p,l,m,A,q){p=p.clone();var y=A.resolution;if("point"===p.type){if(q)F(p,l*y,-m*y);else{q=A.state.transform;A=A.state.inverseTransform;var C=q[0]*p.x+q[2]*p.y+q[4],H=q[1]*p.x+q[3]*p.y+q[5];p.x=A[0]*(C+l)+A[2]*(H+m)+A[4];p.y=A[1]*(C+l)+A[3]*(H+m)+A[5]}return p}if("multipoint"===p.type){if(q)F(p,l*y,-m*y);else{y=p.points;q=A.state.transform;A=A.state.inverseTransform;for(var t=0;t<y.length;t++){var v=y[t],H=q[0]*
v[0]+q[2]*v[1]+q[4],E=q[1]*v[0]+q[3]*v[1]+q[5],C=A[0]*(H+l)+A[2]*(E+m)+A[4],H=A[1]*(H+l)+A[3]*(E+m)+A[5];y[t]=K(v,C,H,void 0)}}return p}if("extent"===p.type){if(q)F(p,l*y,-m*y);else{q=A.state.transform;A=A.state.inverseTransform;var y=q[0]*p.xmin+q[2]*p.ymin+q[4],D=q[1]*p.xmin+q[3]*p.ymin+q[5],C=q[0]*p.xmax+q[2]*p.ymax+q[4];q=q[1]*p.xmax+q[3]*p.ymax+q[5];p.xmin=A[0]*(y+l)+A[2]*(D+m)+A[4];p.ymin=A[1]*(y+l)+A[3]*(D+m)+A[5];p.xmax=A[0]*(C+l)+A[2]*(q+m)+A[4];p.ymax=A[1]*(C+l)+A[3]*(q+m)+A[5]}return p}if(q)F(p,
l*y,-m*y);else{D=G.geometryToCoordinates(p);y="polyline"===p.type?p.paths:p.rings;q=A.state.transform;A=A.state.inverseTransform;for(var R=0;R<D.length;R++)for(var B=D[R],t=0;t<B.length;t++)v=B[t],H=q[0]*v[0]+q[2]*v[1]+q[4],E=q[1]*v[0]+q[3]*v[1]+q[5],C=A[0]*(H+l)+A[2]*(E+m)+A[4],H=A[1]*(H+l)+A[3]*(E+m)+A[5],B[t]=K(v,C,H,void 0);"paths"in p?p.paths=y:p.rings=y}return p};l.scale=function(p,l,m,q){if("point"===p.type){var A=p.x,y=p.y,C=q?q[0]:A;q=q?q[1]:y;p=p.clone();p.x=(A-C)*l+C;p.y=(y-q)*m+q;return p}if("multipoint"===
p.type){var y=G.geometryToCoordinates(p),C=t.create(),H=L.getRingsOrPathsBounds(C,[y]),C=H[0],y=H[1],A=H[2],H=H[3],C=q?q[0]:(C+A)/2,H=q?q[1]:(H+y)/2,D=p.clone(),v=D.points;for(p=0;p<v.length;p++)q=v[p],A=q[0],y=q[1],A=(A-C)*l+C,y=(y-H)*m+H,v[p]=K(q,A,y,void 0);return D}if("extent"===p.type)return y=p.xmin,C=p.xmax,A=p.ymin,H=p.ymax,D=q?q[0]:(y+C)/2,q=q?q[1]:(H+A)/2,p=p.clone(),p.xmin=(y-D)*l+D,p.ymax=(H-q)*m+q,p.xmax=(C-D)*l+D,p.ymin=(A-q)*m+q,p.xmin>p.xmax&&(l=p.xmin,p.xmin=p.xmax,p.xmax=l),p.ymin>
p.ymax&&(l=p.ymin,p.ymin=p.ymax,p.ymax=l),p;for(var C=G.geometryToCoordinates(p),y=t.create(),D=L.getRingsOrPathsBounds(y,C),A=D[0],y=D[1],H=D[2],D=D[3],H=q?q[0]:(A+H)/2,D=q?q[1]:(D+y)/2,v=p.clone(),E="polyline"===v.type?v.paths:v.rings,F=0;F<C.length;F++){var Q=C[F];for(p=0;p<Q.length;p++)q=Q[p],A=q[0],y=q[1],A=(A-H)*l+H,y=(y-D)*m+D,E[F][p]=K(q,A,y,void 0)}"paths"in v?v.paths=E:v.rings=E;return v};l.getScaleRatio=function(l,q,m,A,t,y){return Math.sqrt((t-l)*(t-l)+(y-q)*(y-q))/Math.sqrt((m-l)*(m-
l)+(A-q)*(A-q))};l.getRotationAngle=function(l,q,m,A,t,y){return 180*Math.atan2(q-y,l-t)/Math.PI-180*Math.atan2(q-A,l-m)/Math.PI}})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["require","exports","../../../../core/tsSupport/assignHelper","../../../../core/maybe","../../../../support/elevationInfoUtils"],function(J,l,t,L,G){Object.defineProperty(l,"__esModule",{value:!0});l.canMoveZ=function(l,q){void 0===q&&(q=G.getGraphicEffectiveElevationInfo(l));return"on-the-ground"===
q.mode||L.isNone(l.geometry)||!l.geometry.hasZ?!1:!0};l.disableDisplayOnGrab=function(l,q){var t=null,p=l.events.on("grab-changed",function(p){L.isSome(t)&&(t.remove(),t=null);"start"===p.action&&(t=l.disableDisplay());q&&q(p)});return{remove:function(){L.isSome(t)&&t.remove();p.remove()}}}})},"esri/views/3d/interactive/editingTools/settings":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/declareExtendsHelper ../../../../Color ../../../../core/colorUtils ../../../../core/compilerUtils ../../../../core/handleUtils ../../../../core/JSONSupport ../../../../core/watchUtils ../../../../core/accessorSupport/decorators ../../../../core/libs/gl-matrix-2/vec4f64 ../../webgl-engine/materials/lineStippleUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R){function y(h,m){h=h.clone();h.a*=m;return h}function C(h,m,l,p,x){return D.init(h,m,function(d){l[p]=x?x(d):d})}function H(h){return h}function M(h){return A.vec4f64.fromArray(G.toUnitRGBA(h))}function v(h){if(!h)return null;h=h.split(/[^0-9]/).map(function(h){return parseFloat(h)});return R.createStipplePattern(h)}function E(h,m){m=m&&"foreground"===m.layer;switch(h){case "always":return m?32:16;case "transparent":return m?8:4;case "always-transparent":return 2;
default:q.neverReached(h)}return 1}Object.defineProperty(l,"__esModule",{value:!0});l.colors={main:new G([255,127,0]),selected:new G([255,255,255]),outline:new G([0,0,0,.5]),selectedOutline:new G([255,255,255])};var O=function(h){function p(m){m=h.call(this,m)||this;m.color=l.colors.main;m.height=90;m.coneHeight=40;m.coneWidth=23;m.width=3;m.occludedMode="always";m.enabled="always";return m}L(p,h);Object.defineProperty(p.prototype,"occludedFlag",{get:function(){return E(this.occludedMode)},enumerable:!0,
configurable:!0});t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"color",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:1,max:200,step:1},json:{write:!0}})],p.prototype,"height",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:1,max:60,step:1},json:{write:!0}})],p.prototype,"coneHeight",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:1,max:60,step:1},json:{write:!0}})],p.prototype,"coneWidth",void 0);t([m.property({type:Number,range:{min:0,
max:16,step:.5},json:{write:!0}})],p.prototype,"width",void 0);t([m.property({type:["always","transparent","always-transparent"],json:{write:!0}})],p.prototype,"occludedMode",void 0);t([m.property({type:["always","not-grab-z"],json:{write:!0},nonNullable:!0})],p.prototype,"enabled",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.ZManipulatorStyle")],p)}(m.declared(p.JSONSupport)),Q=function(h){function p(m){m=h.call(this,m)||this;m.size=11;m.outlineSize=1;m.collisionPadding=
9;m.color=l.colors.main;m.outlineColor=l.colors.outline;m.occludedMode="always";m.hoverOutlineColor=l.colors.selectedOutline;return m}L(p,h);Object.defineProperty(p.prototype,"renderOccludedFlag",{get:function(){return E(this.occludedMode)},enumerable:!0,configurable:!0});p.prototype.bindOccludedMode=function(h){var m=this;return D.init(this,"occludedMode",function(){return h.renderOccluded=m.renderOccludedFlag})};p.prototype.bindColorMaterial=function(h,m){return K.handlesGroup([D.init(this,h,function(p){m.setParameterValues({color:M(p),
transparent:"color"===h?1>p.a:!0})}),this.bindOccludedMode(m)])};t([m.property({type:Number,nonNullable:!0,range:{min:1,max:32,step:.5},json:{write:!0}})],p.prototype,"size",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:32,step:.5},json:{write:!0}})],p.prototype,"outlineSize",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:32,step:.5},json:{write:!0}})],p.prototype,"collisionPadding",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,
"color",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"outlineColor",void 0);t([m.property({type:["always","transparent"],json:{write:!0}})],p.prototype,"occludedMode",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"hoverOutlineColor",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.VertexManipulatorStyle")],p)}(m.declared(p.JSONSupport)),B=function(h){function p(m){m=h.call(this,m)||this;m.vertex=new Q({color:l.colors.main,
outlineColor:l.colors.outline});var p=y(l.colors.main,2/3).clone(),x=F.toHSV(p);x.s*=.5;x=F.toRGB(x);p.r=x.r;p.g=x.g;p.b=x.b;m.edge=new Q({color:p,outlineColor:y(l.colors.outline,.5),size:8,collisionPadding:8});m.selected=new Q({color:l.colors.selected,outlineColor:l.colors.outline});return m}L(p,h);t([m.property({type:Q,nonNullable:!0,constructOnly:!0,json:{write:!0}})],p.prototype,"vertex",void 0);t([m.property({type:Q,nonNullable:!0,constructOnly:!0,json:{write:!0}})],p.prototype,"edge",void 0);
t([m.property({type:Q,nonNullable:!0,constructOnly:!0,json:{write:!0}})],p.prototype,"selected",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.ReshapeManipulators")],p)}(m.declared(p.JSONSupport)),h=function(h){function p(m){m=h.call(this,m)||this;m.color=l.colors.selected;m.width=1.5;m.stipplePattern="5-5";m.stippleOffColor=l.colors.outline;m.falloff=0;m.innerWidth=1.5;m.innerColor=l.colors.selected;m.occludedMode="transparent";m.occludedLayer="default";return m}
L(p,h);p.prototype.bindStyle=function(h){var m=this;return K.handlesGroup([C(this,"color",h,"color",M),C(this,"width",h,"width",H),C(this,"stipplePattern",h,"stipplePattern",v),C(this,"stippleOffColor",h,"stippleOffColor",M),C(this,"falloff",h,"falloff",H),C(this,"innerWidth",h,"innerWidth",H),C(this,"innerColor",h,"innerColor",M),C(this,"occludedMode",h,"occludedMode",function(h){return E(h,{layer:m.occludedLayer})})])};t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"color",
void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:32,step:.5},json:{write:!0}})],p.prototype,"width",void 0);t([m.property({type:String,json:{write:!0,default:null}})],p.prototype,"stipplePattern",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"stippleOffColor",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.5},json:{write:!0}})],p.prototype,"falloff",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.5},
json:{write:!0}})],p.prototype,"innerWidth",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"innerColor",void 0);t([m.property({type:["always","transparent"],json:{write:!0}})],p.prototype,"occludedMode",void 0);t([m.property({type:["default","foreground"],json:{write:!0}})],p.prototype,"occludedLayer",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.LineStyle")],p)}(m.declared(p.JSONSupport)),x=function(h){function p(m){m=h.call(this,m)||
this;m.color=l.colors.selected;m.size=4;m.outlineSize=1;m.outlineColor=l.colors.outline;m.shape="square";return m}L(p,h);p.prototype.bindStyle=function(h){return K.handlesGroup([C(this,"color",h,"color",M),C(this,"size",h,"size",H),C(this,"outlineSize",h,"outlineSize",H),C(this,"outlineColor",h,"outlineColor",M),C(this,"shape",h,"primitive",H)])};t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"color",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:32,step:.5},
json:{write:!0}})],p.prototype,"size",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:32,step:.5},json:{write:!0}})],p.prototype,"outlineSize",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"outlineColor",void 0);t([m.property({type:"circle square kite cross x triangle".split(" "),nonNullable:!0,json:{write:!0}})],p.prototype,"shape",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.PointStyle")],p)}(m.declared(p.JSONSupport)),
V=function(h){function p(m){m=h.call(this,m)||this;m.innerColor=l.colors.selected;m.innerWidth=1;m.glowColor=l.colors.main;m.glowWidth=8;m.glowFalloff=8;m.globalAlpha=.3;m.globalAlphaContrastBoost=1.5;m.radius=3;m.heightFillColor=l.colors.main;return m}L(p,h);p.prototype.bindStyle=function(h){var m=this,p=1,d=function(){var d={glowColor:G.toUnitRGB(m.glowColor),glowFalloff:m.glowFalloff,glowWidth:m.glowWidth,innerColor:G.toUnitRGB(m.innerColor),innerWidth:m.innerWidth,globalAlpha:m.globalAlpha*p,
globalAlphaContrastBoost:m.globalAlphaContrastBoost,intersectsLineRadius:m.radius,heightPlaneFillColor:G.toUnitRGBA(m.heightFillColor)};"style"in h?h.style=d:h.laserlineStyle=d};d();var u=this.watch(this.keys(),d);return{updateGlobalAlpha:function(f){f!==p&&(p=f,d())},remove:function(){u.remove()}}};t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"innerColor",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.5},json:{write:!0}})],p.prototype,"innerWidth",
void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"glowColor",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.5},json:{write:!0}})],p.prototype,"glowWidth",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.5},json:{write:!0}})],p.prototype,"glowFalloff",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:1,step:.01},json:{write:!0}})],p.prototype,"globalAlpha",void 0);t([m.property({type:Number,nonNullable:!0,
range:{min:0,max:10,step:.25},json:{write:!0}})],p.prototype,"globalAlphaContrastBoost",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:16,step:.05},json:{write:!0}})],p.prototype,"radius",void 0);t([m.property({type:G,nonNullable:!0,json:{write:!0}})],p.prototype,"heightFillColor",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.LaserlineStyle")],p)}(m.declared(p.JSONSupport)),N=function(p){function x(m){m=p.call(this,m)||this;m.outline=new h({color:l.colors.selected,
occludedMode:"transparent",occludedLayer:"foreground",stippleOffColor:l.colors.outline,stipplePattern:"5-5",width:1.5});m.outlineEnabled=!0;m.shadowStyle=new V({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:1});m.shadowEnabled="always";return m}L(x,p);t([m.property({type:h,constructOnly:!0,nonNullable:!0,json:{write:!0}})],x.prototype,"outline",void 0);t([m.property({type:Boolean,nonNullable:!0,json:{write:!0}})],x.prototype,"outlineEnabled",
void 0);t([m.property({type:V,json:{write:!0}})],x.prototype,"shadowStyle",void 0);t([m.property({type:["never","always","grab-xy"],nonNullable:!0,json:{write:!0}})],x.prototype,"shadowEnabled",void 0);return x=t([m.subclass("esri.views.3d.interactive.editingTools.settings.LineGraphics")],x)}(m.declared(p.JSONSupport)),U=function(h){function p(m){m=h.call(this,m)||this;m.outline=new x({color:l.colors.selected,outlineColor:l.colors.outline,outlineSize:1,shape:"circle",size:4});m.outlineEnabled=!0;
m.shadowStyle=new V({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:1.5,glowWidth:6,innerColor:l.colors.selected,innerWidth:1,radius:2});m.shadowEnabled="always";return m}L(p,h);t([m.property({type:x,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"outline",void 0);t([m.property({type:Boolean,nonNullable:!0,json:{write:!0}})],p.prototype,"outlineEnabled",void 0);t([m.property({type:V,json:{write:!0}})],p.prototype,"shadowStyle",void 0);t([m.property({type:["never","always","grab-xy"],
nonNullable:!0,json:{write:!0}})],p.prototype,"shadowEnabled",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.PointGraphics")],p)}(m.declared(p.JSONSupport)),Y=function(h){function p(m){m=h.call(this,m)||this;m.enabled="always";return m}L(p,h);t([m.property({type:["never","always","grab-z"],nonNullable:!0,json:{write:!0}})],p.prototype,"enabled",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.HeightPlane")],p)}(m.declared(V)),S=function(h){function p(m){m=
h.call(this,m)||this;m.enabled="always";m.infinite="ground";return m}L(p,h);Object.defineProperty(p.prototype,"infiniteType",{get:function(){switch(this.infinite){case "single":return 1;case "double":return 2;case "ground":return 3;default:return q.neverReached(this.infinite),1}},enumerable:!0,configurable:!0});t([m.property({type:["never","always","grab-z","grab-xy","grab"],nonNullable:!0,json:{write:!0}})],p.prototype,"enabled",void 0);t([m.property({type:["single","double","ground"],nonNullable:!0,
json:{write:!0}})],p.prototype,"infinite",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.ZVerticalLine")],p)}(m.declared(h)),aa=function(h){function p(m){m=h.call(this,m)||this;m.lineGraphics=new N;m.pointGraphics=new U;m.heightPlane=new Y({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:1});m.heightBox=new Y({globalAlpha:.3,glowColor:l.colors.main,glowFalloff:8,glowWidth:8,innerColor:l.colors.selected,innerWidth:0,
heightFillColor:l.colors.main});m.zVerticalLine=new S({color:y(l.colors.main,.5),falloff:2,innerColor:y(l.colors.selected,0),occludedMode:"transparent",stipplePattern:null,width:5,infinite:"ground"});m.laserlineAlphaMultiplier=1.5;m.heightPlaneAngleCutoff=20;return m}L(p,h);t([m.property({type:N,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"lineGraphics",void 0);t([m.property({type:U,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"pointGraphics",void 0);t([m.property({type:Y,
constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"heightPlane",void 0);t([m.property({type:Y,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"heightBox",void 0);t([m.property({type:S,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"zVerticalLine",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:1,max:2,step:.1},json:{write:!0}})],p.prototype,"laserlineAlphaMultiplier",void 0);t([m.property({type:Number,nonNullable:!0,range:{min:0,max:45,step:1},
json:{write:!0}})],p.prototype,"heightPlaneAngleCutoff",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.VisualElements")],p)}(m.declared(p.JSONSupport));J=function(h){function p(m){m=h.call(this,m)||this;m.visualElements=new aa;m.reshapeManipulators=new B;m.zManipulator=new O;return m}L(p,h);p.prototype.colorToVec4=function(h){return M(h)};t([m.property({type:aa,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"visualElements",void 0);t([m.property({type:B,
constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"reshapeManipulators",void 0);t([m.property({type:O,constructOnly:!0,nonNullable:!0,json:{write:!0}})],p.prototype,"zManipulator",void 0);return p=t([m.subclass("esri.views.3d.interactive.editingTools.settings.Settings")],p)}(m.declared(p.JSONSupport));l.settings=new J})},"esri/core/colorUtils":function(){define(["require","exports"],function(J,l){function t(m,p){var l=[],q,A;if(m[0].length!==p.length)throw"dimensions do not match";var t=
m.length,D=m[0].length,v=0;for(q=0;q<t;q++){for(A=v=0;A<D;A++)v+=m[q][A]*p[A];l.push(v)}return l}function L(m){m=[m.r/255,m.g/255,m.b/255].map(function(m){return.04045>=m?m/12.92:Math.pow((m+.055)/1.055,2.4)});m=t(p,m);return{x:100*m[0],y:100*m[1],z:100*m[2]}}function G(m){m=t(D,[m.x/100,m.y/100,m.z/100]).map(function(m){return Math.min(1,Math.max(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055,0))});return{r:Math.round(255*m[0]),g:Math.round(255*m[1]),b:Math.round(255*m[2])}}function F(m){m=[m.x/
95.047,m.y/100,m.z/108.883].map(function(m){return m>Math.pow(6/29,3)?Math.pow(m,1/3):1/3*Math.pow(29/6,2)*m+4/29});return{l:116*m[1]-16,a:500*(m[0]-m[1]),b:200*(m[1]-m[2])}}function q(m){var p=m.l;m=[(p+16)/116+m.a/500,(p+16)/116,(p+16)/116-m.b/200].map(function(m){return m>6/29?Math.pow(m,3):3*Math.pow(6/29,2)*(m-4/29)});return{x:95.047*m[0],y:100*m[1],z:108.883*m[2]}}function K(m){if("r"in m&&"g"in m&&"b"in m)return m;if("l"in m&&"c"in m&&"h"in m){var p=m.c,l=m.h;return G(q({l:m.l,a:p*Math.cos(l),
b:p*Math.sin(l)}))}if("l"in m&&"a"in m&&"b"in m)return G(q(m));if("x"in m&&"y"in m&&"z"in m)return G(m);if("h"in m&&"s"in m&&"v"in m){l=(m.h+360)%360/60;p=m.v/100*255;m=m.s/100*p;var y=m*(1-Math.abs(l%2-1));switch(Math.floor(l)){case 0:l={r:m,g:y,b:0};break;case 1:l={r:y,g:m,b:0};break;case 2:l={r:0,g:m,b:y};break;case 3:l={r:0,g:y,b:m};break;case 4:l={r:y,g:0,b:m};break;case 5:case 6:l={r:m,g:0,b:y};break;default:l={r:0,g:0,b:0}}l.r=Math.round(l.r+p-m);l.g=Math.round(l.g+p-m);l.b=Math.round(l.b+
p-m);return l}}Object.defineProperty(l,"__esModule",{value:!0});var p=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],D=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];l.toRGB=K;l.toHSV=function(m){if("h"in m&&"s"in m&&"v"in m)return m;var p=K(m);m=p.r;var l=p.g,p=p.b,q=Math.max(m,l,p),t=q-Math.min(m,l,p),H;0===t?H=0:q===m?H=(l-p)/t%6:q===l?H=(p-m)/t+2:q===p&&(H=(m-l)/t+4);0>H&&(H+=6);return{h:60*H,s:100*(0===t?0:t/q),v:100/255*q}};l.toLAB=function(m){return"l"in
m&&"a"in m&&"b"in m?m:F(L(K(m)))};l.toLCH=function(m){if(!("l"in m&&"c"in m&&"h"in m)){var p=F(L(K(m)));m=p.l;var l=p.a,q=p.b,p=Math.sqrt(l*l+q*q),l=Math.atan2(q,l),l=0<l?l:l+2*Math.PI;m={l:m,c:p,h:l}}return m};l.toXYZ=function(m){return"x"in m&&"y"in m&&"z"in m?m:L(K(m))};l.darken=function(m,p){m=F(L(m));m.l*=1-p;return G(q(m))}})},"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["require","exports","../../../../core/maybe","./lineGraphicVisualElementUtils","./pointGraphicVisualElementUtils"],
function(J,l,t,L,G){Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(l){switch(t.expect(l.graphic.geometry).type){case "point":return G.createVisualElements(l);case "polygon":case "polyline":return L.createVisualElements(l);default:return null}}})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/declareExtendsHelper ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/watchUtils ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../support/elevationInfoUtils ../Manipulator3D ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v){function E(p,l,x){var q=p.graphic,v=new M.OutlineVisualElement({view:p.view,geometry:h(q)?q.geometry:null,elevationInfo:m.getGraphicEffectiveElevationInfo(q),attached:!1});p=function(){v.attached=l.displaying&&y.settings.visualElements.lineGraphics.outlineEnabled};x.push(y.settings.visualElements.lineGraphics.outline.bindStyle(v),l.watch("displaying",p),y.settings.visualElements.lineGraphics.watch("outlineEnabled",p),l.watch("isDraped",function(h){return v.isDraped=
h}),l.on("changed",function(){return v.geometry=h(q)?q.geometry:null}),G.destroyHandle(v));p();return v}function O(p,l,x,v){var N=p.graphic,E=p.view,Y=m.getGraphicEffectiveElevationInfo(N),t="on-the-ground"===Y.mode||!Y.offset&&"absolute-height"!==Y.mode,U=new R.ManipulatorState,A=new H.LineVisualElement({view:E,infinite:y.settings.visualElements.zVerticalLine.infiniteType,attached:!1}),Y=F.deg2rad(y.settings.visualElements.heightPlaneAngleCutoff),D=new C.LaserlineVisualElement({view:E,attached:!1,
angleCutoff:Y}),d=B(),u=y.settings.visualElements.lineGraphics.shadowStyle.bindStyle(l),f=y.settings.visualElements.pointGraphics.shadowStyle.bindStyle(A),b=y.settings.visualElements.heightPlane.bindStyle(D),a=function(){U.update(p);d.update(U);A.infinite=y.settings.visualElements.zVerticalLine.infiniteType;if(x.displaying&&(!t||!x.isDraped&&h(N)&&N.geometry.hasZ)){var a=!1;switch(y.settings.visualElements.lineGraphics.shadowEnabled){case "always":a=!0;break;case "grab-xy":a=!!(U.grabbingState&4)}U.grabbingState&
4?u.updateGlobalAlpha(y.settings.visualElements.laserlineAlphaMultiplier):u.updateGlobalAlpha(1);l.laserlineEnabled=a;a=!1;switch(y.settings.visualElements.pointGraphics.shadowEnabled){case "always":a=!0;break;case "grab-xy":a=!!(U.grabbingState&4)}U.grabbingState&4?f.updateGlobalAlpha(y.settings.visualElements.laserlineAlphaMultiplier):f.updateGlobalAlpha(1);a||y.settings.visualElements.zVerticalLine.enabled?(A.laserlineEnabled=a,a=1===U.numSelected?U.firstSelected:1<U.numSelected&&q.isSome(U.firstGrabbedXY)?
U.firstGrabbedXY:null,q.isSome(a)?(y.settings.visualElements.zVerticalLine.infinite&&(A.worldDownAtLocation=a.renderLocation),A.attached=!0):A.attached=!1):A.attached=!1;Q(p,l,D,U,b)}else l.laserlineEnabled=!1,A.attached=!1,D.attached=!1};v.push(u,K.init(y.settings.visualElements.lineGraphics,"shadowEnabled",a),x.on("changed",a),x.watch("displaying",a),y.settings.visualElements.zVerticalLine.bindStyle(A),y.settings.visualElements.zVerticalLine.watch(["enabled","infinite"],a),f,y.settings.visualElements.pointGraphics.watch("shadowEnabled",
a),y.settings.zManipulator.watch("enabled",a),b,y.settings.visualElements.heightPlane.watch("enabled",a),l.events.on("attachment-origin-changed",a),G.destroyHandle(A),G.destroyHandle(D),d);var c=[],E=function(){G.handlesGroup(c).remove();c.length=0;p.forEachManipulator(function(e){return c.push(e.events.on("grab-changed",a))});p.forEachManipulator(function(e){return c.push(e.events.on("select-changed",a))});a()};E();v.push(p.onManipulatorsChanged(E),G.refHandle(function(){return G.handlesGroup(c)}))}
function Q(h,m,l,v,E){var N=!1;switch(y.settings.visualElements.heightPlane.enabled){case "always":N=!0;break;case "grab-z":N=!!(v.grabbingState&2)}v.grabbingState&2?E.updateGlobalAlpha(y.settings.visualElements.laserlineAlphaMultiplier):E.updateGlobalAlpha(1);if(N)if(0<v.numSelected){p.vec3.set(x,0,0,0);var Y=0;h.forEachManipulator(function(h,m){1===m&&h.selected&&h instanceof A.Manipulator3D&&(p.vec3.add(x,x,h.renderLocation),Y++)});0<Y?(l.heightPlane=p.vec3.scale(x,x,1/Y),l.attached=!0):l.attached=
!1}else m=m.attachmentOrigin,q.isSome(m)&&h.view.renderCoordsHelper.toRenderCoords(m,x)?(l.heightPlane=x,l.attached=!0):l.attached=!1;else l.attached=!1}function B(){var h=null;return{remove:G.refHandle(function(){return h}).remove,update:function(m){var p=!1;switch(y.settings.zManipulator.enabled){case "always":p=!0;break;case "not-grab-z":p=!m.grabbingState}p&&q.isSome(h)?(h.remove(),h=null):!p&&q.isNone(h)&&q.isSome(m.zManipulator)&&(h=m.zManipulator.disableDisplay())}}}function h(h){return q.isSome(h.geometry)&&
("polygon"===h.geometry.type||"polyline"===h.geometry.type)}Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(h){var m=h.view,p=h.graphic,l=new v.GraphicState({graphic:p}),x=[],q=E(h,l,x);O(h,q,l,x);x.push(m.maskOccludee(p));x.push(m.trackGraphicState(l));return{visualElement:q,remove:function(){G.handlesGroup(x).remove()}}};var x=D.vec3f64.create()})},"esri/views/3d/interactive/Manipulator3D":function(){define("require exports ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/assignHelper ../../../geometry ../../../core/compilerUtils ../../../core/Evented ../../../core/maybe ../../../core/screenUtils ../../../core/accessorSupport/utils ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/vec2 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ../../3d/support/ElevationProvider ../../3d/support/geometryUtils ../../3d/support/projectionUtils ../../3d/support/stack ../../3d/webgl-engine/lib/Camera ../../3d/webgl-engine/lib/Layer ../../3d/webgl-engine/lib/Object3D".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N){function U(a){return 0!==a[12]||0!==a[13]||0!==a[14]}Object.defineProperty(l,"__esModule",{value:!0});J=function(){function c(a){this.camera=new x.default;this._elevation={offset:0,override:0};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=2.5;this.worldOriented=
!1;this._modelTransform=y.mat4f64.create();this._worldFrame=null;this._renderLocation=M.vec3f64.create();this._renderLocationDirty=!0;this._elevationAlignedLocation=new G.Point;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=0;this._focused=!1;this.events=new q({target:this});this._screenLocation={screenPointArray:p.createScreenPointArray(),renderScreenPointArray:p.createRenderScreenPointArray3(),
pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayerId=null;this._location=new G.Point({x:0,y:0,z:0,spatialReference:a.view.spatialReference});for(var c in a)this[c]=a[c];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}c.prototype.destroy=function(){this._removeResourcesFromStage();this.camera=this.view=this._engineResources=
null};Object.defineProperty(c.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(a){this._elevationInfo=a;this._elevationAlignedLocationDirty=!0;this._updateEngineObject()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"renderObjects",{get:function(){return this._renderObjects},set:function(a){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=a.slice();this._updateEngineObject()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"available",{get:function(){return this._available},set:function(a){a!==this._available&&(this._available=a,this._updateEngineObject())},enumerable:!0,configurable:!0});c.prototype.disableDisplay=function(){var a=this;this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:D.once(function(){a._noDisplayCount--;0===a._noDisplayCount&&a._updateEngineObject()})}};Object.defineProperty(c.prototype,"radius",{get:function(){return this._radius},set:function(a){a!==this._radius&&
(this._radius=a,this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"worldSized",{get:function(){return this._worldSized},set:function(a){a!==this._worldSized&&(this._worldSized=a,this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"modelTransform",{get:function(){return this._modelTransform},set:function(a){U(a)&&(this._screenLocationDirty=!0);R.mat4.copy(this._modelTransform,a);this._updateEngineObject()},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"renderLocation",{get:function(){this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=y.mat4f64.create()),B.computeLinearTransformation(this.view.renderSpatialReference,this._renderLocation,this._worldFrame,this.view.renderSpatialReference),this._worldFrame[12]=0,this._worldFrame[13]=0,this._worldFrame[14]=
0):this._worldFrame&&(this._worldFrame=null));return this._renderLocation},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"location",{get:function(){return this._location},set:function(a){E.clonePoint(a,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=!0;this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"elevationAlignedLocation",
{get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;this._evaluateElevationAlignment();this._updateElevationAlignedLocation();return this._elevationAlignedLocation},set:function(a){E.clonePoint(a,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",{location:this._location})},enumerable:!0,configurable:!0});c.prototype._updateElevationAlignedLocation=
function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;var a=K.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=a+this._elevation.offset;this._elevationAlignedLocation.spatialReference=this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};Object.defineProperty(c.prototype,"grabbing",{get:function(){return this._grabbing},
set:function(a){a!==this._grabbing&&(this._grabbing=a,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hovering",{get:function(){return this._hovering},set:function(a){a!==this._hovering&&(this._hovering=a,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"selected",{get:function(){return this._selected},set:function(a){a!==
this._selected&&(this._selected=a,this._updateEngineObject(),this.events.emit("select-changed",{action:a?"select":"deselect"}))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){return this._state},set:function(a){a!==this._state&&(this._state=a,this._updateEngineObject())},enumerable:!0,configurable:!0});c.prototype.updateStateEnabled=function(a,c){this.state=c?this.state|a:this.state&~a};c.prototype._setFocused=function(a){a!==this._focused&&(this._focused=
a,this.events.emit("focus-changed",{action:!0===a?"focus":"unfocus"}))};Object.defineProperty(c.prototype,"focused",{get:function(){return this._focused},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"screenLocation",{get:function(){this.ensureScreenLocation();return this._screenLocation},enumerable:!0,configurable:!0});c.prototype.ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation);
this._screenLocationDirty=!1;var c;U(this._modelTransform)?(c=this._calculateModelTransformOffset(a),c=H.vec3.add(c,c,this.renderLocation)):c=this.renderLocation;this.camera.projectPoint(c,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}};Object.defineProperty(c.prototype,"applyObjectTransform",{get:function(){return this._applyObjectTransform},set:function(a){this._applyObjectTransform=a;this._screenLocationDirty=
!0;this._updateEngineObject()},enumerable:!0,configurable:!0});c.prototype.intersectionDistance=function(a,c){if(!this.available)return null;var e=p.screenPointObjectToArray(a,Y),g=this._getCollisionRadius(c);c=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(C.vec2.squaredDistance(this.screenLocation.screenPointArray,e)<g*g)return this.screenLocation.renderScreenPointArray[2]+c;break;case "line":var r=this.collisionType.paths;a=this._getWorldToScreenObjectScale();a=this._calculateObjectTransform(a,
T);for(var g=g*this.screenLocation.pixelSize,e=Q.ray.fromScreen(this.camera,e,aa),z=0,I=r;z<I.length;z++)if(r=I[z],0!==r.length)for(var w=H.vec3.transformMat4(ca,r[0],a),P=1;P<r.length;P++){var W=H.vec3.transformMat4(d,r[P],a),ba=Q.lineSegment.closestRayDistance2(Q.lineSegment.fromPoints(w,W,S),e);if(null!=ba&&ba<g*g)return a=H.vec3.add(h.sv3d.get(),w,W),H.vec3.scale(a,a,.5),g=p.castRenderScreenPointArray(h.sv3d.get()),this.camera.projectPoint(a,g),g[2]+c;H.vec3.copy(w,W)}break;case "disc":w=this.collisionType.direction;
a=this._getWorldToScreenObjectScale();a=this._calculateObjectTransform(a,T);g*=this.screenLocation.pixelSize;e=Q.ray.fromScreen(this.camera,e,aa);P=m.mat3.fromMat4(Z,a);P=H.vec3.transformMat3(f,w,P);w=this._calculateModelTransformPosition(b);Q.plane.fromPositionAndNormal(w,P,ea);z=u;if(Q.plane.intersectRay(ea,e,z)&&H.vec3.squaredDistance(z,w)<g*g)return this.screenLocation.renderScreenPointArray[2]+c;break;case "ribbon":a=this.collisionType;r=a.paths;w=a.direction;a=this._getWorldToScreenObjectScale();
a=this._calculateObjectTransform(a,T);g*=this.camera.computeScreenPixelSizeAt(this.renderLocation);e=Q.ray.fromScreen(this.camera,e,aa);P=m.mat3.fromMat4(Z,a);P=H.vec3.transformMat3(f,w,P);w=this._calculateModelTransformPosition(b);Q.plane.fromPositionAndNormal(w,P,ea);z=u;if(!Q.plane.intersectRay(ea,e,z))break;e=0;for(I=r;e<I.length;e++)if(r=I[e],0!==r.length)for(w=H.vec3.transformMat4(ca,r[0],a),P=1;P<r.length;P++){W=H.vec3.transformMat4(d,r[P],a);ba=Q.lineSegment.distance2(Q.lineSegment.fromPoints(w,
W,S),z);if(null!=ba&&ba<g*g)return a=H.vec3.add(h.sv3d.get(),w,W),H.vec3.scale(a,a,.5),g=p.castRenderScreenPointArray(h.sv3d.get()),this.camera.projectPoint(a,g),g[2]+c;H.vec3.copy(w,W)}break;default:F.neverReached(this.collisionType)}return null};c.prototype.attach=function(a){void 0===a&&(a={manipulator3D:{}});if(this.view._stage){a=a.manipulator3D;this._engineLayerId=a.engineLayerId;if(K.isNone(this._engineLayerId)){var c=new V("manipulator-3d",{isPickable:!1});this.view._stage.add(0,c);this.view._stage.addToViewContent([c.id]);
this._engineLayerId=c.id;a.engineLayerId=c.id}a.engineLayerReferences=(a.engineLayerReferences||0)+1;this._materialIdReferences=a.materialIdReferences;K.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,a.materialIdReferences=this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();B.canProject(this._location.spatialReference,this.view.spatialReference)||(this.location=new G.Point({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}};
c.prototype.detach=function(a){void 0===a&&(a={manipulator3D:{}});a=a.manipulator3D;a.engineLayerReferences--;var c=0===a.engineLayerReferences;c&&(a.engineLayerId=null);this._removeResourcesFromStage(c);this._materialIdReferences=this._engineLayerId=this._engineResources=null;this._attached=!1};c.prototype.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};c.prototype.onElevationChange=function(a){v.containsPointObject(a.extent,
this.location)&&(this.location=this._location)};c.prototype._evaluateElevationAlignment=function(a){void 0===a&&(a=this.location);if(K.isNone(this.elevationInfo))return!1;var c=null,e=0,b=K.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":c=O.getElevationAtPoint(this.view.elevationProvider,a,"ground")||0;break;case "relative-to-ground":e=(O.getElevationAtPoint(this.view.elevationProvider,a,"ground")||0)+b;break;case "relative-to-scene":e=(O.getElevationAtPoint(this.view.elevationProvider,
a,"scene")||0)+b;break;case "absolute-height":e=b}return e!==this._elevation.offset||c!==this._elevation.override?(this._elevation.offset=e,this._elevation.override=c,!0):!1};c.prototype._updateEngineObject=function(){if(this._attached)if(this.available){var a=this._getWorldToScreenObjectScale(),c=T;!0===this.autoScaleRenderObjects&&(a*=this._getFocusedSize(this._radius,this.focused));this._calculateObjectTransform(a,c);for(var a=this._ensureEngineResources().objectsByState,b=(this.focused?2:1)|(this.selected?
8:4),d=0<this._noDisplayCount,r=0;r<a.length;r++){var z=a[r],f=z.stateMask,z=z.objects;if(d)for(var f=0,w=z;f<w.length;f++)z=w[f],z.hide();else if(w=0===(f&65520)||(this.state&f)===(f&65520),0!==(f&15)&&(b&f)!==(f&15)||!w)for(f=0,w=z;f<w.length;f++)z=w[f],z.hide();else for(f=0,w=z;f<w.length;f++)z=w[f],z.unhide(),z.objectTransformation=c}}else this._removeResourcesFromStage()};c.prototype._ensureEngineResources=function(){if(K.isNone(this._engineResources)){var a=this.view._stage.getContent(0,K.expect(this._engineLayerId)),
c=[],b=new Set;this.renderObjects.forEach(function(a){a=a.material;b.has(a)||(c.push(a),b.add(a))});var d=function(a,c){var e=c.geometry,b=c.material,g=c.transform;Array.isArray(e)?e.forEach(function(c){return a.addGeometry(c,b,g)}):a.addGeometry(e,b,g)},r=new Map;this.renderObjects.forEach(function(a){var c=new N({idHint:"manipulator",castShadow:!1});d(c,a);a=a.stateMask||0;var e=r.get(a)||[];e.push(c);r.set(a,e)});var z=[];r.forEach(function(a,c){z.push({stateMask:c,objects:a})});this._engineResources=
{objectsByState:z,layer:a,materials:c}}this._addResourcesToStage();return this._engineResources};c.prototype._addResourcesToStage=function(){var a=this;if(!this._engineResourcesAddedToStage&&!K.isNone(this._engineResources)){var c=this._engineResources,b=c.objectsByState,d=c.layer;c.materials.forEach(function(c){var e=K.expect(a._materialIdReferences),b=e.get(c.id)||0;0===b&&a.view._stage.add(3,c);e.set(c.id,b+1)});b.forEach(function(c){c.objects.forEach(function(c){d.addObject(c);a.view._stage.add(1,
c)})});this._engineResourcesAddedToStage=!0}};c.prototype._removeResourcesFromStage=function(a){var c=this;void 0===a&&(a=!1);if(this._engineResourcesAddedToStage&&!K.isNone(this._engineResources)){var e=this._engineResources,b=e.layer,d=e.materials;e.objectsByState.forEach(function(a){a.objects.forEach(function(a){b.removeObject(a);c.view._stage.remove(1,a.id)})});d.forEach(function(a){var e=K.expect(c._materialIdReferences),b=e.get(a.id);1===b?(c.view._stage.remove(3,a.id),e.delete(a.id)):e.set(a.id,
b-1)});a&&this.view._stage.remove(0,b.id);this._engineResourcesAddedToStage=!1}};c.prototype._getCollisionRadius=function(a){return this._getFocusedSize(this.radius,!0)*("touch"===a?this.touchMultiplier:1)};c.prototype._getFocusedSize=function(a,c){return a*(c?this.focusMultiplier:1)};c.prototype._getWorldToScreenObjectScale=function(){return this._worldSized?1:this.screenLocation.pixelSize};c.prototype._calculateModelTransformPosition=function(a){var c=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(c,
da);return H.vec3.set(a,c[12],c[13],c[14])};c.prototype._calculateModelTransformOffset=function(a){var c=this._calculateModelTransformPosition(a);return H.vec3.subtract(a,c,this.renderLocation)};c.prototype._calculateObjectTransform=function(a,c){R.mat4.set(c,a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,1);this._worldFrame&&R.mat4.multiply(c,c,this._worldFrame);R.mat4.multiply(c,c,this._modelTransform);c[12]+=this.renderLocation[0];c[13]+=this.renderLocation[1];c[14]+=this.renderLocation[2];c[15]=1;K.isSome(this._applyObjectTransform)&&
this._applyObjectTransform(c);return c};return c}();l.Manipulator3D=J;var Y=p.createScreenPointArray(),S=Q.lineSegment.create(),aa=Q.ray.create(),Z=A.mat3f64.create(),da=y.mat4f64.create(),T=y.mat4f64.create(),ea=Q.plane.create(),ca=M.vec3f64.create(),d=M.vec3f64.create(),u=M.vec3f64.create(),f=M.vec3f64.create(),b=M.vec3f64.create(),a=M.vec3f64.create()})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["require","exports","../../../../core/maybe","../Manipulator3D"],
function(J,l,t,L){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(){this.grabbingState=0;this.firstSelected=this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=null}l.prototype.update=function(l){var q=this;this.grabbingState=0;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;l.forEachManipulator(function(l,p){0===p&&(q.zManipulator=l);l instanceof L.Manipulator3D&&(l.selected&&(0===q.numSelected&&(q.firstSelected=l),q.numSelected++),
t.isNone(q.firstGrabbedXY)&&l.grabbing&&1===p&&(q.firstGrabbedXY=l));if(l.grabbing)switch(q.grabbingState|=1,p){case 0:q.grabbingState|=2;break;case 1:q.grabbingState|=4}})};return l}();l.ManipulatorState=J})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/geometryUtils ../../support/LaserLineRenderer ../../webgl-engine/shaders/Laserlines.glsl".split(" "),
function(J,l,t,L,G,F,q,K,p,D){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(m){this.view=null;this._angleCutoff=D.defaultAngleCutoff;this._style={};this._heightPlane=q.vec3f64.create();this._heightPlaneEnabled=!1;this._heightPlaneHeight=0;this._intersectsLine=K.lineSegment.create();this._intersectsLineInfinite=this._intersectsLineEnabled=!1;this._pathVerticalPlaneBuffers=null;var p=!0,l;for(l in m)l in this?"attached"===l?p=m[l]:this[l]=m[l]:console.error("Cannot set unknown property",
l);this.attached=p}l.prototype.destroy=function(){this.disposeRenderer()};Object.defineProperty(l.prototype,"attached",{get:function(){return!!this.renderer},set:function(m){m?this.ensureRenderer():this.disposeRenderer()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"angleCutoff",{get:function(){return this._angleCutoff},set:function(m){this._angleCutoff!==m&&(this._angleCutoff=m,this.syncAngleCutoff())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"style",
{get:function(){return this._style},set:function(m){this._style=m;this.syncStyle()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightPlane",{get:function(){return this._heightPlaneEnabled?this._heightPlane:null},set:function(m){G.isSome(m)?(F.vec3.copy(this._heightPlane,m),this._heightPlaneEnabled=!0):this._heightPlaneEnabled=!1;this.syncRenderer();this.syncHeightPlane()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightPlaneHeight",{get:function(){return this._heightPlaneHeight},
set:function(m){m!==this._heightPlaneHeight&&(this._heightPlaneHeight=m,this.syncHeightPlane())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsWorldUpAtLocation",{set:function(p){if(G.isNone(p))this.intersectsLine=null;else{var l=this.view.renderCoordsHelper.worldUpAtPosition(p,m);this.intersectsLine=K.lineSegment.fromValues(p,l);this.intersectsLineInfinite=!0}},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLine",{get:function(){return this._intersectsLineEnabled?
this._intersectsLine:null},set:function(m){G.isSome(m)?(K.lineSegment.copy(m,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this.syncIntersectsLine();this.syncRenderer()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineInfinite",{get:function(){return this._intersectsLineInfinite},set:function(m){this._intersectsLineInfinite=m;this.syncIntersectsLineInfinite()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"pathVerticalPlane",{get:function(){return this._pathVerticalPlaneBuffers},set:function(m){this._pathVerticalPlaneBuffers=m;this.syncPathVerticalPlane();this.syncRenderer()},enumerable:!0,configurable:!0});l.prototype.syncRenderer=function(){this.attached&&(this._intersectsLineEnabled||this._heightPlaneEnabled||G.isSome(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()};l.prototype.ensureRenderer=function(){G.isSome(this.renderer)||(this.renderer=new p.LaserLineRenderer(this.view.renderCoordsHelper,
void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightPlane(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};l.prototype.syncStyle=function(){G.isNone(this.renderer)||(this.renderer.setParameterValues(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))};l.prototype.syncAngleCutoff=
function(){G.isNone(this.renderer)||this.renderer.setParameterValues({angleCutoff:this._angleCutoff})};l.prototype.syncHeightPlane=function(){!G.isNone(this.renderer)&&(this.renderer.heightPlaneEnabled=this._heightPlaneEnabled)&&(this.renderer.heightPlanePosition=this._heightPlane,this.renderer.heightPlaneHeight=this._heightPlaneHeight)};l.prototype.syncIntersectsLine=function(){!G.isNone(this.renderer)&&(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled)&&(this.renderer.intersectsLineSegment=
this._intersectsLine)};l.prototype.syncIntersectsLineInfinite=function(){G.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};l.prototype.syncPathVerticalPlane=function(){G.isNone(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=G.isSome(this._pathVerticalPlaneBuffers),G.isSome(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))};l.prototype.disposeRenderer=function(){G.isSome(this.renderer)&&this.view._stage&&
(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};return l}();l.LaserlineVisualElement=J;var m=q.vec3f64.create()})},"esri/views/3d/support/LaserLineRenderer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/mathUtils ../../../core/maybe ../../../core/libs/gl-matrix-2/vec2f64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/vec4 ../../../core/libs/gl-matrix-2/vec4f64 ./geometryUtils ./LaserlinePathData ../webgl-engine/lib/glUtil3D ../webgl-engine/lib/Util ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ../webgl-engine/shaders/LaserlineTechnique".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M){function v(h,l,x,v){var y=E,N=O;q.vec3.transformMat4(y,l,v);q.vec3.copy(N,x);N[3]=0;p.vec4.transformMat4(N,N,v);m.plane.fromPositionAndNormal(y,N,h)}Object.defineProperty(l,"__esModule",{value:!0});var E=K.vec3f64.create(),O=D.vec4f64.create(),Q={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:L.deg2rad(6),globalAlphaContrastBoost:2};J=function(){function l(h,p,l){void 0===p&&(p={});void 0===l&&(l=
{contrastControlEnabled:!1});this._technique=null;this._projInfo=D.vec4f64.create();this._zScale=F.vec2f64.create();this._heightPlaneEnabled=!1;this._heightPlanePosition=K.vec3f64.create();this._heightPlaneHeight=0;this._pointDistanceEnabled=!1;this._pointDistanceOrigin=K.vec3f64.create();this._pointDistanceTarget=K.vec3f64.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=m.lineSegment.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=m.lineSegment.create();
this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=null;this.canRender=!0;this._tempNormal=K.vec3f64.create();this._tempDir=K.vec3f64.create();this._tempUp=K.vec3f64.create();this._tempVec3A=K.vec3f64.create();this._tempVec3B=K.vec3f64.create();this._tempVec4=D.vec4f64.create();this._tempPlane=m.plane.create();this._tempSphere=m.sphere.create();this._renderCoordsHelper=h;this._params=C.copyParameters(p,Q);this._config=
l}Object.defineProperty(l.prototype,"renderSlots",{get:function(){return[this._config.contrastControlEnabled?17:16]},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"needsLinearDepth",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightPlaneEnabled",{get:function(){return this._heightPlaneEnabled},set:function(h){h!==this._heightPlaneEnabled&&(this._heightPlaneEnabled=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"heightPlanePosition",{get:function(){return this._heightPlanePosition},set:function(h){q.vec3.copy(this._heightPlanePosition,h);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"heightPlaneHeight",{get:function(){return this._heightPlaneHeight},set:function(h){this._heightPlaneHeight!==h&&(this._heightPlaneHeight=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceEnabled",{get:function(){return this._pointDistanceEnabled},
set:function(h){h!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceTarget",{get:function(){return this._pointDistanceTarget},set:function(h){q.vec3.copy(this._pointDistanceTarget,h);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pointDistanceOrigin",{get:function(){return this._pointDistanceOrigin},set:function(h){q.vec3.copy(this._pointDistanceOrigin,
h);this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"lineVerticalPlaneEnabled",{get:function(){return this._lineVerticalPlaneEnabled},set:function(h){h!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"lineVerticalPlaneSegment",{get:function(){return this._lineVerticalPlaneSegment},set:function(h){m.lineSegment.copy(h,this._lineVerticalPlaneSegment);
this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineEnabled",{get:function(){return this._intersectsLineEnabled},set:function(h){h!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineSegment",{get:function(){return this._intersectsLineSegment},set:function(h){m.lineSegment.copy(h,this._intersectsLineSegment);this._requestRender()},enumerable:!0,
configurable:!0});Object.defineProperty(l.prototype,"intersectsLineRadius",{get:function(){return this._intersectsLineRadius},set:function(h){h!==this._intersectsLineRadius&&(this._intersectsLineRadius=h,this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"intersectsLineInfinite",{get:function(){return this._intersectsLineInfinite},set:function(h){h!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=h,this._requestRender())},enumerable:!0,configurable:!0});
Object.defineProperty(l.prototype,"pathVerticalPlaneEnabled",{get:function(){return this._pathVerticalPlaneEnabled},set:function(h){h!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=h,G.isSome(this._pathVerticalPlaneData)&&this._requestRender())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pathVerticalPlaneVertices",{set:function(h){G.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.vertices=
h;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"pathVerticalPlaneBuffers",{set:function(h){G.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new A.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=h;this.pathVerticalPlaneEnabled&&this._requestRender()},enumerable:!0,configurable:!0});l.prototype.setParameterValues=function(h){C.updateParameters(this._params,h)&&this._requestRender()};
l.prototype.initializeRenderContext=function(h){this._initContext=h;this._quadVAO=R.createQuadVAO(h.rctx);this._techniqueRepository=h.shaderTechniqueRep;this._techniqueConfig=new M.LaserlineTechniqueConfiguration;this._pathTechniqueConfig=new H.LaserlinePathTechniqueConfiguration};l.prototype.uninitializeRenderContext=function(){this._quadVAO.dispose();this._quadVAO=null;G.isSome(this._technique)&&this._techniqueRepository.release(this._technique);G.isSome(this._pathVerticalPlaneData)&&this._pathVerticalPlaneData.dispose();
G.isSome(this._pathTechnique)&&this._techniqueRepository.release(this._pathTechnique)};l.prototype.render=function(h){var m=this.heightPlaneEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,p=this.pathVerticalPlaneEnabled;if(!m&&!p)return!0;var l=h.camera;y.inverseProjectionInfo(l.projectionMatrix,l.fullWidth,l.fullHeight,this._projInfo,this._zScale);m&&this.renderUnified(h);p&&this.renderPath(h);return!0};l.prototype.renderUnified=function(h){var m=h.rctx,
p=this._selectTechnique(),l=p.program;m.bindProgram(l);p.bindPipelineState(m);this.bindGlobalUniforms(h,l);this.bindHeightPlaneUniforms(h,l);this.bindPointDistanceUniforms(h,l);this.bindLineVerticalPlaneUniforms(h,l);this.bindIntersectsLineUniforms(h,l);p.bind(this._params,h.camera);m.bindVAO(this._quadVAO);m.drawArrays(5,0,4)};l.prototype.renderPath=function(h){if(!G.isNone(this._pathVerticalPlaneData)){this._pathTechniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=
this._techniqueRepository.acquireAndReleaseExisting(H.LaserlinePathTechnique,this._pathTechniqueConfig,this._pathTechnique);var m=h.rctx,p=this._pathTechnique,l=p.program;m.bindProgram(l);p.bindPipelineState(m);this.bindGlobalUniforms(h,l);p.bind(this._params,this._pathVerticalPlaneData.origin,h.camera);this._pathVerticalPlaneData.draw(h.rctx)}};l.prototype.bindHeightPlaneUniforms=function(h,m){if(this._heightPlaneEnabled){var p=this._heightPlanePosition,l=this._tempVec3A,x=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(p,
l);v(x,p,l,h.camera.viewMatrix);m.setUniform4fv("heightPlane",x);m.setUniform1f("heightPlaneHeight",this._heightPlaneHeight)}};l.prototype.bindPointDistanceUniforms=function(h,m){if(this._pointDistanceEnabled){h=h.camera;var p=this._tempSphere;q.vec3.copy(p.center,this._pointDistanceOrigin);q.vec3.transformMat4(p.center,p.center,h.viewMatrix);p.radius=q.vec3.distance(this._pointDistanceOrigin,this._pointDistanceTarget);m.setUniform4f("pointDistanceSphere",p.center[0],p.center[1],p.center[2],p.radius)}};
l.prototype.bindLineVerticalPlaneUniforms=function(h,p){if(this._lineVerticalPlaneEnabled){var l=this._renderCoordsHelper;h=h.camera;var x=this._tempPlane,y=this._tempVec3A,E=this._tempUp,B=this._tempDir,t=this._tempNormal;m.lineSegment.pointAt(this._lineVerticalPlaneSegment,.5,y);l.worldUpAtPosition(y,E);q.vec3.normalize(B,this._lineVerticalPlaneSegment.vector);q.vec3.cross(t,E,B);q.vec3.normalize(t,t);v(x,this._lineVerticalPlaneSegment.origin,t,h.viewMatrix);p.setUniform4fv("lineVerticalPlane",
x);x=this._tempVec3A;q.vec3.copy(x,this._lineVerticalPlaneSegment.origin);l.setAltitude(0,x);q.vec3.transformMat4(x,x,h.viewMatrix);p.setUniform3fv("lineVerticalStart",x);x=this._tempVec3B;q.vec3.add(x,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector);l.setAltitude(0,x);q.vec3.transformMat4(x,x,h.viewMatrix);p.setUniform3fv("lineVerticalEnd",x)}};l.prototype.bindIntersectsLineUniforms=function(l,v){if(this._intersectsLineEnabled){var y=h,E=x;if(this._intersectsLineInfinite){var t=
l.camera;m.clipRay.fromRay(m.ray.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),B);B.c0=-Number.MAX_VALUE;if(!m.frustum.intersectClipRay(t.frustum.planes,B))return;m.clipRay.getStart(B,y);m.clipRay.getEnd(B,E)}else q.vec3.copy(y,this._intersectsLineSegment.origin),q.vec3.add(E,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);t=this._tempVec3A;q.vec3.transformMat4(t,y,l.camera.viewMatrix);v.setUniform3fv("intersectsLineStart",t);y=this._tempVec4;q.vec3.copy(y,
this._intersectsLineSegment.vector);this._tempVec4[3]=0;p.vec4.transformMat4(this._tempVec4,this._tempVec4,l.camera.viewMatrix);q.vec3.transformMat4(E,E,l.camera.viewMatrix);v.setUniform3fv("intersectsLineEnd",E);q.vec3.normalize(y,y);v.setUniform3f("intersectsLineDirection",y[0],y[1],y[2]);v.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};l.prototype.bindGlobalUniforms=function(h,m){var p=h.camera;m.setUniform4fv("projInfo",this._projInfo);m.setUniform2fv("zScale",this._zScale);
m.setUniform2f("nearFar",p.near,p.far);this._heightPlaneEnabled?m.setUniform1f("maxPixelDistance",2*p.computeScreenPixelSizeAt(this._heightPlanePosition)):this._pointDistanceEnabled?m.setUniform1f("maxPixelDistance",2*p.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&m.setUniform1f("maxPixelDistance",2*p.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));m.setUniform1i("depthMap",0);h.rctx.bindTexture(h.offscreenRenderingHelper.linearDepthTexture,
0);m.setUniform1i("frameColor",1);h.rctx.bindTexture(h.offscreenRenderingHelper.mainColorTexture,1)};l.prototype._requestRender=function(){this._initContext&&this._initContext.requestRender()};l.prototype._selectTechnique=function(){this._techniqueConfig.heightPlaneEnabled=this.heightPlaneEnabled;this._techniqueConfig.heightPlaneHeightEnabled=0!==this.heightPlaneHeight;this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled;this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled;
this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled;this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;return this._technique=this._techniqueRepository.acquireAndReleaseExisting(M.LaserlineTechnique,this._techniqueConfig,this._technique)};return l}();l.LaserLineRenderer=J;var B=m.clipRay.create(),h=K.vec3f64.create(),x=K.vec3f64.create()})},"esri/views/3d/support/LaserlinePathData":function(){define("require exports ../../../core/maybe ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../webgl ./buffer/glUtil ./buffer/InterleavedLayout ../webgl-engine/shaders/LaserlinePathTechnique".split(" "),
function(J,l,t,L,G,F,q,K,p){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(m){this._renderCoordsHelper=m;this._buffers=null;this._origin=G.vec3f64.create();this._dirty=!1;this._count=0;this._vao=null}Object.defineProperty(l.prototype,"vertices",{set:function(m){for(var p=new Float64Array(3*m.length),l=0,q=0;q<m.length;q++){var v=m[q];p[l++]=v[0];p[l++]=v[1];p[l++]=v[2]}this.buffers=[p]},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"buffers",{set:function(m){this._buffers=
m;if(0<this._buffers.length){m=this._buffers[0];var p=3*Math.floor(m.length/3/2);L.vec3.set(this._origin,m[p+0],m[p+1],m[p+2])}else L.vec3.set(this._origin,0,0,0);this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0});l.prototype.draw=function(m){var p=this.ensureVAO(m);t.isSome(p)&&(m.bindVAO(p),m.drawArrays(4,0,this._count))};l.prototype.dispose=function(){t.isSome(this._vao)&&this._vao.dispose()};
l.prototype.ensureVAO=function(m){if(t.isNone(this._buffers))return null;t.isNone(this._vao)&&(this._vao=this.createVAO(m,this._buffers));this.ensureVertexData(this._vao,this._buffers);return this._vao};l.prototype.createVAO=function(m,l){l=this.createDataBuffer(l);this._dirty=!1;return new F.VertexArrayObject(m,p.LaserlinePathTechnique.attributeLocations,{data:q.glLayout(A)},{data:F.BufferObject.createVertex(m,35044,l)})};l.prototype.ensureVertexData=function(m,p){this._dirty&&(p=this.createDataBuffer(p),
m.vertexBuffers.data.setData(p),this._dirty=!1)};l.prototype.numberOfRenderVertices=function(m){return 6*(m.length/3-1)};l.prototype.createDataBuffer=function(p){var l=this,q=p.reduce(function(h,m){return h+l.numberOfRenderVertices(m)},0);this._count=q;for(var q=A.createBuffer(q),t=this._origin,v=0,E=0,y=0;y<p.length;y++){for(var F=p[y],B=0;B<F.length;B+=3){var h=L.vec3.set(m,F[B+0],F[B+1],F[B+2]);0===B?E=this._renderCoordsHelper.getAltitude(h):this._renderCoordsHelper.setAltitude(E,h);var x=this._renderCoordsHelper.worldUpAtPosition(h,
D),G=v+2*B,h=L.vec3.subtract(m,h,t);if(B<F.length-3){q.up.setVec(G,x);q.up.setVec(G+3,x);q.up.setVec(G+5,x);for(var N=0;6>N;N++)q.start.setVec(G+N,h);q.extrude.setValues(G+0,0,-1);q.extrude.setValues(G+1,1,-1);q.extrude.setValues(G+2,1,1);q.extrude.setValues(G+3,0,-1);q.extrude.setValues(G+4,1,1);q.extrude.setValues(G+5,0,1)}if(0<B)for(q.up.setVec(G-2,x),q.up.setVec(G-4,x),q.up.setVec(G-5,x),N=-6;0>N;N++)q.end.setVec(G+N,h)}v+=this.numberOfRenderVertices(F)}return q.buffer};return l}();l.LaserlinePathData=
J;var D=G.vec3f64.create(),m=G.vec3f64.create(),A=K.newLayout().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude")})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ./LaserlinePath.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y){Object.defineProperty(l,"__esModule",{value:!0});G=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}t(l,p);l.prototype.initializeProgram=function(m){var p=l.shader.get().build(this.configuration);return new A(m.rctx,p.generateSource("vertex"),p.generateSource("fragment"),l.attributeLocations)};l.prototype.bind=function(m,p,l){this.program.setUniform3fv("innerColor",m.innerColor);this.program.setUniform1f("innerWidth",m.innerWidth*l.pixelRatio);
this.program.setUniform3fv("glowColor",m.glowColor);this.program.setUniform1f("glowWidth",m.glowWidth*l.pixelRatio);this.program.setUniform1f("glowFalloff",m.glowFalloff);this.program.setUniform1f("globalAlpha",m.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",l.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/l.fullWidth,2/l.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",l.projectionMatrix);F.mat4.translate(C,l.viewMatrix,p);this.program.setUniformMatrix4fv("uModelViewMatrix",
C);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=m.globalAlphaContrastBoost?m.globalAlphaContrastBoost:1)};l.prototype.initializePipeline=function(){return y.makePipelineState({blending:R.simpleBlendingParams(1,771),colorWrite:y.defaultColorWriteParams})};l.prototype.bindPipelineState=function(m){m.setPipelineState(this.pipeline)};l.shader=new K.ReloadableShaderModule(m,"./LaserlinePath.glsl",J);l.attributeLocations={start:0,end:1,up:2,extrude:3};
return l}(p.ShaderTechnique);l.LaserlinePathTechnique=G;G=function(m){function p(){var p=null!==m&&m.apply(this,arguments)||this;p.contrastControlEnabled=!1;return p}t(p,m);L([D.parameter()],p.prototype,"contrastControlEnabled",void 0);return p}(D.ShaderTechniqueConfiguration);l.LaserlinePathTechniqueConfiguration=G;var C=q.mat4f64.create()})},"esri/views/3d/webgl-engine/shaders/LaserlinePath.glsl":function(){define("require exports ../../../../core/tsSupport/makeTemplateObjectHelper ../core/shaderLibrary/Laserline.glsl ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),
function(J,l,t,L,G,F){Object.defineProperty(l,"__esModule",{value:!0});l.build=function(p){var l=new F.ShaderBuilder;l.include(L.Laserline,p);l.vertex.uniforms.add("uModelViewMatrix","mat4");l.vertex.uniforms.add("uProjectionMatrix","mat4");l.attributes.add("start","vec3");l.attributes.add("end","vec3");l.attributes.add("up","vec3");l.attributes.add("extrude","vec2");l.varyings.add("uv","vec2");l.varyings.add("vViewStart","vec3");l.varyings.add("vViewEnd","vec3");l.varyings.add("vViewPlane","vec4");
l.vertex.uniforms.add("glowWidth","float");l.vertex.uniforms.add("pixelToNDC","vec2");l.vertex.code.add(G.glsl(q||(q=t(["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "],
["\n  void main() {\n    vec3 pos \x3d mix(start, end, extrude.x);\n\n    vec4 viewPos \x3d uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos \x3d uProjectionMatrix * viewPos;\n    vec2 ndcPos \x3d projPos.xy / projPos.w;\n\n    vec3 viewUp \x3d (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp \x3d uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir \x3d normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy \x3d abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos +\x3d length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal \x3d normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal \x3d (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart \x3d (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd \x3d (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane \x3d vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels \x3d sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x +\x3d xPaddingPixels * pixelToNDC.x;\n\n    uv \x3d ndcPos * 0.5 + 0.5;\n    gl_Position \x3d vec4(ndcPos, 0, 1);\n  }\n  "]))));
l.fragment.uniforms.add("globalAlpha","float");l.fragment.uniforms.add("perScreenPixelRatio","float");l.fragment.code.add(G.glsl(K||(K=t(["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "],
["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin \x3d mix(start, end, 0.5);\n    vec3 basis \x3d end - origin;\n    vec3 posAtOrigin \x3d pos - origin;\n\n    float x \x3d dot(normalize(basis), posAtOrigin);\n    float y \x3d dot(plane.xyz, posAtOrigin);\n\n    float dx \x3d max(abs(x) - length(basis), 0.0);\n    float dy \x3d y;\n\n    float dist \x3d length(vec2(dx, dy));\n\n    float width \x3d fwidth(y);\n    float maxPixelDistance \x3d length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist \x3d dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance \x3d planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color \x3d laserlineProfile(distance);\n    float alpha \x3d 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor \x3d laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "]))));
return l};var q,K})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define("require exports ../../../../../core/tsSupport/makeTemplateObjectHelper ./output/ReadLinearDepth.glsl ./util/CameraSpace.glsl ../shaderModules/interfaces".split(" "),function(J,l,t,L,G,F){Object.defineProperty(l,"__esModule",{value:!0});l.Laserline=function(l,y){l.extensions.add("GL_OES_standard_derivatives");l.include(L.ReadLinearDepth);l.include(G.CameraSpace);l.fragment.uniforms.add("glowColor",
"vec3");l.fragment.uniforms.add("glowWidth","float");l.fragment.uniforms.add("glowFalloff","float");l.fragment.uniforms.add("innerColor","vec3");l.fragment.uniforms.add("innerWidth","float");l.fragment.uniforms.add("depthMap","sampler2D");l.fragment.uniforms.add("nearFar","vec2");l.fragment.uniforms.add("frameColor","sampler2D");y.contrastControlEnabled&&l.fragment.uniforms.add("globalAlphaContrastBoost","float");l.fragment.code.add(F.glsl(q||(q=t(["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "],
["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha \x3d 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "]))));l.fragment.code.add(F.glsl(K||(K=t(["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "],["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "]))));l.fragment.code.add(F.glsl(p||
(p=t(["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "],["\n  vec4 laserlineProfile(float dist) {\n    if (dist \x3e glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha \x3d (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha \x3d pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "]))));
l.fragment.code.add(F.glsl(D||(D=t(["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepth(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "],
["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth \x3d linearDepth(depthMap, uv, nearFar);\n\n    if (-depth \x3d\x3d nearFar[0]) {\n      return false;\n    }\n\n    pos \x3d reconstructPosition(gl_FragCoord.xy, depth);\n    normal \x3d normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth \x3d fwidth(depth);\n    depthDiscontinuityAlpha \x3d 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "]))));
y.contrastControlEnabled?l.fragment.code.add(F.glsl(m||(m=t(["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "],["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance \x3d rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha \x3d clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "])))):
l.fragment.code.add(F.glsl(A||(A=t(["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "],["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "]))))};var q,K,p,D,m,A})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/mathUtils ../../../../core/libs/gl-matrix-2/factories/vec4f32 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./Laserlines.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C){Object.defineProperty(l,"__esModule",{value:!0});G=function(l){function p(){return null!==l&&l.apply(this,arguments)||this}t(p,l);p.prototype.initializeProgram=function(l){var q=p.shader.get().build(this.configuration);return new R(l.rctx,q.generateSource("vertex"),q.generateSource("fragment"),m.Default3D)};p.prototype.bind=function(m,l){this.program.setUniform3fv("innerColor",m.innerColor);this.program.setUniform1f("innerWidth",m.innerWidth*l.pixelRatio);this.program.setUniform3fv("glowColor",
m.glowColor);this.program.setUniform1f("glowWidth",m.glowWidth*l.pixelRatio);this.program.setUniform1f("glowFalloff",m.glowFalloff);this.program.setUniform1f("globalAlpha",m.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=m.globalAlphaContrastBoost?m.globalAlphaContrastBoost:1);var p=null!=m.angleCutoff?m.angleCutoff:A.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",Math.cos(p),Math.cos(Math.max(0,p-F.deg2rad(2))));this.configuration.intersectsLineEnabled&&
this.program.setUniform1f("perScreenPixelRatio",l.perScreenPixelRatio);this.configuration.heightPlaneHeightEnabled&&this.program.setUniform4fv("heightPlaneFillColor",m.heightPlaneFillColor||q.ONES)};p.prototype.initializePipeline=function(){return C.makePipelineState({blending:y.simpleBlendingParams(1,771),colorWrite:C.defaultColorWriteParams})};p.shader=new K.ReloadableShaderModule(A,"./Laserlines.glsl",J);return p}(p.ShaderTechnique);l.LaserlineTechnique=G;G=function(m){function l(){var l=null!==
m&&m.apply(this,arguments)||this;l.heightPlaneEnabled=!1;l.heightPlaneHeightEnabled=!1;l.pointDistanceEnabled=!1;l.lineVerticalPlaneEnabled=!1;l.intersectsLineEnabled=!1;l.contrastControlEnabled=!1;return l}t(l,m);L([D.parameter()],l.prototype,"heightPlaneEnabled",void 0);L([D.parameter()],l.prototype,"heightPlaneHeightEnabled",void 0);L([D.parameter()],l.prototype,"pointDistanceEnabled",void 0);L([D.parameter()],l.prototype,"lineVerticalPlaneEnabled",void 0);L([D.parameter()],l.prototype,"intersectsLineEnabled",
void 0);L([D.parameter()],l.prototype,"contrastControlEnabled",void 0);return l}(D.ShaderTechniqueConfiguration);l.LaserlineTechniqueConfiguration=G})},"esri/views/3d/webgl-engine/shaders/Laserlines.glsl":function(){define("require exports ../../../../core/tsSupport/makeTemplateObjectHelper ../../../../core/mathUtils ../core/shaderLibrary/Laserline.glsl ../core/shaderLibrary/ScreenSpacePass ../core/shaderModules/interfaces ../core/shaderModules/ShaderBuilder".split(" "),function(J,l,t,L,G,F,q,K){Object.defineProperty(l,
"__esModule",{value:!0});l.defaultAngleCutoff=L.deg2rad(6);l.build=function(h){var l=new K.ShaderBuilder;l.extensions.add("GL_OES_standard_derivatives");l.include(F.ScreenSpacePass);l.include(G.Laserline,h);l.fragment.uniforms.add("angleCutoff","vec2");l.fragment.uniforms.add("globalAlpha","float");h.heightPlaneEnabled&&l.fragment.uniforms.add("heightPlane","vec4");h.heightPlaneHeightEnabled&&(l.fragment.uniforms.add("heightPlaneHeight","float"),l.fragment.uniforms.add("heightPlaneFillColor","vec4"));
h.pointDistanceEnabled&&l.fragment.uniforms.add("pointDistanceSphere","vec4");h.lineVerticalPlaneEnabled&&l.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3");(h.heightPlaneEnabled||h.pointDistanceEnabled||h.lineVerticalPlaneEnabled)&&l.fragment.uniforms.add("maxPixelDistance","float");h.intersectsLineEnabled&&l.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius",
"float").add("perScreenPixelRatio","float");if(h.heightPlaneEnabled||h.lineVerticalPlaneEnabled)h.heightPlaneHeightEnabled&&!h.lineVerticalPlaneEnabled||l.fragment.code.add(q.glsl(p||(p=t(["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"],["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist \x3d dot(plane.xyz, pos) + plane.w;\n        float width \x3d fwidth(dist);\n        dist /\x3d min(width, maxPixelDistance);\n        return abs(dist);\n      }"])))),
h.heightPlaneHeightEnabled&&l.fragment.code.add(q.glsl(D||(D=t(["\n      vec2 boxDistancePixels(vec4 plane, float height, vec3 pos) {\n        float d \x3d dot(plane.xyz, pos);\n\n        float offsetMin \x3d plane.w;\n        float offsetMax \x3d offsetMin - height;\n\n        float dmin \x3d d + offsetMin;\n        float dmax \x3d d + offsetMax;\n\n        float width \x3d fwidth(d);\n\n        float outerDistance \x3d min(abs(dmin), abs(dmax));\n        float innerDistance \x3d max(-dmin, dmax);\n\n        return vec2(innerDistance, outerDistance) / min(width, maxPixelDistance);\n      }"],
["\n      vec2 boxDistancePixels(vec4 plane, float height, vec3 pos) {\n        float d \x3d dot(plane.xyz, pos);\n\n        float offsetMin \x3d plane.w;\n        float offsetMax \x3d offsetMin - height;\n\n        float dmin \x3d d + offsetMin;\n        float dmax \x3d d + offsetMax;\n\n        float width \x3d fwidth(d);\n\n        float outerDistance \x3d min(abs(dmin), abs(dmax));\n        float innerDistance \x3d max(-dmin, dmax);\n\n        return vec2(innerDistance, outerDistance) / min(width, maxPixelDistance);\n      }"]))));
h.pointDistanceEnabled&&l.fragment.code.add(q.glsl(m||(m=t(["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "],["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist \x3d distance(sphere.xyz, pos) - sphere.w;\n      float width \x3d fwidth(dist);\n      dist /\x3d min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "]))));
h.intersectsLineEnabled&&l.fragment.code.add(q.glsl(A||(A=t(["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "],["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist \x3d length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "]))));
(h.lineVerticalPlaneEnabled||h.intersectsLineEnabled)&&l.fragment.code.add(q.glsl(R||(R=t(["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "],["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir \x3d end - start;\n      float t2 \x3d dot(dir, pos - start);\n      float l2 \x3d dot(dir, dir);\n      return t2 \x3e\x3d 0.0 \x26\x26 t2 \x3c\x3d l2;\n    }\n    "]))));
l.fragment.code.add(q.glsl(y||(y=t(["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "],["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color \x3d vec4(0, 0, 0, 0);\n  "]))));
h.heightPlaneEnabled&&(l.fragment.code.add(q.glsl(C||(C=t(["\n    {\n      float heightPlaneAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n    "],["\n    {\n      float heightPlaneAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n    "])))),h.heightPlaneHeightEnabled?l.fragment.code.add(q.glsl(H||(H=t(["\n      vec2 heightBoxDistance \x3d boxDistancePixels(heightPlane, heightPlaneHeight, pos);\n      vec4 heightPlaneFill \x3d premultipliedColor(heightPlaneFillColor.rgb, heightPlaneFillColor.a) * clamp(0.5 - heightBoxDistance.x, 0.0, 1.0);\n      vec4 heightPlaneLine \x3d laserlineProfile(heightBoxDistance.y);\n\n      vec4 heightPlaneColor \x3d blendPremultiplied(heightPlaneFill, heightPlaneLine);\n      "],
["\n      vec2 heightBoxDistance \x3d boxDistancePixels(heightPlane, heightPlaneHeight, pos);\n      vec4 heightPlaneFill \x3d premultipliedColor(heightPlaneFillColor.rgb, heightPlaneFillColor.a) * clamp(0.5 - heightBoxDistance.x, 0.0, 1.0);\n      vec4 heightPlaneLine \x3d laserlineProfile(heightBoxDistance.y);\n\n      vec4 heightPlaneColor \x3d blendPremultiplied(heightPlaneFill, heightPlaneLine);\n      "])))):l.fragment.code.add(q.glsl(M||(M=t(["\n      vec4 heightPlaneColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      "],
["\n      vec4 heightPlaneColor \x3d laserlineProfile(planeDistancePixels(heightPlane, pos));\n      "])))),l.fragment.code.add(q.glsl(v||(v=t(["\n      color \x3d max(color, heightPlaneColor * heightPlaneAlpha);\n    }\n    "],["\n      color \x3d max(color, heightPlaneColor * heightPlaneAlpha);\n    }\n    "])))));h.pointDistanceEnabled&&l.fragment.code.add(q.glsl(E||(E=t(["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "],
["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance \x3d sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor \x3d laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color \x3d max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "]))));h.lineVerticalPlaneEnabled&&
l.fragment.code.add(q.glsl(O||(O=t(["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance \x3d planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor \x3d laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color \x3d max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "]))));h.intersectsLineEnabled&&
l.fragment.code.add(q.glsl(Q||(Q=t(["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "],
["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance \x3d lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor \x3d laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha \x3d 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color \x3d max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "]))));
l.fragment.code.add(q.glsl(B||(B=t(["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "],["\n    gl_FragColor \x3d laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "]))));return l};var p,D,m,A,R,y,C,H,M,v,E,O,Q,B})},"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/maybe ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ./LaserlineVisualElement ./VisualElementResources ../../support/geometryUtils ../../support/geometryUtils/clipRay ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function h(h){var l=this;this.view=null;this._ray=R.ray.create();this._isWorldDown=!1;this._start=K.vec3f64.create();this._end=K.vec3f64.fromValues(1,0,0);this._width=1;this._color=D.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=D.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._infinite=this._falloff=0;this._laserlineStyle=null;this._laserlineEnabled=
!1;this._occludedMode=4;this.resources=new A.VisualElementResources({view:h.view,cameraChanged:function(){return l.updateGeometry()},createResources:function(h){return l.createResources(h)}});this._laserline=new m.LaserlineVisualElement({view:h.view});var p=!0,q;for(q in h)q in this?"attached"===q?p=h[q]:this[q]=h[q]:console.error("Cannot set unknown property",q);this.attached=p}h.prototype.destroy=function(){this.resources.destroy();this._laserline.destroy()};Object.defineProperty(h.prototype,"laserlineAttached",
{get:function(){return this.attached&&!this.hidden&&this._laserlineEnabled&&G.isSome(this._laserlineStyle)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(h){this.resources.hidden=h;this._laserline.attached=this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"attached",{get:function(){return this.resources.attached},set:function(h){this.resources.attached=h;this._laserline.attached=
this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"worldDownAtLocation",{set:function(h){this._isWorldDown=!0;q.vec3.copy(this._start,h);this.view.renderCoordsHelper.worldUpAtPosition(h,this._end);q.vec3.subtract(this._end,h,this._end);R.ray.fromPoints(this._start,this._end,this._ray);this.updateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"start",{get:function(){return this._start},set:function(h){this._isWorldDown=!1;q.vec3.exactEquals(this._start,
h)||(q.vec3.copy(this._start,h),R.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"end",{get:function(){return this._end},set:function(h){this._isWorldDown=!1;q.vec3.exactEquals(this._end,h)||(q.vec3.copy(this._end,h),R.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"width",{get:function(){return this._width},set:function(h){h!==
this._width&&(this._width=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"color",{get:function(){return this._color},set:function(h){p.vec4.exactEquals(h,this._color)||(p.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(h){h!==this._innerWidth&&(this._innerWidth=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,
"innerColor",{get:function(){return this._innerColor},set:function(h){p.vec4.exactEquals(h,this._innerColor)||(p.vec4.copy(this._innerColor,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(h){var m=G.isSome(h)!==G.isSome(this._stipplePattern);this._stipplePattern=h;m?this.resources.recreate():this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,
"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(h){if(G.isNone(h)||G.isNone(this._stippleOffColor)||!p.vec4.exactEquals(h,this._stippleOffColor))this._stippleOffColor=G.isSome(h)?D.vec4f32.clone(h):null,this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"falloff",{get:function(){return this._falloff},set:function(h){h!==this._falloff&&(this._falloff=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,
"infinite",{get:function(){return this._infinite},set:function(h){h!==this._infinite&&(this._infinite=h,this.updateGeometry())},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(h){this._laserlineStyle=h;this._laserline.attached=this.laserlineAttached;G.isSome(h)&&(this._laserline.style=h)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"laserlineEnabled",{get:function(){return this._laserlineEnabled},
set:function(h){this._laserlineEnabled!==h&&(this._laserlineEnabled=h,this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"occludedMode",{get:function(){return this._occludedMode},set:function(h){h!==this._occludedMode&&(this._occludedMode=h,G.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=h))},enumerable:!0,configurable:!0});h.prototype.updateMaterial=function(){var h=this.resources.resources;G.isNone(h)||
h.material.setParameterValues(this.materialParameters)};Object.defineProperty(h.prototype,"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff}},enumerable:!0,configurable:!0});h.prototype.updateGeometry=function(){var h=this.resources.object;G.isNone(h)||this.updateVertices(h)};h.prototype.updateVertices=function(h){if(this._infinite){var m=
this.view.state.camera;y.fromRay(this._ray,E);switch(this._infinite){case 2:E.c0=-Number.MAX_VALUE;break;case 1:case 3:var l=this._ray.origin,p=this.view.elevationProvider.getElevation(l[0],l[1],l[2],this.view.renderCoordsHelper.spatialReference,"ground"),l=this.view.renderCoordsHelper.getAltitude(l);this._isWorldDown&&l<p&&q.vec3.negate(E.ray.direction,E.ray.direction);3===this._infinite&&null!=p&&(E.c1=Math.abs(l-p))}R.frustum.intersectClipRay(m.frustum.planes,E)?(m=y.getStart(E,O),p=y.getEnd(E,
Q),this.updateVertexAttributes(h,m,p),this._laserline.intersectsLine=R.lineSegment.fromPoints(m,p,B)):this.updateVertexAttributes(h,this._start,this._end)}else this.updateVertexAttributes(h,this._start,this._end),this._laserline.intersectsLine=R.lineSegment.fromPoints(this._start,this._end,B)};h.prototype.updateVertexAttributes=function(h,m,l){var p=h.geometryRecords[0].geometry.data.getVertexAttr()[v.RibbonVertexAttributeConstants.POSITION].data;p[0]=m[0];p[1]=m[1];p[2]=m[2];p[3]=l[0];p[4]=l[1];
p[5]=l[2];h.geometryVertexAttrsUpdated(0)};h.prototype.createResources=function(h){var m=[K.vec3f64.create(),K.vec3f64.create()],l=new C(H.createPolylineGeometry(m),"lineVisualElement"),p=new M(this.materialParameters,"lineVisualElement");p.renderOccluded=this._occludedMode;h.addGeometry(l,p,F.mat4f64.IDENTITY);this.updateVertices(h);return{material:p,geometry:l,forEach:function(h){return h(p),h(l)}}};return h}();l.LineVisualElement=J;var E=y.create(),O=K.vec3f64.create(),Q=K.vec3f64.create(),B=R.lineSegment.create()})},
"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("require exports ../../../../core/maybe ../../../../core/watchUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/Layer ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/Texture".split(" "),function(J,l,t,L,G,F,q,K){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(l){this.resourceFactory=l;this._resources=null;this._attached=this._hidden=!1}l.prototype.destroy=function(){this._destroyResources()};
Object.defineProperty(l.prototype,"object",{get:function(){return t.isSome(this._resources)?this._resources.object:null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"resources",{get:function(){return t.isSome(this._resources)?this._resources.external:null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hidden",{get:function(){return this._hidden},set:function(l){l!==this._hidden&&(this._hidden=l,this._syncHidden())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"attached",{get:function(){return this._attached},set:function(l){l!==this._attached&&(this._attached=l,this._createOrDestroyResources())},enumerable:!0,configurable:!0});l.prototype.recreate=function(){this.attached&&this._createResources()};l.prototype.recreateGeometry=function(){if(!this.resourceFactory.recreateGeometry)this.recreate();else if(!t.isNone(this._resources)){var l=this._resources.object,m=this.resourceFactory.view._stage;this._resources.external.forEach(function(l){l instanceof G&&
m.remove(2,l.id)});l.removeAllGeometries();for(var p=0,l=this.resourceFactory.recreateGeometry(this._resources.external,l,this._resources.layer);p<l.length;p++)m.add(2,l[p])}};l.prototype._createOrDestroyResources=function(){this._attached?this._resources||this._createResources():this._destroyResources()};l.prototype._createResources=function(){var l=this;this._destroyResources();var m=this.resourceFactory.view._stage;if(m){var p=new F("element",{isPickable:!1});m.add(0,p);m.addToViewContent([p.id]);
var t=new q({idHint:"element",castShadow:!1}),y=this.resourceFactory.createResources(t,p);y.forEach(function(p){m.add(l._contentTypeFromResource(p),p)});m.add(1,t);p.addObject(t);this._hidden&&t.hide();var C=this.resourceFactory.cameraChanged?L.init(this.resourceFactory.view.state,"camera",function(m){return l.resourceFactory.cameraChanged(m)}):null;this._resources={layer:p,object:t,external:y,cameraHandle:C}}};l.prototype._contentTypeFromResource=function(l){return l instanceof G?2:l instanceof K?
4:3};l.prototype._destroyResources=function(){var l=this;if(!t.isNone(this._resources)){var m=this.resourceFactory.view._stage;m.remove(1,this._resources.object.id);m.remove(0,this._resources.layer.id);this._resources.external.forEach(function(p){m.remove(l._contentTypeFromResource(p),p.id);"dispose"in p&&p.dispose()});this._resources.object.dispose();this._resources.cameraHandle&&this._resources.cameraHandle.remove();this._resources=null}};l.prototype._syncHidden=function(){t.isNone(this._resources)||
(this._hidden?this._resources.object.hide():this._resources.object.unhide())};return l}();l.VisualElementResources=J})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/Evented ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f32 ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/dehydratedFeatures ./DrapedVisualElementResources ./LaserlineVisualElement ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/lineUtils ../../support/projectionUtils ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/geometryDataUtils ../../webgl-engine/lib/RenderGeometry ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/shaders/RibbonLineTechnique".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(h){var m=this;this.view=null;this._attachmentOrigin=A.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new G;this._isDraped=!1;this._geometry=null;this._width=1;this._color=D.vec4f32.fromValues(1,0,1,1);this._innerWidth=1;this._innerColor=D.vec4f32.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=0;this._laserlineStyle=
this._elevationInfo=null;this._laserlineEnabled=!1;this._occludedMode=8;this.resources=new C.VisualElementResources({view:h.view,createResources:function(h){return m.createResources(h)},recreateGeometry:function(h,l){h.geometries.length=0;m.recreateGeometry(l,h.material,h.geometries);return h.geometries}});this._attachmentOrigin.spatialReference=h.view.spatialReference;this.drapedResources=new R.DrapedVisualElementResources({view:h.view,createResources:function(){return m.createDrapedResources()},
recreateGeometry:function(h){h.geometries=m.createRenderGeometriesDraped(h.material);m.attachmentOriginChanged()}});var l=!0;this._laserline=new y.LaserlineVisualElement({view:h.view});for(var p in h)p in this?"attached"===p?l=h[p]:this[p]=h[p]:console.error("Cannot set unknown property",p);this.attached=l}l.prototype.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};Object.defineProperty(l.prototype,"isDraped",{get:function(){return this._isDraped},
set:function(h){h!==this._isDraped&&(this._isDraped=h,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"laserlineAttached",{get:function(){return this.attached&&!this.hidden&&F.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(h){this.resources.hidden=
h;this.drapedResources.hidden=h;this._laserline.attached=this.laserlineAttached},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this.resources.attached||this.drapedResources.attached},set:function(h){this.updateAttached(h)},enumerable:!0,configurable:!0});l.prototype.updateAttached=function(h){this.resources.attached=!this.isDraped&&h;this.drapedResources.attached=this.isDraped&&h;this._laserline.attached=this.laserlineAttached;this.attached&&this.attachmentOriginChanged()};
Object.defineProperty(l.prototype,"geometry",{get:function(){return this._geometry},set:function(h){this._geometry=h;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(h){h!==this._width&&(this._width=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"color",{get:function(){return this._color},set:function(h){p.vec4.exactEquals(h,
this._color)||(p.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"innerWidth",{get:function(){return this._innerWidth},set:function(h){h!==this._innerWidth&&(this._innerWidth=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"innerColor",{get:function(){return this._innerColor},set:function(h){p.vec4.exactEquals(h,this._innerColor)||(p.vec4.copy(this._innerColor,h),this.updateMaterial())},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"stipplePattern",{get:function(){return this._stipplePattern},set:function(h){var m=F.isSome(h)!==F.isSome(this._stipplePattern);this._stipplePattern=h;m?this.resources.recreate():this.updateMaterial()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"stippleOffColor",{get:function(){return this._stippleOffColor},set:function(h){h&&this._stippleOffColor&&p.vec4.exactEquals(h,this._stippleOffColor)||(this._stippleOffColor=
h?D.vec4f32.clone(h):null,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"falloff",{get:function(){return this._falloff},set:function(h){h!==this._falloff&&(this._falloff=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationInfo",{get:function(){return this._elevationInfo},set:function(h){this._elevationInfo=h;this.resources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"laserlineStyle",{get:function(){return this._laserlineStyle},set:function(h){this._laserlineStyle=h;this._laserline.attached=this.laserlineAttached;F.isSome(h)&&(this._laserline.style=h)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"laserlineEnabled",{get:function(){return this._laserlineEnabled},set:function(h){this._laserlineEnabled!==h&&(this._laserlineEnabled=h,this._laserline.attached=this.laserlineAttached)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"occludedMode",{get:function(){return this._occludedMode},set:function(h){h!==this._occludedMode&&(this._occludedMode=h,F.isSome(this.resources.resources)&&(this.resources.resources.material.renderOccluded=h),F.isSome(this.drapedResources.resources)&&(this.drapedResources.resources.material.renderOccluded=h))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attachmentOrigin",{get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var m=F.isSome(this.resources.resources)?
this.resources.resources.geometries:null;if(!m||0===m.length)return null;q.vec3.set(N,0,0,0);for(var l=h.RibbonVertexAttributeConstants.POSITION,p=0,x=F.expect(this.resources.resources).material.getParameters().isClosed,v=0;v<m.length;v++){var t=m[v];O.computeAttachmentOriginLines(t.getAttribute(l),t.getIndices(l),x,V)&&(q.vec3.add(N,N,V),p++)}if(0===p)return null;q.vec3.scale(N,N,1/p);this.view.renderCoordsHelper.fromRenderCoords(N,this._attachmentOrigin);this._attachmentOriginDirty=!1;return this._attachmentOrigin},
enumerable:!0,configurable:!0});l.prototype.updateMaterial=function(){F.isSome(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters);F.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)};Object.defineProperty(l.prototype,"isClosed",{get:function(){return F.isSome(this.geometry)&&"polygon"===this.geometry.type},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"materialParameters",{get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",stippleIntegerRepeats:!0,polygonOffset:!0}},enumerable:!0,configurable:!0});l.prototype.recreateGeometry=function(h,m,l){for(var p=0,q=this.createRenderGeometries();p<q.length;p++){var x=q[p];h.addGeometry(x,m);l.push(x)}this.attachmentOriginChanged()};
l.prototype.attachmentOriginChanged=function(){this._attachmentOriginDirty=!0;this.events.emit("attachment-origin-changed")};l.prototype.createResources=function(h){var m=new B(this.materialParameters,"lineVisualElement");m.renderOccluded=8;var l=[];this.recreateGeometry(h,m,l);return{material:m,geometries:l,forEach:function(h){h(m);l.forEach(h)}}};l.prototype.createDrapedResources=function(){var h=new B(this.materialParameters,"lineVisualElement");h.renderOccluded=4;var m=this.createRenderGeometriesDraped(h);
return{material:h,geometries:m}};l.prototype.createRenderGeometriesDraped=function(h){var l=this.geometry;if(F.isNone(l))return[];for(var p=[],v=0,l=M.geometryToRenderInfoDraped(l,this.view.basemapTerrain.spatialReference).lines;v<l.length;v++){var t=l[v].position,E=new Q(M.createGeometryData({attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0}));E.material=h;var B=m.empty(x);m.expandWithBuffer(B,t);q.vec3.set(E.center,.5*(B[0]+B[3]),.5*(B[1]+B[4]),0);E.bsRadius=.5*Math.sqrt((B[3]-
B[0])*(B[3]-B[0])+(B[4]-B[1])*(B[4]-B[1]));p.push(E)}return p};l.prototype.calculateMapBounds=function(h){if(F.isNone(this.resources.resources))return!1;for(var l=this.view.renderCoordsHelper,p=0,q=this.resources.resources.geometries;p<q.length;p++){var x=q[p].data.getAttribute("position"),t=x.data,B=new Float64Array(t.length);v.bufferToBuffer(x.data,l.spatialReference,0,B,this.view.spatialReference,0,t.length/3);m.expandWithBuffer(h,B)}return!0};l.prototype.createRenderGeometries=function(){var h=
this.geometry;if(F.isNone(h))return[];for(var m=[],l=[],p=0,h=M.geometryToRenderInfo(h,this.view.elevationProvider,this.view.renderCoordsHelper,H.fromElevationInfo(this.elevationInfo)).lines;p<h.length;p++){var q=h[p],x=q.position,q=M.createGeometryData({attributeData:{position:x,mapPosition:q.mapPosition},removeDuplicateStartEnd:this.isClosed?1:0});m.push(new E(q,"geometryOutlineVisualElement"));l.push(x)}this._laserline.pathVerticalPlane=l;return m};return l}();l.OutlineVisualElement=J;var x=m.create(),
V=K.vec3f64.create(),N=K.vec3f64.create()})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define(["require","exports","../../../../core/maybe"],function(J,l,t){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(l){this.resourceFactory=l;this._resources=null;this._attached=this._hidden=!1}l.prototype.destroy=function(){this._destroyResources()};Object.defineProperty(l.prototype,"resources",{get:function(){return t.isSome(this._resources)?
this._resources.external:null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"hidden",{get:function(){return this._hidden},set:function(l){l!==this._hidden&&(this._hidden=l,this._syncGeometriesToRenderer())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this._attached},set:function(l){l!==this._attached&&(this._attached=l,this._createOrDestroyResources())},enumerable:!0,configurable:!0});l.prototype.recreate=function(){this.attached&&
this._createResources()};l.prototype.recreateGeometry=function(){this.resourceFactory.recreateGeometry?t.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()};l.prototype._createOrDestroyResources=function(){this._attached?t.isNone(this._resources)&&this._createResources():this._destroyResources()};l.prototype._createResources=function(){this._destroyResources();var l=this.resourceFactory.createResources();
this._resources={layerView:{view:this.resourceFactory.view,notifyGraphicUpdate:function(){},watch:function(){return{remove:function(){}}}},external:l,geometriesAdded:!1};this._syncGeometriesToRenderer()};l.prototype._destroyResources=function(){t.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this._resources=null)};l.prototype._syncGeometriesToRenderer=function(){this._hidden?this.ensureRenderGeometriesRemoved():this._hidden||this.ensureRenderGeometriesAdded()};l.prototype.ensureRenderGeometriesRemoved=
function(){!t.isNone(this._resources)&&this._resources.geometriesAdded&&(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1)};l.prototype.ensureRenderGeometriesAdded=function(){t.isNone(this._resources)||this._resources.geometriesAdded||(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,
2),this._resources.geometriesAdded=!0)};return l}();l.DrapedVisualElementResources=J})},"esri/views/3d/layers/graphics/GraphicState":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/declareExtendsHelper ../../../../core/Evented ../../../../core/accessorSupport/decorators".split(" "),function(J,l,t,L,G,F){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function q(p){p=l.call(this,p)||this;p.tracking=!1;p.displaying=!1;p.isDraped=
!1;return p}L(q,l);t([F.property({constructOnly:!0})],q.prototype,"graphic",void 0);t([F.property()],q.prototype,"tracking",void 0);t([F.property()],q.prototype,"displaying",void 0);t([F.property()],q.prototype,"isDraped",void 0);return q=t([F.subclass("esri.views.3d.layers.graphics.GraphicState")],q)}(F.declared(G.EventedAccessor));l.GraphicState=J})},"esri/views/3d/interactive/editingTools/pointGraphicVisualElementUtils":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/declareExtendsHelper ../../../../core/compilerUtils ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../support/elevationInfoUtils ./ManipulatorState ./settings ../visualElements/LaserlineVisualElement ../visualElements/LineVisualElement ../visualElements/PointVisualElement ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/GraphicState ../../support/projectionUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B){function h(h,l,x,v){var t=h.view,d=h.graphic,u=new M.LineVisualElement({view:t,infinite:C.settings.visualElements.zVerticalLine.infiniteType,attached:!1}),f=new H.LaserlineVisualElement({view:t,intersectsLineInfinite:!0,attached:!1}),b=q.deg2rad(C.settings.visualElements.heightPlaneAngleCutoff),a=new H.LaserlineVisualElement({view:t,attached:!1,angleCutoff:b}),c=null,b=R.getGraphicEffectiveElevationInfo(h.graphic),e=O.fromElevationInfo(b),g="on-the-ground"===
b.mode||!b.offset&&"absolute-height"!==b.mode,k=new y.ManipulatorState,n=C.settings.visualElements.heightPlane.bindStyle(a),r=C.settings.visualElements.pointGraphics.shadowStyle.bindStyle(f),z=function(){k.update(h);var b=!1;u.infinite=C.settings.visualElements.zVerticalLine.infiniteType;var z=g&&(l.isDraped||!Y(d)||!d.geometry.hasZ);if(!z)switch(C.settings.visualElements.pointGraphics.shadowEnabled){case "always":b=!0;break;case "grab-xy":b=!!(k.grabbingState&4)}var P=!1;switch(C.settings.zManipulator.enabled){case "always":P=
!0;break;case "not-grab-z":P=!k.grabbingState}P&&K.isSome(c)?(c.remove(),c=null):!P&&K.isNone(c)&&K.isSome(k.zManipulator)&&(c=k.zManipulator.disableDisplay());P=!0;if(!z&&Y(d)){var W=d.geometry,ba=E.evaluateElevationAlignmentAtPoint(d.geometry,t.elevationProvider,e,t.renderCoordsHelper);p.vec3.set(S,W.x,W.y,ba);B.vectorToVector(S,W.spatialReference,S,t.renderCoordsHelper.spatialReference);u.worldDownAtLocation=S;f.intersectsWorldUpAtLocation=S}else P=!1;W=m.empty(aa);ba=!1;if(!z)switch(C.settings.visualElements.heightPlane.enabled){case "always":ba=
!0;break;case "grab-z":ba=!!(k.grabbingState&2)}k.grabbingState&2?n.updateGlobalAlpha(C.settings.visualElements.laserlineAlphaMultiplier):n.updateGlobalAlpha(1);ba&&l.displaying&&v.calculateMapBounds(W)&&B.vectorToVector(m.getMin(W,S),t.spatialReference,S,t.renderCoordsHelper.spatialReference)?(a.heightPlane=S,a.attached=!0):a.attached=!1;W=!1;switch(C.settings.visualElements.zVerticalLine.enabled){case "never":W=!1;break;case "always":W=!0;break;case "grab":W=!!(k.grabbingState&1);break;case "grab-xy":W=
!!(k.grabbingState&4);break;case "grab-z":W=!!(k.grabbingState&2);break;default:G.neverReached(C.settings.visualElements.zVerticalLine.enabled)}k.grabbingState&4?r.updateGlobalAlpha(C.settings.visualElements.laserlineAlphaMultiplier):r.updateGlobalAlpha(1);f.attached=P&&l.displaying&&!z&&b;u.attached=P&&l.displaying&&!z&&b&&W};x.push(C.settings.zManipulator.watch("enabled",z),C.settings.visualElements.pointGraphics.watch("shadowEnabled",z),C.settings.visualElements.zVerticalLine.bindStyle(u),C.settings.visualElements.zVerticalLine.watch(["enabled",
"infinite"],z),r,l.watch(["displaying","isDraped"],z),l.on("changed",z),F.refHandle(function(){return c}),n);h.forEachManipulator(function(a){x.push(a.events.on("grab-changed",z))});x.push(F.destroyHandle(f));x.push(F.destroyHandle(u));x.push(F.destroyHandle(a));z()}function x(h,l,m){var p=h.graphic,p=new v.PointVisualElement({view:h.view,geometry:Y(p)?p.geometry:null,elevationInfo:R.getGraphicEffectiveElevationInfo(p),attached:!1});V(h,p,l,m);m.push(F.destroyHandle(p));return p}function V(h,l,m,
p){var q=function(){l.attached=m.displaying&&C.settings.visualElements.pointGraphics.outlineEnabled};N(h,l,m,p);p.push(C.settings.visualElements.pointGraphics.outline.bindStyle(l),m.watch("displaying",q),C.settings.visualElements.pointGraphics.watch("outlineEnabled",q));q()}function N(h,l,m,p){var q=h.view,d=h.graphic,u=null,f=function(){K.isSome(u)&&(u.remove(),u=null);m.isDraped&&Y(d)&&(u=U(q,d.geometry,function(){l.geometry=d.geometry}))};h=function(){f();l.geometry=Y(d)?d.geometry:null};p.push(m.on("changed",
h),F.refHandle(function(){return u}));h()}function U(h,l,m){B.pointToVector(l,S,h.elevationProvider.spatialReference);var p=S[0],q=S[1];return h.elevationProvider.on("elevation-change",function(d){A.containsXY(d.extent,p,q)&&m()})}function Y(h){return K.isSome(h.geometry)&&"point"===h.geometry.type}Object.defineProperty(l,"__esModule",{value:!0});l.createVisualElements=function(l){var m=l.view,p=new Q.GraphicState({graphic:l.graphic}),q=[],t=x(l,p,q);h(l,p,q,t);q.push(m.trackGraphicState(p));return{visualElement:t,
remove:function(){F.handlesGroup(q).remove()}}};var S=D.vec3f64.create(),aa=m.create()})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../../../../core/mathUtils ../../../../core/maybe ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/support/aaBoundingBox ./VisualElementResources ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../support/projectionUtils ../../support/stack ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Texture ../../webgl-engine/lib/Util ../../webgl-engine/materials/HUDMaterial".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(h){var l=this;this._geometry=this.view=null;this._size=3;this._color=D.vec4f64.fromValues(1,0,1,1);this._primitive="square";this._outlineSize=1;this._outlineColor=D.vec4f64.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new A.VisualElementResources({view:h.view,createResources:function(h){return l.createResources(h)},recreateGeometry:function(h,m){h.geometry=
l.recreateGeometry(m,h.material);return F.isSome(h.geometry)?[h.geometry]:[]}});var m=!0,p;for(p in h)p in this?"attached"===p?m=h[p]:this[p]=h[p]:console.error("Cannot set unknown property",p);this.attached=m}l.prototype.destroy=function(){this.resources.destroy()};Object.defineProperty(l.prototype,"hidden",{get:function(){return this.resources.hidden},set:function(h){this.resources.hidden=h},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"attached",{get:function(){return this.resources.attached},
set:function(h){this.resources.attached=h},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"geometry",{get:function(){return this._geometry},set:function(h){this._geometry=h;this.resources.recreateGeometry()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"size",{get:function(){return this._size},set:function(h){if(h!==this._size){var l=this.preferredTextureSize;this._size=h;l<this.preferredTextureSize?F.isSome(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"color",{get:function(){return this._color},set:function(h){p.vec4.exactEquals(h,this._color)||(p.vec4.copy(this._color,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"primitive",{get:function(){return this._primitive},set:function(h){this._primitive!==h&&(this._primitive=h,F.isSome(this.resources)&&this.resources.recreate())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"outlineSize",{get:function(){return this._outlineSize},set:function(h){h!==this._outlineSize&&(this._outlineSize=h,this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(h){p.vec4.exactEquals(h,this._outlineColor)||(p.vec4.copy(this._outlineColor,h),this.updateMaterial())},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationInfo",{get:function(){return this._elevationInfo},
set:function(h){this._elevationInfo=h;this.resources&&this.resources.recreateGeometry()},enumerable:!0,configurable:!0});l.prototype.updateMaterial=function(){var h=this.resources.resources;F.isNone(h)||h.material.setParameterValues(this.materialParameters(h.texture.id))};l.prototype.updateSizeAttribute=function(){var h=this.resources.resources,l=this.resources.object;if(!F.isNone(h)&&!F.isNone(l)&&(h=h.geometry,!F.isNone(h))){var h=h.data.getVertexAttr()[Q.VertexAttrConstants.SIZE].data,m=this.geometrySize;
h[0]=m;h[1]=m;l.geometryVertexAttrsUpdated(0)}};l.prototype.materialParameters=function(h){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:h,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1}};Object.defineProperty(l.prototype,"geometrySize",{get:function(){return this._size/h},enumerable:!0,configurable:!0});l.prototype.recreateGeometry=function(h,
l){var m=this.createRenderGeometry();F.isSome(m)&&h.addGeometry(m,l);return m};l.prototype.createResources=function(h){var l=this.createTexture(),m=new B(this.materialParameters(l.id),"pointVisualElement");m.renderOccluded=8;h=this.recreateGeometry(h,m);return{material:m,texture:l,geometry:h,forEach:function(h){h(l);h(m);F.isSome(this.geometry)&&h(this.geometry)}}};Object.defineProperty(l.prototype,"preferredTextureSize",{get:function(){return G.clamp(G.nextHighestPowerOfTwo(2*this.geometrySize),
16,128)},enumerable:!0,configurable:!0});l.prototype.createTexture=function(){var l=this.preferredTextureSize;return new O(C.createType(this._primitive,l,l*h),"pointVisualElement",{mipmap:!1,wrap:{s:33071,t:33071},width:l,height:l,components:4,noUnpackFlip:!0})};l.prototype.calculateMapBounds=function(h){if(F.isNone(this.resources.resources)||F.isNone(this.resources.resources.geometry))return!1;var l=this.resources.resources.geometry.data.getAttribute("position");H.vectorToVector(l.data,this.view.renderCoordsHelper.spatialReference,
V,this.view.spatialReference);m.expandWithBuffer(h,V);return!0};l.prototype.createRenderGeometry=function(){var h=this.geometry;if(F.isNone(h))return null;var l=this.view.renderCoordsHelper,m=R.evaluateElevationAlignmentAtPoint(h,this.view.elevationProvider,y.fromElevationInfo(this.elevationInfo),l),p=q.vec3.set(M.sv3d.get(),h.x,h.y,m),m=M.sv3d.get();H.vectorToVector(p,h.spatialReference,m,l.spatialReference);h=this.geometrySize;h=E.createPointGeometry(null,m,null,[h,h],[0,0,0,1]);return new v(h)};
return l}();l.PointVisualElement=J;var h=.5,x=[h/2,h/2,1-h/2,1-h/2],V=K.vec3f64.create()})},"esri/views/3d/interactive/editingTools/graphicMove3D/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(J,l,t,L,G){Object.defineProperty(l,"__esModule",{value:!0});l.isSupportedGraphic=function(l){if("graphics"!==l.layer.type)return 1;if(L.isNone(l.geometry))return 2;var q=l.geometry.type;
switch(q){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return t.neverReached(q),3}return"on-the-ground"!==G.getGraphicEffectiveElevationMode(l)&&G.hasGraphicFeatureExpressionInfo(l)?4:0}})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["require","exports"],function(J,l){Object.defineProperty(l,"__esModule",{value:!0});l.HANDLE_COLOR=[1,.5,0];l.GEOMETRY_SEGMENTS=128;l.DISC_RADIUS=70;l.DISC_COLLISION_RADIUS=
80;l.DISC_HEIGHT=.02;l.DISC_TRANSLATE_ARROW_SIZE=54;l.DISC_TRANSLATE_ARROW_OFFSET=100;l.DISC_RADIUS_SMALL=Math.ceil(l.DISC_RADIUS/3*2);l.RING_RADIUS=160;l.RING_HEIGHT=.5;l.RING_THICKNESS=24;l.INDICATOR_THICKNESS=9;l.INNER_INDICATOR_RADIUS=l.RING_RADIUS+30;l.OUTER_INDICATOR_RADIUS=l.RING_RADIUS+53;l.ROTATE_INDICATOR_ARROW_TIP_LENGTH=60;l.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;l.ROTATE_INDICATOR_ARC_LENGTH=5*Math.PI/12;l.SCALE_INDICATOR_ARC_LENGTH=1*Math.PI/3;l.DRAG_THRESHOLD_PX=10;l.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=
.2;l.SCALE_INDICATOR_OFFSET1=30;l.SCALE_INDICATOR_OFFSET2=53;l.SCALE_INDICATOR_DIRECTION_BUFFER=.2;l.ROTATE_INDICATOR_DIRECTION_BUFFER=.3;l.RING_INDICATOR_DELAY_MS=200;l.RING_RESET_ANIMATION_SPEED_FACTOR=3;l.ALIGN_ARROWS_SCALE_THRESHOLD=1E6})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/has ../../../../../core/maybe ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function t(m){var p=l.call(this)||this;p._handles=new q;p._angleDeferred=null;p._interactive=!0;var t=m.tool,B=m.view,h=m.snapToScene,x=m.radius;p._view=B;p.xyManipulation=new y.MoveXYDiscManipulation({tool:t,view:B,snapToScene:h,radius:x});p.xyAxisManipulation=new R.MoveXYAxisManipulation({tool:t,view:B,radius:x});p.zManipulation=new C.MoveZManipulation({tool:t,view:B,radius:x});p.xyManipulation.available=
m.xyAvailable;p.xyAxisManipulation.available=m.xyAxisAvailable;p.zManipulation.available=m.zAvailable;p.autoHideXYAxis();p.forEachManipulator(function(h){p._handles.add(h.events.on("grab-changed",function(){return p.updateManipulatorInteractivity()}))});return p}L(t,l);t.prototype.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};t.prototype.createGraphicDragPipeline=function(l,m){return K.handlesGroup([this.xyManipulation.createGraphicDragPipeline(l,
m),this.xyAxisManipulation.createGraphicDragPipeline(l,m),this.zManipulation.createGraphicDragPipeline(l,m)])};t.prototype.createDragPipeline=function(l,m,p){return K.handlesGroup([this.xyManipulation.createDragPipeline(l,m,p),this.xyAxisManipulation.createDragPipeline(l,m,p),this.zManipulation.createDragPipeline(l,p)])};Object.defineProperty(t.prototype,"snapToScene",{set:function(l){this.xyManipulation.snapToScene=l},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"angle",{set:function(l){this._angleDeferred=
null;this.xyAxisManipulation.angle=l},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"angleDeferred",{set:function(l){this.xyAxisVisible?this.angle=l():this._angleDeferred=l},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"interactive",{set:function(l){this._interactive!==l&&(this._interactive=l,this.updateManipulatorInteractivity())},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"radius",{set:function(l){this.xyAxisManipulation.radius=l;this.xyManipulation.radius=
l;this.zManipulation.radius=l},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"displayScale",{set:function(l){this.xyManipulation.displayScale=l;this.xyAxisManipulation.displayScale=l},enumerable:!0,configurable:!0});t.prototype.forEachManipulator=function(l){this.xyManipulation.forEachManipulator(function(m){return l(m,1)});this.xyAxisManipulation.forEachManipulator(function(m){return l(m,1)});this.zManipulation.forEachManipulator(function(m){return l(m,0)})};Object.defineProperty(t.prototype,
"xyAxisVisible",{get:function(){var l=this.xyManipulation.someManipulator(function(l){return l.focused})||this.xyAxisManipulation.someManipulator(function(l){return l.focused});return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||l},enumerable:!0,configurable:!0});t.prototype.autoHideXYAxis=function(){var l=this,m=this.xyAxisManipulation,q=this.xyManipulation;if(!p("esri-mobile")){var t=[];q.forEachManipulator(function(h){return t.push(h)});m.forEachManipulator(function(h){return t.push(h)});
for(var q=function(){var h=[];l.xyAxisVisible?D.isSome(l._angleDeferred)&&(l.angle=l._angleDeferred()):m.forEachManipulator(function(l){return h.push(l.disableDisplay())});l._handles.remove(H);l._handles.add(h,H)},h=0;h<t.length;h++)this._handles.add(t[h].events.on("focus-changed",q));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",q));q()}};t.prototype.updateManipulatorInteractivity=function(){var l=this,m=this.grabbing;this.forEachManipulator(function(p){p.interactive=
!m&&l._interactive||p.grabbing})};t.radiusForSymbol=function(l){return(l=D.isSome(l)&&"point-3d"===l.type&&l.symbolLayers)&&0<l.length&&l.some(function(l){return"icon"===l.type})?m.DISC_RADIUS_SMALL:m.DISC_RADIUS};return t}(A.Manipulation);l.MoveManipulation=J;var H="disable-xy-axis-display"})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["require","exports","../../Manipulator3D"],function(J,l,t){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(){this._available=
!0}Object.defineProperty(l.prototype,"location",{set:function(l){this.forEachManipulator3D(function(t){return t.location=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationAlignedLocation",{set:function(l){this.forEachManipulator3D(function(t){return t.elevationAlignedLocation=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"elevationInfo",{set:function(l){this.forEachManipulator3D(function(t){return t.elevationInfo=l})},enumerable:!0,configurable:!0});
Object.defineProperty(l.prototype,"available",{get:function(){return this._available},set:function(l){this._available=l;this.forEachManipulator3D(function(t){return t.available=l})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"grabbing",{get:function(){return this.someManipulator(function(l){return l.grabbing})},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"dragging",{get:function(){return this.someManipulator(function(l){return l.dragging})},enumerable:!0,
configurable:!0});l.prototype.hasManipulator=function(l){return this.someManipulator(function(t){return t===l})};l.prototype.someManipulator=function(l){var t=!1;this.forEachManipulator(function(q){!t&&l(q)&&(t=!0)});return t};l.prototype.forEachManipulator3D=function(l){this.forEachManipulator(function(F,q){F instanceof t.Manipulator3D&&l(F,q)})};return l}();l.Manipulation=J})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../Color ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../manipulatorDragUtils ../settings ./config ./Manipulation ./moveUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function t(h){var m=l.call(this)||this;m._handles=new p;m._arrowManipulatorInfos=[];m._opaqueMaterial=m.createMaterial();m._transparentMaterial=m.createMaterial(.5);m._angle=0;m._scale=1;m._radius=O.DISC_RADIUS;m._updateAfterDrag=!1;m.events=new K;m._tool=h.tool;m._view=h.view;null!=h.radius&&(m._radius=h.radius);m._createManipulators();m.forEachManipulator(function(h){return m._tool.manipulators.add(h)});
return m}L(t,l);Object.defineProperty(t.prototype,"orthogonalAvailable",{set:function(h){this._arrowManipulatorInfos[1].manipulator.available=h;this._arrowManipulatorInfos[3].manipulator.available=h},enumerable:!0,configurable:!0});t.prototype.destroy=function(){var h=this;this.forEachManipulator(function(l){h._tool.manipulators.remove(l);l.destroy()});this._handles.removeAll();this._view=this._tool=null;this._arrowManipulatorInfos.length=0};t.prototype.forEachManipulator=function(h){this._arrowManipulatorInfos.map(function(l){return h(l.manipulator,
1)})};t.prototype.createGraphicDragPipeline=function(h,l){var p=this,q=h.graphic,t=H.getGraphicEffectiveElevationInfo(q),x=m.expect(q.geometry).spatialReference;return B.createGraphicMoveDragPipeline(h,l,function(h){return p.createDragPipeline(h,t,x)})};t.prototype.createDragPipeline=function(h,l,m){var p=this;return D.handlesGroup(this._arrowManipulatorInfos.map(function(q,t){return v.createManipulatorDragEventPipeline(q.manipulator,function(q,d,u,f){d=d.next(v.screenToMapXYAtLocation(p._view,q.elevationAlignedLocation,
l,m)).next(v.constrainToMapAxis(q.location,p.angle+(t+1)*Math.PI*.5)).next(v.addScreenDelta());h(q,d,u,f)})}))};Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(h){this._angle=h;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"displayScale",{get:function(){return this._scale},set:function(h){this._scale=h;this._updateManipulatorTransform()},enumerable:!0,configurable:!0});
Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(h){this._radius!==h&&(this._radius=h,this._updateManipulators())},enumerable:!0,configurable:!0});t.prototype._updateManipulators=function(){for(var h=0;h<this._arrowManipulatorInfos.length;h++)this._updateArrowManipulator(this._arrowManipulatorInfos[h],h)};t.prototype._updateArrowManipulator=function(l,m){var p=l.manipulator;l=l.transform;var q=this._radius/O.DISC_RADIUS,t=O.DISC_TRANSLATE_ARROW_SIZE*q,v=
Math.sqrt(t*t*3/4),t=V.createExtrudedTriangle(v,t/2,t/2,O.DISC_HEIGHT);V.transformInPlace(t,A.mat4.fromTranslation(h.sm4d.get(),y.vec3.set(h.sv3d.get(),0,-v/3,0)));t=new x(t,"move-xy-axis-arrow");p.renderObjects=[{geometry:t,material:this._opaqueMaterial,stateMask:2},{geometry:t,material:this._transparentMaterial,stateMask:1}];p.radius=v/3*2.4;p=A.mat4.identity(h.sm4d.get());A.mat4.fromZRotation(p,m*Math.PI/2);m=A.mat4.identity(h.sm4d.get());A.mat4.fromTranslation(m,y.vec3.set(h.sv3d.get(),0,O.DISC_TRANSLATE_ARROW_OFFSET*
q,0));A.mat4.multiply(l,p,m)};t.prototype._createManipulators=function(){for(var h=0;4>h;h++){var l=this._createArrowManipulator(h);this._arrowManipulatorInfos.push(l)}this._updateManipulatorTransform()};t.prototype._updateManipulatorTransform=function(){var l=this.angle,m=A.mat4.identity(h.sm4d.get());A.mat4.rotate(m,m,l,C.vec3f64.fromValues(0,0,1));var p=A.mat4.fromScaling(h.sm4d.get(),y.vec3.set(h.sv3d.get(),this.displayScale,this.displayScale,this.displayScale)),l=A.mat4.identity(h.sm4d.get());
A.mat4.multiply(l,p,m);m=0;for(p=this._arrowManipulatorInfos;m<p.length;m++){var q=p[m],t=A.mat4.multiply(h.sm4d.get(),l,q.transform);q.manipulator.modelTransform=t}};t.prototype._createArrowManipulator=function(h){var l=this,m=new M.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:C.vec3f64.fromValues(0,0,1)}}),p={manipulator:m,transform:R.mat4f64.create()};this._updateArrowManipulator(p,h);this._handles.add(m.events.on("drag",
function(h){l._updateAfterDrag&&"end"===h.action&&!l.dragging&&(l._updateManipulatorTransform(),l._updateAfterDrag=!1)}));return p};t.prototype.createMaterial=function(h){void 0===h&&(h=1);var l=q.toUnitRGBA(E.colors.main);l[3]*=h;h=new N({color:l,transparent:1!==h,cullFace:2},"graphic-transform");h.renderOccluded=2;return h};Object.defineProperty(t.prototype,"test",{get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(function(h){return h.manipulator})}},enumerable:!0,configurable:!0});
return t}(Q.Manipulation);l.MoveXYAxisManipulation=J})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define("require exports ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat2 ../../../../../core/libs/gl-matrix-2/mat2f64 ../../../../../core/libs/gl-matrix-2/vec2 ../../../../../core/libs/gl-matrix-2/vec2f64 ../../../../../geometry/geometryEngine ../../../../../geometry/support/aaBoundingRect ../manipulatorDragUtils ../../../support/mathUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m){function A(l){for(var m=0,p=0,q=0;q<l.length;q++)var t=l[q],m=m+t[0],p=p+t[1];m/=l.length;p/=l.length;for(q=0;q<l.length;q++)t=l[q],t[0]-=m,t[1]-=p}Object.defineProperty(l,"__esModule",{value:!0});l.createGraphicMoveDragPipeline=function(l,m,p){var q=l.graphic,t=function(l,p){return m({action:l,graphic:q,dxScreen:p.screenDeltaX,dyScreen:p.screenDeltaY})};return p(function(l,m,h){m.next(function(h){"start"===h.action&&t("start",h);return h}).next(D.dragGraphic(q)).next(function(h){switch(h.action){case "start":case "update":(h.translationX||
h.translationY||h.translationZ)&&t("update",h);break;case "end":t("end",h)}return h});h.next(D.resetGraphic(q)).next(function(){t("end",{screenDeltaX:0,screenDeltaY:0})})})};l.primaryShapeOrientation=function(l){if(t.isNone(l)||"polyline"!==l.type&&"polygon"!==l.type)return 0;l=(l=K.convexHull(l))&&l.rings&&l.rings[0];if(!l)return 0;A(l);for(var q=[],v=0;v<l.length-1;v++){var E=Math.atan2(l[v+1][1]-l[v][1],l[v+1][0]-l[v][0]),E=m.cyclical2PI.normalize(E)%(Math.PI/2);q.push(E)}for(var q=q.sort(function(h,
l){return h-l}),v=null,D=0,H=Number.POSITIVE_INFINITY,B=0;B<q.length;B++)if(E=q[B],E!==v){v=E;L.mat2.fromRotation(R,E);p.empty(y);for(var h=0,x=l;h<x.length;h++)F.vec2.transformMat2(C,x[h],R),p.expandPointInPlace(y,C);h=p.area(y);if(.99<=(h>H?H/h:h/H)&&E<D||h<H)D=E,H=h}return D};var R=G.mat2f64.create(),y=p.create(),C=q.vec2f64.create()})},"esri/geometry/geometryEngine":function(){define("require exports ../kernel ../geometry/Geometry ../geometry/Polygon ../geometry/Polyline ../geometry/Point ../geometry/Extent ../geometry/Multipoint dojo/_base/lang".split(" "),
function(J,l,t,L,G,F,q,K,p,D){function m(d){if(void 0===q.fromJson){if(void 0!==d.x&&void 0!==d.y)return new q(d);if(void 0!==d.paths)return new F(d);if(void 0!==d.rings)return new G(d);if(void 0!==d.points)return new p(d);if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return new K(d)}else{if(void 0!==d.x&&void 0!==d.y)return q.fromJson(d);if(void 0!==d.paths)return F.fromJson(d);if(void 0!==d.rings)return G.fromJson(d);if(void 0!==d.points)return p.fromJson(d);if(void 0!==
d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return K.fromJson(d)}}function A(d){if(void 0===q.fromJson){if(void 0!==d.x&&void 0!==d.y)return new q(d);if(void 0!==d.paths)return new F(d);if(void 0!==d.rings)return new G(d);if(void 0!==d.points)return new p(d);if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return new K(d)}else{if(void 0!==d.x&&void 0!==d.y)return q.fromJSON(d);if(void 0!==d.paths)return F.fromJSON(d);if(void 0!==d.rings)return G.fromJSON(d);if(void 0!==
d.points)return p.fromJSON(d);if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return K.fromJSON(d)}}function R(d,h){var f;if(null==d||void 0===d||"number"===typeof d)return d;var b=d.toString();if(""===b)return null;if(2==h){if(f=da[b],void 0!==f)return f}else if(0==h){f=Z[b];if(void 0!==f)return f;f=T[d];if(void 0!==f)return f}else if(3==h&&(f=Z[b],void 0!==f))return f;if(1==h&&(f=T[d],void 0!==f))return f;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");
}function y(d){if(void 0!==d&&null!==d)switch(d){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function C(d,l){if(null===d||void 0===d||d.u())return null;switch(d.G()){case h.Fj.Point:var f=new q(d.Be(),d.nf(),l);if(S){var b=d.hasAttribute(h.Wc.M);d.hasAttribute(h.Wc.Z)&&f.set("z",d.rH());b&&f.set("m",d.aH())}return f;case h.Fj.Polygon:var f=d.hasAttribute(h.Wc.Z),b=d.hasAttribute(h.Wc.M),a=H(d,f,b),f=new G({rings:a,
hasZ:f,hasM:b});S?f.set("spatialReference",l):f.setSpatialReference(l);f.setCacheValue("_geVersion",d);return f;case h.Fj.Polyline:return f=d.hasAttribute(h.Wc.Z),b=d.hasAttribute(h.Wc.M),a=H(d,f,b),f=new F({paths:a,hasZ:f,hasM:b}),S?f.set("spatialReference",l):f.setSpatialReference(l),f.setCacheValue("_geVersion",d),f;case h.Fj.MultiPoint:var f=d.hasAttribute(h.Wc.Z),b=d.hasAttribute(h.Wc.M),c=a=null;f&&(a=d.Pa(h.Wc.Z));b&&(c=d.Pa(h.Wc.M));var e=new h.b,g=d.D();l=new p(l);S&&(l.set("hasZ",f),l.set("hasM",
b));for(var k=0;k<g;k++){d.w(k,e);var n=[e.x,e.y];f&&n.push(a.get(k));b&&n.push(c.get(k));l.addPoint(n)}l.setCacheValue("_geVersion",d);return l;case h.Fj.Envelope:return a=d.hasAttribute(h.Wc.Z),f=d.hasAttribute(h.Wc.M),b=new K(d.R.o,d.R.A,d.R.v,d.R.B,l),S&&(a&&(a=d.xf(h.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),f&&(a=d.xf(h.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",d),b}return null}function H(d,l,f){var b=[],a=d.aa(),c=null,e=null;l&&(c=d.Pa(h.Wc.Z));f&&(e=
d.Pa(h.Wc.M));for(var g=new h.b,k=0;k<a;k++){for(var n=d.wa(k),r=d.La(k),z=0,I=0,w=NaN,P=NaN,W=NaN,u=NaN,m=d.Qb(k),p=[],X=n;X<n+r;X++){d.w(X,g);var u=W=NaN,q=[g.x,g.y];l&&(W=c.get(X),q.push(W));f&&(u=e.get(X),q.push(u));X==n&&m&&(z=g.x,I=g.y,w=W,P=u);p.push(q)}!m||z==g.x&&I==g.y&&(!l||isNaN(w)&&isNaN(W)||w==W)&&(!f||isNaN(P)&&isNaN(u)||P==u)||p.push(p[0].slice(0));b.push(p)}return b}function M(d){var l=d._geVersion;if(null==l||void 0==l){if(Object.freeze&&Object.isFrozen(d))return 102100===d.wkid?
ca:4326===d.wkid?ea:l=h.Rd.create(d.wkid);-1!=d.wkid&&null!==d.wkid&&void 0!==d.wkid?(l=h.Rd.create(d.wkid),d._geVersion=l):""!==d.wkt&&void 0!==d.wkt&&null!==d.wkt&&(l=h.Rd.qR(d.wkt),d._geVersion=l)}return l}function v(d){if(null==d)return null;if(void 0===d.getCacheValue){var l=d._geVersion;if(null==l||void 0==l)l=h.cc.dG(d),d._geVersion=l}else if(l=d.getCacheValue("_geVersion"),null==l||void 0==l)l=h.cc.dG(d),d.setCacheValue("_geVersion",l);return l}function E(d){return null===d.spatialReference?
null:M(d.spatialReference)}function O(d){return"[object Array]"===Object.prototype.toString.call(d)}function Q(d){if(null===d||void 0===d||d.u())return null;switch(d.G()){case h.Fj.Point:var l={};l.x=d.Be();l.y=d.nf();if(S){var f=d.hasAttribute(h.Wc.M);d.hasAttribute(h.Wc.Z)&&(l.z=d.rH());f&&(l.m=d.aH())}return l;case h.Fj.Polygon:return l=d.hasAttribute(h.Wc.Z),f=d.hasAttribute(h.Wc.M),{rings:H(d,l,f),hasZ:l,hasM:f};case h.Fj.Polyline:return l=d.hasAttribute(h.Wc.Z),f=d.hasAttribute(h.Wc.M),{paths:H(d,
l,f),hasZ:l,hasM:f};case h.Fj.MultiPoint:var l=d.hasAttribute(h.Wc.Z),f=d.hasAttribute(h.Wc.M),b=null,a=null;l&&(b=d.Pa(h.Wc.Z));f&&(a=d.Pa(h.Wc.M));var c=new h.b,e=d.D(),g={points:[]};S&&(g.hasZ=l,g.hasM=f);for(var k=0;k<e;k++){d.w(k,c);var n=[c.x,c.y];l&&n.push(b.get(k));f&&n.push(a.get(k));g.points.push(n)}return g;case h.Fj.Envelope:return b=d.hasAttribute(h.Wc.Z),l=d.hasAttribute(h.Wc.M),f={},f.xmin=d.R.o,f.ymin=d.R.A,f.xmax=d.R.v,f.ymax=d.R.B,S&&(b&&(b=d.xf(h.Wc.Z,0),f.zmin=b.ca,f.zmax=b.ha),
l&&(b=d.xf(h.Wc.M,0),f.mmin=b.ca,f.mmax=b.ha)),f}return null}var B=this&&this.__extends||function(d,h){function f(){this.constructor=d}for(var b in h)h.hasOwnProperty(b)&&(d[b]=h[b]);d.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)},h;(function(d){var h=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();d.Xh=h;if("undefined"!==typeof window)d.Xh.yz="browser","Float64Array"in window&&(d.Xh.jw=!0),"ArrayBuffer"in window&&(d.Xh.Bm=!0);else if("undefined"!==typeof process)h.yz=
"node",d.Xh.Bm=!0,d.Xh.jw=!0;else{h.yz="browser";try{var f=new ArrayBuffer(0);new Uint8Array(f);d.Xh.Bm=!0;d.Xh.jw=!0}catch(b){d.Xh.Bm=!1}}})(h||(h={}));(function(d){(function(d){d[d.Unknown=0]="Unknown";d[d.Point=33]="Point";d[d.Line=322]="Line";d[d.Envelope=197]="Envelope";d[d.MultiPoint=550]="MultiPoint";d[d.Polyline=1607]="Polyline";d[d.Polygon=1736]="Polygon"})(d.Fj||(d.Fj={}));(function(d){d[d.enumMild=0]="enumMild";d[d.enumMedium=1]="enumMedium";d[d.enumHot=2]="enumHot"})(d.uM||(d.uM={}));
var h=function(){function f(){this.description=null;this.CB=0}f.prototype.G=function(){return 0};f.prototype.tb=function(){return-1};f.prototype.Fg=function(b){this.Ac();b!=this.description&&this.mo(b)};f.prototype.mo=function(){};f.prototype.om=function(b){this.Ac();b!=this.description&&(b=d.ze.wT(this.description,b),b!=this.description&&this.mo(b))};f.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};f.prototype.Td=function(b){this.Ac();this.description.hasAttribute(b)||
(b=d.ze.vT(this.description,b),this.mo(b))};f.prototype.xf=function(){return null};f.prototype.Qn=function(){};f.prototype.s=function(){};f.prototype.Cp=function(){};f.prototype.ac=function(b){this.s(b)};f.prototype.u=function(){return!0};f.prototype.Oa=function(){};f.prototype.Xc=function(){};f.prototype.Ka=function(){return null};f.prototype.copyTo=function(){};f.prototype.hf=function(){return 0};f.prototype.Rb=function(){return 0};f.prototype.uH=function(){return this.hasAttribute(1)};f.lf=function(b){return((b&
192)>>6)+1>>1};f.Jo=function(b){return 0!=(b&32)};f.l_=function(b){return 0!=(b&64)};f.PU=function(b){return 0!=(b&128)};f.Oc=function(b){return 0!=(b&256)};f.gh=function(b){return 0!=(b&512)};f.Ic=function(b){return 0!=(b&1024)};f.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};f.prototype.Gg=function(){return null};f.oe=function(b){var a=b.Ka();b.copyTo(a);return a};f.prototype.Ac=function(){0<=this.CB&&(this.CB+=2147483649)};f.gy=function(b){var a=b.G();if(f.gh(a))return b.D();
if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(f.Oc(a))return 2;throw d.g.X("missing type");};return f}();d.T=h})(h||(h={}));(function(d){var h=function(){function f(){this.y=this.x=0}f.pa=function(b,a){var c=new f;c.x=b;c.y=a;return c};f.El=function(b){var a=new f;a.x=b.x;a.y=b.y;return a};f.prototype.ka=function(b,a){this.x=b;this.y=a};f.prototype.L=function(b){this.x=b.x;this.y=b.y};f.prototype.Uq=function(b,a){return this.x===b&&this.y===a};f.prototype.xA=function(b){return 2.220446049250313E-16>=
Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};f.prototype.ub=function(b){return this.x===b.x&&this.y===b.y};f.prototype.Eb=function(b){return b==this?!0:b instanceof f?this.x==b.x&&this.y==b.y:!1};f.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};f.prototype.yc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};f.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};f.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};f.prototype.bu=
function(b){this.x=-b.x;this.y=-b.y};f.prototype.JU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+a.y*c};f.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};f.prototype.FX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};f.prototype.scale=function(b){this.x*=b;this.y*=b};f.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};f.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};f.prototype.length=
function(){return Math.sqrt(this.x*this.x+this.y*this.y)};f.prototype.qk=function(){return this.x*this.x+this.y*this.y};f.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};f.xz=function(b,a,c,e){b-=c;a-=e;return Math.sqrt(b*b+a*a)};f.prototype.oi=function(b){return this.x*b.x+this.y*b.y};f.prototype.zE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};f.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};f.prototype.qu=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;
this.y=c};f.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};f.prototype.aI=function(b){this.x=-b.y;this.y=b.x};f.prototype.Ur=function(){var b=this.x;this.x=this.y;this.y=-b};f.prototype.dv=function(){this.y=this.x=NaN};f.prototype.Hy=function(){return isNaN(this.x)};f.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};f.vs=function(b,a){var c=b.$u(),e=a.$u();return e==c?(c=b.Ui(a),0>c?1:0<c?-1:0):c<e?-1:1};f.AZ=function(b,a){return f.vs(b,a)};f.sc=function(b,
a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};f.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};f.prototype.$c=function(){this.y=this.x=NaN};f.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};f.prototype.SO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};f.prototype.offset=function(b,a){var c=f.Cb(b,a),e=f.pa(this.x,this.y);if(0==c)return f.Cb(e,b);var g=new f;g.L(a);g.sub(b);e.sub(b);return e.Ui(g)/c};f.zp=function(b,
a,c){var e=new d.Xb;e.set(a.x);e.sub(b.x);var g=new d.Xb;g.set(c.y);g.sub(b.y);var k=new d.Xb;k.set(a.y);k.sub(b.y);var n=new d.Xb;n.set(c.x);n.sub(b.x);e.Vg(g);k.Vg(n);e.sub(k);if(!e.lt())return c=e.value(),0>c?-1:0<c?1:0;e=new d.Tp(a.x);g=new d.Tp(b.x);k=new d.Tp(b.y);e=e.Zt(g);b=new d.Tp(c.y);b=b.Zt(k);a=new d.Tp(a.y);a=a.Zt(k);c=new d.Tp(c.x);c=c.Zt(g);e=e.ds(b);a=a.ds(c);e=e.ds(a);return e.pV()?-1:e.aU()?1:0};f.prototype.jc=function(){return d.J.Zi(d.J.Zi())};return f}();d.b=h})(h||(h={}));(function(d){var h=
function(){function d(b){this.kz=this.Au=0;this.IY=b}d.prototype.reset=function(){this.kz=this.Au=0};d.prototype.add=function(b){b-=this.kz;var a=this.Au+b;this.kz=a-this.Au-b;this.Au=a};d.prototype.sub=function(b){this.add(-b)};d.prototype.en=function(){return this.IY+this.Au};return d}();d.ry=h;h=function(){function d(){}d.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};d.sign=function(b){return 0>b?-1:0<b?1:0};d.hM=function(b){return b-360*Math.floor(b/360)};d.round=function(b){return Math.floor(b+
.5)};d.Yx=function(b){return b*b};d.Xq=function(b,a,c){var e;.5>=c?e=b+(a-b)*c:e=a-(a-b)*(1-c);return e};d.cI=function(b,a,c,e){.5>=c?(e.x=b.x+(a.x-b.x)*c,e.y=b.y+(a.y-b.y)*c):(e.x=a.x-(a.x-b.x)*(1-c),e.y=a.y-(a.y-b.y)*(1-c))};d.nV=function(b,a,c,e,g,k){.5>=g?(k.x=b+(c-b)*g,k.y=a+(e-a)*g):(k.x=c-(c-b)*(1-g),k.y=e-(e-a)*(1-g))};return d}();d.Ub=h})(h||(h={}));(function(d){var h=function(f){function b(){f.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}B(b,f);b.prototype.ec=function(){return d.b.pa(this.ua,
this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.xC=function(a,c){this.Qm(0,d.b.pa(a,c))};b.prototype.Dp=function(a){this.BE(0,a)};b.prototype.setStart=function(a){this.LE(0,a)};b.prototype.dt=function(a,c){return this.ae(0,a,c)};b.prototype.Tx=function(a,c,e){this.oo(0,a,c,e)};b.prototype.Bc=function(){return d.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=
function(a,c){this.Qm(1,d.b.pa(a,c))};b.prototype.Bp=function(a){this.BE(1,a)};b.prototype.setEnd=function(a){this.LE(1,a)};b.prototype.Os=function(a,c){return this.ae(1,a,c)};b.prototype.Lx=function(a,c,e){this.oo(1,a,c,e)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,c,e,b,k){return this.QO(a,c,e,b,k)};b.prototype.Yb=function(a,c){return 0!=this.ys(a,c,!1)};b.prototype.mt=
function(a,c){return this.av(a,c,!1)};b.prototype.av=function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=function(a){this.Ac();if(null==this.la&&0<a)this.la=d.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var c=this.la.slice(0),e=this.la.length;e<2*a;e++)c[e]=0;this.la=c}};b.cX=function(a,c,e){if(0<e)var b=0;for(var k=0;k<e;k++)c[0+b]=a[0],b++};b.prototype.Qm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.mo=function(a){if(null!=
this.la){for(var c=d.ze.vx(a,this.description),e=[],g=b.ul(this.description,0),k=b.ul(this.description,1),n=b.ul(a,0),r=b.ul(a,1),z=0,f=1,w=a.Ga;f<w;f++){var P=a.qd(f),h=d.ma.Xa(P);if(-1==c[f])for(var l=d.ma.de(P),P=0;P<h;P++)e[n+z]=l,e[r+z]=l,z++;else for(l=this.description.wk(c[f])-2,P=0;P<h;P++)e[n+z]=this.la[g+l],e[r+z]=this.la[k+l],z++,l++}this.la=e}this.description=a};b.prototype.BE=function(a,c){if(this.Hc())throw d.g.X("empty geometry");c.Fg(this.description);c.Hc()&&c.nq();for(var e=0;e<
this.description.Ga;e++)for(var b=this.description.Sd(e),k=0,n=d.ma.Xa(b);k<n;k++){var r=this.ae(a,b,k);c.setAttribute(b,k,r)}};b.prototype.LE=function(a,c){this.Ac();if(c.Hc())throw d.g.X("empty geometry");for(var e=c.description,b=0,k=e.Ga;b<k;b++)for(var n=e.Sd(b),r=d.ma.Xa(n),z=0;z<r;z++){var f=c.Yc(n,z);this.oo(a,n,z,f)}};b.prototype.ae=function(a,c,e){if(this.Hc())throw d.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=e?this.oa:this.sa:0!=e?this.ra:this.ua;
if(e>=d.ma.Xa(c))throw d.g.wd();var g=this.description.mg(c);return 0<=g?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.ul(this.description,a)+this.description.wk(g)-2+e]):d.ma.de(c)};b.prototype.oo=function(a,c,e,g){this.Ac();if(e>=d.ma.Xa(c))throw d.g.wd();var k=this.description.mg(c);0>k&&(this.Td(c),k=this.description.mg(c));0==c?0!=a?0!=e?this.oa=g:this.sa=g:0!=e?this.ra=g:this.ua=g:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.ul(this.description,a)+this.description.wk(k)-
2+e]=g)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw d.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.cX(this.la,a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Ac();this.iq(a)};b.prototype.xf=function(a,c){var e=new d.zc;if(this.Hc())return e.Oa(),e;e.ca=this.ae(0,a,c);e.ha=e.ca;e.ll(this.ae(1,a,c));return e};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ll(this.ae(1,0,0)))};b.prototype.Fx=
function(a,c){c.Fg(this.description);c.rb(this.gc(a));for(var e=1,b=this.description.Ga;e<b;e++)for(var k=this.description.Sd(e),n=d.ma.Xa(k),r=0;r<n;r++){var z=this.Yc(a,k,r);c.setAttribute(k,r,z)}};b.prototype.NO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.af.length-2);c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=
function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var e=this.description.qd(a),b=0,k=d.ma.Xa(e);b<k;b++){var n=this.ae(0,e,b),r=this.ae(1,e,b);this.oo(0,e,b,r);this.oo(1,e,b,n)}};b.prototype.ys=function(a,c,e){var b=a.G();switch(this.G()){case 322:if(322==b)return d.Hb.RO(this,a,c,e);throw d.g.za();default:throw d.g.za();}};b.prototype.QO=function(a,c,e,b,k){var g=a.G();switch(this.G()){case 322:if(322==g)return d.Hb.Gy(this,
a,c,e,b,k);throw d.g.za();default:throw d.g.za();}};b.prototype.Cy=function(){return null};b.ul=function(a,c){return c*(a.af.length-2)};b.prototype.gc=function(a,c){if(void 0===c)return c=new d.b,this.gc(a,c),c;d.Ub.nV(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.qe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=
function(a,c){return void 0!==c?this.cy(c)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ys(a,0,!1))return 0;c=1.7976931348623157E308;var e,b;e=this.ec();b=a.qe(e,!1);e.sub(a.gc(b));e=e.length();e<c&&(c=e);e=this.Bc();b=a.qe(e,!1);
e.sub(a.gc(b));e=e.length();e<c&&(c=e);e=a.ec();b=this.qe(e,!1);e.sub(this.gc(b));e=e.length();e<c&&(c=e);e=a.Bc();b=this.qe(e,!1);e.sub(this.gc(b));e=e.length();e<c&&(c=e);return c};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};return b}(d.T);d.dE=h})(h||(h={}));new h.b;(function(d){(function(d){d[d.Unknown=-1]="Unknown";d[d.Not=0]="Not";d[d.Weak=1]="Weak";d[d.Strong=2]="Strong"})(d.wM||(d.wM={}));(function(d){d[d.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";d[d.IsWeakSimple=2]="IsWeakSimple";
d[d.IsStrongSimple=4]="IsStrongSimple";d[d.DirtyOGCFlags=8]="DirtyOGCFlags";d[d.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";d[d.DirtyExactIntervals=64]="DirtyExactIntervals";d[d.DirtyLooseIntervals=128]="DirtyLooseIntervals";d[d.DirtyIntervals=192]="DirtyIntervals";d[d.DirtyIsEnvelope=256]="DirtyIsEnvelope";d[d.DirtyLength2D=512]="DirtyLength2D";d[d.DirtyRingAreas2D=1024]="DirtyRingAreas2D";d[d.DirtyCoordinates=1993]="DirtyCoordinates";d[d.DirtyAllInternal=65535]="DirtyAllInternal";d[d.DirtyAll=
16777215]="DirtyAll"})(d.aM||(d.aM={}));var h=function(f){function b(){f.call(this);this.tn=65535;this.qa=0;this.lh=-1;this.ob=null}B(b,f);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.xk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,c){this.tn=c?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.xk(32)&&
this.$O()};b.prototype.Cu=function(){if(this.Hc())throw d.g.X("This operation was performed on an Empty Geometry.");};b.prototype.Ae=function(a,c){if(0>a||a>=this.qa)throw d.g.X("index out of bounds");this.wc();c.Fg(this.description);c.u()&&c.nq();for(var e=0;e<this.description.Ga;e++)for(var b=this.description.Sd(e),k=0,n=d.ma.Xa(b);k<n;k++){var r=this.ya[e].Of(n*a+k);c.setAttribute(b,k,r)}};b.prototype.vu=function(a,c){this.wc();for(var e=c.description,b=0;b<e.Ga;b++)for(var k=e.Sd(b),n=d.ma.Xa(k),
r=0;r<n;r++){var z=c.Yc(k,r);this.setAttribute(k,a,r,z)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw d.g.wd();this.wc();this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new d.b;this.w(a,c);return c};b.prototype.Nc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,e){if(0>a||a>=this.qa)throw d.g.wd();this.wc();var b=this.ya[0];void 0!==e?(b.write(2*a,c),b.write(2*a+1,e)):b.fo(2*a,c);this.Dc(1993)};b.prototype.mA=function(a){if(0>a||a>=this.D())throw d.g.wd();this.wc();
var c=this.ya[0],e=new d.pd;e.x=c.read(2*a);e.y=c.read(2*a+1);e.z=this.hasAttribute(1)?this.ya[1].Of(a):d.ma.de(1);return e};b.prototype.CC=function(a,c){if(0>a||a>=this.D())throw d.g.wd();this.Td(1);this.wc();this.Dc(1993);var e=this.ya[0];e.write(2*a,c.x);e.write(2*a+1,c.y);this.ya[1].Dm(a,c.z)};b.prototype.Yc=function(a,c,e){if(0>c||c>=this.qa)throw d.g.wd();var b=d.ma.Xa(a);if(e>=b)throw d.g.wd();this.wc();var k=this.description.mg(a);return 0<=k?this.ya[k].Of(c*b+e):d.ma.de(a)};b.prototype.KG=
function(a,c,e){return this.Yc(a,c,e)};b.prototype.setAttribute=function(a,c,e,b){if(0>c||c>=this.qa)throw d.g.wd();var g=d.ma.Xa(a);if(e>=g)throw d.g.wd();this.Td(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(c*g+e,b)};b.prototype.Pa=function(a){this.Cu();this.Td(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,c){if(null!=c&&d.ma.si(a)!=c.si())throw d.g.F();this.Td(a);a=this.description.mg(a);null==this.ya&&(this.ya=d.Uc.JB(this.description.Ga));
this.ya[a]=c;this.Dc(16777215)};b.prototype.mo=function(a){var c=null;if(null!=this.ya)for(var e=d.ze.vx(a,this.description),c=[],b=0,k=a.Ga;b<k;b++)-1!=e[b]&&(c[b]=this.ya[e[b]]);this.description=a;this.ya=c;this.lh=-1;this.Dc(16777215)};b.prototype.QE=function(a){this.fv(!0);a instanceof d.h?this.R.s(a):this.R.Cp(a)};b.prototype.ZO=function(a){this.fv(!1);a instanceof d.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.QE(a)};b.prototype.Cp=
function(a){this.QE(a)};b.prototype.ac=function(a){this.ZO(a)};b.prototype.xf=function(a,c){var e=new d.zc;if(this.Hc())return e.Oa(),e;this.fv(!0);return this.R.xf(a,c)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=this.D(),e=0,b=this.description.Ga;e<b;e++)a=this.ya[e].zk(a,0,c*d.ma.Xa(this.description.Sd(e)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;
var c=this.D();if(c!=a.D())return!1;for(var e=0;e<this.description.Ga;e++){var g=this.description.qd(e),k=this.Pa(g),n=a.Pa(g);if(!k.Eb(n,0,c*d.ma.Xa(g)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw d.g.F();this.yE(a)};b.prototype.yE=function(a){this.wc();a.description=this.description;a.ya=null;var c=this.description.Ga,e=null;if(null!=this.ya)for(var e=[],b=0;b<c;b++)null!=this.ya[b]&&(e[b]=this.ya[b].Tr(this.D()*d.ma.Xa(this.description.Sd(b))));null!=this.R?(a.R=
this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=e;try{this.iq(a)}catch(k){throw a.Oa(),d.g.UN();}};b.prototype.NE=function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.EO();this.Ac()};b.prototype.fv=function(a){this.wc();if(this.xk(192))if(null==this.R?this.R=new d.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var c=1;c<this.description.Ga;c++)for(var e=
this.description.Sd(c),b=d.ma.Xa(e),k=this.ya[c],n=0;n<b;n++){var r=new d.zc;r.Oa();for(var z=0;z<this.qa;z++){var f=k.Of(z*b+n);r.Nb(f)}this.R.setInterval(e,n,r)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],c=new d.b,e=0;e<this.qa;e++)a.fc(2*e,c),this.R.Nb(c)};b.prototype.uo=function(a){a.Oa();for(var c=this.ya[0],e=new d.b,b=0;b<this.qa;b++)c.fc(2*b,e),a.Nb(e)};b.prototype.$O=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=d.Uc.JB(this.description.Ga));
this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Sd(a);if(null!=this.ya[a]){var e=d.ma.Xa(c),b=d.J.truncate(this.ya[a].size/e);b<this.qa&&(b=d.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*e,d.ma.de(c)));b<this.lh&&(this.lh=b)}else this.ya[a]=d.Uc.qz(c,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw d.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Kk=function(a){if(!this.xk(1)){if(!this.xk(2))return 0;
if(this.PV>=a)return this.xk(8)?1:2}return-1};b.prototype.Zg=function(a,c){this.PV=c;if(-1==a)this.lg(1,!0),this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw d.g.X("internal error.");};b.prototype.EO=function(){null!=this.ob&&(this.ob=null)};b.prototype.EE=function(a,c,e,b){if(0>a||a>=this.qa)throw d.g.X("index out of bounds");if(0>c||c>=this.qa)throw d.g.X("index out of bounds");
this.wc();b.Fg(this.description);b.u()&&b.nq();for(var g=0;g<this.description.Ga;g++)for(var n=this.description.Sd(g),r=0,z=d.ma.Xa(n);r<z;r++){var f=this.ya[g].Of(z*a+r),w=this.ya[g].Of(z*c+r);b.setAttribute(n,r,d.Ub.Xq(f,w,e))}};b.prototype.xs=function(a,c){var e=this.ya[0].f,b=e[2*a]-e[2*c],e=e[2*a+1]-e[2*c+1];return Math.sqrt(b*b+e*e)};b.prototype.Yh=function(a,c){if(0>a||a>=this.qa)throw d.g.wd();if(c.u())throw d.g.F();this.wc();for(var e=c.description,b=0;b<e.Ga;b++)for(var k=e.qd(b),n=d.ma.Xa(k),
r=0;r<n;r++){var z=c.Yc(k,r);this.setAttribute(k,a,r,z)}};b.prototype.Xu=function(){return null};b.prototype.Hj=function(){return null};return b}(d.T);d.Mu=h})(h||(h={}));(function(d){var h=function(){function f(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new d.ad(7);this.Oo=null}f.prototype.Ep=function(b){this.Oo=b};f.prototype.PR=function(){this.Dw=!1};f.prototype.Qe=function(b){this.pb.Qe(b)};f.prototype.Ks=function(b){var a=this.pb.Pe();this.nY(a);this.qY(b,a);return a};
f.prototype.JR=function(b){this.pb.kd(b)};f.prototype.addElement=function(b,a){var c;-1==a?(-1==this.qf&&(this.qf=this.Ks(-1)),c=this.qf):c=a;return this.XE(b,0,c)};f.prototype.aF=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.XE(b,1,this.qf)};f.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var e=-1==a?-1:c[7*a+2];b=this.pb.ml([-1,
-1,e,b,this.Ll(),-1,-1]);c=this.pb.f;c[7*e+1]=b;this.Vy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};f.prototype.jv=function(b,a,c,e){var g=-1;-1==g&&(-1==this.qf&&(this.qf=this.Ks(-1)),g=this.qf);var k=this.pb.f;if(-1==g||-1==k[7*g])return c=this.pb.ml([-1,-1,-1,c,this.Ll(),-1,-1]),k=this.pb.f,k[7*g]=c,this.pq(-1,c,g,k),c;var n;e?(e=-1!=a?this.Oo.compare(this,c,a):-1,n=-1!=b?this.Oo.compare(this,c,b):1):(e=-1,n=1);if(0==e||0==n)return k[7*g+3]=0==e?a:b,-1;(-1!=a&&-1!=b?this.Gn>d.J.IB(this.Gn)>>
1:-1!=a)?b=a:e=n;for(a=!0;;){if(0>e)if(n=k[7*b],-1!=n)b=n;else{e=b;c=this.pb.ml([-1,-1,b,c,this.Ll(),-1,-1]);k=this.pb.f;k[7*b]=c;break}else if(n=k[7*b+1],-1!=n)b=n;else{e=k[7*b+6];c=this.pb.ml([-1,-1,b,c,this.Ll(),-1,-1]);k=this.pb.f;k[7*b+1]=c;break}a&&(e*=-1,a=!1)}this.Vy(c,k);-1===k[7*c+2]&&(k[7*g]=c);this.pq(e,c,g,k);return c};f.prototype.QG=function(){return this.aT(this.qf)};f.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.IR(b,a):this.gZ(b,a)};f.prototype.search=function(b,a){for(a=
this.fw(a);-1!=a;){var c=this.Oo.compare(this,b,a);if(0==c)return a;a=0>c?this.Pl(a):this.Nq(a)}return-1};f.prototype.IX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var e=b.compare(this,a);if(0==e)return a;0>e?a=this.Pl(a):(c=a,a=this.Nq(a))}return c};f.prototype.lK=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var e=b.compare(this,a);if(0==e)return a;0>e?(c=a,a=this.Pl(a)):a=this.Nq(a)}return c};f.prototype.ja=function(b){return this.pb.S(b,3)};f.prototype.Pl=function(b){return this.pb.S(b,0)};
f.prototype.Nq=function(b){return this.pb.S(b,1)};f.prototype.getParent=function(b){return this.pb.S(b,2)};f.prototype.nb=function(b){return this.pb.S(b,6)};f.prototype.Ve=function(b){return this.pb.S(b,5)};f.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};f.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};f.prototype.TT=function(b){return-1==b?this.nH(this.qf):this.nH(b)};f.prototype.kk=function(b,a){this.oC(b,a)};f.prototype.fw=function(b){return-1==b?this.iH(this.qf):
this.iH(b)};f.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};f.prototype.size=function(b){return-1==b?this.kH(this.qf):this.kH(b)};f.prototype.PP=function(b,a){for(var c=a[7*b],e=a[7*b+1],g=a[7*b+4];-1!=c||-1!=e;){var k=-1!=c?a[7*c+4]:2147483647,e=-1!=e?a[7*e+4]:2147483647;if(g<=Math.min(k,e))break;k<=e?this.iK(c,a):this.hK(b,a);c=a[7*b];e=a[7*b+1]}};f.prototype.Vy=function(b,a){if(this.Dw)for(var c=a[7*b+4],e=a[7*b+2];-1!=e&&a[7*e+4]>c;)a[7*e]==b?this.iK(b,a):this.hK(e,a),e=a[7*b+2]};f.prototype.hK=
function(b,a){var c=a[7*b+1],e;a[7*c+2]=a[7*b+2];a[7*b+2]=c;e=a[7*c];a[7*b+1]=e;-1!=e&&(a[7*e+2]=b);a[7*c]=b;e=a[7*c+2];-1!=e&&(a[7*e]==b?a[7*e]=c:a[7*e+1]=c)};f.prototype.iK=function(b,a){var c=a[7*b+2],e;a[7*b+2]=a[7*c+2];a[7*c+2]=b;e=a[7*b+1];a[7*c]=e;-1!=e&&(a[7*e+2]=c);a[7*b+1]=c;e=a[7*b+2];-1!=e&&(a[7*e]===c?a[7*e]=b:a[7*e+1]=b)};f.prototype.rl=function(b,a){this.pb.P(b,2,a)};f.prototype.sC=function(b,a){this.pb.P(b,0,a)};f.prototype.wC=function(b,a){this.pb.P(b,1,a)};f.prototype.vC=function(b,
a){this.pb.P(b,5,a)};f.prototype.Qx=function(b,a){this.pb.P(b,6,a)};f.prototype.OK=function(b,a){this.pb.P(a,0,b)};f.prototype.nY=function(b){this.pb.P(b,4,0)};f.prototype.qY=function(b,a){this.pb.P(a,5,b)};f.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};f.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};f.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};f.prototype.aT=function(b){return-1==b?-1:this.pb.S(b,3)};f.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};f.prototype.nH=
function(b){return this.pb.S(b,5)};f.prototype.Bx=function(b){return this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1])};f.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};f.prototype.Ll=function(){this.Gn=d.J.IB(this.Gn);return this.Gn&1073741823};f.prototype.XE=function(b,a,c){var e=this.pb.f;if(-1==c||-1==e[7*c])return b=this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1]),e=this.pb.f,e[7*c]=b,this.pq(-1,b,c,e),b;for(var g=-1==c?-1:e[7*c];;){var k=-1==a?1:this.Oo.compare(this,b,g);if(0>k)if(k=this.Pl(g),-1!=k)g=k;else{a=
g;b=this.pb.ml([-1,-1,g,b,this.Ll(),-1,-1]);e=this.pb.f;e[7*g]=b;break}else{if(1==a&&0==k)return e[7*c+3]=g,-1;k=e[7*g+1];if(-1!=k)g=k;else{a=e[7*g+6];b=this.pb.ml([-1,-1,g,b,this.Ll(),-1,-1]);e=this.pb.f;e[7*g+1]=b;break}}}this.Vy(b,e);-1===e[7*b+2]&&(e[7*c]=b);this.pq(a,b,c,e);return b};f.prototype.pq=function(b,a,c,e){var g;-1!=b?(g=e[7*b+5],e[7*b+5]=a):g=-1==c?-1:e[7*c+2];e[7*a+5]=g;-1!=g&&(e[7*g+6]=a);e[7*a+6]=b;b==(-1==c?-1:e[7*c+1])&&(e[7*c+1]=a);-1==b&&(e[7*c+2]=a);e[7*c+4]=(-1==c?0:e[7*c+
4])+1};f.prototype.aC=function(b,a){var c=this.pb.f,e=c[7*b+5];b=c[7*b+6];-1!=e?c[7*e+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=e:c[7*a+2]=e;c[7*a+4]=-1===a?-1:c[7*a+4]-1};f.prototype.gZ=function(b,a){this.aC(b,a);var c=this.Pl(b),e=this.Nq(b),g=this.getParent(b),k=b;if(-1!=c&&-1!=e){this.Gn=d.J.IB(this.Gn);var n;n=1073741823<this.Gn?this.nb(b):this.Ve(b);var r=this.getParent(n)==b;this.pb.ay(b,n,0);this.pb.ay(b,n,1);this.pb.ay(b,n,2);-1!=g?this.Pl(g)==b?this.sC(g,n):this.wC(g,n):this.OK(n,a);r?(c==n?(this.sC(n,
b),this.rl(e,n)):e==n&&(this.wC(n,b),this.rl(c,n)),this.rl(b,n),g=n):(this.rl(c,n),this.rl(e,n),g=this.getParent(b),k=n);c=this.Pl(b);e=this.Nq(b);-1!=c&&this.rl(c,b);-1!=e&&this.rl(e,b)}c=-1!=c?c:e;-1==g?this.OK(c,a):this.Pl(g)==k?this.sC(g,c):this.wC(g,c);-1!=c&&this.rl(c,g);this.Kl(b,a)};f.prototype.IR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var e=-1,g=-1,k=-1===a?-1:c[7*a],d=k==b;d&&(e=c[7*k],g=c[7*k+1],-1==e&&-1==g)?(this.aC(k,a),this.Kl(k,a),c[7*a]=-1):(this.PP(b,c),k=c[7*b+2],-1!=
k&&(c[7*k]==b?c[7*k]=-1:c[7*k+1]=-1),this.aC(b,a),this.Kl(b,a),d&&(c[7*a]=-1==e||-1!=c[7*e+2]?g:e))};f.prototype.oC=function(b,a){this.pb.P(b,3,a)};return f}();d.uk=h})(h||(h={}));(function(d){var h=function(){function f(b,a){void 0!==b&&this.I(b,a)}f.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};f.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};f.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};f.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>
this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&this.Oa()}};f.prototype.Oa=function(){this.ha=this.ca=NaN};f.prototype.u=function(){return isNaN(this.ca)};f.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ll(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};f.prototype.ll=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};f.prototype.contains=function(b){return"number"===
typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};f.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};f.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};f.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};f.prototype.lC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};f.prototype.wu=
function(b){return d.J.pk(b,this.ca,this.ha)};f.prototype.N=function(){return this.ha-this.ca};f.prototype.Wf=function(){return.5*(this.ca+this.ha)};f.prototype.Eb=function(b){return b==this?!0:b instanceof f?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};f.prototype.jc=function(){return d.J.Zi(d.J.Zi())};return f}();d.zc=h})(h||(h={}));(function(d){var h=new d.zc,f=new d.zc,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new d.Hb;this.ZA=55555555;this.Fw=this.Iw=!1;this.rg=
new d.zc;this.rg.lC(0,0)}}();d.k_=b;var a=function(){function a(a,c,k){this.a=a;this.hl=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=c;this.Dr=10*c;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.QA=k;this.AB=new b;this.kJ=new b;d.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,c,b,d){a.Le=null===d?null:d[b[5*c]];a.Fw=null!=a.Le;a.Fw||(d=b[5*c+2],-1!==d&&this.a.hX(b[5*c],b[5*d],a.wb),a.Le=a.wb,a.rg.lC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||
(a.ZA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.SQ=function(a,c){var e=a.ys(c,this.ta,!0);if(0!=e)return 2==e?this.Az():this.Wi();a.Oq(V);a.Ps(N);c.Oq(U);c.Ps(Y);x.ka(this.Ar,this.hl);V.ub(U)&&this.hl==V.y?0>N.compare(Y)?x.L(N):x.L(Y):V.ub(Y)&&this.hl==V.y?0>N.compare(U)?x.L(N):x.L(U):U.ub(N)&&this.hl==U.y?0>V.compare(Y)?x.L(V):x.L(Y):N.ub(Y)&&this.hl==N.y&&(0>V.compare(U)?x.L(V):x.L(U));return a.pf(x.y,x.x)<c.pf(x.y,x.x)?-1:1};a.prototype.QQ=function(a,c){if(a.wb.ra==c.wb.ra&&a.wb.ua==c.wb.ua)return a.wb.oa==
c.wb.oa&&a.wb.sa==c.wb.sa?this.QA?this.Az():0:this.WF(a,c);if(a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa)return this.VF(a,c);var e=this.VF(a,c);a=this.WF(a,c);return 0>e&&0>a?-1:0<e&&0<a?1:this.Wi()};a.prototype.MQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.NQ=function(a,c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,
c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.ua-a.sa)<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.OQ=function(a,c){var e=new d.b;e.yc(c.Bc(),c.ec());e.Ur();e.normalize();var b=new d.b;b.yc(a.ec(),c.ec());var g=new d.b;g.yc(a.Bc(),c.ec());var b=b.oi(e),e=g.oi(e),g=Math.abs(b),z=Math.abs(e);if(g<z){if(g<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(z<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>e?-1:0<b&&0<e?1:this.Wi()};
a.prototype.UF=function(a,c){return a.ra==c.ra&&a.ua==c.ua?this.MQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.NQ(a,c):this.OQ(a,c)};a.prototype.PQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.QA?this.Az():0:this.Wi()};a.prototype.VF=function(a,c){var e=1;if(a.wb.ra<c.wb.ra){var e=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var g=b.ua-a.ua;c=c.ZA*(b.ra-a.ra);var d=this.Dr;return g<c-d?-e:g>c+d?e:a.Si(b.ua,b.ra,this.ta)?this.Wi():g<c?-e:e};a.prototype.WF=function(a,c){var e=1;if(c.wb.oa<a.wb.oa){var e=
-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var g=b.sa-a.ua;c=c.ZA*(b.oa-a.ra);var d=this.Dr;return g<c-d?-e:g>c+d?e:a.Si(b.sa,b.oa,this.ta)?this.Wi():g<c?-e:e};a.prototype.Az=function(){this.Ng=!0;this.mj=new d.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.QA?this.mj=new d.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.RQ=function(a,c,b,d){if(this.Ng)return-1;var e=this.bJ==this.hl&&this.aJ==this.Ar,g;e&&a==this.Rt?g=this.cJ:(g=NaN,this.Rt=-1);e&&c==this.St?
e=this.dJ:(e=NaN,this.St=-1);b.Le.SJ(h);d.Le.SJ(f);if(h.ha<f.ca)return-1;if(f.ha<h.ca)return 1;this.bJ=this.hl;this.aJ=this.Ar;isNaN(g)&&(this.Rt=a,this.cJ=g=a=b.Le.pf(this.hl,this.Ar));isNaN(e)&&(this.St=c,this.dJ=e=a=d.Le.pf(this.hl,this.Ar));return Math.abs(g-e)<=this.ta?this.SQ(b.Le,d.Le):g<e?-1:g>e?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,c){this.hl=a;this.Ar=c;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,
c,b){if(this.Ng)return-1;a=a.ja(b);this.rn=b;return this.YF(c,c,a,a)};a.prototype.YF=function(a,c,b,d){var e;this.vp==c?e=this.AB:(this.vp=c,e=this.AB,this.AB.qb=a,this.AH(e,c,this.a.Dd.f,this.a.wf));var g;null==g&&(this.Yt=d,g=this.kJ,this.kJ.qb=b,this.AH(g,d,this.a.Dd.f,this.a.wf));if(e.Fw||g.Fw)return this.RQ(c,d,e,g);if(e.rg.ha<g.rg.ca)return-1;if(g.rg.ha<e.rg.ca)return 1;a=e.Iw?1:0;a|=g.Iw?2:0;return 0==a?this.QQ(e,g):1==a?this.UF(e.wb,g.wb):2==a?-1*this.UF(g.wb,e.wb):this.PQ(e.wb,g.wb)};return a}();
d.gE=a})(h||(h={}));(function(d){var h=function(){function f(b,a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new d.zc;this.wr=new d.b;this.wr.$c();this.Fe=new d.Hb;this.rn=-1;this.iB=1.7976931348623157E308}f.prototype.Gs=function(){this.Ng=!1;this.iB=1.7976931348623157E308};f.prototype.Yh=function(b){this.wr.L(b)};f.prototype.compare=function(b,a){return this.ZF(a,b.ja(a))};f.prototype.ZF=function(b,a){var c=null!=this.a.ic(a);c||(this.a.od(a,this.Fe),this.rg.lC(this.Fe.ua,this.Fe.sa));if(c)throw d.g.X("not implemented");
if(this.wr.x+this.ta<this.rg.ca)return-1;if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();c=new d.b;c.yc(this.Fe.Bc(),a);c.Ur();var e=new d.b;e.yc(this.wr,a);a=c.oi(e);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(c=Math.abs(a),c<this.iB&&(this.rn=b,this.iB=c),this.Ng=!0,c<.25*this.ta)?0:0>a?-1:1};return f}();d.bO=h})(h||(h={}));(function(d){function h(b,a,c,e){c=new Float64Array(b.subarray(c,
e));b.set(c,a)}var f=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,e){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>e||a>e)throw d.g.F();a!=c&&e!=c&&(this.Zd(a,c-a,1),this.Zd(c,e-c,1),this.Zd(a,e-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,
e.size);return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.pX=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=
function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var e=this.f.slice(0,a);this.f=e}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var e=this.f.slice(0),b=this.f.length;b<a;b++)e[b]=
c;this.f=e}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,e){for(var b=this.size;c<b&&c<e;c++)a=d.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=
a.read(c))return!1;return!0};b.prototype.Sq=function(a,c,e,b,k,n){if(this.xa)throw d.g.Da();0>n&&(n=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;n-=a;for(var g=this.f.slice(a,a+n),z=0;z<n;z++)this.f[a+2*b+z]=g[z];if(k)for(k=0;k<b;k++)n=c[e++],this.f[a++]=n.x,this.f[a++]=n.y;else for(k=0,g=b-1;k<b;++k)n=c[e+g],this.f[a++]=n.x,this.f[a++]=n.y,g--};b.prototype.Qk=function(a,c,e,b,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=b%n))throw d.g.F();var g=this.size-r;
g<b&&this.resize(this.size+b-g);for(g=0;g<r-a;g++)this.f[a+b+g]=this.f[a+g];this.f==c.f&&a<e&&(e+=b);if(k)for(g=0;g<b;g++)this.f[g+a]=c.f[e+g];else for(k=b,r=0;r<b;r+=n)for(k-=n,g=0;g<n;g++)this.f[a+r+g]=c.f[e+k+g]};b.prototype.Vj=function(a,c,e,b){if(this.xa)throw d.g.Da();b-=a;for(var g=this.f.slice(a,a+b),n=0;n<b;n++)this.f[a+e+n]=g[n];for(b=0;b<e;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,e){if(this.xa)throw d.g.Da();for(var b=this.f.slice(a,a+(e-a)),k=0;k<e-a;k++)this.f[k+a+2]=b[k];this.f[a]=
c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,e,b,k){if(0>a||0>c||0>b)throw d.g.F();if(e.length<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=e[b+k];else for(k||(a+=c-1),c=b+c;b<c;b++)this.f[a]=e[b],a--};b.prototype.ho=function(a,c,e,b,k,n){if(0>a||0>c||0>b)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(e.size<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),e==this)this.Ij(a,c,b,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=e.f[b],a++,
b++;else if(b=b+c-n,1==n)for(k=0;k<c;k++)this.f[a]=e.f[b],a++,b--;else for(k=0,c=d.J.truncate(c/n);k<c;k++){for(var g=0;g<n;g++)this.f[a+g]=e.f[b+g];a+=n;b-=n}};b.prototype.Ek=function(a,c,e){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<e-(a+c)){e-=a+c;for(var b=this.f.slice(a+c,a+e+c),k=0;k<e;k++)this.f[a+k]=b[k]}this.size-=c};b.prototype.Zd=function(a,c,e){if(this.xa)throw d.g.Da();if(1>e||0!=c%e)throw d.g.Da();for(var b=c>>1,k=0;k<b;k+=e){c-=e;for(var n=0;n<e;n++){var r=this.f[a+
k+n];this.f[a+k+n]=this.f[a+c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,e){if(0>c||0>e||0>c||e+c>this.size)throw d.g.F();for(var b=c;b<c+e;b++)this.f[b]=a};b.prototype.Ij=function(a,c,e,b,k){if(!b||a!=e){for(var g=0;g<c;g++)this.f[a+g]=this.f[e+g];if(!b)for(e=a,a=a+c-k,b=0,c=d.J.truncate(c/2);b<c;b++){for(g=0;g<k;g++){var r=this.f[e+g];this.f[e+g]=this.f[a+g];this.f[a+g]=r}e+=k;a-=k}}};b.prototype.ks=function(a,c,e,b,k){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<
1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=b;b<c;b++)this.f[a]=e[b].x,this.f[a+1]=e[b].y,a+=k};b.prototype.hy=function(a,c,e,b,k){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=b;b<c;b++)this.f[a]=e[b][0],this.f[a+1]=e[b][1],a+=k};b.prototype.ol=function(a,c,e,b,k){if(0>a||0>c||0>b||this.size<c+a)throw d.g.F();if(k)for(k=0;k<c;k++)e[b+k]=this.f[a+k];else for(b=b+c-1;a<c;a++)e[b]=this.f[a],b--};b.prototype.Hx=function(a,c,e,b,k){if(0>a||0>c||0>
b||this.size<(c>>1)+a)throw d.g.F();if(0!=c)for(k||(a+=c-1),k=k?2:-2,c=b+c;b<c;b++)e[b][0]=this.f[a],e[b][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,e){var b=this.f.slice(0,a),k=this.f.slice(c);a=this.f.slice(a,c).sort(e);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(k))};b.prototype.si=function(){return 1};b.Bb=0;return b}();d.Qd=f;f=function(){function b(a){this.xa=this.Ce=
!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Float64Array(c);this.size=a}b.prototype.rotate=function(a,c,e){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>e||a>e)throw d.g.F();a!=c&&e!=c&&(this.Zd(a,c-a,1),this.Zd(c,e-c,1),this.Zd(a,e-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return e};b.Ak=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>
c&&(c=2);e.f=new Float64Array(c);e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=
function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var e=
new Float64Array(this.f,0,a);this.f=e}}else{a>this.f.length&&(e=d.J.truncate(64>a?Math.max(2*a,4):5*a/4),e=new Float64Array(e),e.set(this.f),this.f=e);for(var e=this.f,b=this.size;b<a;b++)e[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.Zi(this.read(c));
return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Qk=function(a,c,b,g,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=g%n))throw d.g.F();var e=this.size-r;e<g&&this.resize(this.size+g-e);h(this.f,a+g,a,a+(r-a));this.f==c.f&&a<b&&(b+=g);if(k)this.f.set(c.f.subarray(b,b+g),a);else for(k=g,r=0;r<g;r+=n)for(k-=n,e=0;e<n;e++)this.f[a+r+e]=c.f[b+
k+e]};b.prototype.Sq=function(a,c,b,g,k,n){if(this.xa)throw d.g.Da();0>n&&(n=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;h(this.f,a+2*g,a,a+(n-a));if(k)for(k=0;k<g;k++)n=c[b++],this.f[a++]=n.x,this.f[a++]=n.y;else{k=0;for(var e=g-1;k<g;++k)n=c[b+e],this.f[a++]=n.x,this.f[a++]=n.y,e--}};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;h(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();h(this.f,
a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(b.subarray(g,c),a);else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,k,n){if(0>a||0>c||0>g)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=
b.f[g],a++,g++;else if(g=g+c-n,1==n)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=d.J.truncate(c/n);k<c;k++){for(var e=0;e<n;e++)this.f[a+e]=b.f[g+e];a+=n;g-=n}};b.prototype.Ek=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<b-(a+c)&&h(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,k=0;k<e;k+=b){c-=b;for(var n=0;n<b;n++){var r=this.f[a+k+n];this.f[a+k+n]=this.f[a+
c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=a};b.prototype.Ij=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=d.J.truncate(c/2);g<c;g++){for(var e=0;e<k;e++){var r=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=r}b+=k;a-=k}};b.prototype.ks=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=
k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.hy=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g][0],this.f[a+1]=b[g][1],a+=k};b.prototype.ol=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.Hx=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<(c>>1)+a)throw d.g.F();
if(0!=c)for(k||(a+=c-1),k=k?2:-2,c=g+c;g<c;g++)b[g][0]=this.f[a],b[g][1]=this.f[a+1],a+=k};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){Array.prototype.sort.call(this.f.subarray(a,c),b)};b.prototype.si=function(){return 1};return b}();d.LL=f})(h||(h={}));!0===h.Xh.Bm&&!0===h.Xh.jw&&(h.Qd=h.LL);(function(d){function h(b,a,c,e){c=new Int32Array(b.subarray(c,e));b.set(c,a)}d.BZ=function(){return function(){this.random=
1973}}();var f=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,
e.size);return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};
b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),g=this.f.length;g<a;g++)b[g]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Qk=function(a,
c,b,g,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=g%n))throw d.g.F();for(var e=0;e<r-a;e++)this.f[a+g+e]=this.f[a+e];this.f==c.f&&a<b&&(b+=g);if(k)for(e=0;e<g;e++)this.f[e+a]=c.f[b+e];else for(k=g,r=0;r<g;r+=n)for(k-=n,e=0;e<n;e++)this.f[a+r+e]=c.f[b+k+e]};b.prototype.Sq=function(a,c,b,g,k,n){if(this.xa)throw d.g.Da();0>n&&(n=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;n-=a;for(var e=this.f.slice(a,a+n),z=0;z<n;z++)this.f[a+2*g+z]=e[z];if(k)for(k=0;k<g;k++)n=
c[b++],this.f[a++]=n.x,this.f[a++]=n.y;else for(k=0,e=g-1;k<g;++k)n=c[b+e],this.f[a++]=n.x,this.f[a++]=n.y,e--};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;for(var e=this.f.slice(a,a+g),n=0;n<g;n++)this.f[a+b+n]=e[n];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();for(var e=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=e[k];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(b.length<
g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=b[g+k];else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,k,n){if(0>a||0>c||0>g)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-n,1==n)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=d.J.truncate(c/n);k<
c;k++){for(var e=0;e<n;e++)this.f[a+e]=b.f[g+e];a+=n;g-=n}};b.prototype.Ek=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<b-(a+c)){b-=a+c;for(var e=this.f.slice(a+c,a+b+c),k=0;k<b;k++)this.f[a+k]=e[k]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,k=0;k<e;k+=b){c-=b;for(var n=0;n<b;n++){var r=this.f[a+k+n];this.f[a+k+n]=this.f[a+c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>
c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=a};b.prototype.Ij=function(a,c,b,g,k){if(!g||a!=b){for(var e=0;e<c;e++)this.f[a+e]=this.f[b+e];if(!g)for(b=a,a=a+c-k,g=0,c=d.J.truncate(c/2);g<c;g++){for(e=0;e<k;e++){var r=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=r}b+=k;a-=k}}};b.prototype.ks=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.ol=
function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var e=this.f.slice(0,a),k=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,e.concat(a).concat(k))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-
1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();d.ia=f;f=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Int32Array(c);this.size=a}b.prototype.rotate=
function(a,c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return e};b.Ak=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>c&&(c=2);e.f=new Int32Array(c);e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=
function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();
this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=d.J.truncate(64>a?Math.max(2*a,
4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;
var g=this.size,k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Qk=function(a,c,b,g,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=g%n))throw d.g.F();h(this.f,a+g,a,a+(r-a));this.f==c.f&&a<b&&(b+=g);if(k)this.f.set(c.f.subarray(b,b+g),a);else for(k=g,r=0;r<g;r+=n){k-=n;for(var e=0;e<n;e++)this.f[a+r+e]=c.f[b+k+e]}};b.prototype.Sq=function(a,c,b,g,k,n){if(this.xa)throw d.g.Da();0>n&&(n=this.size);this.size+2*g>this.f.length?this.resize(this.size+
2*g):this.size+=2*g;h(this.f,a+2*g,a,a+(n-a));if(k)for(k=0;k<g;k++)n=c[b++],this.f[a++]=n.x,this.f[a++]=n.y;else{k=0;for(var e=g-1;k<g;++k)n=c[b+e],this.f[a++]=n.x,this.f[a++]=n.y,e--}};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;h(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();h(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(b.subarray(g,c),a);else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,k,n){if(0>a||0>c||0>g)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-n,1==n)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=d.J.truncate(c/n);k<c;k++){for(var e=0;e<
n;e++)this.f[a+e]=b.f[g+e];a+=n;g-=n}};b.prototype.Ek=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<b-(a+c)&&h(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,k=0;k<e;k+=b){c-=b;for(var n=0;n<b;n++){var r=this.f[a+k+n];this.f[a+k+n]=this.f[a+c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=
a};b.prototype.Ij=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=d.J.truncate(c/2);g<c;g++){for(var e=0;e<k;e++){var r=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=r}b+=k;a-=k}};b.prototype.ks=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.ol=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();
if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,e){10>c-a?b.tl(this.f,a,c,e):b.Oi(this.f,a,c-1,e)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&
(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.tl=function(a,c,b,g){for(var e=c;e<b;e++){for(var d=a[e],r=e-1;r>=c&&0<g(a[r],d);)a[r+1]=a[r],r--;a[r+1]=d}};b.Wg=function(a,c,b){var e=a[b];a[b]=a[c];a[c]=e};b.Oi=function(a,c,e,g){if(!(c>=e))for(;;){if(9>e-c){b.tl(a,c,e+1,g);break}var k=a[c];b.Wg(a,c,e);for(var d=c,r=c;r<e;r++)0>=g(a[r],k)&&(b.Wg(a,
d,r),d+=1);b.Wg(a,d,e);d-c<e-d?(b.Oi(a,c,d-1,g),c=d+1):(b.Oi(a,d+1,e,g),e=d-1)}};return b}();d.jy=f})(h||(h={}));!0===h.Xh.Bm&&(h.ia=h.jy);(function(d){function h(b,a,c,e){c=new Int8Array(b.subarray(c,e));b.set(c,a)}var f=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=
function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,e.size);return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,
c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var b=
this.f.slice(0,a);this.f=b}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),g=this.f.length;g<a;g++)b[g]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=
function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Qk=function(a,c,b,g,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=g%n))throw d.g.F();for(var e=0;e<r-a;e++)this.f[a+g+e]=this.f[a+e];this.f==c.f&&a<b&&(b+=g);if(k)for(e=0;e<g;e++)this.f[e+a]=c.f[b+e];else for(k=g,r=0;r<g;r+=n)for(k-=n,e=0;e<n;e++)this.f[a+r+e]=c.f[b+k+e]};b.prototype.Sq=function(a,c,b,g,k,n){if(this.xa)throw d.g.Da();
0>n&&(n=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;n-=a;for(var e=this.f.slice(a,a+n),z=0;z<n;z++)this.f[a+2*g+z]=e[z];if(k)for(k=0;k<g;k++)n=c[b++],this.f[a++]=n.x,this.f[a++]=n.y;else for(k=0,e=g-1;k<g;++k)n=c[b+e],this.f[a++]=n.x,this.f[a++]=n.y,e--};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;for(var e=this.f.slice(a,a+g),n=0;n<g;n++)this.f[a+b+n]=e[n];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();
for(var e=this.f.slice(a,a+(b-a)),k=0;k<b-a;k++)this.f[k+a+2]=e[k];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),k)for(k=0;k<c;k++)this.f[a+k]=b[g+k];else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,k,n){if(0>a||0>c||0>g)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+
a),b==this)this.Ij(a,c,g,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-n,1==n)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=d.J.truncate(c/n);k<c;k++){for(var e=0;e<n;e++)this.f[a+e]=b.f[g+e];a+=n;g-=n}};b.prototype.Ek=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<b-(a+c)){b-=a+c;for(var e=this.f.slice(a+c,a+b+c),k=0;k<b;k++)this.f[a+k]=e[k]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();
for(var e=c>>1,k=0;k<e;k+=b){c-=b;for(var n=0;n<b;n++){var r=this.f[a+k+n];this.f[a+k+n]=this.f[a+c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=a};b.prototype.Ij=function(a,c,b,g,k){if(!g||a!=b){for(var e=0;e<c;e++)this.f[a+e]=this.f[b+e];if(!g)for(b=a,a=a+c-k,g=0,c=d.J.truncate(c/2);g<c;g++){for(e=0;e<k;e++){var r=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=r}b+=k;a-=k}}};b.prototype.ks=function(a,c,b,g,k){if(0>
a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.ol=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var e=this.f.slice(0,a),k=this.f.slice(c);
a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,e.concat(a).concat(k))};b.prototype.si=function(){return 1};b.prototype.jC=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.Bb=0;return b}();d.Fm=f;f=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=function(a,
c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var k=0;k<a;k++)g[k]=c;return e};b.Ak=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>c&&(c=2);e.f=new Int8Array(c);e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=function(a){0>=
a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=
c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=d.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=
new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.zk=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,
k=a.size;if(e>g||e>k&&g!=k)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Qk=function(a,c,b,g,k,n,r){if(this.xa)throw d.g.Da();if(!k&&(1>n||0!=g%n))throw d.g.F();h(this.f,a+g,a,a+(r-a));this.f==c.f&&a<b&&(b+=g);if(k)this.f.set(c.f.subarray(b,b+g),a);else for(k=g,r=0;r<g;r+=n){k-=n;for(var e=0;e<n;e++)this.f[a+r+e]=c.f[b+k+e]}};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;h(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.Sq=
function(a,c,b,g,k,n){if(this.xa)throw d.g.Da();0>n&&(n=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;h(this.f,a+2*g,a,a+(n-a));if(k)for(k=0;k<g;k++)n=c[b++],this.f[a++]=n.x,this.f[a++]=n.y;else{k=0;for(var e=g-1;k<g;++k)n=c[b+e],this.f[a++]=n.x,this.f[a++]=n.y,e--}};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();h(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),k)this.f.set(b.subarray(g,c),a);else for(k||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,k,n){if(0>a||0>c||0>g)throw d.g.F();if(!k&&(0>=n||0!=c%n))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,k,n);else if(k)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-n,1==n)for(k=0;k<c;k++)this.f[a]=b.f[g],a++,g--;else for(k=0,c=d.J.truncate(c/n);k<c;k++){for(var e=0;e<
n;e++)this.f[a+e]=b.f[g+e];a+=n;g-=n}};b.prototype.Ek=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<b-(a+c)&&h(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,k=0;k<e;k+=b){c-=b;for(var n=0;n<b;n++){var r=this.f[a+k+n];this.f[a+k+n]=this.f[a+c+n];this.f[a+c+n]=r}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=
a};b.prototype.Ij=function(a,c,b,g,k){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-k,g=0,c=d.J.truncate(c/2);g<c;g++){for(var e=0;e<k;e++){var r=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=r}b+=k;a-=k}};b.prototype.ks=function(a,c,b,g,k){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),k||(a+=c-1<<1),k=k?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=k};b.prototype.ol=function(a,c,b,g,k){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();
if(k)for(k=0;k<c;k++)b[g+k]=this.f[a+k];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.jC=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~c};b.prototype.si=function(){return 1};return b}();d.ky=f})(h||(h={}));!0===h.Xh.Bm&&(h.Fm=h.ky);(function(d){var h=function(){function f(){}f.vq=function(b,a){return d.Fm.zd(b,a)};f.Um=function(b,a){return d.Qd.zd(b,a)};f.pz=function(b,a,c){switch(b){case 1:b=d.Qd.zd(a,c);break;case 2:b=d.ia.zd(a,c);break;case 4:b=d.Fm.zd(a,c);break;default:throw d.g.za();}return b};f.qz=function(b,a){return f.pz(d.ma.si(b),a*d.ma.Xa(b),d.ma.de(b))};f.wh=function(b,a){return d.ia.zd(b,a)};f.JB=function(b){var a,
c=[];for(a=0;a<b;a++)c.push(null);return c};return f}();d.Uc=h})(h||(h={}));(function(d){var h=function(){function f(){}f.vq=function(b,a){return d.ky.zd(b,a)};f.Um=function(b,a){return d.Qd.zd(b,a)};f.pz=function(b,a,c){switch(b){case 1:b=d.Qd.zd(a,c);break;case 2:b=d.jy.zd(a,c);break;case 4:b=d.ky.zd(a,c);break;default:throw d.g.za();}return b};f.qz=function(b,a){return d.Uc.pz(d.ma.si(b),a*d.ma.Xa(b),d.ma.de(b))};f.wh=function(b,a){return d.jy.zd(b,a)};f.JB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);
return c};return f}();d.ML=h})(h||(h={}));!0===h.Xh.Bm&&(h.Uc=h.ML);(function(d){d.ea=function(){return function(d){void 0===d&&(d=0);this.j=d}}()})(h||(h={}));(function(d){var h=function(){function f(){}f.bind=function(b){d.Vc=b.PeDefs;d.Tf=b.PeFactory;d.RD=b.PeVertcs;d.OD=b.PeCoordsys;d.fi=b.PeCSTransformations;d.QD=b.PeGTTransformations;d.zN=b.PeGeogtran;d.yN=b.PeFactoryCodechange;d.PD=b.PeGCSExtent;d.Bg=b.PePCSInfo;d.AN=b.PeHorizon;d.OD=b.PeCoordsys;d.fq=b.PeGTlistExtended;d.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;d.Tf.initialize(null);d.wy=b.PeGTlistExtendedEntry;f.RY=d.Tf.fromString(d.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};f.w_=function(){};f.RY=null;return f}();d.BN=h;d.Tf=null;d.RD=null;d.OD=null;d.AN=null;d.Bg=null;d.fq=null;d.wy=null;d.PD=null;d.yN=null;d.zN=null;d.Vc=null;d.QD=null;d.fi=null})(h||(h={}));(function(d){var h=function(){function b(){}b.Ab=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.ND=function(a,c,e){return b.K(a-
c)<=e*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.ND(a,c,3.552713678800501E-15)};b.kW=function(a){return 3.552713678800501E-15>=b.K(a)};b.xd=function(a){return b.kW(a)};return b}();d.l=h;var f=function(){function b(){}b.Sp=function(a,c){a=h.K(a);c=h.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Or=function(a,c,e,g,k){for(var d=[0,0,0],r=[0,0,0],z=0;2>=z;z++)c[z]-=a[z],e[z]-=c[z];e=d[1]*r[2]-d[2]*r[1];c=d[2]*r[0]-d[0]*r[2];d=d[0]*r[1]-d[1]*r[0];
a=-1*(e*a[0]+c*a[1]+d*a[2]);g[0]=e;g[1]=c;g[2]=d;g[3]=a;r=b.eo(g);g[0]/=r;g[1]/=r;g[2]/=r;g[3]/=r;0!=k&&(r=h.xd(d)?h.xd(a)?h.Ab(1,c):-h.Ab(1,a):h.Ab(1,d),r*=h.Ab(1,k),g[0]*=r,g[1]*=r,g[2]*=r,g[3]*=r)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Eu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Ck=function(a,c,e,g,k,d,r,z){a=b.n(a,c,e);var n=Math.cos(e);d.j=(a+k)*n*Math.cos(g);r.j=(a+k)*
n*Math.sin(g);z.j=(a*(1-c)+k)*Math.sin(e)};b.kQ=function(a,c,e,g,k,d,r){var n=b.Sp(c,e),f=1*Math.sqrt(1-a),w=f/1;if(h.W(n,0))d.j=0,k.j=h.Ab(1.570796326794897,g),r.j=h.K(g)-f;else{d.j=Math.atan2(e,c);e=Math.atan2(1*g,f*n);d=Math.cos(e);var P=Math.sin(e);c=f*a/(1-a);a*=1;e=Math.atan2(g+c*P*P*P,n-a*d*d*d);3.141592653589793<h.K(e)&&(e=h.Ab(3.141592653589793,e)-e);e=Math.atan(w*Math.tan(e));P=Math.sin(e);d=Math.cos(e);k.j=Math.atan2(g+c*P*P*P,n-a*d*d*d);1.570796326794897<h.K(k.j)&&(k.j=h.Ab(3.141592653589793,
k.j)-k.j);e=Math.atan(w*Math.tan(k.j));P=Math.sin(e);d=Math.cos(e);r.j=(g-f*P)*Math.sin(k.j)+(n-1*d)*Math.cos(k.j)}};b.n=function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.du=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.ik=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.xp=function(a,c){if(h.Qi(a)||0==c||h.W(h.K(c),1.570796326794897))return c;var e,g,k,d,r,z,f,w,P;if(.006884661117170036>a){d=Math.sqrt(1-a);r=(1-d)/(1+d);z=r*r;f=r*z;w=r*f;e=r*w;P=r*
e;g=r*P;k=1.572916666666667*f-3.2578125*e+4.295068359375*g;d=2.142578125*w-6.071484375*P;a=3.129296875*e-11.249837239583334*g;var W=4.775276692708333*P,l=7.958636765252976*g,m=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*r-.84375*f+.525390625*e-.2688395182291667*g-k+a-l+m*(2*(1.3125*z-1.71875*w+1.650146484375*P)-4*d+6*W+m*(4*k-12*a+24*l+m*(8*d-32*W+m*(16*a-80*l+m*(32*W+64*m*l))))))}d=1-a;r=a/2;z=h.K(c);f=z*b.Tu(a)/(1.570796326794897*d);w=9999;P=z;for(z=0;1E-16<w&&50>z;z++)g=b.Cm(a,P),e=(b.EG(P,a)-r*
Math.sin(2*P)/g)/d-f,g=1/(g*g*g),k=e/g,e=P-k,w=h.K(k),P=e;return 0<=c?P:-P};b.qX=function(a,c){return h.Qi(c)?a:a*b.Tu(c)/1.570796326794897};b.da=function(a){a=b.rG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>h.K(a)||h.W(h.K(a),3.141592653589793)?a:a-6.283185307179586};b.rG=function(a,c){return a-Math.floor(a/c)*c};b.Yg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var e=c*c,g=e*e;return a/(1+c)*(1+.25*e+.015625*g+.00390625*e*g)*1.570796326794897}return a*
b.Tu(c)};b.Nr=function(a,c){var e=h.Ab(1,Math.sin(c));c=h.K(b.rG(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;var g;h.W(c,1.570796326794897)?g=c:g=Math.atan(Math.sqrt(1-a)*Math.tan(c));return g*e};b.q=function(a,c,e){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var g=c*c,k=c*g,d=c*k,r=c*d,z=c*r,f=c*z,w=-.7291666666666666*k+.2278645833333333*r+.03987630208333334*f,P=.615234375*d-.21533203125*z,h=-.54140625*r+.20302734375*f,l=.48876953125*z,m=-.4488699776785715*f,u=
Math.cos(2*e);return a/(1+c)*((1+.25*g+.015625*d+.00390625*z)*e+Math.sin(2*e)*(-1.5*c+.1875*k+.0234375*r+.00732421875*f-w+h-m+u*(2*(.9375*g-.234375*d-.03662109375*z)-4*P+6*l+u*(4*w-12*h+24*m+u*(8*P-32*l+u*(16*h-80*m+u*(32*l+64*u*m)))))))}return a*(b.EG(e,c)-.5*c*Math.sin(2*e)/b.Cm(c,e))};b.Cm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Tu=function(a){return h.ND(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,c){var e=h.Ab(1,a);a=h.K(a);var g=Math.floor(a/
1.570796326794897),k;if(1<c)k=0==a?0:NaN;else if(h.xd(g))k=b.sin(a),k=k*b.Lv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Iv(1-k*k,1-c*k*k);else{k=d.J.truncate(g%2);var n=b.Tu(c);0<k?(k=Math.sin(1.570796326794897*(g+1)-a),k=k*b.Lv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Iv(1-k*k,1-c*k*k),k=n*(g+1)-k):(k=Math.sin(a-1.570796326794897*g),k=k*b.Lv(1-k*k,1-c*k*k)-c/3*k*k*k*b.Iv(1-k*k,1-c*k*k),k=n*g+k)}return k*e};b.sin=function(a){a=b.da(a);var c=h.Ab(1,a);a=h.K(a);return h.W(a,3.141592653589793)?0:h.W(a,1.570796326794897)?1*c:Math.sin(a)*
c};b.Iv=function(a,c){for(var b=1,g=0,k=1,d,r,z,f;;){d=.2*(a+c+3*b);r=(d-a)/d;z=(d-c)/d;f=(d-b)/d;if(1E-4>h.K(r)&&1E-4>h.K(z)&&1E-4>h.K(f))break;f=Math.sqrt(c);d=Math.sqrt(b);f=Math.sqrt(a)*(f+d)+f*d;g+=k/(d*(b+f));k*=.25;a=.25*(a+f);c=.25*(c+f);b=.25*(b+f)}a=r*z;b=f*f;c=a-b;b=a-6*b;r=b+c+c;return 3*g+k*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*f*r)+f*(.1666666666666667*r+f*(-.4090909090909091*c+.1153846153846154*f*a)))/(d*Math.sqrt(d))};b.Lv=function(a,c){for(var b,g,d,n,r=
1;;r=.25*(r+b)){b=(a+c+r)/3;g=2-(b+a)/b;d=2-(b+c)/b;n=2-(b+r)/b;if(1E-4>h.K(g)&&1E-4>h.K(d)&&1E-4>h.K(n))break;b=Math.sqrt(c);g=Math.sqrt(r);b=Math.sqrt(a)*(b+g)+b*g;a=.25*(a+b);c=.25*(c+b)}a=g*d-n*n;c=g*d*n;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(h.Qi(a)||0==c||h.W(h.K(c),1.570796326794897))return c;var b,g,d;if(.006884661117170036>a){b=a*a;g=a*b;d=a*g;var n=a*d,r=a*n,z=a*r,f=-(.02708333333333333*g+.03430059523809524*d+.03149181547619048*
n+.02634359154541446*r+.02156896735835538*z),w=.007669890873015873*d+.01299603174603175*n+.0148051353064374*r+.01454454953803912*z,P=-(.002275545634920635*n+.004830845032667949*r+.006558395368616723*z),W=6.957236677288761E-4*r+.001775193002406544*z,l=-(2.17324089394402E-4*z),m=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*g+.04878472222222222*d+.02916666666666667*n+.01938905423280423*r+.01388255931712963*z)-f+P-l+m*(2*(.1041666666666667*b+.0875*g+.06050347222222222*d+.04151785714285714*
n+.02958958540013228*r+.02203667534722222*z)-4*w+6*W+m*(4*f-12*P+24*l+m*(8*w-32*W+m*(16*P-80*l+m*(32*W+64*m*l))))))}0==c||h.W(h.K(c),1.570796326794897)?b=c:(g=Math.sqrt(a),d=g*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-d)/(1+d),g/2),b=2*Math.atan(b)-1.570796326794897);return b};b.CQ=function(a,c){if(h.Qi(a)||0==c||h.W(h.K(c),1.570796326794897))return c;var b,g;if(.006884661117170036>a){u=a*a;P=a*u;l=a*P;b=a*l;m=a*b;g=a*m;var d=.05833333333333333*P+.07232142857142858*l+.05634300595238095*
b+.0355325796406526*m+.020235546186067*g,n=.02653149801587302*l+.04379960317460317*b+.0429211791776896*m+.03255384637546096*g,r=.01294022817460318*b+.02668104344536636*m+.03155651254609588*g,z=.00659454790965208*m+.0163075268674227*g,f=.003463473736911237*g,w=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*u+.08333333333333333*P+.03611111111111111*l+.01875*b+.01195601851851852*m+.008863673941798942*g-d+r-f+w*(2*(.1458333333333333*u+.1208333333333333*P+.07039930555555556*l+.03616071428571429*
b+.01839451058201058*m+.01017113095238095*g)-4*n+6*z+w*(4*d-12*r+24*f+w*(8*n-32*z+w*(16*r-80*f+w*(32*z+64*w*f))))))}for(var P=Math.sqrt(a),l=P/2,m=Math.tan(.7853981633974483+c/2),d=0,n=1,u=c;0!=n;u=g)if(b=P*Math.sin(u),g=m*Math.pow((1+b)/(1-b),l),g=2*Math.atan(g)-1.570796326794897,d++,h.W(g,u)||3E4<d)n=0;return u};return b}();d.C=f})(h||(h={}));(function(d){var h=function(){function f(b){this.Zl=this.Pt=null;this.vw=!1;this.nB=this.oB=0;this.lB=new d.b;this.yB=new d.b;this.ix=!1;this.kr=new d.h;this.II=
this.fx=0;this.gx=null;this.$k=!1;this.Fr=null;this.LA=0;this.uf=b;this.wt=d.Ib.iw(this.uf,0,!0);this.lB.$c();this.yB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.kl=a,d.Tf.getCode(b)):this.kl=d.Tf.getCode(b);0>this.kl&&(this.kl=0);var c=this.uf.getType();this.vI=c==d.Vc.PE_TYPE_PROJCS?2:1;if(c==d.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw d.g.F("PeProjcs.loadConstants failed");a=c==d.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();c!=d.Vc.PE_TYPE_GEOGCS&&d.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=
a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.nB=b;0!=(c&d.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.oB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=d.Bg.generate(a,d.Bg.PE_PCSINFO_OPTION_NONE),this.$k=this.gx.isPannableRectangle(),this.LA=d.Ib.rP(this.gx.getCentralMeridian(),this.nB)):(this.ix=this.$k=!0,this.oB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
c,this.LA=0);this.$k&&(this.dy(),this.uL(),this.vL(),this.tL(),this.jZ(),this.kZ())}f.prototype.$s=function(){return this.kl};f.prototype.Sj=function(){return this.gx};f.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.kl&&0==a.kl?b.wt===a.wt:!1};f.prototype.Jc=function(){return this.$k};f.prototype.Bh=function(b){b.I(this.gp)};f.prototype.bw=function(){return this.gp.o};f.prototype.aw=function(){return this.gp.v};f.prototype.AT=function(b){b.I(this.hx)};f.prototype.jZ=function(){var b=this.uf.getType();
if(b==d.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),c=b.getGeogcs();if(null==c)throw d.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];d.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[d.Vc.PE_PARM_X0].getValue(),e=this.Lk(),b=new d.h;e.s(b);var e=Math.abs(a-c),a=e+c,c=-1*e+c,e=b.B,b=b.A,g=new d.h;g.I(c,b,a,e);null==this.gp&&(this.gp=g)}else if(b==d.Vc.PE_TYPE_GEOGCS)c=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new d.h,b.I(-c,-c/2,c,c/2),null==
this.gp&&(this.gp=b);else throw d.g.X("internal error");};f.prototype.kZ=function(){var b=this.uf.getType();if(b==d.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw d.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Vs(),e=new d.h;c.s(e);c=new d.h;c.I(b-a,e.A,b+a,e.B);null==this.hx&&(this.hx=c)}else if(b==d.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new d.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw d.g.X("internal error");};f.prototype.ee=function(){return this.nB};f.prototype.bn=function(){return this.oB};f.prototype.Vs=function(){if(this.$k)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};f.prototype.Ws=function(){if(this.$k)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};f.prototype.dy=function(){if(this.uf.getType()==d.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var e=c[0].getNump(),
g=c[0].getKind();b=0<c[0].getInclusive();var k=this.ee(),n=90*k,r=360*k,z=370*k,f=180*k*d.Vc.PE_HORIZON_DELTA/Math.PI,w=new d.h,P=null;if(1<e)for(var h=1;h<e;h++)if(c[h].getKind()==d.Vc.PE_HORIZON_LINE){null==P&&(P=new d.Ua);var l=c[h].getCoord();P.$x(l[0][0],l[0][1]);P.Xj(l[1][0],l[1][1])}if(g==d.Vc.PE_HORIZON_RECT)c=c[0].getCoord(),w.I(c[0][0],c[0][1]),w.Nb(c[1][0],c[1][1]),Math.abs(w.B-n)<1E-7*f&&(w.B=n),Math.abs(w.A+n)<1E-7*f&&(w.A=-n),w.N()>z&&(c=-400*k,w.I(c,w.A,c+5*r,w.B)),c=new d.ci(w),null==
this.Zl&&(this.Zl=c,this.vw=b);else{z=new d.Ja;r=this.Sj().isGcsHorizonMultiOverlap();w=d.Ou.jG(a,d.ts.Integer64);if(r){z=new d.RM;f=d.ei.local().V(z,w,null);for(h=0;h<e;h++)if(c[h].getKind()==d.Vc.PE_HORIZON_POLY){a=c[h].getSize();k=c[h].getCoord();g=[];for(n=0;n<a;n++)g[n]=d.b.pa(k[n][0],k[n][1]);c[h].getInclusive();r&&(k=new d.Ja,k.Bl(g,a-1),z.TY(k),f.Re())}z=f.next()}else for(h=0;h<e;h++)if(c[h].getKind()==d.Vc.PE_HORIZON_POLY){a=c[h].getSize();k=c[h].getCoord();r=[];for(n=0;n<a;n++)r[n]=d.b.pa(k[n][0],
k[n][1]);c[h].getInclusive();z.Bl(r,a-1)}b?d.tk.local().qo(z,w,1):d.cq.local().qo(z,w,1);d.Gj.local().qo(z,w,1);null==this.Zl&&(this.Zl=z,this.vw=b,this.hI=P)}}}};f.prototype.Uv=function(){if(this.$k)return this.vw;null==this.Zl&&this.dy();return this.vw};f.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),e=!1;if(a==d.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new d.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),
b=new d.ci(c);else{a=-1;for(e=0;e<c;e++)b[e].getKind()==d.Vc.PE_HORIZON_POLY&&(a=e);e=b[a].getSize()-1;b=b[a].getCoord();c=[];for(a=0;a<e;a++)c[a]=d.b.pa(b[a][0],b[a][1]);b=a=new d.Ja;a.Bl(c,e);e=!0}this.Sj().isDensificationNeeded()&&(c=1E5*this.bn(),b=d.Jm.local().V(b,c,null));e&&(e=new d.ci,b.Qn(e),b.hf(),b.Rb(),b.hT(),d.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};f.prototype.Lk=function(){if(this.$k)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};f.prototype.vL=
function(){if(this.uf.getType()==d.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];d.fi.geogToProj(this.uf,2,b);var a=this.Sj(),c=a.getNorthPoleLocation()!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.lB.ka(b[0][0],b[0][1]),a&&this.yB.ka(b[1][0],b[1][1]))}this.ix=!0};f.prototype.eA=function(b,a){this.$k||this.ix||this.vL();b?a.L(this.yB):a.L(this.lB)};f.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,
b)}else b=d.Bg.generate(this.uf,d.Bg.PE_PCSINFO_OPTION_DOMAIN),b=d.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};f.prototype.$S=function(b){this.$k&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};f.prototype.dn=function(){return this.eJ};f.prototype.pi=function(){return this.LA};f.prototype.Vd=function(){return this.Fr};f.prototype.Xs=function(){return this.II};return f}();d.UD=h})(h||(h={}));(function(d){var h=function(){function f(b){this.JV=
b;this.wt=d.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:d.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.JV.getUnit();this.XI=1/a.getUnitFactor();d.Tf.getCode(b)}f.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};f.prototype.$s=function(){return this.nt};return f}();d.GN=h})(h||(h={}));(function(d){var h=function(){function f(){}f.Cb=function(b,a,c,e,g,k,n,r){if(null!=k||null!=n||null!=r){e=d.C.da(e);a=d.C.da(a);c=d.C.da(c);g=d.C.da(g);1.570796326794897<d.l.K(c)&&
(c=d.l.Ab(3.141592653589793,c)-c,a=d.C.da(a+3.141592653589793));1.570796326794897<d.l.K(g)&&(g=d.l.Ab(3.141592653589793,g)-g,e=d.C.da(e+3.141592653589793));var z=d.C.da(e-a);if(d.l.W(c,g)&&(d.l.W(a,e)||d.l.W(d.l.K(c),1.570796326794897)))null!=k&&(k.j=0),null!=n&&(n.j=0),null!=r&&(r.j=0);else{if(d.l.W(c,-g)){if(d.l.W(d.l.K(c),1.570796326794897)){null!=k&&(k.j=3.141592653589793*b);null!=n&&(n.j=0<c?d.C.da(3.141592653589793-d.C.da(e)):d.C.da(e));null!=r&&(r.j=0<c?d.C.da(e):d.C.da(3.141592653589793-d.C.da(e)));
return}if(d.l.W(d.l.K(z),3.141592653589793)){null!=k&&(k.j=3.141592653589793*b);null!=n&&(n.j=0);null!=r&&(r.j=0);return}}var f=1.570796326794897==d.l.K(c)?0:Math.cos(c),w=Math.sin(c),h=1.570796326794897==d.l.K(g)?0:Math.cos(g),l=Math.sin(g),m=1.570796326794897==d.l.K(z)?0:Math.cos(z),u=3.141592653589793==d.l.K(z)?0:Math.sin(z);if(null!=k){var p=Math.sin((g-c)/2),z=Math.sin(z/2);k.j=2*Math.asin(Math.sqrt(p*p+f*h*z*z))*b}null!=n&&(d.l.W(d.l.K(c),1.570796326794897)?n.j=0>c?e:d.C.da(3.141592653589793-
e):n.j=Math.atan2(h*u,f*l-w*h*m));null!=r&&(d.l.W(d.l.K(g),1.570796326794897)?r.j=0>g?a:d.C.da(3.141592653589793-a):(r.j=Math.atan2(f*u,l*f*m-h*w),r.j=d.C.da(r.j+3.141592653589793)))}}};f.Uf=function(b,a,c,e,g,k,n){if(null!=k||null!=n){a=d.C.da(a);c=d.C.da(c);1.570796326794897<d.l.K(c)&&(c=d.l.Ab(3.141592653589793,c)-c,a=d.C.da(a+3.141592653589793));d.l.W(d.l.K(c),1.570796326794897)&&(a=0);g=d.C.da(g);var r=d.l.W(d.l.K(g),1.570796326794897)?0:Math.cos(g),z=d.l.W(d.l.K(g),3.141592653589793)?0:Math.sin(g),
f=d.l.W(d.l.K(c),1.570796326794897)?0:Math.cos(c),w=Math.sin(c);b=e/b;e=d.l.W(d.l.K(b),1.570796326794897)?0:Math.cos(b);var h=d.l.W(d.l.K(b),3.141592653589793)?0:Math.sin(b),l=Math.asin(w*e+f*h*r);null!=n&&(n.j=l);null!=k&&(k.j=d.l.W(d.l.K(l),1.570796326794897)?d.l.W(c,-l)?0>l?g:d.C.da(3.141592653589793-g):a:d.l.W(d.l.K(c),1.570796326794897)&&d.l.W(b,3.141592653589793)?0>c?g:d.C.da(3.141592653589793-g):d.C.da(a+Math.atan2(h*z,f*e-w*h*r)))}};return f}();d.vh=h})(h||(h={}));(function(d){var h=function(){function f(){}
f.Cb=function(b,a,c,e,g,k,n,r,z){var f=new d.ea(0),w=new d.ea(0),h=[0,0,0],l=[0,0,0],m=[0,0,0],u=new d.ea(0),p=new d.ea(0),X=new d.ea(0),q=new d.ea(0),t=new d.ea(0);if(null!=n||null!=r||null!=z)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,k,n,r,z);else{g=d.C.da(g);c=d.C.da(c);var x=d.C.da(g-c);if(d.l.W(e,k)&&(d.l.W(c,g)||d.l.W(d.l.K(e),1.570796326794897)))null!=n&&(n.j=0),null!=r&&(r.j=0),null!=z&&(z.j=0);else{if(d.l.W(e,-k)){if(d.l.W(d.l.K(e),1.570796326794897)){null!=n&&(n.j=2*d.C.Yg(b,a));null!=r&&(r.j=0<e?d.C.da(3.141592653589793-
d.C.da(g)):d.C.da(g));null!=z&&(z.j=0<e?d.C.da(g):d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(x),3.141592653589793)&&(null!=n&&(n.j=2*d.C.Yg(b,a)),null!=r&&(r.j=0),null!=z&&(z.j=0))}else if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(k),1.570796326794897))d.l.W(d.l.K(e),1.570796326794897)?c=g:g=c;var ga=0,fa;0>x&&(ga=1,fa=c,c=g,g=fa,fa=e,e=k,k=fa);var x=d.C.du(a,e),v=d.C.du(a,k);if(null!=r||null!=z)d.vh.Cb(b,c,x,g,v,null,f,w),f=Math.atan2(Math.sin(f.j)*Math.cos(e-x),Math.cos(f.j)),
w=Math.atan2(Math.sin(w.j)*Math.cos(k-v),Math.cos(w.j)),0!=ga&&(fa=f,f=w,w=fa),null!=r&&(r.j=f),null!=z&&(z.j=w);null!=n&&(d.C.Ck(1,a,e,c,0,X,q,t),h[0]=X.j,h[1]=q.j,h[2]=t.j,d.C.Ck(1,a,k,g,0,X,q,t),l[0]=X.j,l[1]=q.j,l[2]=t.j,m[0]=h[1]*l[2]-l[1]*h[2],m[1]=-(h[0]*l[2]-l[0]*h[2]),m[2]=h[0]*l[1]-l[0]*h[1],a=1-d.C.Cm(a,d.C.Nr(a,d.C.ik(a,Math.acos(m[2]/Math.sqrt(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]))))),a*=2-a,r=Math.atan2(-m[1],-m[0]),m=d.C.da(r-1.570796326794897),r=d.C.da(r+1.570796326794897),m=d.l.K(d.C.da(c-
m))<=d.l.K(d.C.da(c-r))?m:r,d.vh.Cb(1,m,0,c,x,u,null,null),d.vh.Cb(1,m,0,g,v,p,null,null),3.141592653589793<u.j+p.j&&(m=d.C.da(m+3.141592653589793),d.vh.Cb(1,m,0,c,x,u,null,null),d.vh.Cb(1,m,0,g,v,p,null,null)),u.j*=d.l.Ab(1,e),p.j*=d.l.Ab(1,k),u.j=d.C.ik(a,u.j),p.j=d.C.ik(a,p.j),c=d.C.q(b,a,u.j),b=d.C.q(b,a,p.j),n.j=d.l.K(b-c))}}};f.Uf=function(b,a,c,e,g,k,n,r){var z=0,f=new d.ea(0),w=new d.ea(0),h=[0,0,0],l=[0,0,0],m=new d.ea(0),u=new d.ea(0),p=new d.ea(0);if(null!=n||null!=r)if(d.l.Qi(a))d.vh.Uf(b,
c,e,g,k,n,r);else if(d.l.xd(g))null!=n&&(n.j=c),null!=r&&(r.j=e);else{k=d.C.da(k);0>g&&(g=d.l.K(g),k=d.C.da(k+3.141592653589793));c=d.C.da(c);e=d.C.da(e);1.570796326794897<d.l.K(e)&&(c=d.C.da(c+3.141592653589793),e=d.l.Ab(3.141592653589793,e)-e);d.l.W(d.l.K(e),1.570796326794897)&&(c=0);var X;if(d.l.xd(e))X=d.l.K(1.570796326794897-d.l.K(k)),X=d.C.ik(a,X),X=1-d.C.Cm(a,d.C.Nr(a,X)),X*=2-X,b=g/d.C.Yg(b,X)*1.570796326794897,b=d.C.xp(X,b),b=d.C.du(X,b),d.vh.Uf(1,c,e,b,k,n,f),null!=r&&(z=f.j),null!=r&&(r.j=
d.C.ik(a,z));else if(d.l.W(d.l.K(e),1.570796326794897))z=d.C.Yg(b,a),f=2*z,b=d.l.Ab(1.570796326794897,e),k=0<b?d.C.da(3.141592653589793-k):k,e=z-g,d.l.K(e)<=z?null!=n&&(n.j=k):(e=Math.floor(g/f),0==d.J.truncate(e%2)?(null!=n&&(n.j=k),e=z-(g-e*f)):(null!=n&&(n.j=d.C.da(k+3.141592653589793)),e=z-((e+1)*f-g))),null!=r&&(r.j=d.C.xp(a,e/z*b));else{X=d.C.du(a,e);k=Math.atan2(Math.sin(k),Math.cos(k)*Math.cos(e-X));var q=d.J.truncate(d.l.Ab(1,X))*(1.570796326794897>=d.l.K(k)?1:-1);k=d.C.da(c+Math.atan(Math.tan(k)*
-Math.sin(X)));d.vh.Cb(b,k,0,c,X,null,w,null);X=d.l.K(1.570796326794897-d.l.K(w.j));X=d.C.ik(a,X);X=1-d.C.Cm(a,d.C.Nr(a,X));X*=2-X;d.C.Ck(1,a,0,k,0,m,u,p);h[0]=m.j;h[1]=u.j;h[2]=p.j;d.C.Ck(1,a,e,c,0,m,u,p);l[0]=m.j;l[1]=u.j;l[2]=p.j;e=Math.acos((h[0]*l[0]+h[1]*l[1]+h[2]*l[2])/Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]));e=d.C.ik(X,e);e=d.C.q(b,X,e)+g*q;g=0<e?w.j:d.C.da(w.j+3.141592653589793);b=d.l.K(e)/d.C.Yg(b,X)*1.570796326794897;b=d.C.xp(X,b);b=d.C.du(X,b);d.vh.Uf(1,k,0,b,g,n,f);null!=r&&(z=f.j);
null!=r&&(r.j=d.C.ik(a,z))}}};return f}();d.xl=h})(h||(h={}));(function(d){var h=function(){function f(){}f.Cb=function(b,a,c,e,g,k,n,r,z){var f=0,w=0,h=0;if(null!=n||null!=r||null!=z)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,k,n,r,z);else{var l=d.C.da(g-c);if(d.l.W(e,k)&&(d.l.xd(l)||d.l.W(d.l.K(e),1.570796326794897)))null!=n&&(n.j=0),null!=r&&(r.j=0),null!=z&&(z.j=0);else{if(d.l.W(e,-k)){if(d.l.W(d.l.K(e),1.570796326794897)){null!=n&&(n.j=2*d.C.Yg(b,a));null!=r&&(r.j=0<e?d.C.da(3.141592653589793-d.C.da(g)):d.C.da(g));
null!=z&&(z.j=0<e?d.C.da(g):d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(l),3.141592653589793)&&(null!=n&&(n.j=2*d.C.Yg(b,a)),null!=r&&(r.j=0),null!=z&&(z.j=0))}else{if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(k),1.570796326794897)){d.xl.Cb(b,a,c,e,g,k,n,r,z);return}if(d.l.xd(l)||d.l.W(d.l.K(l),3.141592653589793)){d.xl.Cb(b,a,c,e,g,k,n,r,z);return}}var m=1-Math.sqrt(1-a),u=a/(1-a),p=b*(1-m);b=d.C.Nr(a,e);var X=d.C.Nr(a,k);a=1.570796326794897==d.l.K(b)?0:Math.cos(b);var q=Math.sin(b),
t=1.570796326794897==d.l.K(X)?0:Math.cos(X),x=Math.sin(X),ga=l,fa=Math.cos(ga),v=Math.sin(ga),B=1,y=0,E,C,A,D,F;do{E=ga;C=Math.sqrt(Math.pow(t*v,2)+Math.pow(a*x-q*t*fa,2));A=q*x+a*t*fa;D=Math.atan2(C,A);if(0==C){B=0;break}F=a*t*v/C;f=Math.cos(Math.asin(F));f*=f;w=A-2*q*x/f;1<d.l.K(w)&&(w=d.l.Ab(1,w));h=w*w;ga=m/16*f*(4+m*(4-3*f));ga=l+(1-ga)*m*F*(D+ga*C*(w+ga*A*(2*h-1)));fa=Math.cos(ga);v=Math.sin(ga);y++;if(3.141592653589793<d.l.K(ga)&&30<y){B=0;break}}while(5E3>=y&&!d.l.W(E,ga));if(0!=B)u*=f,m=
u*(256+u*(-128+u*(74-47*u)))/1024,null!=n&&(n.j=p*(1+u*(4096+u*(-768+u*(320-175*u)))/16384)*(D-m*C*(w+m/4*(A*(2*h-1)-m/6*w*(4*C*C-3)*(4*h-3))))),null!=r&&(d.l.W(d.l.K(e),1.570796326794897)?r.j=0>e?g:d.C.da(3.141592653589793-g):r.j=Math.atan2(t*v,a*x-q*t*fa)),null!=z&&(d.l.W(d.l.K(k),1.570796326794897)?z.j=0>k?c:d.C.da(3.141592653589793-c):(z.j=Math.atan2(a*v,a*x*fa-q*t),z.j=d.C.da(z.j+3.141592653589793)));else{ga=d.l.Ab(3.141592653589793,l);A=q*x-a*t;D=Math.acos(A);C=Math.sin(D);f=1;y=F=0;do h=F,
f*=f,fa=f*f,F=m*f*(1+m+m*m),w=m*m*fa*(1+2.25*m),B=m*m*m*fa*f,fa=1-.25*F+.1875*w-.1953125*B,F=.25*F-.25*w+.29296875*B,v=.03125*w-.05859375*B,B*=.00651041666666667,w=A-2*q*x/f,1<d.l.K(w)&&(w=d.l.Ab(1,w)),f=Math.acos(w),A=Math.cos(2*f),E=Math.cos(3*f),F=d.l.W(e,-k)?d.C.da(3.141592653589793-l)/(3.141592653589793*m*fa):d.C.da(ga-l)/(m*(fa*D+F*C*w+v*Math.sin(2*D)*A+B*Math.sin(3*D)*E)),v=F*C/(a*t),ga=1.570796326794897<d.l.K(l)?d.l.Ab(3.141592653589793,v)-Math.asin(v):Math.asin(v),fa=Math.cos(ga),C=Math.sqrt(Math.pow(t*
v,2)+Math.pow(a*x-q*t*fa,2)),D=3.141592653589793-Math.asin(d.l.K(C)),A=Math.cos(D),f=Math.cos(Math.asin(F)),y++;while(70>=y&&!d.l.W(h,F));null!=n&&(f*=f,u*=f,fa=1+u*(4096+u*(-768+u*(320-175*u)))/16384,d.l.W(e,-k)?n.j=3.141592653589793*p*fa:(w=A-2*q*x/f,f=Math.acos(w),A=Math.cos(2*f),E=Math.cos(3*f),n.j=p*(fa*D+u*(-512+u*(128+u*(-60+35*u)))/2048*C*w+u*(-4+5*u)/6144*u*u*Math.sin(2*D)*A+B*Math.sin(3*D)*E+-7.62939453125E-5*u*u*u*u*Math.sin(4*D)*Math.cos(4*f))));null!=r&&(d.l.xd(e)&&d.l.xd(k)?(f=Math.sqrt(1-
F*F),r.j=Math.acos(f),0>l&&(r.j*=-1)):d.l.W(d.l.K(e),1.570796326794897)?r.j=0>e?g:d.C.da(3.141592653589793-g):(n=F/a,p=Math.sqrt(1-n*n),0>a*x-q*t*Math.cos(ga)&&(p*=-1),r.j=Math.atan2(n,p),d.l.W(e,-k)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(0<e&&1.570796326794897>d.l.K(r.j)||0>e&&1.570796326794897<d.l.K(r.j))&&(r.j=d.l.Ab(3.141592653589793,r.j)-r.j)));if(null!=z)if(d.l.xd(e)&&d.l.xd(k))f=Math.sqrt(1-F*F),z.j=Math.acos(f),0<=l&&(z.j*=-1);else if(d.l.W(d.l.K(k),1.570796326794897))z.j=
0>k?c:d.C.da(3.141592653589793-c);else if(l=F/t,n=Math.sqrt(1-l*l),p=Math.sin(ga/2),0>Math.sin(X-b)-2*a*x*p*p&&(n*=-1),z.j=Math.atan2(l,n),z.j=d.C.da(z.j+3.141592653589793),d.l.W(e,-k)&&!d.l.xd(e)&&!d.l.W(d.l.K(e),1.570796326794897)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(null!=r?p=r.j:(n=F/a,p=Math.sqrt(1-n*n),0>a*x-q*t*Math.cos(ga)&&(p*=-1),p=Math.atan2(n,p),d.l.W(e,-k)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(0<e&&1.570796326794897>d.l.K(p)||0>e&&1.570796326794897<
d.l.K(p))&&(p=d.l.Ab(3.141592653589793,p)-p)),1.570796326794897>=d.l.K(p)&&1.570796326794897<d.l.K(z.j)||1.570796326794897<=d.l.K(p)&&1.570796326794897>d.l.K(z.j)))z.j=-1*d.C.da(z.j+3.141592653589793)}}}};f.Uf=function(b,a,c,e,g,k,n,r){if(null!=n||null!=r)if(d.l.Qi(a))d.vh.Uf(b,c,e,g,k,n,r);else if(k=d.C.da(k),d.l.W(d.l.K(e),1.570796326794897)||d.l.xd(k)||d.l.W(d.l.K(k),3.141592653589793))d.xl.Uf(b,a,c,e,g,k,n,r);else{var z=1.570796326794897==d.l.K(k)?0:Math.cos(k),f=3.141592653589793==d.l.K(k)?0:
Math.sin(k);d.l.W(d.l.K(e),1.570796326794897)&&(c=0);k=1-Math.sqrt(1-a);var w=d.C.Nr(a,e);e=1.570796326794897==d.l.K(w)?0:Math.cos(w);var h=Math.sin(w),w=Math.atan2(Math.tan(w),z),l=e*f,m=l*l,u=1-m,p=a/(1-a)*u;a=p*(256+p*(-128+p*(74-47*p)))/1024;var X=a/4,q=a/6,t=g/(b*(1-k)*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)),x=t,v;do{v=x;g=1.570796326794897==d.l.K(x)?0:Math.cos(x);var p=3.141592653589793==d.l.K(x)?0:Math.sin(x),fa=p*p;b=Math.cos(2*w+x);x=b*b;x=a*p*(b+X*(g*(2*x-1)-q*b*(4*fa-3)*(4*x-3)))+t}while(!d.l.W(v,
x));g=1.570796326794897==d.l.K(x)?0:Math.cos(x);p=3.141592653589793==d.l.K(x)?0:Math.sin(x);null!=n&&(f=Math.atan2(p*f,e*g-h*p*z),u=k/16*u*(4+k*(4-3*u)),b=Math.cos(2*w+x),n.j=d.C.da(c+(f-(1-u)*k*l*(x+u*p*(b+u*g*(2*b*b-1))))));null!=r&&(u=h*p-e*g*z,u=(1-k)*Math.sqrt(m+u*u),r.j=Math.atan2(h*g+e*p*z,u))}};return f}();d.Nu=h})(h||(h={}));(function(d){var h=function(){function f(){}f.Cb=function(b,a,c,e,g,k,n,r,z){var f=d.C.da(g-c),w=d.l.W(d.l.K(e),1.570796326794897),h=d.l.W(d.l.K(k),1.570796326794897);
if(d.l.W(e,k)&&(d.l.xd(f)||w))null!=n&&(n.j=0),null!=r&&(r.j=0),null!=z&&(z.j=0);else{var l,m;d.l.Qi(a)?(l=Math.sin(e),m=Math.sin(k),l=Math.sqrt((1+l)/(1-l)),m=Math.sqrt((1+m)/(1-m)),l=Math.log(m)-Math.log(l),l=Math.atan2(f,l),null!=n&&(n.j=d.l.W(e,k)?d.l.K(b*Math.cos(e)*f):d.l.K((b*k-b*e)/Math.cos(l)))):(m=d.C.Cx(a,k),l=Math.sin(d.C.Cx(a,e)),m=Math.sin(m),l=Math.sqrt((1+l)/(1-l)),m=Math.sqrt((1+m)/(1-m)),l=Math.log(m)-Math.log(l),l=Math.atan2(f,l),null!=n&&(d.l.W(e,k)?n.j=d.l.K(b*f*Math.cos(e)/d.C.Cm(a,
e)):(f=d.C.q(b,a,e),b=d.C.q(b,a,k),n.j=d.l.K((b-f)/Math.cos(l)))));if(null!=r||null!=z)n=d.C.da(l+3.141592653589793),w&&h||!w&&!h||(w?l=0>e?g:d.C.da(3.141592653589793-g):h&&(n=0>k?c:d.C.da(3.141592653589793-c))),null!=r&&(r.j=l),null!=z&&(z.j=n)}};f.Uf=function(b,a,c,e,g,k,n,r){k=d.C.da(k);0>g&&(g=d.l.K(g),k=d.C.da(k+3.141592653589793));d.l.Qi(a)?d.l.W(d.l.K(e),1.570796326794897)?(c=0>e?k:d.C.da(3.141592653589793-k),k=g/b%6.283185307179586,3.141592653589793>=k?b=e-d.l.Ab(k,e):(c=d.C.da(c+3.141592653589793),
b=-e+d.l.Ab(k-3.141592653589793,e))):d.l.W(d.l.K(k),1.570796326794897)?(c=d.C.da(c+d.l.Ab(g,k)/(b*Math.cos(e))),b=e):(b=e+g*Math.cos(k)/b,1.570796326794897<d.l.K(b)&&(b=1.570796326794897),d.l.W(d.l.K(b),1.570796326794897)&&(d.l.xd(k)||d.l.W(d.l.K(k),3.141592653589793))||(1.570796316258184<d.l.K(b)&&(b=d.l.Ab(1.570796316258184,b)),a=Math.sin(e),e=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),e=Math.sqrt((1+e)/(1-e)),a=Math.log(e)-Math.log(a),c=d.C.da(c+Math.tan(k)*a))):d.l.W(d.l.K(e),1.570796326794897)?(c=
0>e?k:d.C.da(3.141592653589793-k),k=g/d.C.qX(b,a),k%=6.283185307179586,3.141592653589793>=k?(b=e-d.l.Ab(k,e),b=d.C.xp(a,b)):(c=d.C.da(c+3.141592653589793),b=-e+d.l.Ab(k-3.141592653589793,e),b=d.C.xp(a,b))):d.l.W(d.l.K(k),1.570796326794897)?(c=d.C.da(c+d.l.Ab(g,k)*d.C.Cm(a,e)/(b*Math.cos(e))),b=e):(b=1.570796326794897*(g*Math.cos(k)+d.C.q(b,a,e))/d.C.Yg(b,a),1.570796326794897<d.l.K(b)&&(b=d.l.Ab(1.570796326794897,b)),b=d.C.xp(a,b),d.l.W(d.l.K(b),1.570796326794897)&&(d.l.xd(k)||d.l.W(d.l.K(k),3.141592653589793))||
(g=d.C.Cx(a,e),e=d.C.Cx(a,b),1.570796316258184<d.l.K(e)&&(e=d.l.Ab(1.570796316258184,b),b=d.C.CQ(a,e)),a=Math.sin(g),e=Math.sin(e),a=Math.sqrt((1+a)/(1-a)),e=Math.sqrt((1+e)/(1-e)),a=Math.log(e)-Math.log(a),c=d.C.da(c+Math.tan(k)*a)));null!=n&&(n.j=c);null!=r&&(r.j=b)};return f}();d.VD=h})(h||(h={}));(function(d){var h=function(){function f(){}f.Gz=function(b,a,c,e,g,k,n){d.Nu.Cb(b,a,c,e,g,k,null,n,null)};f.Xi=function(b,a,c,e,g,k,n,r){d.Nu.Uf(b,a,c,e,g,k,n,r)};f.Ld=function(b,a,c,e,g,k,n,r,z,f){switch(f){case 2:d.xl.Cb(b,
a,c,e,g,k,n,r,z);break;case 3:d.WD.Cb(b,a,c,e,g,k,n,r,z);break;case 1:d.VD.Cb(b,a,c,e,g,k,n,r,z);break;default:d.Nu.Cb(b,a,c,e,g,k,n,r,z)}};f.Oj=function(b,a,c,e,g,k,n,r,z){switch(z){case 2:d.xl.Uf(b,a,c,e,g,k,n,r);break;case 3:d.WD.Uf(b,a,c,e,g,k,n,r);break;case 1:d.VD.Uf(b,a,c,e,g,k,n,r);break;default:d.Nu.Uf(b,a,c,e,g,k,n,r)}};return f}();d.mb=h})(h||(h={}));(function(d){var h=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new d.Xb;b.x.set(c.x);b.y=new d.Xb;b.y.set(c.y);
return b};a.bG=function(c,b){var e=new a;e.x=new d.Xb;e.x.set(c);e.y=new d.Xb;e.y.set(b);return e};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return d.b.pa(this.x.value(),this.y.value())};return a}();d.IZ=h;var f=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new d.Xb;b.x.set(c.x);b.y=new d.Xb;b.y.set(c.y);b.z=new d.Xb;b.z.set(c.z);return b};a.bG=function(c,b,g){var e=new a;e.x=new d.Xb;e.x.set(c);e.y=new d.Xb;e.y.set(b);
e.z=new d.Xb;e.z.set(g);return e};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new d.pd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var c=new d.Xb,b=new d.Xb,k=new d.Xb;c.pm(this.x,a.x);b.pm(this.y,a.y);k.pm(this.z,a.z);a=new d.Xb;a.cP(c,b);a.add(k);return a};a.prototype.kG=function(c){var b=new a;b.x.pm(this.y,c.z);b.y.pm(this.z,c.x);b.z.pm(this.x,c.y);var g=new d.Xb,k=new d.Xb,n=new d.Xb;g.pm(this.z,c.y);
k.pm(this.x,c.z);n.pm(this.y,c.x);b.x.sub(g);b.y.sub(k);b.z.sub(n);return b};return a}();d.JZ=f;var b=function(){function a(){}a.qO=function(c,b,g){var e=b.x;b=b.y;a.Ck(1,c,Math.cos(e),Math.sin(e),Math.cos(b),Math.sin(b),g)};a.nO=function(c,b){var e=new d.pd;a.qO(c,b,e);return e};a.HZ=function(c,b,g,k,n,r){var e=new d.pd;a.Ck(c,b,g,k,n,r,e);return e};a.Ck=function(a,b,g,d,n,r,z){a/=Math.sqrt(1-b*r*r);z.I(a*n*g,a*n*d,a*(1-b)*r)};a.Su=function(a,b){var c=new d.Xb,e=new d.Xb,n=new d.Xb,r=new d.Xb;c.cos(b.x);
e.sin(b.x);n.cos(b.y);r.sin(b.y);b=new d.Xb;b.set(r);b.Vg(r);b.yp(a);b.yp(-1);b.jP();b.sqrt();var z=new d.Xb;z.set(1);z.Wm(b);b=new d.Xb;b.set(z);b.Vg(n);b.Vg(c);c=new d.Xb;c.set(z);c.Vg(n);c.Vg(e);e=new d.Xb;e.set(z);e.yp(1-a);e.Vg(r);return f.bG(b,c,e)};a.MN=function(a,b,g){var c=b.x,e=b.y;g.ka(Math.atan2(e,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+e*e)))};a.Y_=function(c,b,g){c=new d.b;a.MN(b,g,c);return c};a.NU=function(c,b,g,k){if(Math.abs(b.x-g.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(g.y)>
.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(g.y)==.5*Math.PI)&&b.x!=g.x)return NaN;k=a.SC(k,Math.min(b.x,g.x),Math.max(b.x,g.x));if(!(new d.zc(b.x,g.x)).contains(k))return NaN;var e=h.pa(b);g=h.pa(g);e=a.Su(c,e);g=a.Su(c,g);g=e.kG(g);if(g.z.Lg())return b=b.y;var r=new d.Xb;r.set(g.x);r.Wm(g.z);r.yp(-1);var z=new d.Xb;z.set(g.y);z.Wm(g.z);z.yp(-1);var f=new d.Xb;f.set(z);f.Vg(z);e=new d.Xb;e.set(r);e.Vg(r);e.add(f);e.sqrt();if(e.Lg()||r.Lg()&&z.Lg())return b=b.y;b=Math.atan2(z.value(),r.value());
b=Math.atan2(e.value()*Math.cos(b-k),1-c);k=a.nO(c,d.b.pa(k,b));c=new d.pd(k.x,k.y,-k.z);k=g.value().oi(k);c=g.value().oi(c);Math.abs(c)<Math.abs(k)&&(b=-b);return b};a.vA=function(c,b,g,k,n,r){r[0]=NaN;r[1]=NaN;if(Math.abs(g.x-k.x)>Math.PI||Math.abs(g.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(g.y)==.5*Math.PI||Math.abs(k.y)==.5*Math.PI)&&g.x!=k.x||Math.abs(n)>=.5*Math.PI||0<g.y&&0<k.y&&g.y>n&&k.y>n||0>g.y&&0>k.y&&g.y<n&&k.y<n)return 0;var e=h.pa(g);c=h.pa(k);e=a.Su(b,e);c=a.Su(b,c);var f=
e.kG(c);if(f.z.Lg())return(new d.zc(g.y,k.y)).contains(n)?(r[0]=g.x,1):0;c=new d.Xb;c.set(f.x);c.Wm(f.z);c.yp(-1);e=new d.Xb;e.set(f.y);e.Wm(f.z);e.yp(-1);f=new d.Xb;f.set(e);f.Vg(e);var w=new d.Xb;w.set(c);w.Vg(c);w.add(f);w.sqrt();if(w.Lg()||c.Lg()&&e.Lg())return 0==n?(r[0]=g.x,r[1]=k.x,2):0;b=(1-b)*Math.tan(n)/w.value();if(1<Math.abs(b))return 0;b=Math.acos(b);f=Math.atan2(e.value(),c.value());c=Math.min(g.x,k.x);e=Math.max(g.x,k.x);k=a.SC(f-b,c,e);b=0!=n?a.SC(f+b,c,e):k;n=0;c<=k&&k<=e&&(r[n]=
k,n++);b!=k&&c<=b&&b<=e&&(r[n]=b,n++,2==n&&Math.abs(r[0]-g.x)>Math.abs(r[1]-g.x)&&(g=r[0],r[0]=r[1],r[1]=g));return n};a.SC=function(a,b,g){a>g?(b=Math.ceil((a-g)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.LB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();d.yy=b})(h||(h={}));(function(d){var h=function(){function f(){}f.UY=function(b,a){var c=8;0>c&&(c=8);var e=[0,
0,0,0],g=new d.b;g.L(a);g.scale(9102==d.fb.lc(b).Vd().Cc()?1:d.fb.lc(b).Vd().Ai/3.141592653589793*180);-180>g.x?(g.x-=g.x%360,-180>g.x&&(g.x+=360)):180<g.x&&(g.x-=g.x%360,180<g.x&&(g.x-=360));90<g.y&&(g.y=90);-90>g.y&&(g.y=-90);b=5*c;a=(b+31)/32;for(var k=-180,n=180,r=b-1,z=a-1;0<=z;z--)for(var I=r-32*z,w=Math.min(32,b-32*z),h=1;h<w;h+=2){var l=.5*(n+k);g.x>=l?(e[z]|=1<<I,k=l):n=l;I-=2;r-=2}k=-90;n=90;r=b-2;for(z=a-1;0<=z;z--)for(I=r-32*z,w=Math.min(32,b-32*z),h=0;h<w;h+=2)l=.5*(n+k),g.y>=l?(e[z]|=
1<<I,k=l):n=l,I-=2,r-=2;return f.wO(e,c,c)};f.wO=function(b,a,c){for(var e=[],g=0;g<a;g++)e[g]="";for(var d=g=0,n=0;n<a;n++){var r=b[g]>>d&31,d=d+5;if(31<d){var z=37-d,r=r&(1<<z)-1,d=d-32;g++;r|=(b[g]&(1<<d)-1)<<z}e[a-1-n]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[r]}if(c>a)for(n=0;n<c-a;n++)e.push("0");else c<a&&(e.length=c);return e.join("")};return f}();d.tM=h})(h||(h={}));(function(d){var h={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,
5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,
27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,
48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,
70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,
91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,
112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,
2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,
153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,
3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,
2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,
2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,
2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,
2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,
2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,
102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,
3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,
4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,
4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,
5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,
6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,
6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,
6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,
6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,
6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,
6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,
6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,
6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,
6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,
103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,
103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,
102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,
102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,
31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,
11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,
5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,
10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,
5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,
11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,
6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,
10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,
5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,
5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,
5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,
32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,
11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,
11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,
5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,
5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,
11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,
3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,
5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,
5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,
5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,
5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],
[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],
[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,
5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,
103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,
5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],
[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,
4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,
55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,
84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,
55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,
66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,
75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,
84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,
104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,
104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,
127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,
113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,
104186,75],[104257,104260,75]]},f={c:[[2E3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,
2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],
[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,
9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,
4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],
[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,
9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,
9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,
24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],
[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,
9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,
102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,
102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,
103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,
9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,
3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,
9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,
3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,
9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,
3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,
9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,
5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,
9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,
6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,
9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,
6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,
9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,
6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,
9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,
7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,
9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,
7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,
9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,
8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,
9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,
8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,
20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,
26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,
9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,
102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,
102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,
103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,
103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,
103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},b=function(){function a(){}a.Cz=function(c){!1===a.tl&&a.hq();var b=a.fU(c);if(-1==b){var g=
a.Qv(c);g!=c&&(b=a.Cz(g))}-1==b&&(g=a.AL(c),g!=c&&(b=a.Cz(g)));return b};a.fU=function(c){return void 0!==a.hv[c]?a.hv[c]:-1};a.vS=function(c){!1===a.tl&&a.hq();var b=a.LF(c);if(1E38==b){var g=a.Qv(c);g!=c&&(b=a.LF(g));if(1E38==b)return 1E-10}return b};a.TU=function(c){if(void 0!==a.$p[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.$p[b]?!0:!1};a.VU=function(c){if(void 0!==a.Dj[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.Dj[b]?!0:!1};a.LF=function(c){!1===a.tl&&a.hq();return void 0!==a.$p[c]?
a.$p[c]:void 0!==a.Dj[c]?a.Dj[c]:1E38};a.AL=function(c){!1===a.tl&&a.hq();return void 0!==a.IC[c]?a.IC[c]:c};a.Qv=function(c){!1===a.tl&&a.hq();return void 0!==a.QC[c]?a.QC[c]:c};a.hq=function(){for(var c=h,b,g=0;g<c.pcsid.length;g+=2)a.Dj[c.pcsid[g]]=c.pcstol[2*c.pcsid[g+1]+1];for(g=0;g<c.pcsidc.length;g+=1){b=c.pcsidc[g];for(var d=b[0];d<=b[1];d++)a.Dj[d]=c.pcstol[2*b[2]+1]}for(g=0;g<c.gcsid.length;g+=2)a.$p[c.gcsid[g]]=c.gcstol[2*c.gcsid[g+1]+1];for(g=0;g<c.gcsidc.length;g+=1)for(b=c.gcsidc[g],
d=b[0];d<=b[1];d++)a.Dj[d]=c.gcstol[2*b[2]+1];for(g=0;g<f.c.length;g+=1)for(b=f.c[g],d=b[0];d<=b[1];d++)a.hv[d]=b[2];for(g=0;g<f.nc.length;g+=2)a.hv[f.nc[g]]=f.nc[g+1];f=null;for(g=0;g<c.newtoold.length;g+=2)a.IC[c.newtoold[g+1]]=c.newtoold[g],a.QC[c.newtoold[g]]=c.newtoold[g+1];h=null;a.tl=!0};a.tl=!1;a.$p=[];a.Dj=[];a.IC=[];a.QC=[];a.hv=[];return a}();d.us=b})(h||(h={}));(function(d){function h(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var f=[],b=
function(){function a(){}a.xS=function(c){try{for(var b=0;b<f.length;b++)if(f[b].wkttext===c)return f[b].unit;for(var g,k=b="",n=!1,r=0;r<c.length;r++){var z=c[r];!0===n?'"'==z?'"'==c[r+1]?b+=z:n=!1:b+=z:/[\s]/.test(z)||(","==z?(k=""!==b?k+(h(b)+","):k+",",b=""):")"==z||"]"==z?(k=""!==b?k+(h(b)+"]}"):k+"]}",b=""):"("==z||"["==z?(k+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==z?(n=!0,b=""):b+=z)}g=JSON.parse(k);var I=a.qF(g);if(null===I)return null;g=null;for(z=0;z<I.values.length;z++)if("object"===
typeof I.values[z]&&"UNIT"===I.values[z].entity){g=I.values[z];break}if(null===g)return null;var w=d.kc.cR("GEOGCS"===I.entity?1:0,g.values[1],g.values[2]);f.push({wkttext:c,unit:w});10<f.length&&f.shift();return w}catch(P){return null}};a.qF=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],g=0;g<c.values.length;g++)if("object"===typeof c.values[g]&&void 0!==c.values[g].entity){if("GEOGCS"===c.values[g].entity||"PROJCS"==c.values[g].entity)return c.values[g];
b.push(c.values[g])}for(c=0;c<b.length;c++)if(g=a.qF(b[c]),null!==g)return g;return null};a.wS=function(a){var c=-1;if(null!=a&&0<a.length){var b,d;b=a.indexOf("PROJCS");if(0<=b){var n=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,d=a.indexOf("]",b+1),0<d)))try{n=parseFloat(a.substring(b,d))}catch(z){n=0}0<n&&(c=.001/n)}else if(b=a.indexOf("GEOGCS"),0<=b){var r=0,n=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;d=a.indexOf(",",b+1);if(0<d)try{r=parseFloat(a.substring(b,
d))}catch(z){r=0}if(0<r&&(b=a.indexOf("UNIT",d+1),0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,d=a.indexOf("]",b+1),0<d))))try{n=parseFloat(a.substring(b,d))}catch(z){n=0}}0<r&&0<n&&(c=.001/(r*n))}}return c};return a}();d.pE=b})(h||(h={}));(function(d){(function(d){d[d.NONE=0]="NONE";d[d.LINEAR=1]="LINEAR";d[d.ANGULAR=2]="ANGULAR"})(d.GM||(d.GM={}));(function(d){d[d.enumFloat=0]="enumFloat";d[d.enumDouble=1]="enumDouble";d[d.enumInt32=2]="enumInt32";d[d.enumInt64=3]="enumInt64";d[d.enumInt8=4]="enumInt8";
d[d.enumInt16=5]="enumInt16"})(d.HN||(d.HN={}));(function(d){d[d.POSITION=0]="POSITION";d[d.Z=1]="Z";d[d.M=2]="M";d[d.ID=3]="ID";d[d.NORMAL=4]="NORMAL";d[d.TEXTURE1D=5]="TEXTURE1D";d[d.TEXTURE2D=6]="TEXTURE2D";d[d.TEXTURE3D=7]="TEXTURE3D";d[d.ID2=8]="ID2";d[d.MAXSEMANTICS=10]="MAXSEMANTICS"})(d.Wc||(d.Wc={}));var h=function(){function f(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=
a.bm;this.Qt=[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=b,b+=f.Xa(this.wg[a]);this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=f.Xa(this.qd(a));for(var c=f.de(this.qd(a)),e=0;e<b;e++)this.af[this.Qt[a]+e]=c}}else this.Er=this.Ga=0}f.prototype.qd=function(b){if(0>b||b>this.Ga)throw d.g.F();return this.wg[b]};f.prototype.mg=function(b){return this.Sh[b]};f.Xz=function(b){return f.tc[b]};f.si=function(b){return f.bd[b]};f.Mg=function(b){return f.fe[b]};f.Cj=function(b){return f.Mg(f.si(b))*f.Xa(b)};f.Xa=function(b){return f.Bb[b]};
f.Wg=function(b){return 2>b};f.rk=function(b){return f.Wg(f.si(b))};f.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};f.prototype.uH=function(){return this.hasAttribute(1)};f.de=function(b){return f.$[b]};f.prototype.FT=function(b){return this.Qt[b]};f.PH=function(b,a){return f.$[b]===a};f.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw d.g.F();};f.prototype.Eb=function(b){return this===b};f.prototype.zk=function(){for(var b=d.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=d.J.dh(this.wg[a],
b);return b};f.prototype.wk=function(b){return this.Qt[b]};f.prototype.jc=function(){return this.bm};f.prototype.Sd=function(b){return this.wg[b]};f.$=[0,0,NaN,0,0,0,0,0,0];f.tc=[1,1,1,0,2,1,1,1,0];f.bd=[1,1,1,2,0,0,0,0,2];f.fe=[4,8,4,8,1,2];f.Bb=[2,1,1,1,3,1,2,3,2];return f}();d.ma=h})(h||(h={}));(function(d){function h(a,b,g,d){var c=a.Jd,e=a.e+b+1;1===g?d=5<=c[e]:2===g?d=5<c[e]||5==c[e]&&(d||0>e||void 0!==c[e+1]||c[e-1]&1):3===g?d=d||void 0!==c[e]||0>e:(d=!1,0!==g&&f("!Big.RM!"));if(1>e||!c[0])d?
(a.e=-b,a.Jd=[1]):a.Jd=[a.e=0];else{c.length=e--;if(d)for(;9<++c[e];)c[e]=0,e--||(++a.e,c.unshift(1));for(e=c.length;!c[--e];c.pop());}}function f(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.me=c.me,this.e=c.e,this.Jd=c.Jd.slice();else{var e,d,n;0===c&&0>1/c?c="-0":b.test(c+="")||f(NaN);this.me="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(e=c.indexOf("."))&&(c=c.replace(".",""));0<(d=c.search(/e/i))?(0>e&&(e=d),
e+=+c.slice(d+1),c=c.substring(0,d)):0>e&&(e=c.length);for(d=0;"0"==c.charAt(d);d++);if(d==(n=c.length))this.Jd=[this.e=0];else{for(;"0"==c.charAt(--n););this.e=e-d-1;this.Jd=[];for(e=0;d<=n;this.Jd[e++]=+c.charAt(d++));}}}a.prototype.abs=function(){var c=new a(this);c.me=1;return c};a.prototype.SF=function(){var c=0,b=this.Jd,d=(c=new a(c)).Jd,n=this.me,r=c.me,z=this.e,f=c.e;if(!b[0]||!d[0])return b[0]?n:d[0]?-r:0;if(n!=r)return n;c=0>n;if(z!=f)return z>(f^c)?1:-1;n=-1;for(r=(z=b.length)<(f=d.length)?
z:f;++n<r;)if(b[n]!=d[n])return b[n]>(d[n]^c)?1:-1;return z==f?0:z>(f^c)?1:-1};a.prototype.Wm=function(c){var b=this.Jd,e=(c=new a(c)).Jd,d=this.me==c.me?1:-1,r=a.bd;(r!==~~r||0>r||1E6<r)&&f("!Big.DP!");if(!b[0]||!e[0])return b[0]==e[0]&&f(NaN),e[0]||f(d/0),new a(0*d);var z,I,w,P,l=e.slice(),m=z=e.length,u=b.length,p=b.slice(0,z),X=p.length,q=c,t=q.Jd=[],x=0,v=r+(q.e=this.e-c.e)+1;q.me=d;d=0>v?0:v;for(l.unshift(0);X++<z;p.push(0));do{for(I=0;10>I;I++){if(z!=(X=p.length))w=z>X?1:-1;else for(P=-1,w=
0;++P<z;)if(e[P]!=p[P]){w=e[P]>p[P]?1:-1;break}if(0>w){for(c=X==z?e:l;X;){if(p[--X]<c[X]){for(P=X;P&&!p[--P];p[P]=9);--p[P];p[X]+=10}p[X]-=c[X]}for(;!p[0];p.shift());}else break}t[x++]=w?I:++I;p[0]&&w?p[X]=b[m]||0:p=[b[m]]}while((m++<u||void 0!==p[0])&&d--);t[0]||1==x||(t.shift(),q.e--);x>v&&h(q,r,a.Mg,void 0!==p[0]);return q};a.prototype.aU=function(){return 0<this.SF()};a.prototype.pV=function(){return 0>this.SF()};a.prototype.Zt=function(c){var b,e,d=this.me,r=(c=new a(c)).me;if(d!=r)return c.me=
-r,this.EJ(c);var z=this.Jd.slice();e=this.e;var f=c.Jd,w=c.e;if(!z[0]||!f[0])return f[0]?(c.me=-r,c):new a(z[0]?this:0);if(d=e-w){(b=0>d)?(d=-d,e=z):(w=e,e=f);e.reverse();for(r=d;r--;e.push(0));e.reverse()}else for(e=((b=z.length<f.length)?z:f).length,d=r=0;r<e;r++)if(z[r]!=f[r]){b=z[r]<f[r];break}b&&(e=z,z=f,f=e,c.me=-c.me);if(0<(r=(e=f.length)-(b=z.length)))for(;r--;z[b++]=0);for(r=b;e>d;){if(z[--e]<f[e]){for(b=e;b&&!z[--b];z[b]=9);--z[b];z[e]+=10}z[e]-=f[e]}for(;0==z[--r];z.pop());for(;0==z[0];)z.shift(),
--w;z[0]||(c.me=1,z=[w=0]);c.Jd=z;c.e=w;return c};a.prototype.EJ=function(c){var b,e=this.me;b=(c=new a(c)).me;if(e!=b)return c.me=-b,this.Zt(c);b=this.e;var d=this.Jd,r=c.e,z=c.Jd;if(!d[0]||!z[0])return z[0]?c:new a(d[0]?this:0*e);d=d.slice();if(e=b-r){0<e?(r=b,b=z):(e=-e,b=d);for(b.reverse();e--;b.push(0));b.reverse()}0>d.length-z.length&&(b=z,z=d,d=b);e=z.length;for(b=0;e;)b=(d[--e]=d[e]+z[e]+b)/10|0,d[e]%=10;b&&(d.unshift(b),++r);for(e=d.length;0==d[--e];d.pop());c.Jd=d;c.e=r;return c};a.prototype.pow=
function(c){var b=this,e=new a(1),d=e,r=0>c;(c!==~~c||-1E6>c||1E6<c)&&f("!pow!");for(c=r?-c:c;;){c&1&&(d=d.ds(b));c>>=1;if(!c)break;b=b.ds(b)}return r?e.Wm(d):d};a.prototype.round=function(c,b){var e=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&f("!round!");h(e=new a(e),c,null==b?a.Mg:b);return e};a.prototype.sqrt=function(){var c,b,d;b=this.Jd;c=this.me;d=this.e;var n=new a("0.5");if(!b[0])return new a(this);0>c&&f(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+d&1||(c+="0"),b=
new a(Math.sqrt(c).toString()),b.e=((d+1)/2|0)-(0>d||d&1)):b=new a(c.toString());c=b.e+(a.bd+=4);do d=b,b=n.ds(d.EJ(this.Wm(d)));while(d.Jd.slice(0,c).join("")!==b.Jd.slice(0,c).join(""));h(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(c){var b,e=this.Jd,d=(c=new a(c)).Jd,r=e.length,z=d.length,f=this.e,w=c.e;c.me=this.me==c.me?1:-1;if(!e[0]||!d[0])return new a(0*c.me);c.e=f+w;r<z&&(b=e,e=d,d=b,w=r,r=z,z=w);for(b=Array(w=r+z);w--;b[w]=0);for(f=z;f--;){z=0;for(w=r+f;w>f;)z=b[w]+d[f]*e[w-f-1]+z,
b[w--]=z%10,z=z/10|0;b[w]=(b[w]+z)%10}z&&++c.e;b[0]||b.shift();for(f=b.length;!b[--f];b.pop());c.Jd=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Jd.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.me&&this.Jd[0]?"-"+c:c};a.bd=20;a.Mg=1;return a}();d.Tp=a})(h||(h=
{}));(function(d){var h=function(){function b(a){this.Nf=a}b.prototype.hs=function(a,c,b){var e=new d.b,k=new d.b,n=this.Nf;b.Gd(a,c,function(a,c){n.fc(2*a,e);n.fc(2*c,k);return e.compare(k)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),f=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.hf()?!1:!0:1607==c?(c=[!1],b.nE(a,!0,c),c[0]):197==c||d.T.Oc(c)&&!a.OH()?!0:!1};b.Rm=function(a){var c=a.G();if(1736==c)return c=new d.Ua(a.description),
a.u()||a.yE(c),c;if(1607==c)return b.nE(a,!1,null);if(197==c)return c=new d.Ua(a.description),a.u()||c.jd(a,!1),c;if(d.T.Oc(c)){c=new d.Ed(a.description);if(!a.u()&&!a.OH()){var e=new d.Wa;a.Dp(e);c.add(e);a.Bp(e);c.add(e)}return c}if(d.T.Jo(c))return null;throw d.g.F();};b.nE=function(a,c,b){null!=b&&(b[0]=!1);var e=null;c||(e=new d.Ed(a.description));if(!a.u()){var k=new d.ia(0);k.yb(2*a.aa());for(var n=0,r=a.aa();n<r;n++)if(0<a.La(n)&&!a.Eo(n)){var z=a.wa(n);k.add(z);z=a.Gc(n)-1;k.add(z)}if(0<
k.size){r=new d.Hu;n=a.Pa(0);r.sort(k,0,k.size,new h(n));r=new d.b;n.fc(2*k.get(0),r);for(var z=0,f=1,w=new d.Wa,P=new d.b,l=1,m=k.size;l<m;l++)if(n.fc(2*k.get(l),P),P.ub(r))k.get(z)>k.get(l)?(k.set(z,2147483647),z=l):k.set(l,2147483647),f++;else{if(0==(f&1))k.set(z,2147483647);else if(c)return null!=b&&(b[0]=!0),null;r.L(P);z=l;f=1}if(0==(f&1))k.set(z,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(k.Gd(0,k.size,function(a,c){return a-c}),l=0,m=k.size;l<m&&2147483647!=k.get(l);l++)a.Ae(k.get(l),
w),e.add(w)}}return c?null:e};return b}();d.Pi=f})(h||(h={}));(function(d){var h=function(){function f(){this.ag=new d.ia(0);this.ut=new d.ia(0);this.UI=1;this.At=NaN}f.prototype.sort=function(b,a,c,e){if(32>c-a)e.hs(a,c,b);else{var g=!0;try{for(var d=Infinity,n=-Infinity,r=a;r<c;r++){var z=e.Qq(b.get(r));z<d&&(d=z);z>n&&(n=z)}if(this.reset(c-a,d,n,c-a)){for(r=a;r<c;r++){var f=b.get(r),z=e.Qq(f),w=this.LG(z);this.ag.set(w,this.ag.get(w)+1);this.ut.write(r-a,f)}var h=this.ag.get(0);this.ag.set(0,0);
for(var r=1,l=this.ag.size;r<l;r++){var m=this.ag.get(r);this.ag.set(r,h);h+=m}for(r=a;r<c;r++){var f=this.ut.read(r-a),z=e.Qq(f),w=this.LG(z),u=this.ag.get(w);b.set(u+a,f);this.ag.set(w,u+1)}g=!1}}catch(ja){this.ag.resize(0),this.ut.resize(0)}if(g)e.hs(a,c,b);else{r=c=0;for(l=this.ag.size;r<l;r++)g=c,c=this.ag.get(r),c>g&&e.hs(a+g,a+c,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};f.prototype.reset=function(b,a,c,e){if(2>b||c==a)return!1;b=Math.min(f.RV,b);this.ag.yb(b);this.ag.resize(b);
this.ag.Zh(0,0,this.ag.size);this.UI=a;this.ut.resize(e);this.At=(c-a)/(b-1);return!0};f.prototype.LG=function(b){return d.J.truncate((b-this.UI)/this.At)};f.RV=65536;return f}();d.Hu=h})(h||(h={}));(function(d){var h;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(h||(h={}));var f=function(){function a(){}a.Ev=function(c,b,e,g,f,w){var k=new a;k.un=new d.b;k.In=
new d.b;k.Ow=new d.b;k.un.L(c);k.In.L(b);k.Ow.L(e);k.qp=g;k.Nh=f;k.Qh=w;return k};a.pa=function(c,b,e,g){var k=new a;k.un=new d.b;k.In=new d.b;k.Ow=new d.b;k.un.L(c);k.In.L(b);k.Ow.$c();k.qp=4;k.Nh=e;k.Qh=g;return k};return a}(),b=function(){function a(a,c,b,e,g,d){this.Lw=null;this.Ca=0;this.kB=a;this.oJ=this.mJ=0;this.Qa=c;this.fk=b;this.Wk=e;this.tr=g;this.mc=d}a.prototype.next=function(){for(var a=new d.Wa;;){if(this.Ca==this.kB.D())return null;this.kB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var c=
!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=a.nf(),this.Lw=e.buffer(a,this.Qa,this.fk,this.Wk,this.tr,this.mc),c=!0);var b;this.Ca<this.kB.D()?(b=new d.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new d.Hd,g=a.Be()-this.mJ,a=a.nf()-this.oJ;c.Ag(g,a);b.Xc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Eo(c))for(var b=
a.Ba(a.Gc(c)-1);this.Ca<a.aa();){var e=a.Ba(a.wa(this.Ca));if(a.Eo(this.Ca))break;if(e!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.yF(this.$a.Y,c,this.dr);b=new d.Ua(this.$a.Y.description);b.Ti(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.Bs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.yF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=
this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;a.Sm(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),e=function(){function e(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.ue=[];this.mc=a;this.vb=this.xw=this.IV=this.Qa=this.$A=this.Vt=this.ta=0;this.XA=this.Wk=-1;this.dr=!0}e.buffer=function(a,c,b,g,f,w){if(null==
a)throw d.g.F();if(0>g)throw d.g.F();if(a.u())return new d.Ja(a.description);var k=new d.h;a.ac(k);0<c&&k.O(c,c);w=new e(w);w.fk=b;w.Y=a;w.ta=d.na.be(b,k,!0);w.Vt=d.na.be(null,k,!0);w.Qa=c;w.IV=a.G();0>=f&&(f=96);w.vb=Math.abs(w.Qa);w.xw=0!=w.vb?1/w.vb:0;isNaN(g)||0==g?g=1E-5*w.vb:g>.5*w.vb&&(g=.5*w.vb);12>f&&(f=12);a=Math.abs(c)*(1-Math.cos(Math.PI/f));a>g?g=a:(a=Math.PI/Math.acos(1-g/Math.abs(c)),a<f-1&&(f=d.J.truncate(a),12>f&&(f=12,g=Math.abs(c)*(1-Math.cos(Math.PI/f)))));w.Wk=g;w.tr=f;w.$A=Math.min(w.Vt,
.25*g);return w.zF()};e.prototype.Rv=function(){if(null==this.Wd)this.Wd=[];else if(0!==this.Wd.length)return;var a=this.DF(),a=d.J.truncate((a+3)/4),c=.5*Math.PI/a;this.XA=c;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var e=Math.cos(c),c=Math.sin(c),g=d.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=d.b.pa(g.y,-g.x),this.Wd[b+1*a]=d.b.pa(-g.x,-g.y),this.Wd[b+2*a]=d.b.pa(-g.y,g.x),this.Wd[b+3*a]=g,g=d.b.pa(g.x,g.y),g.qu(e,c)};e.prototype.zF=function(){var a=this.Y.G();if(d.T.Oc(a))return a=new d.Ua(this.Y.description),
a.dc(this.Y,!0),this.Y=a,this.zF();if(this.Qa<=this.ta)if(d.T.PU(a)){if(0>=this.Qa&&(a=new d.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new d.Ja(this.Y.description)}else return new d.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.TP();case 550:return this.SP();case 1607:return this.VP();case 1736:return this.UP();case 197:return this.QP();default:throw d.g.za();}};e.prototype.VP=function(){if(this.QH(this.Y)){var c=new d.Wa;this.Y.Ae(0,c);var b=new d.h;this.Y.s(b);c.rb(b.Wf());
return this.rv(c)}this.Y=this.PW(this.Y);c=new a(this,this.dr);return d.ei.local().V(c,this.fk,this.mc).next()};e.prototype.UP=function(){if(0==this.Qa)return this.Y;var a=d.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.mc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.mc)}if(this.QH(this.Y))return a=new d.Wa,this.Y.Ae(0,a),b=new d.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new c(this);return d.ei.local().V(a,this.fk,this.mc).next()};e.prototype.Wy=function(a,c,
b){for(var g=new d.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var k=a.Sm(c),n=new d.h;a.jk(c,n);if(0<this.Qa)if(0<k)if(this.RH(a,c))k=new d.Wa,a.Ae(a.wa(c),k),k.rb(n.Wf()),this.iv(g,k);else{var r=k=new d.Ua(a.description),r=d.Ju.VH(this.Y,c)||2==this.to(this.Y,c,r,!0,1)?this.xF(a,c):this.so(k);g.add(r,!1)}else{if(!(n.N()+this.ta<=2*this.vb||n.fa()+this.ta<=2*this.vb||(r=k=new d.Ua(a.description),this.to(this.Y,c,r,!0,1),k.u()))){var f=new d.h;f.I(n);f.O(this.vb,this.vb);r.oq(f);r=this.so(k);n=1;for(k=
r.aa();n<k;n++)g.Ti(r,n,!0)}}else if(0<k){if(!(n.N()+this.ta<=2*this.vb||n.fa()+this.ta<=2*this.vb||(r=k=new d.Ua(a.description),this.to(this.Y,c,r,!0,-1),k.u())))for(f=new d.h,r.ac(f),f.O(this.vb,this.vb),r.oq(f),r=this.so(k),n=1,k=r.aa();n<k;n++)g.Ti(r,n,!0)}else for(r=k=new d.Ua(a.description),this.to(this.Y,c,r,!0,-1),r=this.so(k),n=0,k=r.aa();n<k;n++)g.Ti(r,n,!0)}if(0<this.Qa)return 1<g.aa()?g=this.so(g):e.We(g);a=new d.h;g.ac(a);if(g.u())return e.We(g);a.O(this.vb,this.vb);g.oq(a);g=this.so(g);
a=new d.Ja(g.description);n=1;for(k=g.aa();n<k;n++)a.Ti(g,n,!1);return e.We(a)};e.prototype.TP=function(){return this.rv(this.Y)};e.prototype.rv=function(a){var c=new d.Ja(this.Y.description);this.iv(c,a);return this.oY(c)};e.prototype.SP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Wk,this.tr,this.mc);return d.ei.local().V(a,this.fk,this.mc).next()};e.prototype.QP=function(){var a=new d.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var c=new d.ci;this.Y.Qn(c);c.O(this.Qa,
this.Qa);a.jd(c,!1)}return a}a.jd(this.Y,!1);this.Y=a;return this.xF(a,0)};e.prototype.xF=function(a,c){this.Rv();var b=new d.Ja(a.description),g=new d.b,k=new d.b,n=new d.b,f=new d.b,h=new d.b,l=new d.b,m=new d.b,u=new d.b,p=a.La(c),q=a.wa(c),t=0;for(c=a.La(c);t<c;t++){a.w(q+t,k);a.w(q+(t+1)%p,f);a.w(q+(t+2)%p,l);m.yc(f,k);if(0==m.length())throw d.g.za();m.uw();m.normalize();m.scale(this.vb);g.add(m,k);n.add(m,f);0==t?b.zu(g):b.aj(g);b.aj(n);u.yc(l,f);if(0==u.length())throw d.g.za();u.uw();u.normalize();
u.scale(this.vb);h.add(u,f);this.YE(b,f,n,h,!1)}return e.We(b)};e.prototype.yF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.RH(a,c)&&0<this.Qa){b=new d.Wa;a.Ae(a.wa(c),b);var e=new d.h;a.jk(c,e);b.rb(e.Wf());return this.rv(b)}e=new d.Ua(a.description);if(a.Eo(c))this.to(a,c,e,b,1),this.to(a,c,e,b,-1);else{var g=new d.Ua(a.description);g.Ti(a,c,!1);g.Bs(a,c,0,a.ew(c),!1);this.to(g,0,e,b,1)}return this.so(e)};e.prototype.Pr=function(){this.kx++};e.prototype.so=function(a){return d.Dg.nl(a,
this.Vt,!0,!0,this.mc)};e.prototype.DF=function(){if(0==this.Wk)return this.tr;var a=1-this.Wk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return d.J.truncate(c)};e.prototype.YE=function(a,c,b,e,g){this.Rv();var k=new d.b;k.yc(b,c);k.scale(this.xw);var n=new d.b;n.yc(e,c);n.scale(this.xw);k=Math.atan2(k.y,k.x)/this.XA;0>k&&(k=this.Wd.length+k);k=this.Wd.length-k;n=Math.atan2(n.y,n.x)/this.XA;0>n&&(n=this.Wd.length+n);n=this.Wd.length-n;n<k&&(n+=this.Wd.length);
var r=d.J.truncate(n),n=d.J.truncate(Math.ceil(k)),k=new d.b;k.L(this.Wd[n%this.Wd.length]);k.ru(this.vb,c);var z=10*this.ta;k.sub(b);k.length()<z&&(n+=1);k.L(this.Wd[r%this.Wd.length]);k.ru(this.vb,c);k.sub(e);k.length()<z&&--r;b=r-n;b++;r=0;for(n%=this.Wd.length;r<b;r++,n=(n+1)%this.Wd.length)k.L(this.Wd[n]),k.ru(this.vb,c),a.aj(k),this.Pr();g&&a.aj(e)};e.prototype.to=function(a,c,b,e,g){var k=new d.fd,n=k.lP(a,c);k.zq(this.$A,!1,!1);if(2>k.D(n)){if(0>g)return 1;g=a;k=new d.Wa;g.Ae(g.wa(c),k);this.iv(b,
k);return 1}var r=k.Ba(k.cb(k.Pb(n))),z=new d.Hd;z.Ag(-r.x,-r.y);k.Xc(z);if(e&&(this.pS(k,n,g),2>k.D(n))){if(0>g)return 1;g=a;k=new d.Wa;g.Ae(g.wa(c),k);this.iv(b,k);return 1}this.ue.length=0;var I=k.Pb(n);c=k.cb(I);var h=1==g?k.Ra(c):k.U(c);a=1==g?k.U(c):k.Ra(c);var l=!0;e=new d.b;for(var n=new d.b,m=new d.b,u=new d.b,p=new d.b,q=new d.b,t=new d.b,x=new d.b,v=new d.b,B=new d.b,y=this.vb,I=k.La(I),C=0;C<I;C++)k.w(a,n),l&&(k.w(c,e),k.w(h,m),x.yc(e,m),x.normalize(),B.aI(x),B.scale(y),u.add(B,e)),t.yc(n,
e),t.normalize(),v.aI(t),v.scale(y),p.add(e,v),h=x.Ui(t),l=x.oi(t),0>h||0>l&&0==h?this.ue.push(f.Ev(u,p,e,2,this.ue.length+1,this.ue.length-1)):u.ub(p)||(this.ue.push(f.pa(u,e,this.ue.length+1,this.ue.length-1,"dummy")),this.ue.push(f.pa(e,p,this.ue.length+1,this.ue.length-1,"dummy"))),q.add(n,v),this.ue.push(f.Ev(p,q,e,1,this.ue.length+1,this.ue.length-1)),u.L(q),B.L(v),m.L(e),e.L(n),x.L(t),h=c,c=a,l=!1,a=1==g?k.U(c):k.Ra(c);this.ue[this.ue.length-1].Nh=0;this.ue[0].Qh=this.ue.length-1;this.RW(b);
z.Ag(r.x,r.y);b.lF(z,b.aa()-1);return 1};e.prototype.RW=function(a){for(var c=this.DQ(),b=!0,e=c+1,g=c;e!=c;g=e){var d=this.ue[g],e=-1!=d.Nh?d.Nh:(g+1)%this.ue.length;0!=d.qp&&(b&&a.zu(d.un),2==d.qp?this.YE(a,d.Ow,d.un,d.In,!0):a.aj(d.In),b=!1)}};e.prototype.DQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.ue.length;c<b;){var e=this.ue[c];if(0!=(e.qp&3)){a=c;break}c=e.Nh}b=a+1;for(c=a;b!=a;c=b){for(var e=this.ue[c],b=e.Nh,g=1,f=null;b!=c;){f=
this.ue[b];if(0!=(f.qp&3))break;b=f.Nh;g++}1!=g&&1==(e.qp&f.qp)&&(null==this.Gt&&(this.Gt=new d.Hb,this.Zw=new d.Hb),this.Gt.Mc(e.un),this.Gt.Zc(e.In),this.Zw.Mc(f.un),this.Zw.Zc(f.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(e.In.L(this.Ft[0]),f.un.L(this.Ft[0]),e.Nh=b,f.Qh=c))}return a};e.prototype.sw=function(a,c,b){var e=new d.b;e.yc(b,a);b=e.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);e.normalize();e.Ur();var g=new d.b;g.yc(c,a);if(g.oi(e)+b>=this.vb)return!0}return!1};
e.prototype.pS=function(a,c,b){for(var e=0;1>e;e++){var g=!1,k=a.Pb(c),n=a.La(k);if(0==n)break;var r=n;if(3>n)break;!a.Qb(k)&&(r=n-1);for(var k=a.cb(k),n=0<b?a.Ra(k):a.U(k),f=0<b?a.U(k):a.Ra(k),h=n,l=!0,m=new d.b,u=new d.b,p=new d.b,q=new d.b,t=new d.b,x=d.b.pa(0,0),v=new d.b,B=new d.b,y=new d.b,C=new d.b,A=this.vb,E=0,F=0;F<r;){a.w(f,u);l&&(a.w(k,m),a.w(n,p),h=n);B.yc(m,p);B.normalize();v.yc(u,m);v.normalize();if(h==f)break;var D=B.Ui(v),H=B.oi(v),G=!0;0>D||0>H&&0==D||!this.sw(p,m,u)||(x.L(u),G=
!1,++E,g=!0);if(G){if(0<E)for(;;){D=0<b?a.Ra(h):a.U(h);if(D==k)break;a.w(D,q);if(this.sw(q,p,x))p.L(q),h=D,G=!1,++E;else{D!=f&&this.sw(q,p,u)&&this.sw(q,m,u)&&(p.L(q),h=D,G=!1,++E);break}}if(!G)continue;if(0<E){h=0<b?a.Ra(n):a.U(n);for(l=1;l<E;l++)G=0<b?a.Ra(h):a.U(h),a.ud(h,!0),h=G;y.yc(m,p);E=y.length();E=A*A-E*E*.25;E=Math.sqrt(E);A-E>.5*this.Wk?(t.add(p,m),t.scale(.5),y.normalize(),y.Ur(),C.L(y),C.scale(A-E),t.add(C),a.Qf(n,t)):a.ud(n,!0);E=0}p.L(m);h=k}m.L(u);n=k;k=f;f=0<b?a.U(k):a.Ra(k);F++;
l=!1}if(0<E){h=0<b?a.Ra(n):a.U(n);for(l=1;l<E;l++)G=0<b?a.Ra(h):a.U(h),a.ud(h,!0),h=G;t.add(p,m);t.scale(.5);y.yc(m,p);E=y.length();E=A*A-E*E*.25;E=Math.sqrt(E);y.normalize();y.Ur();C.L(y);C.scale(A-E);t.add(C);a.Qf(n,t)}a.zq(this.$A,!1,!1);if(!g)break}};e.prototype.RH=function(a,c){if(1==a.La(c))return!0;var b=new d.h;a.jk(c,b);return Math.max(b.N(),b.fa())<.5*this.Wk?!0:!1};e.prototype.QH=function(a){var c=new d.h;a.s(c);return Math.max(c.N(),c.fa())<.5*this.Wk?!0:!1};e.prototype.PW=function(a){a=
d.HD.local().V(a,.25*this.Wk,!1,this.mc);for(var c=0,b=0,e=a.aa();b<e;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return d.Dg.nl(a,this.Vt,!1,!0,this.mc)};e.prototype.iv=function(a,c){c=c.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new d.b;b.L(this.Wd[0]);b.ru(this.vb,c);a.zu(b);for(var e=1,g=this.Wd.length;e<g;e++)b.L(this.Wd[e]),b.ru(this.vb,c),a.aj(b)}else for(var e=this.DF(),b=d.J.truncate((e+3)/4),e=.5*Math.PI/b,g=Math.cos(e),k=Math.sin(e),n=new d.b,f=3;0<=f;f--){n.ka(0,
this.vb);switch(f){case 0:for(e=0;e<b;e++)a.Xj(n.x+c.x,n.y+c.y),n.qu(g,k);break;case 1:for(e=0;e<b;e++)a.Xj(-n.y+c.x,n.x+c.y),n.qu(g,k);break;case 2:for(e=0;e<b;e++)a.Xj(-n.x+c.x,-n.y+c.y),n.qu(g,k);break;default:for(a.$x(n.y+c.x,-n.x+c.y),e=1;e<b;e++)n.qu(g,k),a.Xj(n.y+c.x,-n.x+c.y)}this.Pr()}};e.We=function(a){a.Zg(1,0);return a};e.prototype.oY=function(a){a.Zg(2,this.ta);a.Al();return a};return e}();d.QL=e})(h||(h={}));(function(d){var h=function(){function f(b){this.Ha=b;this.a=new d.fd;this.nd=
new d.ia(0)}f.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};f.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};f.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new d.h;b.ac(a);this.Y=this.a.Jb(b);var e=new d.h,g=new d.h,k=new d.b,
n=new d.b,r=[0,0,0,0,0,0,0,0,0],z=[0,0,0,0,0,0,0,0,0];new d.Cg;var f=new d.Hb,w=new d.ia(0);w.yb(Math.min(100,b.D()));for(var h=!1,l=0;!h&&4>l;l++){var m=!1,u=0!=(l&1),p=0;switch(l){case 0:p=this.Ha.o;m=a.o<=p&&a.v>=p;break;case 1:p=this.Ha.A;m=a.A<=p&&a.B>=p;break;case 2:p=this.Ha.v;m=a.o<=p&&a.v>=p;break;case 3:p=this.Ha.B,m=a.A<=p&&a.B>=p}if(m)for(h=!0,m=this.a.Pb(this.Y);-1!=m;){var q=-1,t=-1,x=this.a.cb(m),v=x;do{var B=this.a.ic(v);null==B&&(B=f,this.a.w(v,k),B.Mc(k),this.a.w(this.a.U(v),n),
B.Zc(n));B.s(e);var y=this.ji(e,l,p),E=0,C=-1;if(-1==y){B=B.Tq(u,p,r,z);0<B?E=this.a.zm(v,z,B):E=0;for(var E=E+1,A=v,D=this.a.U(A),B=0;B<E;B++){this.a.w(A,k);this.a.w(D,n);C=this.a.ic(A);null==C&&(C=f,C.Mc(k),C.Zc(n));C.s(g);C=this.ji(g,l,p);if(-1==C){if(u)C=Math.abs(k.y-p),F=Math.abs(n.y-p),C<F?(k.y=p,this.a.Qf(A,k)):(n.y=p,this.a.Qf(D,n));else{var C=Math.abs(k.x-p),F=Math.abs(n.x-p);C<F?(k.x=p,this.a.Qf(A,k)):(n.x=p,this.a.Qf(D,n))}C=this.a.ic(A);null==C&&(C=f,C.Mc(k),C.Zc(n));C.s(g);C=this.ji(g,
l,p)}F=q;q=C;-1==t&&(t=q);if(0!=F||1!=q)1==F&&0==q||0!=F||0!=q||w.add(A);1==q&&(h=!1);C=A=D;D=this.a.U(D)}}if(0==E){F=q;q=y;-1==t&&(t=q);if(0!=F||1!=q)1==F&&0==q||0!=F||0!=q||w.add(v);1==q&&(h=!1);C=this.a.U(v)}v=C}while(v!=x);0==t&&0==q&&w.add(x);B=0;for(q=w.size;B<q;B++)t=w.get(B),this.a.ud(t,!1);w.clear(!1);m=3>this.a.La(m)?this.a.Rr(m):this.a.Sb(m)}}if(h)return b.Ka();this.gC();0<c&&this.vz(c);return this.a.Se(this.Y)};f.prototype.jz=function(b){var a=new d.h,c=new d.h,e=[0,0,0,0,0,0,0,0,0],g=
[0,0,0,0,0,0,0,0,0],k=new d.Cg,n=b,r=new d.h;b.ac(r);for(var z=0;4>z;z++){var f=!1,w=0!=(z&1),h=0;switch(z){case 0:h=this.Ha.o;f=r.o<=h&&r.v>=h;break;case 1:h=this.Ha.A;f=r.A<=h&&r.B>=h;break;case 2:h=this.Ha.v;f=r.o<=h&&r.v>=h;break;case 3:h=this.Ha.B,f=r.A<=h&&r.B>=h}if(f){f=n;n=b.Ka();f=f.Fa();f.yj();for(var l,m=new d.b;f.Ya();)for(var u,p=!0;f.Ea();){var q=f.ba();q.s(a);var t=this.ji(a,z,h);if(-1==t){if(t=q.Tq(w,h,e,g),0<t){var x=0;l=q.ec();for(var v=0;v<=t;v++)if(u=v<t?g[v]:1,x!=u){q.yh(x,u,
k);var B=k.get();B.Mc(l);v<t&&(w?(m.x=e[v],m.y=h):(m.x=h,m.y=e[v]),B.Zc(m));B.s(c);var y=this.ji(c,z,h);if(-1==y){l=B.ec();x=B.Bc();if(w)y=Math.abs(l.y-h),C=Math.abs(x.y-h),y<C?(l.y=h,B.Mc(l)):(x.y=h,B.Zc(x));else{var y=Math.abs(l.x-h),C=Math.abs(x.x-h);y<C?(l.x=h,B.Mc(l)):(x.x=h,B.Zc(x))}B.s(c);y=this.ji(c,z,h)}l=B.Bc();x=u;u=y;1==u?(n.dc(B,p),p=!1):p=!0}}}else u=t,1==u?(n.dc(q,p),p=!1):p=!0}}}return n};f.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);
this.Am(!0,this.Ha.B);this.nd.resize(0);this.nd.yb(100);this.Ki=this.a.Ud();for(var b=new d.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),e=0,g=this.a.La(a);e<g;e++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.nd.size),this.nd.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};f.prototype.vz=function(b){for(var a=new d.b,c=new d.b,e=d.J.gf(2048,0),g=
this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g)){var k=this.a.cb(g),n=k;do{var r=this.a.U(n);this.a.w(n,a);var z=-1;a.x==this.Ha.o?(this.a.w(r,c),c.x==this.Ha.o&&(z=1)):a.x==this.Ha.v&&(this.a.w(r,c),c.x==this.Ha.v&&(z=1));a.y==this.Ha.A?(this.a.w(r,c),c.y==this.Ha.A&&(z=0)):a.y==this.Ha.B&&(this.a.w(r,c),c.y==this.Ha.B&&(z=0));if(-1!=z&&(z=d.b.Cb(a,c),z=d.J.truncate(Math.min(Math.ceil(z/b),2048)),!(1>=z))){for(var f=1;f<z;f++)e[f-1]=1*f/z;this.a.zm(n,e,z-1)}n=r}while(n!=k)}};f.prototype.Am=function(b,a){var c=
this.a.Ud(),e=new d.b,g=new d.ia(0);g.yb(100);for(var k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k))for(var n=this.a.cb(k),r=0,z=this.a.La(k);r<z;r++){var f=this.a.U(n);this.a.w(n,e);if(b?e.y==a:e.x==a)if(this.a.w(f,e),b?e.y==a:e.x==a)1!=this.a.Sa(n,c)&&(g.add(n),this.a.Va(n,c,1)),1!=this.a.Sa(f,c)&&(g.add(f),this.a.Va(f,c,1));n=f}this.a.le(c);if(!(3>g.size)){var w=this;g.Gd(0,g.size,function(a,c){return w.ki(a,c)});c=new d.b;k=new d.b;n=new d.b;k.$c();for(var h=-1,r=new d.ia(0),z=new d.ia(0),f=this.a.Ud(),
l=this.a.Ud(),m=0,u=g.size;m<u;m++){var p=g.get(m);this.a.w(p,e);if(!e.ub(k)){if(-1!=h){for(var q=h;q<m;q++){var h=g.get(q),t=this.a.U(h),p=this.a.Ra(h),x=!1;0>this.ki(h,t)&&(this.a.w(t,c),b?c.y==a:c.x==a)&&(r.add(h),x=!0,this.a.Va(h,l,1));0>this.ki(h,p)&&(this.a.w(p,c),b?c.y==a:c.x==a)&&(x||r.add(h),this.a.Va(h,f,1))}q=0;for(x=r.size;q<x;q++){h=r.get(q);p=this.a.Sa(h,f);t=this.a.Sa(h,l);if(1==p){p=this.a.Ra(h);this.a.w(p,n);var v=[0];v[0]=0;if(!n.ub(e)){var B=d.b.Cb(k,n);v[0]=d.b.Cb(n,e)/B;0==v[0]?
v[0]=2.220446049250313E-16:1==v[0]&&(v[0]=.9999999999999998);this.a.zm(p,v,1);p=this.a.Ra(h);this.a.Qf(p,e);z.add(p);this.a.Va(p,f,1);this.a.Va(p,l,-1)}}1==t&&(t=this.a.U(h),this.a.w(t,n),v=[0],v[0]=0,n.ub(e)||(B=d.b.Cb(k,n),v[0]=d.b.Cb(k,e)/B,0==v[0]?v[0]=2.220446049250313E-16:1==v[0]&&(v[0]=.9999999999999998),this.a.zm(h,v,1),p=this.a.U(h),this.a.Qf(p,e),z.add(p),this.a.Va(p,f,-1),this.a.Va(p,l,1)))}h=r;r=z;z=h;z.clear(!1)}h=m;k.L(e)}}this.a.le(f);this.a.le(l)}};f.prototype.sm=function(b,a){var c=
new d.b,e=new d.ia(0);e.yb(100);for(var g=this.a.Ud(),k=0,n=this.nd.size;k<n;k++){var r=this.nd.get(k);if(-1!=r){var f=this.a.U(r);this.a.w(r,c);if(b?c.y==a:c.x==a)if(this.a.w(f,c),b?c.y==a:c.x==a)-2!=this.a.Sa(r,g)&&(e.add(r),this.a.Va(r,g,-2)),-2!=this.a.Sa(f,g)&&(e.add(f),this.a.Va(f,g,-2))}}if(0!=e.size){var I=this;e.Gd(0,e.size,function(a,c){return I.ki(a,c)});k=0;for(n=e.size;k<n;k++){var w=e.get(k);this.a.Va(w,g,k)}r=new d.b;f=new d.b;f.$c();for(var h=-1,k=0,n=e.size;k<n;k++)if(w=e.get(k),
-1!=w&&(this.a.w(w,c),!c.ub(f))){if(-1!=h)for(;;){for(var w=!1,l=1<k-h?k-1:k,m=h;m<l;m++){var u=e.get(m);if(-1!=u){var p=-1,q=this.a.U(u);0>this.ki(u,q)&&(this.a.w(q,r),b?r.y==a:r.x==a)&&(p=q);var q=-1,t=this.a.Ra(u);0>this.ki(u,t)&&(this.a.w(t,r),b?r.y==a:r.x==a)&&(q=t);if(-1!=p&&-1!=q)this.ii(u,e,g),this.a.ud(u,!1),this.ii(p,e,g),this.a.ud(p,!1),w=!0;else if(-1!=p||-1!=q){for(t=m+1;t<k;t++){var x=e.get(t);if(-1!=x){var v=this.a.U(x),B=-1;0>this.ki(x,v)&&(this.a.w(v,r),b?r.y==a:r.x==a)&&(B=v);var v=
this.a.Ra(x),y=-1;0>this.ki(x,v)&&(this.a.w(v,r),b?r.y==a:r.x==a)&&(y=v);if(-1!=B&&-1!=y){this.ii(x,e,g);this.a.ud(x,!1);this.ii(B,e,g);this.a.ud(B,!1);w=!0;break}if(-1!=p&&-1!=y){this.ou(e,u,p,x,y,g);w=!0;break}else if(-1!=q&&-1!=B){this.ou(e,x,B,u,q,g);w=!0;break}}}if(w)break}}}if(!w)break}h=k;f.L(c)}}this.a.le(g)};f.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.nd.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};f.prototype.ou=
function(b,a,c,e,g,d){this.a.Kc(a,e);this.a.Lc(e,a);this.a.Lc(c,g);this.a.Kc(g,c);this.ii(e,b,d);this.a.Mi(e,!1);this.ii(g,b,d);this.a.Mi(g,!0)};f.prototype.Dz=function(){for(var b=0,a=this.nd.size;b<a;b++){var c=this.nd.get(b);-1!=c&&this.a.Aj(c,-1)}for(var e=0,g=0,d=this.a.Pb(this.Y);-1!=d;){var n=this.a.cb(d);if(-1==n||d!=this.a.ld(n)){var r=d,d=this.a.Sb(d);this.a.jg(r,-1);this.a.Sr(r)}else{c=n;r=0;do this.a.Aj(c,d),r++,c=this.a.U(c);while(c!=n);2>=r?(c=this.a.Sa(n,this.Ki),this.nd.set(c,-1),
n=this.a.ud(n,!1),2==r&&(c=this.a.Sa(n,this.Ki),this.nd.set(c,-1),this.a.ud(n,!1)),r=d,d=this.a.Sb(d),this.a.jg(r,-1),this.a.Sr(r)):(this.a.Np(d,!1),this.a.sh(d,this.a.Ra(n)),this.a.nk(d,r),g+=r,e++,d=this.a.Sb(d))}}b=0;for(a=this.nd.size;b<a;b++)if(c=this.nd.get(b),-1!=c&&(d=this.a.ld(c),-1==d)){d=this.a.Yf(this.Y,-1);r=0;n=c;do this.a.Aj(c,d),r++,c=this.a.U(c);while(c!=n);2>=r?(c=this.a.Sa(n,this.Ki),this.nd.set(c,-1),n=this.a.ud(n,!1),2==r&&(c=this.a.Sa(n,this.Ki),0<=c&&this.nd.set(c,-1),this.a.ud(n,
!1)),r=d,this.a.jg(r,-1),this.a.Sr(r)):(this.a.$n(d,!0),this.a.nk(d,r),this.a.jg(d,n),this.a.sh(d,this.a.Ra(n)),this.a.Np(d,!1),g+=r,e++)}this.a.wm(this.Y,e);this.a.lk(this.Y,g);b=0;for(a=this.a.rd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};f.Hm=function(b,a,c,e){return(new f(a)).hz(b,c,e)};f.clip=function(b,a,c,e){if(b.u())return b;if(a.u())return b.Ka();var g=b.G();if(33==g)return c=b.w(),a.contains(c)?b:b.Ka();if(197==g)return c=new d.h,b.s(c),c.Ma(a)?(a=new d.ci,b.copyTo(a),a.Gp(c),a):
b.Ka();var k=new d.h;b.ac(k);if(a.contains(k))return b;if(!a.Yb(k))return b.Ka();k=b.ob;if(null!=k&&(k=k.Hi,null!=k)){k=k.Rn(a);if(1==k){if(1736!=g)throw d.g.za();b=new d.Ja(b.description);b.oq(a);return b}if(0==k)return b.Ka()}switch(g){case 550:e=null;for(var g=b.D(),k=b.Pa(0),n=0,r=0;r<g;r++)c=new d.b,k.fc(2*r,c),a.contains(c)||(0==n&&(e=b.Ka()),n<r&&e.Id(b,n,r),n=r+1);0<n&&e.Id(b,n,g);return 0==n?b:e;case 1736:case 1607:return f.Hm(b,a,c,e);default:throw d.g.za();}};f.prototype.ki=function(b,
a){var c=new d.b;this.a.w(b,c);b=new d.b;this.a.w(a,b);return c.compare(b)};return f}();d.ne=h})(h||(h={}));(function(d){var h=function(){function f(b,a){this.Ha=b;this.a=new d.fd;this.nd=new d.ia(0);this.ke=a}f.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};f.prototype.hz=function(b,a,c){return 1736==
b.G()?this.iz(b,a,c):this.jz(b,a)};f.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new d.h;b.ac(a);this.Y=this.a.Jb(b);var e=new d.h,g=new d.h,k=new d.b,n=new d.b,r=[0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0],I=new d.Hb,w=new d.ia(0);w.yb(256);for(var h=!1,l=0;!h&&4>l;l++){var m=!1,u=0!=(l&1),p=0;switch(l){case 0:p=this.Ha.o;m=a.o<=p&&a.v>=p;break;case 1:p=this.Ha.A;m=a.A<=p&&a.B>=p;break;case 2:p=this.Ha.v;m=a.o<=p&&a.v>=p;break;case 3:p=this.Ha.B,m=a.A<=p&&a.B>=p}if(m)for(h=
!0,m=this.a.Pb(this.Y);-1!=m;){var q=!0,t=-1,x=-1,v=this.a.cb(m),B=v;do{var y=this.a.ic(B);null==y&&(y=I,this.a.w(B,k),y.Mc(k),this.a.w(this.a.U(B),n),y.Zc(n));y.s(e);var C=this.ji(e,l,p),E=0,A=-1;if(-1==C){y=y.Tq(u,p,r,f);0<y?E=this.a.FY(B,f,y):E=0;for(var E=E+1,F=B,D=this.a.U(F),y=0;y<E;y++){this.a.w(F,k);this.a.w(D,n);A=this.a.ic(F);null==A&&(A=I,A.Mc(k),A.Zc(n));A.s(g);A=this.ji(g,l,p);if(-1==A){if(u)A=Math.abs(k.y-p),H=Math.abs(n.y-p),A<H?(k.y=p,this.a.Qf(F,k)):(n.y=p,this.a.Qf(D,n));else{var A=
Math.abs(k.x-p),H=Math.abs(n.x-p);A<H?(k.x=p,this.a.Qf(F,k)):(n.x=p,this.a.Qf(D,n))}A=this.a.ic(F);null==A&&(A=I,A.Mc(k),A.Zc(n));A.s(g);A=this.ji(g,l,p)}H=t;t=A;-1==x&&(x=t);if(0!=H||1!=t)1==H&&0==t||0!=H||0!=t||w.add(F);1==t&&(q=h=!1);A=F=D;D=this.a.U(D)}}if(0==E){H=t;t=C;-1==x&&(x=t);if(0!=H||1!=t)1==H&&0==t||0!=H||0!=t||w.add(B);1==t&&(q=h=!1);A=this.a.U(B)}B=A;if(256<=w.size){y=1;for(C=w.size-1;y<C;y++)E=w.get(y),this.a.ud(E,!1);w.set(1,w.Fc());w.yf(2)}}while(B!=v);if(!q)for(0==x&&0==t&&w.add(v),
y=0,C=w.size;y<C;y++)E=w.get(y),this.a.ud(E,!1);w.clear(!1);m=q||0==this.a.La(m)?this.a.Rr(m):this.a.Sb(m)}}if(h)return b.Ka();this.gC();0<c&&this.vz(c);return this.a.Se(this.Y)};f.prototype.jz=function(b){var a=new d.h,c=new d.h,e=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],k=new d.Cg,n=b,r=new d.h;b.ac(r);for(var f=new d.b,I=new d.b,w=null,h=null,l=0;4>l;l++){var m=!1,p=0!=(l&1),u=0;switch(l){case 0:u=this.Ha.o;m=r.o<=u&&r.v>=u;break;case 1:u=this.Ha.A;m=r.A<=u&&r.B>=u;break;case 2:u=this.Ha.v;m=
r.o<=u&&r.v>=u;break;case 3:u=this.Ha.B,m=r.A<=u&&r.B>=u}if(m)for(m=n,n=b.Ka(),m=m.Fa(),m.yj();m.Ya();)for(var q,t=!0;m.Ea();){var x=m.ba();x.s(a);var v=this.ji(a,l,u);if(-1==v){if(v=x.Tq(p,u,e,g),0<v){var B=0;x.Oq(f);for(var y=0;y<=v;y++)if(q=y<v?g[y]:1,B!=q){x.yh(B,q,k);var C=k.get();C.Mc(f);y<v&&(p?(I.x=e[y],I.y=u):(I.x=u,I.y=e[y]),C.Zc(I));C.s(c);var A=this.ji(c,l,u);-1==A&&(null==w&&(w=new d.b),null==h&&(h=new d.b),C.Oq(w),C.Ps(h),p?(B=Math.abs(w.y-u),A=Math.abs(h.y-u),B<A?(w.y=u,C.Mc(w)):(h.y=
u,C.Zc(h))):(B=Math.abs(w.x-u),A=Math.abs(h.x-u),B<A?(w.x=u,C.Mc(w)):(h.x=u,C.Zc(h))),C.s(c),A=this.ji(c,l,u));C.Ps(f);B=q;q=A;1==q?(n.dc(C,t),t=!1):t=!0}}}else q=v,1==q?(n.dc(x,t),t=!1):t=!0}}return n};f.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.nd.resize(0);this.nd.yb(100);this.Ki=this.a.Ud();for(var b=new d.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),e=0,g=this.a.La(a);e<g;e++,c=this.a.U(c))if(this.a.w(c,
b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.nd.size),this.nd.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};f.prototype.vz=function(b){for(var a=new d.b,c=new d.b,e=null,g=null,k=d.J.gf(2048,0),n=this.a.Pb(this.Y);-1!=n;n=this.a.Sb(n)){var r=this.a.cb(n),f=r;do{var I=this.a.U(f);this.a.w(f,a);var w=-1;a.x==this.Ha.o?(this.a.w(I,c),c.x==this.Ha.o&&(w=1)):a.x==this.Ha.v&&(this.a.w(I,c),c.x==this.Ha.v&&
(w=1));a.y==this.Ha.A?(this.a.w(I,c),c.y==this.Ha.A&&(w=0)):a.y==this.Ha.B&&(this.a.w(I,c),c.y==this.Ha.B&&(w=0));if(-1!=w){null==e&&(e=new d.b);null==g&&(g=new d.b);e.L(a);g.ka(0,0);if(0==w){var h=a.x-this.Ha.o;g.x=d.Ub.sign(c.x-a.x);e.x=b*d.Ub.Fl(Math.floor(Math.abs(h/b)),h)+this.Ha.o;0>e.x&&(e.x+=b)}else h=a.y-this.Ha.A,g.y=d.Ub.sign(c.y-a.y),e.y=b*d.Ub.Fl(Math.floor(Math.abs(h/b)),h)+this.Ha.A,0>e.y&&(e.y+=b);var h=0!=w?c.y-a.y:c.x-a.x,l=Math.abs(h);if(65536<l/b)throw d.g.X("internal error");
if(0<l){l=d.J.truncate(l/b)+2;k.length<l&&(k=d.J.gf(l));for(var m=l=0;;m++){var u=new d.b;u.x=e.x+g.x*m*b;u.y=e.y+g.y*m*b;u=(0!=w?u.y-a.y:u.x-a.x)/h;if(1<=u)break;0>=u||(k[l]=u,l++)}0!=l&&this.a.zm(f,k,l)}}f=I}while(f!=r)}};f.prototype.Am=function(b,a){for(var c=-1,e=new d.b,g=null,k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k))for(var n=this.a.cb(k),r=0,f=this.a.La(k);r<f;r++){var I=this.a.U(n);this.a.w(n,e);if(b?e.y==a:e.x==a)if(this.a.w(I,e),b?e.y==a:e.x==a)-1==c&&(c=this.a.Ud()),null==g&&(g=new d.ia(0),
g.yb(100)),1!=this.a.Sa(n,c)&&(g.add(n),this.a.Va(n,c,1)),1!=this.a.Sa(I,c)&&(g.add(I),this.a.Va(I,c,1));n=I}-1!=c&&this.a.le(c);if(!(null==g||3>g.size)){var w=this;g.Gd(0,g.size,function(a,c){return w.ki(a,c)});c=new d.b;k=new d.b;n=new d.b;k.$c();for(var h=-1,r=new d.ia(0),f=new d.ia(0),I=null,l=this.a.Ud(),m=this.a.Ud(),u=0,p=g.size;u<p;u++){var q=g.get(u);this.a.w(q,e);if(!e.ub(k)){if(-1!=h){for(var t=h;t<u;t++){var h=g.get(t),x=this.a.U(h),q=this.a.Ra(h),v=!1;this.a.w(x,c);0>k.compare(c)&&(b?
c.y==a:c.x==a)&&(r.add(h),v=!0,this.a.Va(h,m,1));this.a.w(q,c);0>k.compare(c)&&(b?c.y==a:c.x==a)&&(v||r.add(h),this.a.Va(h,l,1))}t=0;for(v=r.size;t<v;t++){h=r.get(t);q=this.a.Sa(h,l);x=this.a.Sa(h,m);if(1==q&&(q=this.a.Ra(h),this.a.w(q,n),!n.ub(e))){null==I&&(I=[]);var B=d.b.Cb(k,n);I[0]=d.b.Cb(n,e)/B;0==I[0]?I[0]=2.220446049250313E-16:1==I[0]&&(I[0]=.9999999999999998);this.a.zm(q,I,1);q=this.a.Ra(h);this.a.Qf(q,e);f.add(q);this.a.Va(q,l,1);this.a.Va(q,m,-1)}1==x&&(x=this.a.U(h),this.a.w(x,n),n.ub(e)||
(null==I&&(I=[]),B=d.b.Cb(k,n),I[0]=d.b.Cb(k,e)/B,0==I[0]?I[0]=2.220446049250313E-16:1==I[0]&&(I[0]=.9999999999999998),this.a.zm(h,I,1),q=this.a.U(h),this.a.Qf(q,e),f.add(q),this.a.Va(q,l,-1),this.a.Va(q,m,1)))}h=r;r=f;f=h;f.clear(!1)}h=u;k.L(e)}}this.a.le(l);this.a.le(m)}};f.prototype.sm=function(b,a){for(var c=new d.b,e=null,g=-1,k=0,n=this.nd.size;k<n;k++){var r=this.nd.get(k);if(-1!=r){var f=this.a.U(r);this.a.w(r,c);if(b?c.y==a:c.x==a)if(this.a.w(f,c),b?c.y==a:c.x==a)-1==g&&(g=this.a.Ud()),null==
e&&(e=new d.ia(0),e.yb(100)),-2!=this.a.Sa(r,g)&&(e.add(r),this.a.Va(r,g,-2)),-2!=this.a.Sa(f,g)&&(e.add(f),this.a.Va(f,g,-2))}}if(null==e)-1!=g&&this.a.le(g);else{var I=this;e.Gd(0,e.size,function(a,c){return I.ki(a,c)});k=0;for(n=e.size;k<n;k++){var h=e.get(k);this.a.Va(h,g,k)}r=new d.b;f=new d.b;f.$c();for(var l=-1,k=0,n=e.size;k<n;k++)if(h=e.get(k),-1!=h&&(this.a.w(h,c),!c.ub(f))){if(-1!=l)for(;;){for(var h=!1,m=1<k-l?k-1:k,u=l;u<m;u++){var p=e.get(u);if(-1!=p){var q=-1,t=this.a.U(p);this.a.w(t,
r);0>f.compare(r)&&(b?r.y==a:r.x==a)&&(q=t);var t=-1,x=this.a.Ra(p);this.a.w(x,r);0>f.compare(r)&&(b?r.y==a:r.x==a)&&(t=x);if(-1!=q&&-1!=t)this.ii(p,e,g),this.a.ud(p,!1),this.ii(q,e,g),this.a.ud(q,!1),h=!0;else if(-1!=q||-1!=t){for(x=u+1;x<k;x++){var v=e.get(x);if(-1!=v){var B=this.a.U(v),y=-1;this.a.w(B,r);0>f.compare(r)&&(b?r.y==a:r.x==a)&&(y=B);var B=this.a.Ra(v),C=-1;this.a.w(B,r);0>f.compare(r)&&(b?r.y==a:r.x==a)&&(C=B);if(-1!=y&&-1!=C){this.ii(v,e,g);this.a.ud(v,!1);this.ii(y,e,g);this.a.ud(y,
!1);h=!0;break}if(-1!=q&&-1!=C){this.ou(e,p,q,v,C,g);h=!0;break}else if(-1!=t&&-1!=y){this.ou(e,v,y,p,t,g);h=!0;break}}}if(h)break}}}if(!h)break}l=k;f.L(c)}this.a.le(g)}};f.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.nd.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};f.prototype.ou=function(b,a,c,e,g,d){this.a.Kc(a,e);this.a.Lc(e,a);this.a.Lc(c,g);this.a.Kc(g,c);this.ii(e,b,d);this.a.Mi(e,!1);this.ii(g,b,d);this.a.Mi(g,
!0)};f.prototype.Dz=function(){for(var b=0,a=this.nd.size;b<a;b++){var c=this.nd.get(b);-1!=c&&this.a.Aj(c,-1)}for(var e=0,g=0,d=this.a.Pb(this.Y);-1!=d;){var n=this.a.cb(d);if(-1==n||d!=this.a.ld(n)){var r=d,d=this.a.Sb(d);this.a.jg(r,-1);this.a.Sr(r)}else{c=n;r=0;do this.a.Aj(c,d),r++,c=this.a.U(c);while(c!=n);this.a.Np(d,!1);this.a.sh(d,this.a.Ra(n));this.a.nk(d,r);g+=r;e++;d=this.a.Sb(d)}}b=0;for(a=this.nd.size;b<a;b++)if(c=this.nd.get(b),-1!=c&&(d=this.a.ld(c),-1==d)){d=this.a.Yf(this.Y,-1);
r=0;n=c;do this.a.Aj(c,d),r++,c=this.a.U(c);while(c!=n);2>=r?(c=this.a.Sa(n,this.Ki),this.nd.set(c,-1),n=this.a.ud(n,!1),2==r&&(c=this.a.Sa(n,this.Ki),0<=c&&this.nd.set(c,-1),this.a.ud(n,!1)),r=d,this.a.jg(r,-1),this.a.Sr(r)):(this.a.$n(d,!0),this.a.nk(d,r),this.a.jg(d,n),this.a.sh(d,this.a.Ra(n)),this.a.Np(d,!1),g+=r,e++)}this.a.wm(this.Y,e);this.a.lk(this.Y,g);b=0;for(a=this.a.rd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};f.We=function(b,a,c,e,g){return(new f(a,g)).hz(b,c,e)};f.clip=function(b,
a,c,e,g){return f.rq(b,a,null,c,e,g)};f.rq=function(b,a,c,e,g,k){var n=b.G();if(33==n)return g=b.w(),a.contains(g)?b:b.Ka();if(197==n)return g=new d.h,b.s(g),g.Ma(a)?(a=new d.ci,b.copyTo(a),a.Gp(g),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var r=new d.h;b.ac(r);if(a.contains(r))return b;if(!a.Yb(r))return b.Ka();if(null!=c||isNaN(e))e=d.na.Zy(c,a,!1);if(!d.T.gh(n))throw d.g.F();c=b.ob;if(null!=c&&(c=c.Hi,null!=c)){c=c.Rn(a);if(1==c){if(1736!=n)throw d.g.X("internal error");b=new d.Ja(b.description);
b.oq(a);return b}if(0==c)return b.Ka()}switch(n){case 550:k=null;n=b.D();e=b.Pa(0);c=0;g=new d.b;for(r=0;r<n;r++)e.fc(2*r,g),a.contains(g)||(0==c&&(k=b.Ka()),c<r&&k.Id(b,c,r),c=r+1);0<c&&k.Id(b,c,n);return 0==c?b:k;case 1736:case 1607:return f.We(b,a,e,g,k);default:throw d.g.X("internal error");}};f.prototype.ki=function(b,a){var c=new d.b;this.a.w(b,c);b=new d.b;this.a.w(a,b);return c.compare(b)};return f}();d.uh=h})(h||(h={}));(function(d){var h=new d.b,f=function(){function a(a,b,g,k,n){this.Cn=
new d.b;this.el=new d.b;this.oj=new d.b;this.a=a;this.px=g;this.ap=k;this.Cn=b;this.dm=n;this.el.$c();this.oj.$c()}a.prototype.HF=function(a){this.a.w(a,this.el);a=d.J.truncate((this.el.x-this.Cn.x)*this.ap+.5);var c=d.J.truncate((this.el.y-this.Cn.y)*this.ap+.5);return b.vH(a,c)};a.prototype.Wz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,e){this.a.w(a,this.el);this.a.w(e,this.oj);return b.pw(this.el.x,this.el.y,this.oj.x,this.oj.y,this.px)};return a}();d.EZ=function(){return function(){}}();
var b=function(){function a(){this.Cn=new d.b;this.er=[0,0,0,0];this.tt=[0,0,0,0];this.ep=this.dm=-1}a.cS=function(c,b){var e=new a;e.a=c;e.ta=b;e.px=b*b;e.Nw=2*b;e.ap=1/e.Nw;return e.FQ()};a.pw=function(a,b,g,d,n){a-=g;b-=d;return a*a+b*b<=n};a.vH=function(a,b){return d.J.dh(b,d.J.dh(a))};a.prototype.HQ=function(c,b){this.a.Nc(c,h);for(var e=(h.y-this.Cn.y)*this.ap,k=d.J.truncate((h.x-this.Cn.x)*this.ap),n=d.J.truncate(e),r=e=0;1>=r;r+=1)for(var f=0;1>=f;f+=1){var I=a.vH(k+r,n+f),w=this.cm.iT(I);
-1!=w&&(this.er[e]=w,this.tt[e]=I,e++)}for(k=e-1;1<=k;k--)for(w=this.er[k],n=k-1;0<=n;n--)if(w==this.er[n]){this.tt[n]=-1;e--;k!=e&&(this.tt[k]=this.tt[e],this.er[k]=this.er[e]);break}for(n=0;n<e;n++)this.IQ(c,this.tt[n],h,this.er[n],b)};a.prototype.IQ=function(c,b,g,k,n){for(var e=new d.b;-1!=k;k=this.cm.yT(k)){var f=this.cm.ja(k);c==f||-1!=b&&this.a.Sa(f,this.dm)!=b||(this.a.Nc(f,e),a.pw(g.x,g.y,e.x,e.y,this.px)&&n.add(k))}};a.prototype.Ln=function(a,b,g){var c=this.a.Sa(a,this.ep),e=this.a.Sa(b,
this.ep);-1==c&&(c=this.Nd.mi(),this.Nd.addElement(c,a),this.a.Va(a,this.ep,c));-1==e?this.Nd.addElement(c,b):this.Nd.mz(c,e);this.a.Va(b,this.ep,-2);b=this.XV(a,b);g&&(g=this.Yw.HF(a),this.a.Va(a,this.dm,g));return b};a.WV=function(c,b,g){c.Eb(b);g=c;var e=new d.b;a.GX(c.w(),b.w(),e);g.rb(e)};a.GX=function(a,b,g){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var e=a.y;a.y!=b.y&&(e=(1*a.y+1*b.y)/2);g.ka(c,e)};a.prototype.XV=function(a,b){var c=new d.b;this.a.w(a,c);var e=new d.b;this.a.w(b,e);var n=this.a.oH(a);
b=this.a.oH(b);var r=n+b,f=0,I=c.x;c.x!=e.x&&(I=(c.x*n+e.x*b)/r,f++);var h=c.y;c.y!=e.y&&(h=(c.y*n+e.y*b)/r,f++);0<f&&this.a.rb(a,I,h);this.a.rY(a,r);return 0!=f};a.prototype.FQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Zz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Nd=new d.Lu;this.Nd.pu(d.J.truncate(this.a.vd/3+1));this.Nd.Vn(d.J.truncate(this.a.vd/3+1));this.dm=this.a.Ud();this.ep=this.a.Ud();this.Yw=new f(this.a,this.Cn,this.px,this.ap,this.dm);
this.cm=new d.FM(d.J.truncate(4*a/3),this.Yw);this.cm.yX(this.a.vd);a=!1;for(b=this.a.rd;-1!=b;b=this.a.Ue(b))for(var g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(var k=this.a.cb(g),n=0,r=this.a.La(g);n<r;n++){var z=this.Yw.HF(k);this.a.Va(k,this.dm,z);this.cm.addElement(k,z);k=this.a.U(k)}var I=new d.ia(0);I.yb(10);for(b=this.a.rd;-1!=b;b=this.a.Ue(b))for(g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(k=this.a.cb(g),n=0,r=this.a.La(g);n<r;n++){if(-2!=this.a.Sa(k,this.ep))for(z=this.a.Sa(k,this.dm),this.cm.kd(k,
z);;){this.HQ(k,I);if(0==I.size)break;for(var z=!1,h=0,l=I.size;h<l;h++){var m=I.get(h),u=this.cm.ja(m);this.cm.Kd(m);z=this.Ln(k,u,h+1==l)||z}a=a||z;I.clear(!1);if(!z)break}k=this.a.U(k)}a&&this.yP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.yP=function(){for(var a=new d.b,b=this.Nd.Ge;-1!=b;b=this.Nd.cA(b)){var g=this.Nd.xc(b);this.a.w(this.Nd.ja(g),a);for(g=this.Nd.nb(g);-1!=g;g=this.Nd.nb(g))this.a.Qf(this.Nd.ja(g),a)}};return a}();d.Iu=b})(h||(h={}));(function(d){var h=
function(){function f(b){void 0===b&&(b=null);this.Oe=null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}f.prototype.copyTo=function(b){if(b.xa)throw d.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};f.prototype.count=function(){return this.Oe.length};f.prototype.kT=function(b){return this.Oe[b]};f.prototype.add=function(b){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};f.prototype.clear=
function(){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.length=0};f.prototype.remove=function(b){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};f.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.kT(a).kt();b.Oe=b.Oe.reverse();return b};f.prototype.oe=function(){var b=new f;this.copyTo(b);return b};f.prototype.Vf=function(){return this.oe()};f.prototype.transform=function(b,a,c,e){if(b.length<a)throw d.g.X("invalid Argument");
var g=c;for(c=0;c<this.Oe.length;c++){var k=this.Oe[c];if(null!=k.cn()){var n=k.nn,r=n?1:0,f=n?k.cn().getGeogcs2():k.cn().getGeogcs1(),f=f.getUnit().getUnitFactor(),f=g/f;if(3.552713678800501E-15<Math.abs(f-1))for(g=0;g<a;g++)b[g][0]*=f,b[g][1]*=f;d.QD.geogToGeog(k.cn(),a,b,null,r);g=(n?k.cn().getGeogcs1():k.cn().getGeogcs2()).getUnit().getUnitFactor()}}f=g/e;if(3.552713678800501E-15<Math.abs(f-1))for(g=0;g<a;g++)b[g][0]*=f,b[g][1]*=f;return a};f.prototype.getName=function(){if(0==this.Oe.length)return"";
for(var b="",a=0,c=this.Oe.length;a<c;++a)""!==b&&(b+=" + "),b+=this.Oe[a].getName();return b};f.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof f)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};f.prototype.Mp=function(){this.xa=!0};f.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};f.create=function(){return new f};f.aq=function(b,
a){var c=new f;c.add(d.io.create(b,a));return c};f.bq=function(b,a){var c=new f;c.add(d.io.gG(b,a));return c};return f}();d.ny=h})(h||(h={}));(function(d){var h=Math.PI,f=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.XQ=function(c,b){var e=new a;e.x=c;e.y=b;e.type=0;e.ui=0;return e};a.El=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.ui=0;return b};a.WQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.ui=c.ui;return b};a.ce=function(c,b,e){var g=new a;g.x=c.x+b*Math.cos(e);g.y=c.y+
b*Math.sin(e);g.type=c.type;g.ui=c.ui;return g};a.Dv=function(c,b){var e=new a;e.x=.5*(c.x+b.x);e.y=.5*(c.y+b.y);e.type=c.type;e.ui=c.ui;return e};a.$F=function(c,b){var e=new a;e.x=c.x+.001*(b.x-c.x);e.y=c.y+.001*(b.y-c.y);e.type=c.type;e.ui=c.ui;return e};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(d.KM||(d.KM={}));var e=function(){function e(a){this.tB=this.$b=this.Sg=null;this.ke=a}e.V=function(a,
c,b,g,f,h){if(null==a)throw d.g.F();if(1>a.tb())throw d.g.F();if(0==c||a.u())return a;h=new e(h);h.Yo=a;h.Qa=c;h.ta=f;h.jj=b;h.jB=g;return h.Ay()};e.prototype.AO=function(){var a=this.Yo,c=a.ec(),b=a.Bc(),e=new d.b;e.yc(b,c);e.normalize();e.uw();e.scale(this.Qa);c.add(e);b.add(e);e=a.Ka();a.Mc(c);a.Zc(b);return e};e.prototype.zO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var c=new d.Ja;c.jd(a,!1);this.Yo=c;return this.Ay()}a=new d.ci(a.R);a.O(this.Qa,this.Qa);return a};e.prototype.kK=function(a,
c,b,e){return(c.x-a.x)*(e.x-b.x)+(c.y-a.y)*(e.y-b.y)};e.prototype.pc=function(c,e){if(void 0===e)this.$b.push(c),this.Kf++;else if(0==this.Kf)this.pc(c);else{var g=this.qx,d,k;d=this.Sg[0==e?g-1:e-1];k=this.Sg[e];var n=this.kK(d,k,this.$b[this.Kf-1],c);0<n?this.pc(c):0>n&&(0<this.kK(d,k,k,this.$b[this.Kf-1])?(k=this.Sg[0==e?g-2:1==e?g-1:e-2],g=a.ce(d,this.Qa,Math.atan2(d.y-k.y,d.x-k.x)-b),this.$b[this.Kf-1]=g,1==this.jj||2==this.jj?(g=a.Dv(g,d),this.pc(g),g=a.ce(d,this.Qa,this.ww+b),d=a.Dv(g,d),d.type|=
256,this.pc(d)):(g=a.ce(d,this.Qa,this.ww+b),g.type|=256),this.pc(g),this.pc(c,e)):(g=a.ce(k,this.Qa,this.ww+b),this.pc(g),1==this.jj||2==this.jj?(g=a.Dv(g,k),this.pc(g),g=a.ce(k,this.Qa,this.KA-b),d=a.Dv(g,k),d.type|=256,this.pc(d)):(g=a.ce(k,this.Qa,this.KA-b),g.type|=256),this.pc(g)))}};e.prototype.AF=function(){var c,e,g,z,I,w,l=this.qx;this.Kf=0;var m=.5*this.ta,u=0,p=0;for(c=0;c<l;c++){z=this.Sg[c];I=0==c?this.Sg[l-1]:this.Sg[c-1];w=c==l-1?this.Sg[0]:this.Sg[c+1];var q=I.x-z.x,t=I.y-z.y,x=w.x-
z.x,v=w.y-z.y;e=Math.atan2(t,q);g=Math.atan2(v,x);this.ww=e;this.KA=g;0==c&&(u=e,p=g);q=q*v-x*t;t=g;g<e&&(g+=f);if(0<q*this.Qa)1==this.jj||2==this.jj?(e=a.ce(z,this.Qa,e+b),this.pc(e),e=a.$F(z,e),this.pc(e),e=a.ce(z,this.Qa,g-b),z=a.$F(z,e),z.type|=256,this.pc(z),this.pc(e)):(q=.5*(g-e),q=this.Qa/Math.abs(Math.sin(q)),e=a.ce(z,q,.5*(e+g)),this.pc(e,c));else if(0!=(z.type&512)){q=1-m/Math.abs(this.Qa);I=1;w=0>this.Qa?-h:h;-1<q&&1>q&&(t=2*Math.acos(q),.017453292519943295>t&&(t=.017453292519943295),
I=d.J.truncate(h/t+1.5),1<I&&(w/=I));t=e+b;e=a.ce(z,this.Qa,t);0==c&&(e.type|=1024);this.pc(e,c);q=this.Qa/Math.cos(w/2);t+=w/2;e=a.ce(z,q,t);e.type|=1024;for(this.pc(e);0<--I;)t+=w,e=a.ce(z,q,t),e.type|=1024,this.pc(e);e=a.ce(z,this.Qa,g-b);e.type|=1024;this.pc(e)}else if(1==this.jj)e=a.ce(z,this.Qa,e+b),this.pc(e,c),e=a.ce(z,this.Qa,g-b),this.pc(e);else if(0==this.jj)for(q=1-m/Math.abs(this.Qa),I=1,w=g-b-(e+b),-1<q&&1>q&&(t=2*Math.acos(q),.017453292519943295>t&&(t=.017453292519943295),I=d.J.truncate(Math.abs(w)/
t+1.5),1<I&&(w/=I)),q=this.Qa/Math.cos(.5*w),t=e+b+.5*w,e=a.ce(z,q,t),this.pc(e,c);0<--I;)t+=w,e=a.ce(z,q,t),this.pc(e);else 2==this.jj?(q=I.x-z.x,t=I.y-z.y,x=w.x-z.x,v=w.y-z.y,I=(q*x+t*v)/Math.sqrt(q*q+t*t)/Math.sqrt(x*x+v*v),.99999999<I?(e=a.ce(z,1.4142135623730951*this.Qa,g-.25*h),this.pc(e,c),e=a.ce(z,1.4142135623730951*this.Qa,g+.25*h),this.pc(e)):(I=Math.abs(this.Qa/Math.sin(.5*Math.acos(I))),w=Math.abs(this.jB*this.Qa),I>w?(q=.5*(g-e),q=this.Qa/Math.abs(Math.sin(q)),e=a.ce(z,q,.5*(e+g)),g=
d.b.pa(e.x,e.y),e=d.b.pa(z.x,z.y),z=new d.b,z.yc(g,e),g=new d.b,g.FX(w/z.length(),z,e),e=(I-w)*Math.abs(this.Qa)/Math.sqrt(I*I-this.Qa*this.Qa),0<this.Qa?z.uw():z.Ur(),z.scale(e/z.length()),e=new d.b,e.add(g,z),I=new d.b,I.yc(g,z),e=a.El(e),this.pc(e,c),e=a.El(I),this.pc(e)):(q=.5*(g-e),q=this.Qa/Math.abs(Math.sin(q)),e=a.ce(z,q,.5*(e+g)),this.pc(e,c)))):(g=t,0<this.Qa?(g>e&&(g-=f),I=e-g<b):(g<e&&(g+=f),I=g-e<b),I?(q=1.4142135623730951*this.Qa,t=0>q?e+.25*h:e+.75*h,e=a.ce(z,q,t),this.pc(e,c),t=0>
q?g-.25*h:g-.75*h,e=a.ce(z,q,t),this.pc(e)):(q=.5*(g-e),q=this.Qa/Math.abs(Math.sin(q)),g<e&&(g+=f),e=a.ce(z,q,(e+g)/2),this.pc(e,c)))}this.ww=u;this.KA=p;this.pc(this.$b[0],0);z=a.WQ(this.$b[this.Kf-1]);this.$b[0]=z;return this.uX()};e.prototype.kv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var e=this.$b[a+b];0!=b?this.tB.aj(d.b.pa(e.x,e.y)):this.tB.zu(d.b.pa(e.x,e.y))}};e.prototype.BO=function(c,b,e){var g=c.wa(b),d=c.Gc(b);this.$b=[];this.tB=e;if(c.Qb(b)){for(b=c.Ba(g);c.Ba(d-1).ub(b);)d--;if(2<=
d-g){this.qx=d-g;this.Sg=[];for(b=g;b<d;b++)this.Sg.push(a.El(c.Ba(b)));this.AF()&&this.kv(0,this.Kf-1)}}else{for(b=c.Ba(g);g<d&&c.Ba(g+1).ub(b);)g++;for(b=c.Ba(d-1);g<d&&c.Ba(d-2).ub(b);)d--;if(2<=d-g){this.qx=2*(d-g)-2;this.Sg=[];e=a.El(c.Ba(g));e.type|=1536;this.Sg.push(e);for(b=g+1;b<d-1;b++)e=a.El(c.Ba(b)),this.Sg.push(e);e=a.El(c.Ba(d-1));e.type|=512;this.Sg.push(e);for(b=d-2;b>=g+1;b--)e=a.El(c.Ba(b)),e.type|=1024,this.Sg.push(e);if(this.AF())if(2<=this.$b.length){c=-1;(d=0!=(this.$b[this.Kf-
1].type&1024))||(c=0);for(b=1;b<this.Kf;b++)(g=0!=(this.$b[b].type&1024))?d||(d=b-1,1<d-c+1&&this.kv(c,d-c+1)):d&&(c=b-1),d=g;d||(d=this.Kf-1,1<d-c+1&&this.kv(c,d-c+1))}else c=0,d=this.Kf-1,0<=c&&1<=d-c&&this.kv(c,d-c+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};e.prototype.uX=function(){for(var a=!1,c=0;c<this.Kf;c++){var b=this.$b[c];b.Nh=c+1;b.Qh=c-1;this.$b[c]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(c=b=0;c<this.Kf;c++)if(0!=(this.$b[b].type&
256)){var e=this.DR(b);if(-1!=e)b=e;else{a=!0;break}}else b=this.$b[b].Nh;if(a)return!1;this.UQ(b);return!0};e.prototype.DR=function(a){for(var c=this.Kf-1,b=a,e,g,d=1;d<=c-2;d++){e=b=this.$b[b].Nh;g=a;for(var k=1;k<=d;k++){g=this.$b[g].Qh;if(0==(this.$b[g].type&256)&&0==(this.$b[e].type&256)){var f=this.bU(g,e);if(-1!=f)return f}e=this.$b[e].Qh}}return-1};e.prototype.bU=function(a,b){var e,g,k,n;e=this.$b[this.$b[a].Qh];g=this.$b[a];k=this.$b[this.$b[b].Qh];n=this.$b[b];if(!this.JX(e,g,k,n))return-1;
var f=new c;return this.qS(e,g,k,n,f)&&!f.pF&&d.J.SK((g.x-e.x)*(n.y-k.y)-(g.y-e.y)*(n.x-k.x))!=d.J.SK(this.Qa)?(e=this.$b[a].Qh,f.Pn.type=g.type,f.Pn.Nh=b,f.Pn.Qh=e,this.$b[a]=f.Pn,f.Pn=this.$b[b],f.Pn.Qh=a,this.$b[b]=f.Pn,b):-1};e.prototype.JX=function(a,c,b,e){return Math.max(a.x,c.x)>=Math.min(b.x,e.x)&&Math.max(b.x,e.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,e.y)&&Math.max(b.y,e.y)>=Math.min(a.y,c.y)};e.prototype.qS=function(c,b,e,g,d){d.pF=!1;var k,n,r;k=(b.y-c.y)*(g.x-e.x)-(b.x-
c.x)*(g.y-e.y);n=(e.y-c.y)*(b.x-c.x)-(e.x-c.x)*(b.y-c.y);k=0==k?2:n/k;return 0<=k&&1>=k&&(r=k,k=(g.y-e.y)*(b.x-c.x)-(g.x-e.x)*(b.y-c.y),n=(c.y-e.y)*(g.x-e.x)-(c.x-e.x)*(g.y-e.y),k=0==k?2:n/k,0<=k&&1>=k)?(d.Pn=a.XQ(c.x+k*(b.x-c.x),c.y+k*(b.y-c.y)),d.Pn.ui=e.ui+r*(g.ui-e.ui),0!=r&&1!=r||0!=k&&1!=k||(d.pF=!0),d.N_=k,d.O_=r,(0==r||1==r)&&0<k&&1>k||(0==k||1==k)&&0<r&&1>r?!1:!0):!1};e.prototype.UQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Nh,c++;while(b!=
a);this.$b[c]=this.$b[0];this.Kf=c+1};e.prototype.wE=function(a){var c=this.Yo,b=c.Fa();if(null!=b){b.yj();for(var e=-1;b.Ya();)e++,this.BO(c,e,a)}};e.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.AO():197==a?this.zO():d.T.Oc(a)?(a=new d.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new d.Ua,this.wE(a),a):1736==a?(a=new d.Ja,this.wE(a),a):null};return e}();d.UL=e})(h||(h={}));(function(d){var h=function(){function a(a){this.Rk=a}a.prototype.w=function(a,c){this.Rk.a.w(a,c)};a.prototype.Kd=
function(a){var c=this.Rk.Na.ja(a);this.Rk.Na.Kd(a,-1);this.Rk.a.ud(c,!1)};return a}(),f=function(){function a(a){this.Rk=a}a.prototype.w=function(a,c){this.Rk.HV.w(a,c)};a.prototype.Kd=function(a){this.Rk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Rk=a}a.prototype.w=function(a,c){c.L(this.Rk.KV[a])};a.prototype.Kd=function(a){this.Rk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new d.uk,this.Na.Qe(20),this.a=new d.fd,this.yV=this.a.bh(550),this.Nt=this.a.Yf(this.yV,
-1),this.wi=new h(this)):a instanceof Array?(this.Na=new d.uk,this.Na.Qe(20),this.KV=a,this.wi=new b(this)):(this.Na=new d.uk,this.Na.Qe(20),this.HV=a,this.wi=new f(this))}a.prototype.Jb=function(a){var c=a.G();if(d.Mu.gh(c))this.iP(a);else if(d.wl.Oc(c))this.pP(a);else if(197==c)this.fP(a);else if(33==c)this.mP(a);else throw d.g.F("invalid shape type");};a.prototype.VS=function(){var a=new d.Wa,c=this.Na.xc(-1),b=new d.Ja(this.a.Hr);this.a.wj(this.Na.ja(c),a);b.Rf(a);for(c=this.Na.nb(c);-1!=c;c=
this.Na.nb(c))this.a.wj(this.Na.ja(c),a),b.lineTo(a);return b};a.VQ=function(c){var b=new a(c),e=c.D(),n=1,r=new d.b,f=new d.b,h=new d.b;for(c.w(0,r);;){c.w(n,f);if(!(f.xA(r)&&n<e-1))break;n++}b.Na.addElement(0,-1);b.Na.ro(n);for(e=n+1;e<c.D();e++)c.w(e,h),n=b.PC(h),-1!=n&&b.Na.kk(n,e);h=new d.Wa;n=b.Na.xc(-1);e=new d.Ja(c.description);c.Ae(b.Na.ja(n),h);e.Rf(h);for(n=b.Na.nb(n);-1!=n;n=b.Na.nb(n))c.Ae(b.Na.ja(n),h),e.lineTo(h);return e};a.pa=function(c,b,d){for(var e=new a(c),g=1,k=c[0];c[g].xA(k)&&
g<b-1;)g++;e.Na.addElement(0,-1);e.Na.ro(g);for(g+=1;g<b;g++)k=e.PC(c[g]),-1!=k&&e.Na.kk(k,g);c=0;for(b=e.Na.xc(-1);-1!=b;b=e.Na.nb(b))d[c++]=e.Na.ja(b);return c};a.VH=function(c,b){var e=c.wa(b),g=c.Gc(b);b=!c.Qb(b)&&c.Eo(b);c=c.Pa(0);e*=2;g*=2;b&&(g-=2);if(6>g-e)return!0;b=new d.b;var r=new d.b,f=new d.b;c.fc(e,b);c.fc(e+2,r);c.fc(e+4,f);var h=a.fe(r,f,b);if(h.lt()||!a.tc(h.value()))return!1;for(var w=d.b.pa(r.x,r.y),l=new d.b,e=e+6;e<g;e+=2){l.L(r);r.L(f);c.fc(e,f);h=a.fe(r,f,b);if(h.lt()||!a.tc(h.value()))return!1;
h=a.fe(w,f,b);if(h.lt()||!a.tc(h.value()))return!1;h=a.fe(r,f,l);if(h.lt()||!a.tc(h.value()))return!1}return!0};a.prototype.iP=function(a){for(var c=new d.Wa,b=new d.b,e=0;e<a.D();e++){a.w(e,b);var r=this.As(b);if(-1!=r){a.Ae(e,c);var f=this.a.pc(this.Nt,c);this.Na.kk(r,f)}}};a.prototype.fP=function(a){for(var c=new d.Wa,b=new d.b,e=0;4>e;e++){a.Gx(e,b);var r=this.As(b);if(-1!=r){a.ig(e,c);var f=this.a.pc(this.Nt,c);this.Na.kk(r,f)}}};a.prototype.pP=function(a){var c=new d.Wa,b=a.ec(),b=this.As(b);
if(-1!=b){a.Dp(c);var e=this.a.pc(this.Nt,c);this.Na.kk(b,e)}b=a.Bc();b=this.As(b);-1!=b&&(a.Bp(c),a=this.a.pc(this.Nt,c),this.Na.kk(b,a))};a.prototype.mP=function(a){var c=a.w(),c=this.As(c);-1!=c&&(a=this.a.pc(this.Nt,a),this.Na.kk(c,a))};a.prototype.As=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.xA(b)||(c=this.Na.ro(-5));return c}return c=this.PC(a)};a.prototype.PC=function(c){var b=-1,e=this.Na.xc(-1),
n=this.Na.Fc(-1),r=this.Na.ja(e),f=this.Na.ja(n),h=new d.b,w=new d.b;this.wi.w(r,h);this.wi.w(f,w);r=d.b.zp(w,c,h);if(a.tc(r))b=this.Na.ro(-1),h=this.NC(c,n,e),h!=e&&this.OC(c,e,this.Na.Ve(h));else if(a.ul(r)){for(var w=this.Na.fw(-1),l=this.Na.xc(-1),m=this.Na.Fc(-1),u,r=new d.b,f=new d.b;l!=this.Na.Ve(m);)u=this.Na.ja(w),this.wi.w(u,r),u=d.b.zp(r,c,h),a.ul(u)?(m=w,w=this.Na.Pl(w)):(l=w,w=this.Na.Nq(w));w=m;h=l;u=this.Na.ja(w);l=this.Na.ja(h);this.wi.w(u,r);this.wi.w(l,f);if(h==e||(r=d.b.zp(f,c,
r),a.tc(r)))b=this.Na.jv(h,w,-2,!1),this.OC(c,w,n),this.NC(c,h,e)}else null==this.wb&&(this.wb=new d.Hb),this.wb.Mc(w),this.wb.Zc(h),h=this.wb.qe(c,!0),0>h?(h=this.Na.Ve(n),this.Na.Kd(n,-1),b=this.Na.ro(-3),this.NC(c,h,e)):1<h&&(h=this.Na.nb(e),this.Na.Kd(e,-1),b=this.Na.jv(-1,h,-3,!1),this.OC(c,h,n));return b};a.prototype.OC=function(c,b,k){if(b!=k){var e=this.Na.ja(b),g=this.Na.nb(b),f=new d.b,h=new d.b;for(this.wi.w(e,f);b!=k&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(g),h);e=d.b.zp(h,c,f);if(a.tc(e))break;
e=b;b=g;f.L(h);g=this.Na.nb(b);this.wi.Kd(e)}}};a.prototype.NC=function(c,b,k){if(b==k)return k;var e=this.Na.ja(b),g=this.Na.Ve(b),f=new d.b,h=new d.b;for(this.wi.w(e,f);b!=k&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(g),h);e=d.b.zp(f,c,h);if(a.tc(e))break;e=b;b=g;f.L(h);g=this.Na.Ve(b);this.wi.Kd(e)}return b};a.fe=function(a,c,b){var e=new d.Xb;e.set(c.x);e.sub(a.x);var g=new d.Xb;g.set(b.y);g.sub(a.y);var k=new d.Xb;k.set(c.y);k.sub(a.y);c=new d.Xb;c.set(b.x);c.sub(a.x);e.Vg(g);k.Vg(c);e.sub(k);
return e};a.tc=function(a){return 0>a};a.ul=function(a){return 0<a};a.hq=function(a){return 0==a};return a}();d.Ju=a})(h||(h={}));(function(d){var h=function(){function f(b){this.ke=this.a=null;this.FI=!0;this.ke=b}f.yJ=function(b,a,c){b=d.na.Cs(b);return d.Iu.pw(a.Be(),a.nf(),c.Be(),c.nf(),d.Ub.Yx(b))};f.GQ=function(b,a){var c=new d.Wa;d.Iu.WV(b,a,c);return c};f.V=function(b,a,c,e){c=new f(c);c.a=b;c.ta=a;c.FI=e;return c.MO()};f.prototype.GO=function(b){return d.Iu.cS(this.a,b)};f.prototype.JO=function(b){return d.Ku.V(this.a,
b,this.ke)};f.prototype.MO=function(){for(var b=this.ta,a=d.na.Cs(b),b=d.na.sP(b),c=1.00001*b,b=1.000001*b,e=!1,g=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),k=0,n=this.a.eU();;k++){if(k>g)throw d.g.X("Internal Error: max number of iterations exceeded");var r=this.GO(a),e=e||r;this.FI&&(r=0!=this.a.zq(a,!0,!1),e=e||r);r=!1;if(0==k||n||d.Ku.tJ(!0,this.a,b,null,this.ke))r=this.JO(c),e=e||r;if(!r)break}return e};return f}();d.sk=h})(h||(h={}));(function(d){var h=function(){function b(a){this.xe=
this.Tc=null;this.kx=0;this.mc=a;this.MA=!0}b.prototype.gw=function(a,c){var b=this.a.ic(a);if(null==b){if(!this.a.od(a,c))return null;b=c}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.nR=function(){var a=this.a.Qr(!1),c=!1,b=new d.Hb,g=new d.Hb,k=new d.h;k.Oa();var n=new d.h;n.Oa();for(var r=new d.Wa,f=new d.eE,h=a.next();-1!=h;h=a.next()){var w=null,l=!1;if(!d.T.Jo(this.a.hc(a.Bk))){w=this.gw(h,b);if(null==w)continue;w.s(k);k.O(this.ta,
this.ta);if(w.fh(this.ta))if(w.fh(0))l=!0,w=null;else continue}var m=this.a.Qr(a),u=m.next();for(-1!=u&&(u=m.next());-1!=u;u=m.next()){var p=null,q=!1;if(!d.T.Jo(this.a.hc(m.Bk))){p=this.gw(u,g);if(null==p)continue;p.s(n);if(p.fh(this.ta))if(p.fh(0))q=!0,p=null;else continue}var t=0,x=0;if(null!=w&&null!=p)k.TH(n)&&(f.Ap(w),f.Ap(p),f.Ma(this.ta,!1),t=f.Rl(0),x=f.Rl(1),0<t+x&&(this.a.bs(h,f,0,!0),this.a.bs(u,f,1,!0)),f.clear());else if(null!=w){var v=new d.b;this.a.w(u,v);if(k.contains(v)){f.Ap(w);
this.a.wj(u,r);f.tA(this.ta,r,!1);t=f.Rl(0);if(0<t)if(this.a.bs(h,f,0,!0),q){q=-1;for(v=this.a.U(u);-1!=v&&v!=u&&(p=this.gw(v,g),q=v,null!=p&&p.fh(0));v=this.a.U(v));for(v=u;-1!=v&&(this.a.Yh(v,f.cg),v!=q);v=this.a.U(v));}else this.a.Yh(u,f.cg);f.clear()}}else if(null!=p){if(v=new d.b,this.a.w(h,v),n.O(this.ta,this.ta),n.contains(v)){f.Ap(p);this.a.wj(h,r);f.tA(this.ta,r,!1);x=f.Rl(0);if(0<x)if(this.a.bs(u,f,0,!0),l){q=-1;for(v=this.a.U(h);-1!=v&&v!=h&&(p=this.gw(v,g),q=v,null!=p&&p.fh(0));v=this.a.U(v));
for(v=h;-1!=v&&(this.a.Yh(v,f.cg),v!=q);v=this.a.U(v));}else this.a.Yh(h,f.cg);f.clear()}}else continue;if(0!=t+x){if(0!=t){w=this.a.ic(h);if(null==w){if(!this.a.od(h,b))continue;w=b;b.s(k)}else w.s(k);if(w.fh(this.ta))break}c=!0}}}return c};b.prototype.oR=function(){return this.EW()};b.prototype.EW=function(){return(new d.XD).JY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,c,b;null==this.Tc&&(this.Tc=new d.uk);var g=new d.ia(0);g.yb(this.a.vd+1);for(var k=this.a.Qr(),n=k.next();-1!=n;n=k.next())g.add(n);
this.a.Xx(g,g.size);g.add(-1);k=this.a.Ud();n=this.a.Ud();this.xe=new d.gE(this.a,this.ta,!this.MA);this.Tc.Ep(this.xe);var r=new d.ia(0),f=new d.ia(0),h=0;new d.b;var w=this.a.Dd;this.a.xb.wc();for(var l=this.a.xb.ya[0].f,m,u,p=g.get(h++);-1!=p;){u=w.S(p,0);m=l[2*u];u=l[2*u+1];var q=m,t=u;do{var x=w.S(p,2),v=w.S(p,1);-1!=x&&(c=w.S(x,0),b=l[2*c],c=l[2*c+1],0>(t<c?-1:t>c?1:q<b?-1:q>b?1:0)&&(f.add(p),f.add(x)));-1!=v&&(c=w.S(v,0),b=l[2*c],c=l[2*c+1],0>(t<c?-1:t>c?1:q<b?-1:q>b?1:0)&&(f.add(v),f.add(v)));
b=this.a.Sa(p,k);-1!=b&&(r.add(b),this.a.Va(p,k,-1));b=this.a.Sa(p,n);-1!=b&&(r.add(b),this.a.Va(p,n,-1));p=g.get(h++);-1!==p&&(t=w.S(p,0),q=l[2*t],t=l[2*t+1])}while(-1!=p&&q===m&&t===u);q=1==r.size&&2==f.size;b=t=-1;x=0;for(v=r.size;x<v;x++){c=r.get(x);var B=this.Tc.Ve(c);-1==B||r.oA(B)||(t=B);c=this.Tc.nb(c);-1==c||r.oA(c)||(b=c);if(-1!=t&&-1!=b)break}this.xe.QK(u,m);x=0;for(v=r.size;x<v;x++)c=r.get(x),this.Tc.Kd(c,-1);r.clear(!1);if(!q&&-1!=t&&-1!=b&&this.uQ(t,b)){a=!0;this.mj=this.xe.en();break}x=
0;for(v=f.size;x<v;x+=2){u=f.get(x);m=f.get(x+1);q?(u=this.Tc.jv(t,b,u,!0),q=!1):u=this.Tc.addElement(u,-1);if(this.xe.Ng){this.mj=this.xe.en();a=!0;break}-1==this.a.Sa(m,k)?this.a.Va(m,k,u):this.a.Va(m,n,u)}if(a)break;f.yf(0)}this.a.le(k);this.a.le(n);return a};b.prototype.uQ=function(a,c){this.xe.compare(this.Tc,this.Tc.ja(a),c);a=this.xe.Ng;this.xe.Gs();return a};b.Cj=function(a){for(var c=a.rd;-1!=c;c=a.Ue(c))if(d.T.Ic(a.hc(c)))return!0;return!1};b.Gm=function(a,c,e,g){if(!b.Cj(a))return!1;c=
new b(g);c.a=a;c.ta=e;if(15>a.vd)a=c.nR();else return c.oR();return a};b.V=function(a,c,e){return b.Gm(a,a.TG(),c,e)};b.tJ=function(a,c,e,g,k){if(!b.Cj(c))return!1;var n=new b(k);n.a=c;n.ta=e;n.MA=a;if(n.uJ())return null!=g&&g.ms(n.mj),!0;var r=new d.Hd;r.yC();c.Xc(r);n=new b(k);n.a=c;n.ta=e;n.MA=a;a=n.uJ();r.yC();c.Xc(r);return a?(null!=g&&g.ms(n.mj),!0):!1};b.qm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.lR=function(a,c,e,g){if(d.T.Ic(c.G()))return(new b(g)).mR(a,
c,e);throw d.g.X("crack_A_with_B");};b.prototype.mR=function(a,c,e){var g=new d.h;a.ac(g);var k=new d.h;c.ac(k);k.O(e,e);if(!k.Yb(g))return a;var n=a.ob,r=null;null!=n&&(r=n.Mb);b.qm(a,a.D())&&(r=d.na.Lj(a,k));var z=null!=r?r.mf():null,h=c.Fa();c=a.Fa();for(var w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[];h.Ya();)for(;h.Ea();){var l=h.ba();if(null!=r)for(z.Wn(l,e),n=z.next();-1!=n;n=z.next()){if(this.Pr(),c.Tb(r.ja(n),-1),c.Ea())for(var n=c.ba(),m=n.Ma(l,null,w,null,e),n=0;n<m;++n){var u=w[n];if(0!=u&&
1!=u){var p=c.Db(),q=new f;q.t=u;q.index=p;k.push(q)}}}else{var t=new d.h;l.ac(t);t.O(e,e);if(g.Yb(t))for(c.yj();c.Ya();)for(;c.Ea();)if(this.Pr(),n=c.ba(),u=new d.h,n.ac(u),u.Yb(t))for(m=n.Ma(l,null,w,null,e),n=0;n<m;++n)u=w[n],0!=u&&1!=u&&(p=c.Db(),q=new f,q.t=u,q.index=p,k.push(q))}}if(0==k.length)return a;k=k.sort(f.Hs);a=a.Ka();for(c.yj();c.Ya()&&!c.Ea(););e=c.ba();g=new d.Cg;r=-1;n=0;for(z=k.length;n<z;){w=k[n].index;for(h=n+1;h<z&&k[h].index==w;)++h;for(;c.Db()<w;){this.Pr();l=c.Ea();u=c.Ta;
(t=l||!c.Fo()||c.Go())&&a.dc(e,r!=u);r=u;if(!l)for(;c.Ya()&&!c.Ea(););e=c.ba()}for(w=0;n<h;n++)u=k[n].t,u!=w&&(e.yh(w,u,g),w=u,u=c.Ta,a.dc(g.get(),r!=u),r=u);if(t=(l=c.Ea())||!c.Fo()||c.Go())e.yh(w,1,g),a.dc(g.get(),!1);if(l)e=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?e=c.ba():e=null}n=h}null!=e&&(u=c.Ta,(t=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(e,r!=u),r=u);for(l=c.Ea();;){if(!l){for(;c.Ya()&&!(l=c.Ea()););if(!l)break}e=c.ba();u=c.Ta;(t=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(e,r!=u);r=u}return a};return b}();
d.Ku=h;var f=function(){function b(){}b.Hs=function(a,c){return a.index==c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(h||(h={}));(function(d){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(d.WL||(d.WL={}));var h=function(){return function(a,b,g,d,n,r,f,h,w,l,m){this.Y=a;this.nx=b;this.It=g;this.Pg=d;this.yn=l;this.em=m}}();d.GZ=h;var f=function(){function a(a,c){this.YI=a;this.gj=c}a.prototype.IO=
function(a,c){var b=new d.b;this.gj.w(a,b);var e=new d.b;this.gj.w(c,e);b=b.compare(e);if(0!=b)return b;b=this.gj.Sa(a,this.YI);e=this.gj.Sa(c,this.YI);return b<e?-1:b==e?0:1};return a}(),b=function(){return function(a,b,g,d,n,r,f,h,w){this.Pg=a;this.It=b;this.uB=g;this.hJ=d;this.dj=n;this.em=r;this.yn=f;this.iJ=h;this.NV=w}}();d.FZ=b;var a=function(){function a(){}a.VL=function(c,b,k,n,r,f){if(b.u())c=new h(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),r.push(c);else{var e=new d.fd;e.Jb(b);e.Jb(k);
d.sk.V(e,n,f,!0);b=0;k=e.Ud();for(n=e.rd;-1!=n;n=e.Ue(n))for(f=e.Pb(n);-1!=f;f=e.Sb(f))for(var g=e.cb(f),z=0,l=e.La(f);z<l;g=e.U(g),z++)e.Va(g,k,b++);b=a.mM(k,e);a.uW(c,b,e,r)}};a.mM=function(c,b){for(var e=b.vd,g=new d.ia(0),r=b.rd;-1!=r;r=b.Ue(r))for(var z=b.Pb(r);-1!=z;z=b.Sb(z))for(var h=b.cb(z),w=0,l=b.La(z);w<l;h=b.U(h),w++)g.add(h);var m=new f(c,b);g.Gd(0,e,function(a,c){return m.IO(a,c)});c=[];var u=[],p=b.Ud(),q=b.Ud(),r=b.rd,z=b.Ue(r),l=new d.b,t=new d.b,x=g.get(0),v=b.ld(x),B=b.ng(v);b.w(x,
l);for(var y=1,h=0;y<e-1;){for(var C=!1,w=y;w<e;w++)if(w!=h){var A=g.get(w),E=b.ld(A),F=b.ng(E);b.w(A,t);if(l.ub(t))B==r&&F==z&&(C=a.oZ(p,q,b,c,u,v,x,E,A));else break}if(C||h==y-1){C&&h==y-1&&y--;if(++h==e)break;x=g.get(h);v=b.ld(x);B=b.ng(v);b.w(x,l)}C||(y=h+1)}e=[];for(r=b.rd;-1!=r;r=b.Ue(r))for(z=b.Pb(r);-1!=z;z=b.Sb(z))for(g=b.cb(z),w=0,l=b.La(z);w<l;g=b.U(g),w++){h=b.Sa(g,q);if(0<=h)for(;h<u.length&&u[h].Pg==g;)e.push(u[h++]);h=b.Sa(g,p);if(0<=h)for(;h<c.length&&c[h].Pg==g;)e.push(c[h++])}b.le(p);
b.le(q);return e};a.oZ=function(c,b,d,n,r,f,h,w,l){var e=d.Rj(f),g=d.Rj(w),k=d.cb(f),z=d.cb(w),I=d.Ra(h),m=d.Ra(l),P=!1,u=!1,p=!1,q=!1;h!=k&&(l!=z&&(P=a.tZ(c,d,n,f,I,w,m)),l!=g&&(u=a.vZ(c,d,n,f,I,w,l)));h!=e&&(l!=z&&(p=a.xZ(b,d,r,f,h,w,m,k)),l!=g&&(q=a.HL(b,d,r,f,h,w,l,k)));P&&u&&p?(c=n.length-1,2==r[q?r.length-2:r.length-1].dj&&(n[c-1]=n[c],--n.length)):P&&u&&q&&2==r[r.length-1].dj&&(r=n[n.length-1],--n.length,d.Sa(r.Pg,c)==n.length&&d.Va(r.Pg,c,-1));return P||u||p||q};a.tZ=function(a,c,k,n,r,f,
h){var e,g;g=new d.Hb;var z=new d.Hb,I=[0,0],l=[0,0];e=c.ic(r);null==e&&(c.od(r,g),e=g);g=c.ic(h);null==g&&(c.od(h,z),g=z);e=e.Ma(g,null,I,l,0);2>e&&(n=new b(r,n,I[0],NaN,e,h,f,l[0],NaN),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,k.length-1));return!0};a.vZ=function(a,c,k,n,r,f,h){var e,g;g=new d.Hb;var z=new d.Hb,I=[0,0],l=[0,0];e=c.ic(r);null==e&&(c.od(r,g),e=g);g=c.ic(h);null==g&&(c.od(h,z),g=z);e=e.Ma(g,null,I,l,0);return 2>e?(n=new b(r,n,I[0],NaN,e,h,f,l[0],NaN),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,
k.length-1),!0):!1};a.xZ=function(a,c,k,n,r,f,h,w){var e,g;g=new d.Hb;var z=new d.Hb,I=[0,0],l=[0,0];e=c.ic(r);null==e&&(c.od(r,g),e=g);g=c.ic(h);null==g&&(c.od(h,z),g=z);e=e.Ma(g,null,I,l,0);if(2==e)return n=new b(r,n,I[0],I[1],e,h,f,l[0],l[1]),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,k.length-1),!0;z=!1;r==w&&(n=new b(r,n,I[0],NaN,e,h,f,l[0],NaN),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,k.length-1),z=!0);return z};a.HL=function(a,c,k,n,r,f,h,w){var e,g;g=new d.Hb;var z=new d.Hb,I=[0,0],l=[0,0];e=c.ic(r);
null==e&&(c.od(r,g),e=g);g=c.ic(h);null==g&&(c.od(h,z),g=z);e=e.Ma(g,null,I,l,0);if(2==e)return n=new b(r,n,I[0],I[1],e,h,f,l[0],l[1]),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,k.length-1),!0;z=!1;r==w&&(n=new b(r,n,I[0],NaN,e,h,f,l[0],NaN),k.push(n),n=c.Sa(r,a),0>n&&c.Va(r,a,k.length-1),z=!0);return z};a.uW=function(c,b,k,n){var e,g=[];g[0]=new d.b;g[1]=new d.b;g[2]=new d.b;g[3]=new d.b;var f=new d.b,w=new d.b,l=new d.b,m=new d.b,u=null;null!=n&&(u=new d.Cg,u.Js());var p,q=0,t=null,x=new d.Hb;new d.Hb;
for(var v=k.Pb(k.rd);-1!=v;v=k.Sb(v)){var B,y=4,C=-1,A,E,F,D=-1,H,G,K,N,Q=-1,O=-1,M=NaN;B=!0;var S=!1,V=!0,aa=!0,L=!0,J=0;F=v;H=0;for(var Y=k.cb(v),R=k.La(v),U=0;U<R;Y=k.U(Y),U++){p=k.ic(Y);if(null==p){if(!k.od(Y,x))continue;p=x}-1==D&&(D=Y);for(var Z=0;q<b.length&&Y==b[q].Pg;){C=b[q].It;A=b[q].Pg;E=b[q].uB;G=b[q].yn;K=b[q].em;N=b[q].iJ;if(2==b[q].dj){if(S||(F=C,D=A,H=E,Q=G,O=K,M=N,y=2,null!=n?t=new d.Ua:J=0,L=!1,aa=!0),E=b[q].hJ,N=b[q].NV,null!=n?(p.yh(Z,b[q].hJ,u),t.dc(u.get(),aa)):J++,Z=E,S=!0,
aa=B=!1,q+1==b.length||2!=b[q+1].dj||b[q+1].Pg==A&&b[q+1].uB!=Z)null!=n?(e=new h(t,2,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J),F=C,D=A,H=E,Q=G,O=K,M=N,y=2,S=B=!1,aa=L=!0}else{var ca=k.U(A);if(q<b.length-1&&b[q+1].Pg==ca&&b[q+1].em==K&&2==b[q+1].dj)E!=Z&&(L&&(null!=n?t=new d.Ua:J=0),B=0<q&&b[q-1].It==C?1==y?0:0==y?1:3:3,null!=n?(p.yh(Z,E,u),t.dc(u.get(),aa),e=new h(t,B,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):(J++,null.add(J)),Z=E,F=C,D=A,H=E,Q=G,O=K,M=N,y=B,B=V=!1,aa=L=!0);else if(!a.bM(c,k,
b,q,f,w)){a.NL(k,b,q,v,Y,l,m);var T=!1,ca=!1;e=!0;if(!(f.ub(l)||w.ub(l)||f.ub(m)||w.ub(m))){g[0].L(f);g[1].L(w);g[2].L(l);g[3].L(m);g.sort(d.b.vs);var ea=g[0],da=g[1],ha=g[2],ia=g[3];ea.ub(f)?da.ub(w)?c?(ca=T=!0,e=!1):T=!1:ia.ub(w)?c?e=ca=T=!0:T=!1:(T=!0,e=da.ub(l)):da.ub(f)?ha.ub(w)?c?(ca=T=!0,e=!1):T=!1:ea.ub(w)?c?e=ca=T=!0:T=!1:(T=!0,e=ha.ub(l)):ha.ub(f)?ia.ub(w)?c?(ca=T=!0,e=!1):T=!1:da.ub(w)?c?e=ca=T=!0:T=!1:(T=!0,e=ia.ub(l)):ea.ub(w)?c?(ca=T=!0,e=!1):T=!1:ha.ub(w)?c?e=ca=T=!0:T=!1:(T=!0,e=ea.ub(l))}if(T){T=
Y==A;if(E!=Z||T&&0==Z)L&&(null!=n?t=new d.Ua:J=0),null!=n?(p.yh(Z,E,u),t.dc(u.get(),aa)):J++;if(e)if(1!=y){if(E!=Z||T&&0==Z)null!=n?(e=new h(t,1,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J);if(!ca)y=1;else if(q==b.length-2||b[q+2].It!=C)y=0}else{if(E!=Z||T&&0==Z)null!=n?(e=new h(t,3,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J);y=1}else if(0!=y){if(E!=Z||T&&0==Z)null!=n?(e=new h(t,0,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J);if(!ca)y=0;else if(q==b.length-2||b[q+2].It!=C)y=1}else{if(E!=
Z||T&&0==Z)null!=n?(e=new h(t,3,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J);y=0}if(E!=Z||T&&0==Z)Z=E,F=C,D=A,H=E,Q=G,O=K,M=N,B=V=!1,aa=L=!0}}}q++}1!=Z&&(L&&(null!=n?t=new d.Ua:J=0),null!=n?(p.yh(Z,1,u),t.dc(u.get(),aa)):J++,aa=L=!1,V=!0)}V&&(E=1,A=k.Rj(v),A=k.Ra(A),K=G=-1,N=NaN,B?null!=n?(e=new h(t,4,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J):(B=1==y?0:0==y?1:3,null!=n?(e=new h(t,B,C,A,E,y,F,D,H,G,K,N,Q,O,M),n.push(e)):null.add(J)))}};a.bM=function(c,b,k,n,r,f){var e=k[n].iJ;if(1==e)return a.RL(c,
b,k,n,r,f);if(0==e)return a.YL(c,b,k,n,r,f);throw d.g.za();};a.RL=function(a,c,b,n,r,f){var e=new d.Hb,g=b[n].Pg,k=b[n].yn,z=b[n].em,h=-1,l=-1,m=-1,u=-1;if(!a&&0<n)var p=b[n-1],h=p.Pg,l=p.yn,m=p.em,u=p.dj;var q=-1,t=-1,x=-1,v=-1;n<b.length-1&&(p=b[n+1],q=p.Pg,t=p.yn,x=p.em,v=p.dj);var B=c.U(g),p=c.U(z);if(!a)return 0<n&&h==g&&l==k&&m==p&&2==u||n<b.length-1&&q==B&&t==k&&x==p&&2==v?(a=c.ic(z),null==a&&(c.od(z,e),a=e),f.L(a.Eg(1)),r.bu(f),f.normalize(),r.normalize(),!1):n<b.length-1&&q==g&&t==k&&x==
p?(a=c.ic(z),null==a&&(c.od(z,e),a=e),r.L(a.Eg(1)),a=c.ic(p),null==a&&(c.od(p,e),a=e),f.L(a.Eg(0)),r.Lr(),f.normalize(),r.normalize(),!1):!0;if(n==b.length-1||q!=g||t!=k||x!=p||2==v)return a=c.ic(z),null==a&&(c.od(z,e),a=e),f.L(a.Eg(1)),r.bu(f),f.normalize(),r.normalize(),!1;a=c.ic(z);null==a&&(c.od(z,e),a=e);r.L(a.Eg(1));a=c.ic(p);null==a&&(c.od(p,e),a=e);f.L(a.Eg(0));r.Lr();f.normalize();r.normalize();return!1};a.YL=function(a,c,b,n,r,f){var e=new d.Hb,g=b[n].Pg,k=b[n].yn,z=b[n].em,h=-1,l=-1,m=
-1,u=-1;if(!a&&n<b.length-1)var p=b[n+1],h=p.Pg,l=p.yn,m=p.em,u=p.dj;var q=-1,t=-1,x=-1,p=-1;0<n&&(p=b[n-1],q=p.Pg,t=p.yn,x=p.em,p=p.dj);var v=c.U(g),B=c.Ra(z);return a?0==n||q!=g||t!=k||x!=B||2==p?(a=c.ic(z),null==a&&(c.od(z,e),a=e),f.L(a.Eg(0)),r.bu(f),f.normalize(),r.normalize(),!1):!0:0<n&&q==g&&t==k&&x==B&&2==p||n<b.length-1&&h==v&&l==k&&m==B&&2==u?(a=c.ic(z),null==a&&(c.od(z,e),a=e),f.L(a.Eg(0)),r.bu(f),f.normalize(),r.normalize(),!1):!0};a.NL=function(a,c,b,n,r,f,h){var e=new d.Hb,g=a.ic(r);
null==g&&(a.od(r,e),g=e);b=c[b];c=b.Pg;b=b.uB;r=a.U(c);if(1==b)f.L(g.Eg(1)),-1!=r&&r!=a.Rj(n)?(g=a.ic(r),null==g&&(a.od(r,e),g=e),h.L(g.Eg(0)),g=a.ic(c),null==g&&a.od(c,e)):h.L(f),f.Lr(),h.normalize(),f.normalize();else if(0==b)h.L(g.Eg(b)),f.bu(h),h.normalize(),f.normalize();else throw d.g.za();};return a}();d.XL=a})(h||(h={}));(function(d){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(d.jO||(d.jO={}));var h=function(){function a(a,c,b){this.td=c;this.Ai=b;this.cB=
a}a.prototype.Eb=function(c){return c instanceof a?this.Ai===c.Ai:!1};a.lH=function(c){return 0!==c.td?null:-1===c.cB?new a(-1,2,c.Ai*c.Ai):a.pe(e[c.cB])};a.pe=function(a){a=c[a];return void 0===a?null:a};a.cR=function(c,b,e){var d=null;if(void 0!==e&&null!==e)try{"EPSG"===e.values[0]&&(d=a.pe(parseInt(e.values[1])))}catch(w){}null===d&&(d=new a(-1,c,b));return d};a.prototype.Cc=function(){return this.cB};a.prototype.OG=function(a){if(a.td!=this.td)throw d.g.Da();return this.Ai/a.Ai};a.li=function(a,
c,b){return c.OG(b)*a};a.eG=function(a,c,b,e,d){b=b.OG(e);for(e=0;e<c;e++)d[e]=a[e]*b};return a}();d.kc=h;for(var f=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,
.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,
109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,
109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],b=[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,
109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,
9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,
20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],c=[],e=[],g=0;g<f.length;g+=2)c[f[g]]=new h(f[g],2,f[g+1]);f=null;for(g=0;g<b.length;g+=2)c[b[g]]=
new h(b[g],1,b[g+1]);b=null;for(g=0;g<a.length;g+=3)c[a[g]]=new h(a[g],0,a[g+1]),e[a[g]]=a[g+2];a=null})(h||(h={}));(function(d){var h=function(){function d(){this.Gb=this.qb=0}d.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};d.prototype.value=function(){return this.qb};d.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};d.prototype.jP=function(){var b=
this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};d.prototype.cP=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};d.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};d.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*
Math.abs(a);this.qb=a};d.prototype.yp=function(b){var a=this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};d.prototype.pm=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};d.prototype.Wm=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,e=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,e*=1+(1+b)*b);this.qb=c;this.Gb=e+2.220446049250313E-16*Math.abs(c)};d.prototype.sqrt=
function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};d.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};d.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);
this.qb=c;c=Math.abs(c);this.Gb=(Math.abs(a)+.5*c*b.Gb)*b.Gb+2.220446049250313E-16*c};d.prototype.Lg=function(){return Math.abs(this.qb)<=this.Gb};d.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return d}();d.Xb=h})(h||(h={}));var x=new h.b,V=new h.b,N=new h.b,U=new h.b,Y=new h.b;(function(d){var h;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(h||(h={}));var f=function(){function b(a,c,b,d,k,n,r){void 0!==c?(this.bb=a,
this.Bk=c,this.Gl=b,this.Ji=d,this.Ca=n,this.RA=r,this.Uw=k):(this.bb=a.bb,this.Bk=a.Bk,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.RA=a.RA,this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.ZV()):-1};b.prototype.ZV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Bk;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=
this.Ji)return this.Ji;this.Bk=this.bb.Ue(this.Bk);if(-1==this.Bk)break;if(!this.RA||d.T.Ic(this.bb.hc(this.Bk)))this.Gl=this.bb.Pb(this.Bk)}return-1};b.yR=function(a,c,e,d,k,n,r){return new b(a,c,e,d,k,n,r)};return b}();d.MZ=f;h=function(){function b(){this.Xo=this.on=this.Xk=this.md=this.dl=this.jp=this.nj=this.sd=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.rd=-1;this.vd=0;this.PA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:
null};b.prototype.th=function(a,c){if(null==this.wf){if(null==c)return;this.wf=[];for(var b=0,d=this.xb.D();b<d;b++)this.wf.push(null)}this.wf[a]=c};b.prototype.Lp=function(a,c){this.sd.P(a,1,c)};b.prototype.Kp=function(a,c){this.sd.P(a,2,c)};b.prototype.uC=function(a,c){this.sd.P(a,6,c)};b.prototype.Lq=function(a){return this.sd.S(a,6)};b.prototype.Rx=function(a,c){this.sd.P(a,7,c)};b.prototype.dw=function(a){return this.sd.S(a,0)};b.prototype.FK=function(a,c){this.md.P(a,1,c)};b.prototype.JK=function(a,
c){this.md.P(a,0,c)};b.prototype.UG=function(a){return this.md.S(a,7)};b.prototype.Ip=function(a,c){this.md.P(a,3,c)};b.prototype.Jp=function(a,c){this.md.P(a,4,c)};b.prototype.fW=function(a){null==this.md&&(this.md=new d.ad(8));var c=this.md.Pe();this.md.P(c,2,a);this.md.P(c,5,0);this.md.P(c,6,0);this.md.P(c,7,c);return c};b.prototype.DS=function(a){this.md.kd(a)};b.prototype.hW=function(a){null==this.sd&&(this.sd=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Qd(0),this.jp=new d.Qd(0));var c=this.sd.Pe();
this.sd.P(c,0,c);this.sd.P(c,3,0);this.sd.P(c,6,0);this.Rx(c,a);c>=this.nj.size&&(a=16>c?16:d.J.truncate(3*c/2),this.nj.resize(a),this.jp.resize(a));this.nj.set(c,0);this.jp.set(c,0);return c};b.prototype.DG=function(a){this.sd.kd(a)};b.prototype.Ez=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.sd&&(this.sd=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Qd(0),this.jp=new d.Qd(0));var c=this.Dd.Pe(),b=0<=a?a:c;this.Dd.P(c,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:d.J.truncate(3*
b/2);this.xb.resize(a);if(null!=this.wf)for(var g=0;g<a;g++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(c,4,2*b);this.vd++;return c};b.prototype.Wj=function(a,c,b){var e=-1!=c?this.Ra(c):this.Rj(a),d=-1!=e?this.U(e):-1,n=this.xJ(null==b?this.vd:-1),r=this.Za(n);null!=b&&this.xb.vu(r,b);this.Aj(n,a);this.Kc(n,d);this.Lc(n,e);-1!=d&&this.Lc(d,n);-1!=e&&this.Kc(e,n);b=
this.Qb(a);e=this.cb(a);-1==c&&this.sh(a,n);c==e&&this.jg(a,n);b&&-1==d&&(this.Kc(n,n),this.Lc(n,n));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return n};b.prototype.an=function(){null==this.Xo&&(this.Xo=new d.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,c){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.gP=function(a){var c=this.bh(a.G(),a.description);1736==a.G()&&
this.Hp(c,a.xo());this.hF(c,a);return c};b.prototype.hP=function(a){var c=this.bh(a.G(),a.description);this.iF(c,a);return c};b.prototype.QW=function(a,c){null==this.sd&&(this.sd=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Qd(0),this.jp=new d.Qd(0));this.sd.Qe(this.sd.yd+a);this.Dd.Qe(this.Dd.yd+c);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.hF=function(a,c){this.QW(c.aa(),c.D());this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=c.cf,g=0,k=c.aa();g<
k;g++)if(!(2>c.La(g))){var n=this.Yf(a,-1);this.$n(n,c.Qb(g));for(var r=c.wa(g),f=c.Gc(g);r<f;r++){var h=this.Wj(n,-1,null);if(b)if(h=this.Za(h),0!=(c.jH(r)&1))this.th(h,null);else{var w=new d.Cg;c.ic(r,w,!0);this.th(h,w.get())}}}};b.prototype.iF=function(a,c){this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(c=c.D();b<c;b++)this.Wj(a,-1,null)};b.prototype.HY=function(a,c,b){var e=this.U(a);if(-1==e)throw d.g.za();for(var k=this.an(),n=this.ld(a),r=0,f=c.Rl(b);r<f;r++){var h=
this.Za(a),w=this.U(a),l=c.Mq(b,r);0==r&&(l.Dp(k),this.Yh(a,k));322==l.G()?this.th(h,null):this.th(h,d.T.oe(l));l.Bp(k);r<f-1?a=this.Wj(n,w,k):this.Yh(e,k)}};b.prototype.GY=function(a,c,b){var e=this.U(a);if(-1==e)throw d.g.za();for(var k=this.an(),n=this.ld(a),r=0,f=c.Rl(b);r<f;r++){var h=this.Za(a),w=this.U(a),l=c.Mq(b,f-r-1);0==r&&(l.Bp(k),this.Yh(a,k));322==l.G()?this.th(h,null):this.th(h,d.T.oe(l));l.Dp(k);r<f-1?a=this.Wj(n,w,k):this.Yh(e,k)}};b.prototype.TG=function(){var a=new d.h;a.Oa();for(var c=
this.Qr(),b=new d.b,g=!0,k=c.next();-1!=k;k=c.next())this.w(k,b),g?a.Nb(b.x,b.y):a.ll(b.x,b.y),g=!1;return a};b.prototype.Jb=function(a){var c=a.G();if(d.T.Ic(c))return this.gP(a);if(550==c)return this.hP(a);throw d.g.za();};b.prototype.xP=function(a,c){var b=c.G();if(d.T.Ic(b))this.hF(a,c);else if(550==b)this.iF(a,c);else throw d.g.za();};b.prototype.lP=function(a,c){var b=this.bh(1736,a.description);if(2>a.La(c))return b;this.nm.Id(a,a.wa(c),a.Gc(c));this.Kr=this.xb.Pa(0);var g=this.Yf(b,-1);this.$n(g,
a.Qb(c)||!0);var k=null!=this.wf&&null!=a.cf,n=a.wa(c);for(c=a.Gc(c);n<c;n++){var r=this.Wj(g,-1,null);if(k)if(r=this.Za(r),0!=(a.jH(n)&1))this.th(r,null);else{var f=new d.Cg;a.ic(n,f,!0);this.th(r,f.get())}}return b};b.prototype.Se=function(a){var c=this.hc(a),b=d.vM.bh(c,this.nm.description),g=this.D(a);if(0==g)return b;if(d.T.Ic(c)){for(var c=this.aa(a),k=d.Uc.wh(c+1),n=d.Uc.vq(c+1,0),r=b.description,f=0,h=r.Ga;f<h;f++){for(var w=r.qd(f),l=d.ma.Xa(w),m=d.Uc.qz(w,g),p=this.xb.Pa(w),u=0,q=0,t=0,
x=this.Pb(a);-1!=x;x=this.Sb(x)){var v=0;this.Qb(x)&&(v|=1);this.SU(x)&&(v|=4);0!=v&&n.jC(q,v);var B=this.La(x);k.write(q++,t);t+=B;if(0==w)for(var B=p,y=m,C=new d.b,v=this.cb(x);u<t;v=this.U(v),u++){var A=this.Za(v);B.fc(2*A,C);y.fo(2*u,C)}else for(v=this.cb(x);u<t;v=this.U(v),u++)for(A=this.Za(v),y=0;y<l;y++)C=p.Of(A*l+y),m.Dm(u*l+y,C)}b.Yn(w,m);k.write(c,g)}b.GK(n);b.HK(k);b.Dc(16777215)}else if(550==c){r=b.description;b.resize(g);f=0;for(h=r.Ga;f<h;f++){w=r.qd(f);l=d.ma.Xa(w);m=b.Pa(w);p=this.xb.Pa(w);
u=0;x=this.Pb(a);B=this.La(x);for(v=this.cb(x);u<B;v=this.U(v),u++)for(A=this.Za(v),y=0;y<l;y++)C=p.Of(A*l+y),m.Dm(u*l+y,C);b.Yn(w,m)}b.Dc(16777215)}return b};b.prototype.bC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Rr(c));var c=this.JT(a),b=this.Ue(a);-1!=c?this.FK(c,b):this.rd=b;-1!=b?this.JK(b,c):this.cx=c;this.DS(a)};b.prototype.bh=function(a,c){return void 0===c?this.hG(a,d.ze.Ig()):this.hG(a,c)};b.prototype.hG=function(a,c){a=this.fW(a);null==this.xb?this.xb=this.nm=new d.Ed(c):this.nm.om(c);
this.Hr=this.nm.description;this.PA=1<this.Hr.Ga;-1==this.rd?this.rd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,1)};b.prototype.JT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,c,b){c=this.Xk[c];a=this.UG(a);a>=c.size&&c.resize(Math.max(d.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.VG=function(a,c){a=this.UG(a);c=this.Xk[c];return a<c.size?c.read(a):-1};
b.prototype.iG=function(){null==this.Xk&&(this.Xk=[]);for(var a=0;a<this.Xk.length;a++)if(null==this.Xk[a])return this.Xk[a]=d.Uc.wh(0),a;this.Xk.push(d.Uc.wh(0));return this.Xk.length-1};b.prototype.vX=function(a){this.Xk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,c,b){for(var e=0,k=this.rd;-1!=k;k=this.Ue(k)){var n=
this.hc(k);if(d.T.Ic(n)&&(!b||1736==n))for(var n=1736==this.hc(k),r=this.Pb(k);-1!=r;){for(var f=0,h=this.cb(r);f<d.J.truncate(this.La(r)/2);){var w=this.U(h);if(-1==w)break;var l=this.Za(h),m=this.ti(l);null!=m?l=m.Rb():(m=this.Za(w),l=this.xb.xs(l,m));l<=a?(0==l?0==e&&(e=-1):e=1,w!=this.Rj(r)&&(this.KC(w,h),this.ud(w,!0))):h=this.U(h);f++}f=this.cb(r);for(h=this.Qb(r)?f:this.Rj(r);0<this.La(r);)if(w=this.Ra(h),-1!=w){var p=this.Za(w),m=this.ti(p);null!=m?l=m.Rb():(l=this.Za(h),l=this.xb.xs(l,p));
if(l<=a)0==l?0==e&&(e=-1):e=1,this.KC(w,h),this.ud(w,!1),f==w&&(f=this.cb(r));else if(h=this.Ra(h),h==f)break}else{this.ud(h,!0);0==e&&(e=-1);break}h=this.La(r);c&&(n?3>h:2>h)?(r=this.Rr(r),e=0<h?1:0==e?-1:e):r=this.Sb(r)}}return e};b.prototype.KC=function(a,c){var b=this.Za(a),d=this.Za(c);null!=this.ph&&(b=this.ph.read(b),this.ph.write(d,b));if(null!=this.Bi)for(d=0,b=this.Bi.length;d<b;d++)if(null!=this.Bi[d]){var k=this.Sa(a,d);-1!=k&&this.Va(c,d,k)}};b.prototype.zm=function(a,c,b){var e=0,k=
this.U(a);if(-1==k)throw d.g.za();for(var n=this.Za(a),r=this.Za(k),f=this.ti(n),h=null==f?this.xb.xs(n,r):f.Rb(),w=0;w<b;w++){var l=c[w];if(0<l&&1>l){var m=l;null!=f&&(m=0<h?f.Dy(l)/h:0);this.xb.EE(n,r,m,this.an());var p=this.Wj(this.ld(a),k,this.an());e++;if(null!=f){var u=f.Hl(0,l),m=this.Za(this.Ra(p));this.th(m,u);this.Qf(p,u.Bc());if(w==b-1||1==c[w+1])l=f.Hl(l,1),this.th(m,l)}}}return e};b.prototype.FY=function(a,c,b){var e=0,k=this.U(a);if(-1==k)throw d.g.X("internal error");var n=this.Za(a),
r=this.Za(k),f=this.ti(n),h=null==f?this.xb.xs(n,r):f.Rb(),w=0;a=this.ld(a);for(var l=0;l<b;l++){var m=c[l];if(w<m&&1>m){var p=m;null!=f&&(p=0<h?f.Dy(m)/h:0);this.xb.EE(n,r,p,this.an());p=this.uU(a,k,this.an());e++;if(null!=f){var w=f.Hl(w,m),u=this.Za(this.Ra(p));this.th(u,w);this.rb(p,w.sa,w.oa);if(l==b-1||1==c[l+1])w=f.Hl(m,1),p=this.Za(p),this.th(p,w)}}w=m}return e};b.prototype.uU=function(a,c,b){var e=-1!=c?this.Ra(c):this.Rj(a),d=-1!=e?this.U(e):-1,n=this.xJ(null==b?this.vd:-1),r=this.Za(n);
null!=b&&this.xb.vu(r,b);this.Aj(n,a);this.Kc(n,d);this.Lc(n,e);-1!=d&&this.Lc(d,n);-1!=e&&this.Kc(e,n);b=this.Qb(a);e=this.cb(a);-1==c&&this.sh(a,n);c==e&&(b&&-1!=e||this.jg(a,n));b&&-1==d&&(this.Kc(n,n),this.Lc(n,n));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return n};b.prototype.FF=function(a,c,b){var e=this.Za(c),k=this.Za(b);if(0>e||k>this.vd-1)throw d.g.F("invalid call");if(e>k&&!this.Qb(a))throw d.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))e=this.Za(c),
k=this.ti(e),null!=k?a+=k.Rb():(k=this.Za(this.U(c)),a+=this.xb.xs(e,k));return a};b.prototype.Yh=function(a,c){var b=this.Za(a);this.xb.vu(b,c);b=this.ti(b);null!=b&&b.setStart(c);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(c))};b.prototype.wj=function(a,c){a=this.Za(a);this.xb.Ae(a,c)};b.prototype.Qf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var e=this.Za(a);this.xb.rb(e,c,b);e=this.ti(e);null!=e&&e.xC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&
e.vm(c,b))};b.prototype.w=function(a,c){this.xb.w(this.Dd.S(a,0),c)};b.prototype.Nc=function(a,c){this.xb.ya[0].fc(2*this.Dd.S(a,0),c)};b.prototype.Ba=function(a){var c=new d.b;this.xb.w(this.Dd.S(a,0),c);return c};b.prototype.pH=function(a,c){this.Kr.fc(2*a,c)};b.prototype.Yc=function(a,c,b){return this.xb.Yc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,d){this.xb.setAttribute(a,this.Za(c),b,d)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var c=new d.b;
this.w(a,c);return c.y};b.prototype.Uq=function(a,c){a=this.Za(a);c=this.Za(c);var b=this.xb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.xb.ya[0].f;return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.rY=function(a,c){1>c&&(c=1);if(null==this.ph){if(1==c)return;this.ph=d.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,c)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?
1:this.ph.read(a)};b.prototype.Va=function(a,c,b){c=this.Bi[c];a=this.Za(a);c.size<this.xb.D()&&c.resize(this.xb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Bi[c];return a<c.size?c.read(a):-1};b.prototype.Ud=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=d.Uc.wh(0,-1),a;this.Bi.push(d.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?
(a=this.Za(a),this.wf[a]):null};b.prototype.od=function(a,c){var b=this.Dd.S(a,2);if(-1==b)return!1;if(this.PA){var g=new d.Wa;this.wj(a,g);c.setStart(g);this.wj(b,g);c.setEnd(g)}else this.xb.Nc(this.Dd.S(a,0),x),c.Qm(0,x),this.xb.Nc(this.Dd.S(b,0),x),c.Qm(1,x);return!0};b.prototype.hX=function(a,c,b){if(this.PA){var e=new d.Wa;this.wj(a,e);b.setStart(e);this.wj(c,e);b.setEnd(e)}else this.xb.Nc(a,x),b.Qm(0,x),this.xb.Nc(c,x),b.Qm(1,x)};b.prototype.Yf=function(a,c){var b;if(-1!=c){if(a!=this.ng(c))throw d.g.za();
b=this.ct(c)}else b=this.Xv(a);var g=this.hW(a);-1!=c&&this.Lp(c,g);this.Kp(g,c);this.Lp(g,b);-1!=b?this.Kp(b,g):this.Ip(a,g);-1==c&&this.Jp(a,g);this.wm(a,this.aa(a)+1);return g};b.prototype.BH=function(a,c,b,d){a=this.Yf(a,-1);for(var e=0,g=c,r=!1;g==b&&(r=!0),this.Aj(g,a),e++,g=this.U(g),g!=c;);this.$n(a,!0);this.nk(a,e);r&&(c=b);this.jg(a,c);this.sh(a,this.Ra(c));this.Np(a,!1);null!=d&&(d[0]=r);return a};b.prototype.Rr=function(a){var c=this.ct(a),b=this.Sb(a),d=this.ng(a);-1!=c?this.Kp(c,b):
this.Ip(d,b);-1!=b?this.Lp(b,c):this.Jp(d,c);this.EQ(a);this.wm(d,this.aa(d)-1);this.DG(a);return b};b.prototype.EQ=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,d=this.La(a);b<d;b++){var k=c,c=this.U(c);this.Ez(k)}c=this.ng(a);this.lk(c,this.D(c)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.sd.S(a,2)};b.prototype.ct=function(a){return this.sd.S(a,1)};b.prototype.La=function(a){return this.sd.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,
c){if(this.Qb(a)!=c){if(0<this.La(a)){var b=this.cb(a),d=this.Rj(a);c?(this.Kc(d,b),this.Lc(b,d)):(this.Kc(d,-1),this.Lc(b,-1));b=this.Za(d);this.th(b,null)}this.uC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.ng=function(a){return this.sd.S(a,7)};b.prototype.SU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.pC=function(a,c){this.uC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.hA=function(a){if(this.YU(a))return this.nj.get(this.dw(a));var c=new d.Hb,b=this.cb(a);if(-1==b)return 0;var g=new d.b;this.w(b,
g);for(var k=0,n=0,r=this.La(a);n<r;n++,b=this.U(b)){var f=this.ic(b);if(null==f){if(!this.od(b,c))continue;f=c}k+=f.Cy(g.x,g.y)}this.Np(a,!0);this.nj.set(this.dw(a),k);return k};b.prototype.$r=function(a,c,b){c=this.dl[c];a=this.dw(a);c.size<this.nj.size&&c.resize(this.nj.size,-1);c.write(a,b)};b.prototype.Tj=function(a,c){a=this.dw(a);c=this.dl[c];return a<c.size?c.read(a):-1};b.prototype.rz=function(){null==this.dl&&(this.dl=[]);for(var a=0;a<this.dl.length;a++)if(null==this.dl[a])return this.dl[a]=
d.Uc.wh(0),a;this.dl.push(d.Uc.wh(0));return this.dl.length-1};b.prototype.cC=function(a){this.dl[a]=null};b.prototype.YV=function(a,c,b){if(-1==b)throw d.g.F();if(c!=b){var e=this.Sb(b),k=this.ct(b),n=this.ng(b);-1==k?this.Ip(n,e):this.Kp(k,e);-1==e?this.Jp(n,k):this.Lp(e,k);this.lk(n,this.D(n)-this.La(b));this.wm(n,this.aa(n)-1);k=-1==c?this.Xv(a):this.ct(c);this.Lp(b,k);this.Kp(b,c);-1==c?this.Jp(a,b):this.Lp(c,b);-1==k?this.Ip(a,b):this.Kp(k,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+
1);this.Rx(b,a)}};b.prototype.Kj=function(a,c){this.xb.Ae(this.Za(c),this.an());this.Wj(a,-1,this.an())};b.prototype.ud=function(a,c){var b=this.ld(a),g=this.Ra(a),k=this.U(a);-1!=g&&this.Kc(g,k);var n=this.La(b);a==this.cb(b)&&this.jg(b,1<n?k:-1);-1!=k&&this.Lc(k,g);a==this.Rj(b)&&this.sh(b,1<n?g:-1);if(-1!=g&&-1!=k){var g=this.Za(g),r=this.Za(k);c?(c=this.ti(g),null!=c&&(g=new d.b,this.xb.w(r,g),c.Zc(g))):(r=this.Za(a),c=this.ti(r),this.th(g,c),null!=c&&(g=this.xb.Ba(g),c.Mc(g)))}this.nk(b,n-1);
b=this.ng(b);this.lk(b,this.D(b)-1);this.Ez(a);return k};b.prototype.cb=function(a){return this.sd.S(a,4)};b.prototype.Rj=function(a){return this.sd.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,c){return this.Wj(a,-1,c)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof f)return new f(a);var c,b=-1,g=-1,k=-1,n=0,r=!1;for(c=this.rd;-1!=
c;c=this.Ue(c))if(!a||d.T.Ic(this.hc(c))){for(b=this.Pb(c);-1!=b;b=this.Sb(b))if(k=g=this.cb(b),n=0,-1!=g){r=!0;break}if(r)break}return f.yR(this,c,b,g,k,n,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=this.wf)for(var c=0,b=this.wf.length;c<b;c++)null!=this.wf[c]&&this.wf[c].Xc(a)};b.prototype.bs=function(a,c,b,d){d?this.HY(a,c,b):this.GY(a,c,b)};b.prototype.Lc=function(a,c){this.Dd.P(a,1,c)};b.prototype.Kc=function(a,c){this.Dd.P(a,2,c)};b.prototype.Aj=function(a,c){this.Dd.P(a,3,c)};b.prototype.nk=
function(a,c){this.sd.P(a,3,c)};b.prototype.jg=function(a,c){this.sd.P(a,4,c)};b.prototype.sh=function(a,c){this.sd.P(a,5,c)};b.prototype.wm=function(a,c){this.md.P(a,6,c)};b.prototype.lk=function(a,c){this.md.P(a,5,c)};b.prototype.fK=function(a){var c=a;do{var b=this.U(c);this.Kc(c,this.Ra(c));this.Lc(c,b);c=b}while(c!=a)};b.prototype.AC=function(a){this.vd=a};b.prototype.Sr=function(a){var c=this.ct(a),b=this.Sb(a),d=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(d,b);-1!=b?this.Lp(b,c):this.Jp(d,c);this.jg(a,
-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,c){var b=this.Ra(a),g=this.U(a);-1!=b&&this.Kc(b,g);-1!=g&&this.Lc(g,b);if(-1!=b&&-1!=g)if(b=this.Za(b),g=this.Za(g),c){if(c=this.ti(b),null!=c){var k=new d.b;this.xb.w(g,k);c.Zc(k)}}else g=this.Za(a),c=this.ti(g),this.th(b,c),null!=c&&(k=new d.b,this.xb.w(b,k),c.Mc(k));this.Ez(a)};b.prototype.YU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,c){this.uC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Dd.f;
this.xb.wc();var d=this.xb.ya[0].f;a.Gd(0,c,function(a,c){a=b[5*a];c=b[5*c];var e=d[2*a];a=d[2*a+1];var g=d[2*c];c=d[2*c+1];return a<c?-1:a>c?1:e<g?-1:e>g?1:0})};b.prototype.eU=function(){for(var a=this.rd;-1!=a;a=this.Ue(a))if(!d.T.Ic(this.hc(a)))return!0;return!1};b.prototype.FC=function(a,c){for(var b=this.Pb(a),d=this.Pb(c),k=this.Xv(a),n=this.Xv(c),r=this.Pb(a);-1!=r;r=this.Sb(r))this.Rx(r,c);for(r=this.Pb(c);-1!=r;r=this.Sb(r))this.Rx(r,a);this.Ip(a,d);this.Ip(c,b);this.Jp(a,n);this.Jp(c,k);
b=this.D(a);d=this.aa(a);k=this.aa(c);this.lk(a,this.D(c));this.lk(c,b);this.wm(a,k);this.wm(c,d);b=this.md.S(a,2);this.md.P(a,2,this.md.S(c,2));this.md.P(c,2,b)};return b}();d.fd=h})(h||(h={}));(function(d){var h=function(f){function b(a,c,b,g){f.call(this);this.R=new d.h;void 0===a?this.aG():"number"===typeof a?this.ZQ(a,c,b,g):a instanceof d.Wa?void 0!==c?this.Ev(a,c,b):this.$Q(a):a instanceof d.ma?void 0!==c?this.bR(a,c):this.aR(a):a instanceof d.h?this.YQ(a):this.aG()}B(b,f);b.prototype.Ev=function(a,
c,b){this.description=d.ze.Ig();this.R.Oa();a.u()||this.cv(a,c,b)};b.prototype.YQ=function(a){this.description=d.ze.Ig();this.R.I(a);this.R.normalize()};b.prototype.aR=function(a){if(null==a)throw d.g.F();this.description=a;this.R.Oa()};b.prototype.bR=function(a,c){if(null==a)throw d.g.F();this.description=a;this.R.I(c);this.R.normalize()};b.prototype.aG=function(){this.description=d.ze.Ig();this.R.Oa()};b.prototype.$Q=function(a){this.description=d.ze.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.ZQ=
function(a,c,b,g){this.description=d.ze.Ig();this.I(a,c,b,g)};b.prototype.I=function(a,c,b,d){this.Ac();if("number"===typeof a)this.R.I(a,c,b,d);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};b.prototype.Gp=function(a){this.Ac();if(!a.$U())throw d.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Ac();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Gk=function(){return this.R.Gk()};
b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};b.prototype.Nb=function(a){if(a instanceof d.b)this.Ac(),this.R.Nb(a);else if(a instanceof d.h)this.Ac(),this.R.Nb(a);else if(a instanceof d.Wa){if(this.Ac(),!a.Hc()){var c=a.description;this.description!=c&&this.om(c);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var e=1,g=c.Ga;e<g;e++)for(var k=c.Sd(e),n=d.ma.Xa(k),r=0;r<n;r++){var f=a.Yc(k,r),h=this.xf(k,r);h.Nb(f);setInterval(k,r,h)}}}}else if(a instanceof
b&&!a.u())for(c=a.description,c!=this.description&&this.om(c),this.R.Nb(a.R),e=1,g=c.Ga;e<g;e++)for(k=c.qd(e),n=d.ma.Xa(k),r=0;r<n;r++)f=a.xf(k,r),h=this.xf(k,r),h.Nb(f),setInterval(k,r,h)};b.prototype.cv=function(a,c,b){if(void 0!==c){this.R.I(a.w(),c,b);c=a.description;b=1;for(var e=c.Ga;b<e;b++)for(var k=c.Sd(b),n=d.ma.Xa(k),r=0;r<n;r++){var f=a.Yc(k,r);this.setInterval(k,r,f,f)}}else for(this.R.I(a.la[0],a.la[1]),c=a.description,b=1,e=c.Ga;b<e;b++)for(k=c.Sd(b),n=d.ma.Xa(k),r=0;r<n;r++)f=a.Yc(k,
r),this.setInterval(k,r,f,f)};b.prototype.setInterval=function(a,c,b,g){var e=null;"number"===typeof b?e=new d.zc(b,g):e=b;this.Ac();if(0==a)if(0==c)this.R.o=e.ca,this.R.v=e.ha;else if(1==c)this.R.A=e.ca,this.R.B=e.ha;else throw d.g.wd();else this.ME(0,a,c,e.ca),this.ME(1,a,c,e.ha)};b.prototype.O=function(a,c){this.Ac();this.R.O(a,c)};b.prototype.Xc=function(a){if(a instanceof d.Hd)this.Ac(),a.LC(this.R);else if(this.Ac(),!this.R.u()){var c=new d.eM;this.Cp(c);c.RU()?c.Oa():a.LC(c)}};b.prototype.copyTo=
function(a){if(a.G()!=this.G())throw d.g.F();a.Ac();a.description=this.description;a.R.I(this.R);a.la=null;if(null!=this.la){a.Yu();for(var c=0;c<2*(this.description.af.length-2);c++)a.la[c]=this.la[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;
a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,1,0))};b.prototype.xf=function(a,c){var b=new d.zc;b.I(this.ae(0,a,c),this.ae(1,a,c));return b};b.prototype.ig=function(a,c){c.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var g=this.description.qd(a),k=d.ma.Xa(g),n=0;n<k;n++)c.setAttribute(g,n,this.ae(0,g,n));c.rb(this.R.o,this.R.A);
break;case 1:for(a=0;a<b;a++)for(g=this.description.qd(a),k=d.ma.Xa(g),n=0;n<k;n++)c.setAttribute(g,n,this.ae(1,g,n));c.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(g=this.description.qd(a),k=d.ma.Xa(g),n=0;n<k;n++)c.setAttribute(g,n,this.ae(0,g,n));c.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(g=this.description.qd(a),k=d.ma.Xa(g),n=0;n<k;n++)c.setAttribute(g,n,this.ae(1,g,n));c.rb(this.R.v,this.R.A);break;default:throw d.g.wd();}};b.prototype.Gx=function(a,c){a=this.R.Gx(a);
c.ka(a.x,a.y)};b.prototype.cT=function(a,c){return c*(a.Er-2)};b.prototype.JG=function(a,c,b){if(this.R.u())throw d.g.X("empty geometry");if(0==c)return 0!=a?0!=b?this.R.B:this.R.v:0!=b?this.R.A:this.R.o;if(b>=d.ma.Xa(c))throw d.g.F();var e=this.description.mg(c);this.Yu();return 0<=e?this.la[this.cT(this.description,a)+this.description.FT(e)-2+b]:d.ma.de(c)};b.prototype.Yu=function(){this.Ac();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),c=b.$(this.description,
1),e=0,g=1,k=this.description.Ga;g<k;g++)for(var n=this.description.qd(g),r=d.ma.Xa(n),n=d.ma.de(n),f=0;f<r;f++)this.la[a+e]=n,this.la[c+e]=n,e++}};b.prototype.mo=function(a){if(null!=this.la)if(2<a.af.length){for(var c=d.ze.vx(a,this.description),e=[],g=b.$(this.description,0),k=b.$(this.description,1),n=b.$(a,0),r=b.$(a,1),f=0,h=1,w=a.Ga;h<w;h++){var l=a.qd(h),m=d.ma.Xa(l);if(-1==c[h])for(var p=d.ma.de(l),l=0;l<m;l++)e[n+f]=p,e[r+f]=p,f++;else for(p=this.description.wk(c[h])-2,l=0;l<m;l++)e[n+f]=
this.la[g+p],e[r+f]=this.la[k+p],f++,p++}this.la=e}else this.la=null;this.description=a};b.prototype.ae=function(a,c,e){if(this.R.u())throw d.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=e?this.R.B:this.R.v:0!=e?this.R.A:this.R.o;if(e>=d.ma.Xa(c))throw d.g.wd();var g=this.description.mg(c);return 0<=g?(this.Yu(),this.la[b.$(this.description,a)+this.description.wk(g)-2+e]):d.ma.de(c)};b.prototype.ME=function(a,c,e,g){this.Ac();if(0==c)0!=a?0!=e?this.R.B=g:this.R.v=
g:0!=e?this.R.A=g:this.R.o=g;else{if(e>=d.ma.Xa(c))throw d.g.wd();if(!this.hasAttribute(c)){if(d.ma.PH(c,g))return;this.Td(c)}c=this.description.mg(c);this.Yu();this.la[b.$(this.description,a)+this.description.wk(c)-2+e]=g}};b.$=function(a,c){return c*(a.af.length-2)};b.prototype.Ma=function(a){this.Ac();var c=new d.h;a.s(c);return this.R.Ma(c)};b.prototype.Yb=function(a){return a instanceof d.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,c,b){this.Ac();a.u()?this.Oa():void 0!==c?this.cv(a,
c,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,c){this.Ac();this.R.offset(a,c)};b.prototype.normalize=function(){this.Ac();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var g=this.description.qd(b),k=d.ma.Xa(g),n=0;n<k;n++){var r=.5*(this.JG(0,g,n)+this.JG(1,g,n));a.setAttribute(g,n,r)}a.rb(this.R.Wf())}else{a=new d.Wa(this.description);if(this.u())return a;c=this.description.Ga;
for(b=1;b<c;b++)for(g=this.description.Sd(b),k=d.ma.Xa(g),n=0;n<k;n++)r=.5*(this.ae(0,g,n)+this.ae(1,g,n)),a.setAttribute(g,n,r);a.rb(this.R.Gk(),this.R.Cq());return a}};b.prototype.Zz=function(){return new d.Wa(this.R.Zz())};b.prototype.contains=function(a){return a instanceof d.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.hR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;
if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var c=0,e=2*(this.description.af.length-2);c<e;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=d.J.dh(a,this.R.jc());if(!this.u()&&null!=this.la)for(var c=0,b=2*(this.description.af.length-2);c<b;c++)a=d.J.dh(a,this.la[c]);return a};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+
", "+this.R.v+", "+this.R.B+"]"};return b}(d.T);d.ci=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=e)}f.pa=function(b,a,c,e){var d=new f;d.o=b;d.A=a;d.v=c;d.B=e;return d};f.prototype.I=function(b,a,c,e){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=e,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof d.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):
(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof f?this.I(b.o,b.A,b.v,b.B):b instanceof d.zc&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};f.prototype.oT=function(b,a){var c=new f;c.I(this.o,this.A,this.v,this.B);c.O(b,a);return c};f.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var c=1;c<a;c++){var e=b[c];e.x<this.o?this.o=e.x:e.x>this.v&&(this.v=e.x);e.y<this.A?this.A=e.y:e.y>this.B&&
(this.B=e.y)}}else if(null==b||0==b.length)this.Oa();else for(e=b[0],this.I(e.x,e.y),c=1;c<b.length;c++)e=b[c],this.ll(e.x,e.y)};f.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};f.prototype.u=function(){return isNaN(this.o)};f.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof d.b?this.Nb(b.x,b.y):b instanceof d.pd?this.Nb(b.x,b.y):b instanceof f&&!b.u()&&
(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};f.prototype.ll=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};f.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>this.v||this.A>this.B)&&this.Oa())};f.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};f.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};f.prototype.TH=
function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};f.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};f.prototype.Gx=function(b){switch(b){case 0:return d.b.pa(this.o,this.A);case 1:return d.b.pa(this.o,this.B);case 2:return d.b.pa(this.v,this.B);case 3:return d.b.pa(this.v,this.A);default:throw d.g.wd();
}};f.prototype.QB=function(b){if(null==b||4>b.length)throw d.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=d.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=d.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):b[2]=d.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=d.b.pa(this.v,this.A)};f.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};f.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};f.prototype.Gk=function(){return(this.v+this.o)/2};f.prototype.Cq=
function(){return(this.B+this.A)/2};f.prototype.N=function(){return this.v-this.o};f.prototype.fa=function(){return this.B-this.A};f.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};f.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Gk(),a-this.Cq());else if(b instanceof d.b)this.xv(b.x,b.y);else if(b instanceof d.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-c;this.B=b.nf()+c}else throw d.g.F();};f.prototype.offset=
function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};f.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,this.B);this.A=b;this.B=a}};f.prototype.Tn=function(b){b.ka(this.o,this.A)};f.prototype.TJ=function(b){b.ka(this.v,this.A)};f.prototype.WJ=function(b){b.ka(this.o,this.B)};f.prototype.Un=function(b){b.ka(this.v,this.B)};f.prototype.$U=function(){return this.u()||this.o<=this.v&&this.A<=
this.B};f.prototype.Wf=function(){return d.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};f.prototype.Zz=function(){return d.b.pa(this.o,this.A)};f.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&a>=this.A&&a<=this.B;if(b instanceof d.Wa)return this.contains(b.Be(),b.nf());if(b instanceof d.b)return this.contains(b.x,b.y);if(b instanceof f)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw d.g.F();};f.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<
this.v&&a>this.A&&a<this.B;if(b instanceof d.b)return this.Tm(b.x,b.y);if(b instanceof f)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw d.g.F();};f.prototype.Eb=function(b){return b==this?!0:b instanceof f?this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};f.prototype.jc=function(){var b=this.o,b=d.J.truncate(b^b>>>32),a=d.J.dh(b),b=this.v,b=d.J.truncate(b^b>>>32),a=d.J.dh(b,a),b=this.A,b=d.J.truncate(b^b>>>32),a=d.J.dh(b,a),b=this.B,b=d.J.truncate(b^b>>>
32);return a=d.J.dh(b,a)};f.prototype.Ny=function(b){var a=new d.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};f.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==
this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.Wu(this.Ny(b))};f.prototype.AE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};f.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};f.prototype.gz=function(b,a){var c=this.vk(b),e=this.vk(a);if(0!=(c&e))return 0;if(0==(c|e))return 4;var d=(0!=c?
1:0)|(0!=e?2:0);do{var k=a.x-b.x,n=a.y-b.y;k>n?0!=(c&f.bd)?(0!=(c&f.Bb)?(b.y+=n*(this.o-b.x)/k,b.x=this.o):(b.y+=n*(this.v-b.x)/k,b.x=this.v),c=this.vk(b)):0!=(e&f.bd)?(0!=(e&f.Bb)?(a.y+=n*(this.o-a.x)/k,a.x=this.o):(a.y+=n*(this.v-a.x)/k,a.x=this.v),e=this.vk(a)):0!=c?(0!=(c&f.tc)?(b.x+=k*(this.A-b.y)/n,b.y=this.A):(b.x+=k*(this.B-b.y)/n,b.y=this.B),c=this.vk(b)):(0!=(e&f.tc)?(a.x+=k*(this.A-a.y)/n,a.y=this.A):(a.x+=k*(this.B-a.y)/n,a.y=this.B),e=this.vk(a)):0!=(c&f.fe)?(0!=(c&f.tc)?(b.x+=k*(this.A-
b.y)/n,b.y=this.A):(b.x+=k*(this.B-b.y)/n,b.y=this.B),c=this.vk(b)):0!=(e&f.fe)?(0!=(e&f.tc)?(a.x+=k*(this.A-a.y)/n,a.y=this.A):(a.x+=k*(this.B-a.y)/n,a.y=this.B),e=this.vk(a)):0!=c?(0!=(c&f.Bb)?(b.y+=n*(this.o-b.x)/k,b.x=this.o):(b.y+=n*(this.v-b.x)/k,b.x=this.v),c=this.vk(b)):(0!=(e&f.Bb)?(a.y+=n*(this.o-a.x)/k,a.x=this.o):(a.y+=n*(this.v-a.x)/k,a.x=this.v),e=this.vk(a));if(0!=(c&e))return 0}while(0!=(c|e));return d};f.prototype.vk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?
1:0)<<2|(b.y>this.B?1:0)<<3};f.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};f.prototype.Cb=function(b){return b instanceof d.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};f.prototype.Zx=function(b){var a=0,c=0,e;e=this.o-b.v;e>a&&(a=e);e=this.A-b.B;e>c&&(c=e);e=b.o-this.v;e>a&&(a=e);e=b.A-this.B;e>c&&(c=e);return a*a+c*c};f.prototype.ZK=function(b){var a=0,c=0,e;e=this.o-b.x;e>a&&(a=e);e=this.A-b.y;e>c&&(c=e);e=b.x-this.v;e>a&&(a=e);e=b.y-this.B;e>c&&(c=e);return a*a+c*
c};f.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};f.DO=function(b,a,c,e){var d=1;isNaN(b)||(d+=Math.abs(b));isNaN(a)||(d+=Math.abs(a));isNaN(c)||(d+=Math.abs(c));isNaN(e)||(d+=Math.abs(e));return 2.220446049250313E-14*d};f.Bb=1;f.tc=4;f.bd=3;f.fe=12;return f}();d.h=h})(h||(h={}));(function(d){var h;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";
b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(h||(h={}));var f=function(){function b(a,c){this.Ci=a;this.pI=
c}b.prototype.hs=function(a,c,b){this.Ci.EY(b,a,c,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();h=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new d.h;this.on=this.ck=this.dk=this.Pd=this.fg=this.Yd=this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.pl()}b.prototype.cs=function(){this.pl();this.Bw=!0;null==this.Lb?(this.Uo=new d.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,c){if(!this.Bw)throw d.g.Da();
var b=new d.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw d.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.pl();this.Aw=!0;null==this.Lb?(this.Uo=new d.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.$E=function(a,c){if(!this.Aw)throw d.g.Da();var b=new d.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.uG=function(){if(!this.Aw)throw d.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&
null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.pl();this.zw=!0;null==this.Ad?(this.Qw=new d.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.WE=function(a,c){if(!this.zw)throw d.g.Da();var b=new d.h;b.I(c);this.Qw.add(a);this.Ad.push(b)};b.prototype.tG=function(){if(!this.zw)throw d.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=
3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.rA();break;case 1:a=this.nU();break;case 2:a=this.kU();break;case 3:a=this.mU();break;case 4:a=this.OY();break;case 5:a=this.KY();break;case 6:a=this.LY();break;case 7:a=this.MY();break;case 8:a=this.by();break;case 9:a=this.GC();break;case 10:a=this.DA();break;case 11:a=this.dV();break;case 12:a=this.aV();break;case 13:a=this.bV();break;case 14:a=
this.cV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw d.g.za();}return this.Pc?!1:!0};b.prototype.zC=function(a){this.ta=a};b.prototype.fA=function(a){return this.Lb[a]};b.prototype.Jz=function(a){return this.Ad[a]};b.prototype.Ql=function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.KB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.pl=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;
this.Pc=!0};b.prototype.rA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.nU=function(){this.bg=
this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};
b.prototype.kU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new d.ns(!0),this.ax=this.If.mf(),this.fg=new d.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var c=this.Ad[a];this.If.zs(c.o,c.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),
this.dg=-1);this.Zb=7;return this.$J()};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));null==this.If&&(this.If=new d.ns(!0),this.ax=this.If.mf(),this.fg=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)c=this.Ad[a],this.If.zs(c.o,c.v);this.If.yq();
this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;this.nh=this.fg.size;-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.OY=function(){var a=this.Yd.get(--this.Ne),c=a>>
1;if(b.Gm(a))return this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.eC(this.Lb[c].o,this.Lb[c].v,this.ta);this.sg=c;this.Zb=10;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=13;return!0};b.prototype.LY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.MY=function(){var a=this.Yd.get(this.Ne-1),c=this.fg.get(this.nh-
1),e=this.Ms(a,!0),d=this.Ms(c,!1);return e>d?this.by():e<d?this.GC():b.KB(a)?this.by():b.KB(c)?this.GC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(c)?(this.Pd.kd(this.eg,this.dk.get(c)),this.dk.set(c,-1)):this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Pd.at(this.dg))for(a=this.Pd.xc(this.dg);-1!=a;){var e=this.Pd.getData(a);this.If.eh(e);this.ck.set(e,-1);e=this.Pd.nb(a);this.Pd.kd(this.dg,
a);a=e}0<this.If.size()?(this.ax.eC(this.Lb[c].o,this.Lb[c].v,this.ta),this.sg=c,this.Zb=12):(-1==this.eg&&(null==this.Pd&&(this.Pd=new d.Xp),this.dk=new d.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Pd.mi(1)),this.dk.set(c,this.Pd.addElement(this.eg,c)),this.Zb=7);return!0};b.prototype.GC=function(){var a=this.fg.get(--this.nh),c=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(c)?(this.Pd.kd(this.dg,this.ck.get(c)),this.ck.set(c,-1)):this.If.remove(c),
0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Pd.at(this.eg))for(a=this.Pd.xc(this.eg);-1!=a;){var e=this.Pd.getData(a);this.Bd.eh(e);this.dk.set(e,-1);e=this.Pd.nb(a);this.Pd.kd(this.eg,a);a=e}0<this.Bd.size()?(this.bp.eC(this.Ad[c].o,this.Ad[c].v,this.ta),this.bg=c,this.Zb=11):(-1==this.dg&&(null==this.Pd&&(this.Pd=new d.Xp),this.ck=new d.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Pd.mi(0)),this.ck.set(c,this.Pd.addElement(this.dg,
c)),this.Zb=7);return!0};b.prototype.DA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.dV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>1;this.If.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=
5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.cV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=
!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,c,b){null==this.on&&(this.on=new d.Hu);b=new f(this,b);this.on.sort(a,0,c,b)};b.prototype.EY=function(a,c,e,d){var g=this;a.Gd(c,e,function(a,c){var e=g.Ms(a,d),k=g.Ms(c,d);return e<k||e==k&&b.Gm(a)&&b.KB(c)?-1:1})};b.prototype.Ms=function(a,c){var e=.5*this.ta;
if(c)return c=this.Lb[a>>1],e=b.Gm(a)?c.A-e:c.B+e;c=this.Ad[a>>1];return e=b.Gm(a)?c.A-e:c.B+e};return b}();d.gD=h})(h||(h={}));(function(d){var h=function(){function f(){}f.pa=function(b,a,c,e,d,k){var g=new f;g.o=b;g.A=a;g.Bf=c;g.v=e;g.B=d;g.$g=k;return g};f.prototype.Oa=function(){this.Bf=this.o=NaN};f.prototype.u=function(){return isNaN(this.o)};f.prototype.RU=function(){return isNaN(this.Bf)};f.prototype.I=function(b,a,c,e,d,k){void 0!==e?"number"===typeof b?(this.o=b,this.A=a,this.Bf=c,this.v=
e,this.B=d,this.$g=k):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.Bf=b.z-.5*e,this.$g=this.Bf+e):(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c)};f.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;this.$g+=b.z};f.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};f.prototype.ll=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>c?this.Bf=
c:this.$g<c&&(this.$g=c):this.$g=this.Bf=c};f.prototype.Nb=function(b,a,c,e,g,k){if("number"===typeof b)e?(this.Nb(b,a,c),this.Nb(e,g,k)):this.u()?(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c):this.ll(b,a,c);else if(b instanceof d.pd)this.Nb(b.x,b.y,b.z);else if(b instanceof f)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw d.g.F();};f.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=c.ca,this.$g=c.ha)};f.prototype.QB=
function(b){if(null==b||8>b.length)throw d.g.F();b[0]=new d.pd(this.o,this.A,this.Bf);b[1]=new d.pd(this.o,this.B,this.Bf);b[2]=new d.pd(this.v,this.B,this.Bf);b[3]=new d.pd(this.v,this.A,this.Bf);b[4]=new d.pd(this.o,this.A,this.$g);b[5]=new d.pd(this.o,this.B,this.$g);b[6]=new d.pd(this.v,this.B,this.$g);b[7]=new d.pd(this.v,this.A,this.$g)};f.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ll(c.x,c.y,c.z)}}};
return f}();d.eM=h})(h||(h={}));(function(d){(function(d){d.za=function(){var d=Error();d.message="Internal Error";return d};d.df=function(){var d=Error();d.message="Not Implemented";return d};d.yl=function(){var d=Error();d.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return d};d.Da=function(){var d=Error();d.message="Invalid Call";return d};d.F=function(d){var b=Error();b.message="Illegal Argument Exception";void 0!==d&&(b.message+=": "+
d);return b};d.UN=function(){var d=Error();d.message="Runtime Exception.";return d};d.X=function(d){var b=Error();b.message="Geometry Exception: "+d;return b};d.KL=function(){var d=Error();d.message="Assert Failed Exception";return d};d.wd=function(){var d=Error();d.message="IndexOutOfBoundsException";return d};d.n_=function(d){d.message="UserCancelException";return d}})(d.g||(d.g={}))})(h||(h={}));(function(d){d=d.Om||(d.Om={});d[d.forward=0]="forward";d[d.reverse=1]="reverse"})(h||(h={}));(function(d){var h=
function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.oc);var b=new d.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),f=function(){function a(a,b,g){this.$a=a;this.ex=b;this.Mo=!1;this.So=g;this.Pw=[0];this.Tk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new d.Ja;this.Vk=[]}a.prototype.Re=function(){return!0};
a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=d.T.oe(this.fr);return a=d.Dg.nl(a,this.$a.pr,!0,!0,this.$a.mc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Tk[0]=0;this.mB=this.Pw[0]=0;this.Di=NaN;this.Mo=!1;for(var e=this.Vk.length=0,g=new d.b,k=new d.b,n=[0];this.Cd.Ea()&&8>this.mB;){var r=this.Cd.ba();g.L(r.ec());k.L(r.Bc());g.scale(this.$a.oc);
k.scale(this.$a.oc);d.Ej.Bv(g,k)?g.x=k.x:d.Ej.zv(g,k)&&(k.x=g.x);this.Vk.length=0;d.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,g,k,this.$a.wB,this.$a.Tt,n,this.gk,this.Ct,this.Vk,this.Pw);null!=this.So&&(r=this.Vk.slice(0),this.So.EH(this.So.aa()-1,r,r.length-1));d.Ej.Av(g,k)?(this.fr.Oa(),this.$a.Yy(g,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),this.Mo=this.dz(n[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.pA()){this.Cd.Li();this.Cd.ba();break}this.Cd.AX();break}null==a&&(a=new d.Ja,a.Bl(null,0));
this.eF(a);e++}this.Pw[0]=0;if(0<e){for(n=this.Cd.Db();0<e;)this.Cd.Li(),g.L(this.ex.Ba(this.Cd.Db())),k.L(this.ex.Ba(this.Cd.Ik())),g.scale(this.$a.oc),k.scale(this.$a.oc),this.Wl&&(d.Ej.Bv(g,k)?g.x=k.x:d.Ej.zv(g,k)&&(k.x=g.x)),this.Vk.length=0,d.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,k,g,this.$a.wB,this.$a.Tt,null,this.gk,this.Ct,this.Vk,this.Pw),this.eF(a),e--;g.L(this.ex.Ba(this.Cd.Db()));g.scale(this.$a.oc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.vb,g,this.Di+1.570796326794897,this.Di+
4.71238898038469,this.$a.Qo,this.Wl,this.Tk,a,NaN,NaN);this.Cd.Tb(n);this.Cd.ba();e=d.na.ah(null,a,!0);return a=d.Dg.nl(a,e,!0,!0,this.$a.mc)}this.Mo=!1;this.Cd.ba();a=d.T.oe(this.fr);return a=d.Dg.nl(a,this.$a.pr,!0,!0,this.$a.mc)};a.prototype.eF=function(a){var c=this.Vk[0],g,k=this.gk[0]-1.570796326794897,n=this.Ct[0]+1.570796326794897,r;if(!isNaN(this.Di)){this.Di>=this.gk[0]?(g=this.Di+1.570796326794897,k=g+3.141592653589793-(this.Di-this.gk[0])):(g=this.Di+1.570796326794897,k=g+3.141592653589793-
(6.283185307179586-(this.gk[0]-this.Di)));r=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var f=!1;if(Math.abs(k-g)<=.5*this.$a.Qo)if(r){var h=a.Ba(a.D()-2);h.scale(this.$a.oc);var w=new d.ea(0);d.mb.Gz(this.$a.Vb,this.$a.rc,c.x,c.y,h.x,h.y,w);for(h=w.j;h<=g;)h+=6.283185307179586;for(;h>g;)h-=6.283185307179586;h<k&&(f=!0)}else f=!0;f?(a.dC(0,a.D()-1),this.Wl||(c=new d.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.oc),-3.141592653589793>
c.x-this.Tk[0]?this.Tk[0]-=6.283185307179586:3.141592653589793<c.x-this.Tk[0]&&(this.Tk[0]+=6.283185307179586)),r||(k=.5*(k+g))):(r?(g=new d.b,g.L(c),g.scale(1/this.$a.oc),a.Zf(0,-1,g)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.vb,this.Vk[0],g,k,this.$a.Qo,this.Wl,this.Tk,a,NaN,NaN),this.mB+=1)}b.Xy(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.vb,this.$a.$e,this.Vk,k,n,this.Wl,this.Tk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Vk,a,this.gk[0],this.Ct[0],this.Wl,b)};
a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,g,k,n,r){if(null==c)throw d.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new d.Ja(c.description);var e=new a;e.mh=b;e.Qc=d.fb.lc(b);var f=d.fb.hw(e.Qc);e.mc=r;e.Vb=d.fb.Sv(e.Qc);e.rc=f*(2-f);e.oc=e.Qc.Vd().Ai;e.ta=e.mh.Bo();e.pr=e.Qc.Bo();e.Tt=e.pr*e.oc;e.or=1.570796326794897/e.oc;e.E_=3.141592653589793/e.oc;e.Et=6.283185307179586/e.oc;e.F_=e.Et/6;e.rB=0;e.D_=1.5707963267948966*e.Vb/e.rB;
4==g?(e.$e=2,e.Jw=!0):(e.$e=g,e.Jw=!1);e.Qa=k;e.vb=Math.abs(k);isNaN(n)||.001>n?e.tY():e.Po=n;g=c.G();d.T.Oc(g)?(g=new d.Ua(c.description),g.dc(c,!0),c=g,g=1607):197==g&&(g=new d.h,c.s(g),g.N()<=e.ta||g.fa()<=e.ta?(g=new d.Ua(c.description),g.jd(c,!1),c=g,g=1607):(g=new d.Ja(c.description),g.jd(c,!1),c=g,g=1736));e.uY();d.T.Jo(g)||e.vY();if(e.vb<=.5*e.Po)return 1736!=g?new d.Ja(c.description):e.Jw?c:d.Ej.Ls(c,e.mh,e.$e,e.wB,-1,r);if(0>e.Qa&&1736!=g)return new d.Ja(c.description);e.Jw&&d.T.Ic(g)?(b=
d.Ej.Ls(c,b,4,NaN,e.Po,r),c=d.fb.Xg(b,e.mh,e.Qc,r)):c=d.fb.Xg(c,e.mh,e.Qc,r);c=d.gi.Mj(c,e.Qc);if(c.u())return new d.Ja(c.description);!e.Jw&&d.T.Ic(g)&&(c=d.Ej.zJ(e.oc,c));c=a.nQ(c,e.Qc);switch(g){case 1736:r=e.YP(c);break;case 1607:r=e.ZP(c);break;case 550:r=e.WP(c);break;case 33:r=e.XP(c);break;default:throw d.g.X("corrupted_geometry");}e=d.fb.Xg(r,e.Qc,e.mh,e.mc);e.om(c.description);return e};a.prototype.YP=function(a){var c=new d.Ja;a=new f(this,a,c);a=d.ei.local().V(a,this.Qc,this.mc).next();
a=d.Vp.Nj(a,this.Qc,2);var b=new d.Hd;b.scale(1/this.oc,1/this.oc);c.Xc(b);c=d.Vp.Nj(c,this.Qc,2);return 0<=this.Qa?d.ei.local().V(c,a,this.Qc,this.mc):d.cq.local().V(c,a,this.Qc,this.mc)};a.prototype.ZP=function(a){a=new f(this,a,null);a=d.ei.local().V(a,this.Qc,this.mc).next();return a=d.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=new h(this,a);a=d.ei.local().V(a,this.Qc,this.mc).next();return a=d.Vp.Nj(a,this.Qc,2)};a.prototype.XP=function(a){a=a.w();a.scale(this.oc);var c=new d.Ja;this.Yy(a,
!1,c);return c=d.Vp.Nj(c,this.Qc,2)};a.prototype.dz=function(c,b,g,k,n,r){var e=c[0],f=c[c.length-1],h=e.y>f.y?e.y:f.y,l=d.C.q(this.Vb,this.rc,e.y<f.y?e.y:f.y),h=d.C.q(this.Vb,this.rc,h);if(.001<this.rB-(l+b+this.vb)&&.001<this.rB+(h-b-this.vb))return!1;b=g-1.570796326794897;g=k+1.570796326794897;var l=b-3.141592653589793,h=b+3.141592653589793,m=g+3.141592653589793,p=[NaN],u=[NaN],q=[NaN],t=[NaN];k=!1;a.AD(this.Vb,this.rc,this.vb,e,b,l,f,g,p,u);a.AD(this.Vb,this.rc,this.vb,f,m,g,e,l,q,t);g<p[0]&&
p[0]<m?k=!0:g<u[0]&&u[0]<m&&(k=!0);k||(l<q[0]&&q[0]<b?k=!0:l<t[0]&&t[0]<b&&(k=!0));if(!k&&n)return!1;for(var x=[],v=c.length-1;0<=v;v--)x.push(c[v]);r.Oa();r.Bl(null,0);v=[0];a.Xy(this.Vb,this.rc,this.oc,this.vb,this.$e,c,b,g,n,v,r);a.Fs(this.Vb,this.rc,this.oc,this.vb,f,g,m,this.Qo,n,v,r,p[0],u[0]);a.Xy(this.Vb,this.rc,this.oc,this.vb,this.$e,x,m,h,n,v,r);a.Fs(this.Vb,this.rc,this.oc,this.vb,e,l,b,this.Qo,n,v,r,q[0],t[0]);c=!1;n||(c=this.PF(this.oc,r));return k||c};a.prototype.Yy=function(c,b,d){d.Oa();
d.Bl(null,0);a.Fs(this.Vb,this.rc,this.oc,this.vb,c,-this.Qo,6.283185307179586,this.Qo,b,[0],d,NaN,NaN);b||this.PF(this.oc,d)};a.prototype.PF=function(a,b){var c=this.zQ(a,b);a=this.AQ(a,b);return c||a};a.prototype.zQ=function(a,b){var c=b.D(),e=!1,n=new d.h;b.s(n);if(!d.l.W(n.B*a,1.570796326794897)&&!d.l.W(n.A*a,-1.570796326794897))return!1;for(var r=new d.b,c=c-1;0<=c;c--)b.w(c,r),r.y==n.B&&d.l.W(r.y*a,1.570796326794897)?(e=!0,this.IJ(r,c,b)):r.y==n.A&&d.l.W(r.y*a,-1.570796326794897)&&(e=!0,this.IJ(r,
c,b));return e};a.prototype.AQ=function(a,b){var c=b.Ba(0),e=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-e.x)*a?(this.OW(b),!0):this.yQ(b)};a.prototype.yQ=function(a){return 0>a.hf()?(this.NW(a),!0):!1};a.prototype.IJ=function(a,b,g){var c=g.D(),e=0<b?b-1:c-1,c=g.Ba(b<c-1?b+1:0),e=g.Ba(e);if(!d.l.W(c.y,a.y)&&!d.l.W(c.x,a.x)){var r=new d.b;r.ka(c.x,a.y);g.rb(b,r)}d.l.W(e.y,a.y)||d.l.W(e.x,a.x)||(c=new d.b,c.ka(e.x,a.y),g.Zf(0,b,c))};a.prototype.OW=function(a){var c=new d.Ja,b=new d.Ja,k=new d.Hd,
n=a.Ba(0),r=a.Ba(a.D()-1),f=new d.b;n.x>r.x?(r=this.or,k.Ag(-this.Et,0)):(r=-this.or,k.Ag(this.Et,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Xc(k);n=new d.h;b.s(n);n.O((this.Et-n.N())/2,0);n.A=-this.or;n.B=this.or;for(var h=0;h<b.D();h++)b.w(h,f),c.Zf(0,-1,f);b.Xc(k);for(h=0;h<b.D();h++)b.w(h,f),c.Zf(0,-1,f);b=c.Ba(0);k=c.Ba(c.D()-1);f.ka(k.x,r);c.Zf(0,-1,f);f.ka(.5*(k.x+b.x),r);c.Zf(0,-1,f);f.ka(b.x,r);c.Zf(0,-1,f);c=d.gi.ht(c,this.Qc,2,!0,n.o);c=d.gi.ht(c,this.Qc,2,!0,n.v);c=d.ne.clip(c,n,this.pr,NaN);
a.add(c,!1)};a.prototype.NW=function(a){var c=new d.h;a.s(c);c.O((this.Et-c.N())/2,0);c.A=-this.or;c.B=this.or;a.Bl(null,0);var b=new d.b;b.ka(c.o,c.A);a.Zf(1,-1,b);b.ka(c.o,c.B);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.B);a.Zf(1,-1,b);b.ka(c.v,c.B);a.Zf(1,-1,b);b.ka(c.v,c.A);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.A);a.Zf(1,-1,b)};a.Xy=function(c,b,g,k,n,r,f,h,w,l,m){var e=null;w||(e=new d.b,e.$c(),0<m.D()&&(e.L(m.Ba(m.D()-1)),e.scale(g)));var z=new d.ea(0),I=new d.ea(0),p=new d.ea(0),u=new d.b,P=new d.b,W=r[r.length-
1];g=1/g;for(var q=0;q<r.length;q++){var t=r[q],v;0==q?v=f:q==r.length-1?v=h:(d.mb.Ld(c,b,W.x,W.y,t.x,t.y,null,null,z,n),v=z.j-1.570796326794897);d.mb.Xi(c,b,t.x,t.y,k,v,I,p);w?P.ka(I.j,p.j):(u.ka(I.j,p.j),a.MF(t.x,u.x,e.x,l),P.ka(l[0]+u.x,u.y),e.L(P));P.scale(g);m.Zf(0,-1,P)}};a.Fs=function(c,b,g,k,n,r,f,h,w,l,m,p,u){if(!(f-r<h)){var e=new d.ea(0),z=new d.ea(0),I=new d.b,P=new d.b,W=null;w||(W=new d.b,W.$c(),0<m.D()&&(W.L(m.Ba(m.D()-1)),W.scale(g)));var q=d.J.truncate(Math.ceil(r/h)),ba=q++*h;ba==
r&&(ba=q++*h);for(g=1/g;ba<f+h;){r<p&&p<ba?(ba=p,q--):r<u&&u<ba&&(ba=u,q--);if(ba>=f)break;d.mb.Xi(c,b,n.x,n.y,k,ba,e,z);w?P.ka(e.j,z.j):(I.ka(e.j,z.j),a.MF(n.x,I.x,W.x,l),P.ka(l[0]+I.x,I.y),W.L(P));P.scale(g);m.Zf(0,-1,P);r=ba;ba=q++*h}}};a.AD=function(a,b,g,k,n,r,f,h,w,l){var c=new d.b,e=new d.b,z=new d.ea(0),I=new d.ea(0);d.mb.Xi(a,b,k.x,k.y,g,n,z,I);c.ka(z.j,I.j);d.mb.Xi(a,b,k.x,k.y,g,r,z,I);e.ka(z.j,I.j);g=new d.ea(0);d.mb.Gz(a,b,f.x,f.y,c.x,c.y,g);w[0]=g.j;d.mb.Gz(a,b,f.x,f.y,e.x,e.y,g);for(l[0]=
g.j;w[0]<=l[0];)w[0]+=6.283185307179586;for(;w[0]>l[0];)w[0]-=6.283185307179586;for(;w[0]>=h;)w[0]-=6.283185307179586,l[0]-=6.283185307179586;for(;w[0]<h;)w[0]+=6.283185307179586,l[0]+=6.283185307179586};a.MF=function(a,b,d,k){if(isNaN(d)){for(;3.141592653589793<k[0]+b-a;)k[0]-=6.283185307179586;for(;3.141592653589793<a-(k[0]+b);)k[0]+=6.283185307179586}else 3.141592653589793<k[0]+b-d?k[0]-=6.283185307179586:3.141592653589793<d-(k[0]+b)&&(k[0]+=6.283185307179586)};a.nQ=function(a,b){var c=a.G(),e;
d.T.Ic(c)?e=a.aa():550==c?e=a.D():e=1;if(1==e)return a;var n=new d.ia(0);n.resize(e);for(var r=[],f=new d.h,h=0;h<e;h++){n.write(h,h);var w;d.T.Ic(c)?(a.jk(h,f),w=f.Wf()):w=a.Ba(h);w=d.tM.UY(b,w);r[h]=w}n.Gd(0,n.size,function(a,c){return r[a]<r[c]?-1:r[a]>r[c]?1:0});f=a.Ka();for(h=0;h<e;h++)w=n.read(h),d.T.Ic(c)?f.Ti(a,w,!0):f.Id(a,w,w+1);return f};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new d.b;b.ka(0,10*this.oc);
var g=45*this.oc,k=new d.ea(0),n=new d.ea(0),r=new d.ea(0),f=new d.ea(0),h=new d.ea(0),w=new d.ea(0),l=new d.ea(0),m=new d.ea(0),p=new d.b,u=new d.b,q=new d.b,t=new d.b;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,k,n);p.ka(k.j,n.j);d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,g,r,f);u.ka(r.j,f.j);for(var k=new d.ea(0),n=new d.ea(0),v=new d.ea(0);;){d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,.5*(0+g),h,w);q.ka(h.j,w.j);d.mb.Ld(this.Vb,this.rc,p.x,p.y,u.x,u.y,k,n,null,2);d.mb.Oj(this.Vb,this.rc,p.x,p.y,.5*k.j,n.j,l,m,2);t.ka(l.j,
m.j);d.mb.Ld(this.Vb,this.rc,q.x,q.y,t.x,t.y,v,null,null,2);if(v.j<=this.Po)break;g*=.9;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,g,r,f);u.ka(r.j,f.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(g-0))};a.prototype.vY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new d.b,g=new d.b;b.ka(0,10*this.oc);g.ka(10*this.oc,10*this.oc);var k=new d.ea(0),n=new d.ea(0),r=new d.ea(0);d.mb.Ld(this.Vb,this.rc,b.x,b.y,g.x,g.y,r,k,n,this.$e);var f=
new d.ea(0),h=new d.ea(0),w=new d.ea(0),l=new d.ea(0),m=new d.b,p=new d.ea(0),u=new d.ea(0),q=new d.ea(0),t=new d.ea(0),v=new d.ea(0),x=new d.ea(0),B=new d.ea(0),y=new d.ea(0),C=new d.ea(0),A=new d.b,E=new d.b,F=new d.b,D=new d.b,H=1,k=k.j,n=n.j+1.570796326794897,r=r.j;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k-1.570796326794897,u,q);A.ka(u.j,q.j);d.mb.Xi(this.Vb,this.rc,g.x,g.y,a,n,t,v);E.ka(t.j,v.j);for(var u=new d.ea(0),q=new d.ea(0),n=new d.ea(0),G=new d.ea(0);;){d.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+
H)*r,k,f,h,this.$e);m.ka(f.j,h.j);d.mb.Ld(this.Vb,this.rc,b.x,b.y,m.x,m.y,null,null,p,this.$e);d.mb.Xi(this.Vb,this.rc,m.x,m.y,a,p.j+1.570796326794897,x,B);F.ka(x.j,B.j);d.mb.Ld(this.Vb,this.rc,A.x,A.y,E.x,E.y,u,q,null,2);d.mb.Oj(this.Vb,this.rc,A.x,A.y,.5*u.j,q.j,y,C,2);D.ka(y.j,C.j);d.mb.Ld(this.Vb,this.rc,F.x,F.y,D.x,D.y,n,null,null,2);if(n.j<=this.Po)break;H*=.9;d.mb.Oj(this.Vb,this.rc,b.x,b.y,H*r,k,w,l,this.$e);g.ka(w.j,l.j);d.mb.Ld(this.Vb,this.rc,b.x,b.y,g.x,g.y,null,null,G,this.$e);d.mb.Xi(this.Vb,
this.rc,g.x,g.y,a,G.j+1.570796326794897,t,v);E.ka(t.j,v.j)}a=H*r;1E5<a&&(a=1E5);this.wB=a};a.prototype.tY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();d.sM=b})(h||(h={}));(function(d){var h=function(){function f(){}f.tc=function(b,a){var c=new d.b;c.L(a);b.push(c)};f.rk=function(b,a){b.add(a.x);b.add(a.y)};f.ZC=function(b){b.yf(b.size-2)};f.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};f.Ls=function(b,a,c,e,g,k){if(null==
b)throw d.g.F();var n=b.G();if(b.u()||d.T.Jo(n))return b;var r=new f;r.mh=a;r.Qc=d.fb.lc(a);var z=d.fb.hw(r.Qc);r.mc=k;r.Vb=d.fb.Sv(r.Qc);r.rc=z*(2-z);r.oc=r.Qc.Vd().Ai;r.pr=r.Qc.Bo();r.Tt=r.pr*r.oc;r.hB=e;r.gB=g;r.$e=c;197==n?(c=new d.Ja(b.description),c.jd(b,!1)):d.T.Oc(n)?(c=new d.Ua(b.description),c.dc(b,!0)):c=b;if(4!=r.$e){a=0==r.mh.Eb(r.Qc)?d.fb.Xg(c,r.mh,r.Qc,k):d.gi.Mj(c,r.Qc);if(a.u())return a;a=f.zJ(r.oc,a);a=r.Hz(a);a=d.Vp.Nj(a,r.Qc,r.$e);r=d.fb.Xg(a,r.Qc,r.mh,k)}else{2==d.Rd.Fb(a)?(b=
d.fb.Lk(a),k=d.tk.local().V(c,b,a,k),k==b&&(k=new d.Ja,b.copyTo(k))):k=d.gi.Mj(c,r.Qc);a=k;if(a.u())return a;r=r.xY(a)}return r};f.zJ=function(b,a){var c=new d.h;a.ac(c);if(3.141592653589793>c.N()*b)return a;for(var e=!1,c=a.Fa(),g=new d.b,k=new d.b;c.Ya();)for(;c.Ea();){var n=c.ba();g.L(n.ec());k.L(n.Bc());g.scale(b);k.scale(b);if(3.141592653589793<Math.abs(g.x-k.x)){var r=f.Av(g,k);if(!r){e=!0;break}if(6.283185307179586<Math.abs(g.x-k.x)){e=!0;break}}}if(!e)return a;var e=a.Ka(),z=1<a.description.Ga,
h=new d.b,w=new d.b,l=new d.b,m=new d.b,p=new d.Wa;for(c.yj();c.Ya();)for(var u=NaN,q=[0];c.Ea();){n=c.ba();g.L(n.ec());k.L(n.Bc());g.scale(b);k.scale(b);isNaN(u)?(f.fe(g.x,NaN,q),w.L(g)):w.L(l);u=w.x;if(r=f.Av(g,k)){if(6.283185307179586<k.x-g.x)for(;6.283185307179586<k.x-g.x;)k.x-=6.283185307179586;if(-6.283185307179586>k.x-g.x)for(;-6.283185307179586>k.x-g.x;)k.x+=6.283185307179586;f.fe(k.x,NaN,q);l.L(k)}else h.L(k),f.WM(h),f.fe(h.x,u,q),l.ka(q[0]+h.x,h.y);.5>Math.abs(l.x-k.x)&&l.L(k);z?(n.Fx(0,
p),m.L(w),m.scale(1/b),p.rb(m),(r=c.jn())?e.Rf(p):e.lineTo(p),c.Io()&&!a.Qb(c.Ta)&&(n.Fx(1,p),m.L(l),m.scale(1/b),p.rb(m),e.lineTo(p))):((r=c.jn())&&e.sA(null,0),n=e.aa()-1,m.L(w),m.scale(1/b),e.Zf(n,-1,m),c.Io()&&!a.Qb(c.Ta)&&(m.L(l),m.scale(1/b),e.Zf(n,-1,m)))}return e};f.GG=function(b,a,c,e,g,k,n,r,z,h,w,l){var I=new d.b,m=new d.b,p=0<e.compare(g);f.rF(p,e,g,I,m);f.wG(b,a,c,I,m,k,NaN,n,r,z,h,null,w,l);p&&f.qy(z,h,null,w)};f.prototype.Hz=function(b){var a=b.Ka(),c=b.Fa(),e=[],g=null,k=null,n=1<
b.description.Ga;n&&(g=new d.Qd(0),k=new d.Cg);for(var r=[0],z=new d.b,h=new d.b,w=new d.b,l=new d.b;c.Ya();)for(r[0]=0;c.Ea();){var m=c.ba();z.L(m.ec());h.L(m.Bc());z.scale(this.oc);h.scale(this.oc);var p=0<z.compare(h);f.rF(p,z,h,w,l);e.length=0;null!=g&&g.yf(0);0<this.hB?f.wG(this.Vb,this.rc,this.$e,w,l,this.hB,this.gB,this.Tt,null,null,null,n?g:null,e,r):f.SV(this.Vb,this.rc,this.$e,w,l,this.gB,this.Tt,n?g:null,e,r);p&&f.qy(null,null,n?g:null,e);e[0].L(m.ec());e[e.length-1].L(m.Bc());for(var u=
1;u<e.length-1;u++)e[u].scale(1/this.oc);n?(p=f.TE(p,m,k),f.jE(c.jn(),c.Io()&&!b.Qb(c.Ta),m,p,g,e,a)):f.hE(c.jn(),c.Io()&&!b.Qb(c.Ta),e,a)}return a};f.prototype.xY=function(b){var a=b.Ka(),c=b.Fa(),e=[],g=null,k=new d.Cg,n=1<b.description.Ga;for(n&&(g=new d.Qd(0));c.Ya();)for(;c.Ea();){var r=c.ba(),z=r.ec(),h=r.Bc(),z=0<z.compare(h),h=f.TE(z,r,k);e.length=0;null!=g&&g.yf(0);f.GL(this.Vb,this.rc,this.oc,h,this.mh,this.hB,this.gB,n?g:null,e);z&&f.qy(null,null,n?g:null,e);n?f.jE(c.jn(),c.Io()&&!b.Qb(c.Ta),
r,h,g,e,a):f.hE(c.jn(),c.Io()&&!b.Qb(c.Ta),e,a)}return a};f.hE=function(b,a,c,e){b&&e.sA(null,0);b=e.aa()-1;var d=c.slice(0);e.EH(b,d,d.length-1);a&&e.Zf(b,-1,c[c.length-1])};f.jE=function(b,a,c,e,g,k,n){var r=new d.Wa;c.Dp(r);b?n.Rf(r):n.lineTo(r);if(2<k.length){b=e.Rb();for(var f=1;f<k.length-1;f++){var h=e.bI(g.get(f)*b);e.Fx(h,r);r.rb(k[f]);n.lineTo(r)}}a&&(c.Bp(r),n.lineTo(r))};f.wG=function(b,a,c,e,g,k,n,r,z,h,w,l,m,p){var I=new d.ea(0),u=new d.ea(0),P=new d.ea(0);d.mb.Ld(b,a,e.x,e.y,g.x,g.y,
P,I,u,c);var P=P.j,W=I=I.j,u=u.j;0>W&&(W+=6.283185307179586);0>u&&(u+=6.283185307179586);null!=z&&(z[0]=P);null!=h&&(h[0]=W);null!=w&&(w[0]=u);h=z=NaN;null!=l&&(h=d.C.Yg(b,a),w=d.C.q(b,a,e.y),z=(h-w)/P,h=(h+w)/P);w=f.Bv(e,g);var u=f.zv(e,g),W=w||u,q=f.uE(e,g,r),ba=new d.ea(0),t=new d.ea(0),v=new d.b,x=new d.b,B=new d.b;f.fe(e.x,NaN,p);var y=[p[0]];if(P<=k)f.tc(m,e),f.fe(g.x,NaN,p),null!=l&&l.add(0),W?(w&&f.my(e,g,l,m),u&&f.iy(e,g,l,m)):q?f.ly(e,g,I,z,h,l,m):0<n&&(x.ka(e.x-y[0],e.y),v.ka(g.x-p[0],
g.y),f.GA(b,a,c,e,P,I,x,v,0,1,n,l,m,y)),f.tc(m,g);else{k=1+d.J.truncate(Math.ceil(P/k));var C=P/(k-1),A=new d.b,E=0;f.tc(m,e);A.L(e);x.ka(e.x-p[0],e.y);null!=l&&l.add(0);for(var F=1;F<k;F++){var D;F<k-1?(d.mb.Oj(b,a,e.x,e.y,F*C,I,ba,t,c),v.ka(ba.j,t.j),f.fe(v.x,A.x,p),B.ka(p[0]+v.x,v.y),D=F/(k-1)):(f.fe(g.x,NaN,p),v.ka(g.x-p[0],g.y),B.L(g),D=1);W?(1==F&&w&&f.my(e,B,l,m),F==k-1&&u&&f.iy(A,g,l,m)):q?f.sE(A,B,r)&&(e.x<g.x?A.x>B.x&&(p[0]+=6.283185307179586,B.ka(p[0]+v.x,v.y)):A.x<B.x&&(p[0]-=6.283185307179586,
B.ka(p[0]+v.x,v.y)),f.ly(A,B,I,z,h,l,m)):0<n&&f.GA(b,a,c,e,P,I,x,v,E,D,n,l,m,y);f.tc(m,B);null!=l&&l.add(D);A.L(B);x.L(v);y[0]=p[0];E=D}}};f.SV=function(b,a,c,e,g,k,n,r,z,h){var l=new d.ea(0),I=new d.ea(0),m=new d.ea(0);d.mb.Ld(b,a,e.x,e.y,g.x,g.y,m,l,I,c);var I=m.j,l=l.j,p=m=NaN;if(null!=r)var p=d.C.Yg(b,a),u=d.C.q(b,a,e.y),m=(p-u)/I,p=(p+u)/I;var u=f.Bv(e,g),q=f.zv(e,g),t=u||q;n=f.uE(e,g,n);var v=f.Av(e,g),v=t||n||v;f.fe(e.x,NaN,h);var x=new d.b;f.tc(z,e);x.L(e);null!=r&&r.add(0);v?(t?(u&&f.my(e,
g,r,z),q&&f.iy(e,g,r,z)):n&&f.ly(e,g,l,m,p,r,z),f.fe(g.x,NaN,h),f.tc(z,g)):I<=k?(f.fe(g.x,NaN,h),f.tc(z,g)):(m=new d.b,n=new d.b,m.L(e),n.L(g),m.x-=h[0],n.x-=h[0],-3.141592653589793>n.x?n.x+=6.283185307179586:3.141592653589793<n.x&&(n.x-=6.283185307179586),f.GA(b,a,c,e,I,l,m,n,0,1,k,r,z,h),f.tc(z,g),f.fe(g.x,NaN,h));null!=r&&r.add(1)};f.GA=function(b,a,c,e,g,k,n,r,z,h,l,m,p,u){var w=new d.b,I=new d.b;w.ka(n.x+u[0],n.y);new d.ea(0);new d.ea(0);new d.ea(0);new d.ea(0);var P=new d.ea(0),W=new d.ea(0),
q=new d.ea(0),ba=new d.b,t=new d.b,v=new d.b,x=new d.b;ba.L(n);t.L(r);n=new d.Qd(0);r=new d.Qd(0);f.rk(n,t);r.add(h);var B=new d.b,y=new d.Hb,C=[];for(f.sG(4,C);0<n.size;){for(var A=!1,E,F=NaN,D=0;3>D;D++)if(E=C[D]*h+(1-C[D])*z,d.mb.Oj(b,a,e.x,e.y,E*g,k,P,W,c),v.ka(P.j,W.j),0==D&&(F=E,x.L(v)),f.yO(ba,v,t,y),y.gc(y.qe(v,!0),B),d.mb.Ld(b,a,v.x,v.y,B.x,B.y,q,null,null,2),q.j>l){A=!0;break}A?(t.L(x),h=F,f.rk(n,t),r.add(h)):(f.ZC(n),r.Ek(r.size-1,1,r.size-1),0<n.size&&(f.fe(t.x,w.x,u),I.ka(u[0]+t.x,t.y),
f.tc(p,I),w.L(I),null!=m&&m.add(h),ba.L(t),z=h,f.oy(n,t),h=r.get(r.size-1)))}};f.GL=function(b,a,c,e,g,k,n,r,z){var h=new d.b,l=new d.b,m=new d.b,p=new d.b,u=new d.b,q=new d.b,t=new d.b,v=new d.b,x=new d.b,B=new d.b,y=new d.ea(0),C=new d.ea(0),A=new d.b,E=[[],[]],F=1==d.Rd.Fb(g);g=g.se(0);var D=e.ec(),H=e.Bc();F?(q.ka(D.x*c,D.y*c),t.ka(H.x*c,H.y*c)):(E[0][0]=D.x,E[0][1]=D.y,E[1][0]=H.x,E[1][1]=H.y,d.fb.lu(),q.x=E[0][0]*c,q.y=E[0][1]*c,t.x=E[1][0]*c,t.y=E[1][1]*c);var G=0,K=0,N=1,Q=e.Go();h.L(D);l.L(H);
var H=new d.Qd(0),O=new d.Qd(0),M=new d.Qd(0);f.rk(H,l);f.rk(O,t);M.add(N);f.tc(z,h);null!=r&&r.add(K);var S=[],aa;aa=0<n?Q?5:3:Q?5:1;f.sG(aa,S);for(var L=new d.ea(0),J=new d.ea(0),V=new d.ea(0),Y=new d.ea(0),R=new d.ea(0),U=new d.ea(0),Z=new d.ea(0);0<O.size;){var T=!1,ca,ea=NaN;d.mb.Ld(b,a,q.x,q.y,t.x,t.y,L,J,null,2);for(D=0;D<aa;D++){if(0==D){if(!Q&&0>=n&&L.j<=k&&3.141592653589793>Math.abs(q.x-t.x))break;if(e.Dy(K,N)<=g)break}ca=S[D]*N+(1-S[D])*K;e.gc(ca,m);F?v.ka(m.x*c,m.y*c):(E[0][0]=m.x,E[0][1]=
m.y,d.fb.lu(),v.x=E[0][0]*c,v.y=E[0][1]*c);if(0==D&&(ea=ca,u.L(m),B.L(v),0<k&&(L.j>k||3.141592653589793<=Math.abs(q.x-t.x)))){T=!0;break}if(Q&&0<k){if(d.mb.Ld(b,a,q.x,q.y,v.x,v.y,V,null,null,2),V.j>k||3.141592653589793<=Math.abs(q.x-v.x)){T=!0;break}}else if(0<n)if(Q?(p.JU(h,l,S[D]),F?x.ka(p.x*c,p.y*c):(E[0][0]=p.x,E[0][1]=p.y,d.fb.lu(),x.x=E[0][0]*c,x.y=E[0][1]*c)):(p.L(m),x.L(v)),d.mb.Ld(b,a,q.x,q.y,x.x,x.y,Y,null,null,2),Y.j<=L.j){d.mb.Oj(b,a,q.x,q.y,Y.j,J.j,y,C,2);A.ka(y.j,C.j);d.mb.Ld(b,a,A.x,
A.y,v.x,v.y,R,null,null,2);if(R.j>n){T=!0;break}if(Q){d.mb.Ld(b,a,A.x,A.y,x.x,x.y,U,null,null,2);if(U.j>n){T=!0;break}d.mb.Ld(b,a,x.x,x.y,v.x,v.y,Z,null,null,2);if(Z.j>n){T=!0;break}}}else{T=!0;break}}T?(l.L(u),t.L(B),N=ea,f.rk(H,l),f.rk(O,t),M.add(N)):(f.ZC(H),f.ZC(O),M.Ek(M.size-1,1,M.size-1),f.tc(z,l),G+=L.j,null!=r&&r.add(G),0<O.size&&(h.L(l),q.L(t),K=N,f.oy(H,l),f.oy(O,t),N=M.get(M.size-1)))}if(null!=r)for(b=1/G,D=0;D<r.size;D++)r.write(D,r.read(D)*b)};f.qy=function(b,a,c,e){e.reverse();null!=
c&&c.Zd(0,c.size,1);c=null!=b?b[0]:NaN;e=null!=a?a[0]:NaN;null!=b&&(b[0]=e);null!=a&&(a[0]=c)};f.rF=function(b,a,c,e,d){b?(e.L(c),d.L(a)):(e.L(a),d.L(c))};f.TE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};f.fe=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};
f.yO=function(b,a,c,e){3.141592653589793>Math.abs(a.x-b.x)?(e.Mc(b),3.141592653589793<=c.x-b.x?e.vm(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?e.vm(c.x+6.283185307179586,c.y):e.vm(c.x,c.y)):(e.Mc(c),3.141592653589793<=b.x-c.x?e.vm(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?e.vm(b.x+6.283185307179586,b.y):e.vm(b.x,b.y))};f.sG=function(b,a){for(var c=0;c<b;c++){var e=Math.ceil(c/2)/(b+1);0!=c%2&&(e=-e);a[c]=.5+e}};f.Bv=function(b,a){return d.l.W(b.y,1.570796326794897)&&!d.l.W(a.y,
1.570796326794897)||d.l.W(b.y,-1.570796326794897)&&!d.l.W(a.y,-1.570796326794897)?!0:!1};f.zv=function(b,a){return d.l.W(a.y,1.570796326794897)&&!d.l.W(b.y,1.570796326794897)||d.l.W(a.y,-1.570796326794897)&&!d.l.W(b.y,-1.570796326794897)?!0:!1};f.uE=function(b,a,c){return!f.sE(b,a,c)||d.l.W(b.y,1.570796326794897)||d.l.W(b.y,-1.570796326794897)||d.l.W(a.y,1.570796326794897)||d.l.W(a.y,-1.570796326794897)?!1:!0};f.sE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};f.Av=
function(b,a){return d.l.W(b.y,1.570796326794897)&&d.l.W(a.y,1.570796326794897)||d.l.W(b.y,-1.570796326794897)&&d.l.W(a.y,-1.570796326794897)?!0:!1};f.my=function(b,a,c,e){if(0<b.y){var g=new d.b;g.ka(a.x,1.570796326794897)}else g=new d.b,g.ka(a.x,-1.570796326794897);d.l.W(b.x,g.x)||d.l.W(a.y,g.y)||(f.tc(e,g),null!=c&&c.add(0))};f.iy=function(b,a,c,e){if(0<a.y){var g=new d.b;g.ka(b.x,1.570796326794897)}else g=new d.b,g.ka(b.x,-1.570796326794897);d.l.W(a.x,g.x)||d.l.W(b.y,g.y)||(f.tc(e,g),null!=c&&
c.add(1))};f.ly=function(b,a,c,e,g,k,n){d.l.xd(c)?(0<1.570796326794897-b.y&&(c=new d.b,c.ka(b.x,1.570796326794897),f.tc(n,c),null!=k&&k.add(e)),0<1.570796326794897-a.y&&(c=new d.b,c.ka(a.x,1.570796326794897),f.tc(n,c),null!=k&&k.add(e))):(0<1.570796326794897+b.y&&(c=new d.b,c.ka(b.x,-1.570796326794897),f.tc(n,c),null!=k&&k.add(g)),0<1.570796326794897+a.y&&(c=new d.b,c.ka(a.x,-1.570796326794897),f.tc(n,c),null!=k&&k.add(g)))};f.WM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=
6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return f}();d.Ej=h})(h||(h={}));(function(d){var h=function(){function f(){}f.Nj=function(b,a,c){if(null==b||null==a||!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var e=b,g=e.G();if(d.T.Ic(g)){e=d.gi.Mj(b,a);b=new d.h;e.s(b);for(var g=d.na.be(a,b,!1),k=d.fb.Bh(a),n=Math.floor((b.o-k.o)/k.N())*k.N()+k.o;n<b.v;)n>b.o+g&&n<b.v-g&&(e=d.gi.ht(e,a,c,!0,n)),n+=k.N()}else{if(197==g)return b=new d.Ja(e.description),
b.jd(e,!1),f.Nj(b,a,c);if(d.T.Oc(g))return b=new d.Ua(e.description),b.dc(e,!0),f.Nj(b,a,c)}return f.kV(e,a)};f.kV=function(b,a){if(null==b||null==a||!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new d.Ja(b.description),c.jd(b,!1)):d.T.Oc(c)?(c=new d.Ua(b.description),c.dc(b,!0)):c=b;c=d.gi.Mj(c,a);return c.u()?c:1==d.Rd.Fb(a)?d.gi.Xm(c,a,0,c!=b,0):f.eV(c,a,c!=b)};f.eV=function(b,a,c){if(!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var e=d.fb.ee(a),g=0-180*e,e=360*e;2==d.Rd.Fb(a)&&
(g=d.fb.Bh(a),e=g.v,g=g.o,e-=g);return d.gi.Aq(b,g,e,a,c,0,!0)};return f}();d.Vp=h})(h||(h={}));(function(d){var h=function(){function f(){}f.gV=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};f.K=function(b){return 0>b?-b:b};f.Ab=function(b,a){return 0<=a?f.K(b):-f.K(b)};f.W=function(b,a){return b==a||f.K(b-a)<=f.hD*(1+(f.K(b)+f.K(a))/2)};f.xd=function(b){return 0==b||f.K(b)<=f.hD};f.Fu=function(b){b=f.gV(b,f.nA);return f.K(b)<=f.Oi?b:
0>b?b+f.nA:b-f.nA};f.LB=function(b,a){b.j=f.Fu(b.j);a.j=f.Fu(a.j);f.K(a.j)>f.ss&&(b.j=f.Fu(b.j+f.Oi),a.j=f.Ab(f.Oi,a.j)-a.j)};f.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*f.ss};f.TS=function(b,a,c,e,g){var k,n,r,z,h,l,m,p=0,u=l=0,q=0,t=0,v=0;h=0;var x,B,y;m=0;var C,A,E;y=new d.ea;k=new d.ea;if(null!=g)if(y.j=b,k.j=a,f.LB(y,k),b=y.j,a=k.j,y.j=c,k.j=e,f.LB(y,k),c=y.j,e=k.j,c=f.Fu(c-b),f.W(a,e)&&(f.xd(c)||f.W(f.K(a),f.ss)))null!=g&&(g.j=0);
else{if(f.W(a,-e)){if(f.W(f.K(a),f.ss)){null!=g&&(g.j=2*f.Yg(6378137,.0066943799901413165));return}if(f.W(f.K(c),f.Oi)){null!=g&&(g.j=2*f.Yg(6378137,.0066943799901413165));return}}if(f.xd(.0066943799901413165))t=Math.cos(a),v=Math.cos(e),null!=g&&(p=Math.sin((e-a)/2),l=Math.sin(c/2),m=2*Math.asin(Math.sqrt(p*p+t*v*l*l)),g.j=6378137*m);else{y=1-Math.sqrt(.9933056200098587);b=1-y;k=Math.atan(b*Math.tan(a));a=Math.sin(k);k=Math.cos(k);n=Math.atan(b*Math.tan(e));e=Math.sin(n);n=Math.cos(n);z=r=c;A=0;
E=1;C=c;for(B=!0;1==B;)A+=1,1==E&&(h=Math.sin(C),l=Math.cos(C),p=n*h,m=k*e-a*n*l,p=Math.sqrt(p*p+m*m),l=a*e+k*n*l,m=Math.atan2(p,l),u=1E-15>f.K(p)?k*n*h/f.Ab(1E-15,p):k*n*h/p,q=1-u*u,t=1E-15>f.K(q)?l-a*e/f.Ab(1E-15,q)*2:l-a*e/q*2,v=t*t,h=((-3*q+4)*y+4)*q*y/16),x=(1-h)*y*(m+h*p*(t+l*h*(2*v-1))),1==E?(C=c+x*u,1E-14>f.K(C-z)?B=!1:f.K(C)>f.Oi?(E=2,C=f.Oi,0>c&&(C=-C),u=0,q=1,r=z=2,m=f.Oi-f.K(Math.atan(a/k)+Math.atan(e/n)),p=Math.sin(m),l=Math.cos(m),h=((-3*q+4)*y+4)*q*y/16,1E-14>f.K(u-r)?B=!1:(t=1E-15>
f.K(q)?l-a*e/f.Ab(1E-15,q)*2:l-a*e/q*2,v=t*t)):(0>(C-z)*(z-r)&&5<A&&(C=(2*C+3*z+r)/6),r=z,z=C)):(u=(C-c)/x,0>(u-z)*(z-r)&&5<A&&(u=(2*u+3*z+r)/6),r=z,z=u,q=1-u*u,h=u*p/(k*n),l=-Math.sqrt(f.K(1-h*h)),C=Math.atan2(h,l),p=n*h,m=k*e-a*n*l,p=Math.sqrt(p*p+m*m),l=a*e+k*n*l,m=Math.atan2(p,l),h=((-3*q+4)*y+4)*q*y/16,1E-14>f.K(u-r)?B=!1:(t=1E-15>f.K(q)?l-a*e/f.Ab(1E-15,q)*2:l-a*e/q*2,v=t*t));null!=g&&(u=Math.sqrt(1+(1/(b*b)-1)*q),u=(u-1)/(u+1),q=u*(1-.375*u*u),g.j=(1+u*u/4)/(1-u)*b*6378137*(m-q*p*(t+q/4*(l*
(-1+2*v)-q/6*t*(-3+4*p*p)*(-3+4*v)))))}}};f.Oi=3.141592653589793;f.ss=1.5707963267948966;f.nA=6.283185307179586;f.hD=3.552713678800501E-15;return f}();d.qM=h})(h||(h={}));(function(d){var h=function(){return function(b){this.ve=b;this.kl=this.ve.getCode();0>this.kl&&(this.kl=0)}}();d.SZ=h;var f=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&(this.Kh=new h(a))}b.prototype.Cc=function(){return null!=this.Kh?this.Kh.kl:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);
return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ve:null};b.prototype.BK=function(a){if(0>=a)throw d.g.F();if(a!=this.Cc()){a=d.Tf.geogtran(a);if(null==a)throw d.g.F("Geogtran not found.");this.Kh=new h(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ve.toString()};b.prototype.getName=function(){if(null==this.Kh||
null==this.Kh.ve)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ve.getName()};b.prototype.pY=function(a){if(null==a)throw d.g.F();var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_GEOGTRAN,a)}catch(e){throw d.g.F();}this.Kh=new h(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.Cc()||this.Cc()!=a.Cc())||this.cn().isEqual(a.cn()))?this.nn==a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":
a};b.create=function(a,c){var e=new b;e.BK(a);c&&e.kt();return e};b.gG=function(a,c){var e=new b;e.pY(a);c&&e.kt();return e};return b}();d.io=f})(h||(h={}));(function(d){var h=function(){function b(){}b.pa=function(a,c,e,d){var g=new b;g.vn=a;g.wn=c;g.MI=e;g.NI=d;return g};b.Hs=function(a,c){return a.vn==c.vn?a.wn==c.wn?0:a.wn<c.wn?-1:1:a.vn<c.vn?-1:1};return b}(),f=function(){function b(){this.Hw=!1;this.OI=[];this.aB=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);
return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,c){if(a==c)return null;var e=b.zo();if(e.iI){var d=b.FA(e.aB,a,c);return null!=d?d:null}d=b.FA(e.aB,a,c);return null!=d?d:b.FA(e.OI,a,c)};b.gO=function(a,c,b,g,k){var e=d.ny.create();if(0<a)try{var r=d.io.create(a,c);if(0==r.Cc())return null;e.add(r);if(0<b){var f=d.io.create(b,g);if(0==f.Cc())return null;e.add(f)}k&&(e=e.Wv())}catch(I){e=null}return e};b.FA=function(a,c,e){if(c==e||0==a.length)return null;
for(var d=h.pa(c,e,0,0),k=!1,n=!1,r=0,f=0,l=-1,w=0;w<a.length;w++)if(0===h.Hs(d,a[w])){l=w;break}if(0>l||a[l].vn!=d.vn||a[l].wn!=d.wn){d=h.pa(e,c,0,0);c=-1;for(w=0;w<a.length;w++)if(0===h.Hs(d,a[w])){c=w;break}0<=c&&a[c].vn==d.vn&&a[c].wn==d.wn&&(r=a[c].MI,f=a[c].NI,n=k=!0)}else r=a[l].MI,f=a[l].NI,k=!1,n=!0;if(!n)return null;0==r&&(r=f,f=0);d=a=!1;0>r&&(r=-r,a=!0);0>f&&(f=-f,d=!0);return b.gO(r,a,f,d,k)};b.prototype.kq=function(){this.CE(this.OI)&&(this.Hw=!0);this.CE(this.aB)&&(this.jI=!0);this.iI=
!this.Hw};b.prototype.CE=function(a){try{for(var c=[],c=c.sort(h.Hs),b=0;b<c.length;b++)a.push(c[b])}catch(g){}return!0};b.Q_=function(){return null};return b}();d.RZ=f})(h||(h={}));(function(d){var h=function(){function d(){}d.prototype.My=function(b){this.Hi=b};d.prototype.OE=function(b){this.Mb=b};d.prototype.PE=function(b){this.np=b};d.KF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()?!1:!0};d.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};d.JF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return d}();d.vl=h})(h||(h={}));(function(d){var h=function(){function f(){}f.nX=function(b){var a=new d.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};f.Xg=function(b,a){return null===b?null:d.os.local().V(b,a,null)};f.hZ=function(b,a){var c=d.ei.local();b=new d.hd(b);return c.V(b,a,null).next()};f.Vm=function(b,a,c){return d.cq.local().V(b,a,c,null)};f.Pp=function(b,a,c){return d.uy.local().V(b,a,c,null)};f.PY=function(b,
a,c){var e=d.uy.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);return e};f.Eb=function(b,a,c){return d.Gj.local().V(3,b,a,c,null)};f.RR=function(b,a,c){return d.Gj.local().V(4,b,a,c,null)};f.MU=function(b,a,c){var e=d.tk.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);return e};f.OR=function(b,a,c){var e=d.cq.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);return e};
f.Ma=function(b,a,c){return d.tk.local().V(b,a,c,null)};f.sZ=function(b,a,c){return d.Gj.local().V(2,b,a,c,null)};f.contains=function(b,a,c){return d.Gj.local().V(1,b,a,c,null)};f.zR=function(b,a,c){return d.Gj.local().V(16,b,a,c,null)};f.touches=function(b,a,c){return d.Gj.local().V(8,b,a,c,null)};f.pW=function(b,a,c){return d.Gj.local().V(32,b,a,c,null)};f.OU=function(b,a,c){return d.Gj.local().V(1073741824,b,a,c,null)};f.ZB=function(b,a,c,e){return d.qN.local().V(b,a,c,e,null)};f.Cb=function(b,
a,c,e){var g=null;if(null!=c){if(g=c.Vd(),null!=e&&g.Cc()!=e.Cc()&&g.td!=e.td)throw d.g.yl();}else if(null!=e)throw d.g.F();b=d.iN.local().V(b,a,null);null!==g&&null!==e&&(b=d.kc.li(b,g,e));return b};f.clip=function(b,a,c){return d.cN.local().V(b,d.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),c,null)};f.Hl=function(b,a,c){if(null==b||null==a)return null;b=d.eN.local().V(!0,b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};f.RP=function(b,a,c,e,g,k,n,r){if(!0===g)return f.ZM(b,a,c,e,k,
n,r);g=c;if(null!=a){if(n=a.Vd(),null!=e&&n.Cc()!=e.Cc()){if(n.td!=e.td)throw d.g.yl();g=[];d.kc.eG(c,c.length,e,n,g)}}else if(null!=e)throw d.g.F();c=d.DD.local();if(k){b=new d.hd(b);a=c.V(b,a,g,k,null);for(b=[];null!=(k=a.next());)b.push(k);k=b.slice(0)}else for(k=[],e=0;e<b.length;e++)k[e]=c.V(b[e],a,g[e],null);return k};f.ZM=function(b,a,c,e,g,k,n){if(null===a)throw d.g.F();if(null===e||void 0===e)e=4326!==a.Cc()?a.Vd():d.kc.pe(9001);if(0!==e.td)throw d.g.F();d.kc.eG(c,c.length,e,d.kc.pe(9001),
c);e=d.JD.local();if(g){b=new d.hd(b);a=e.V(b,a,k,c,n,!1,g,null);for(c=[];null!=(k=a.next());)c.push(k);g=c.slice(0)}else{g=[];for(var r=0;r<b.length;r++)g[r]=e.V(b[r],a,k,c[r],n,!1,null)}return g};f.buffer=function(b,a,c,e,g,k,n){var r=c;if(!1===g){if(null!=a){if(g=a.Vd(),null!=e&&g.Cc()!=e.Cc()){if(g.td!=e.td)throw d.g.yl();r=d.kc.li(c,e,g)}}else if(null!=e)throw d.g.F();b=d.DD.local().V(b,a,r,null)}else{if(null===a)throw d.g.F();if(null===e||void 0===e)e=4326!==a.Cc()?a.Vd():d.kc.pe(9001);if(0!==
e.td)throw d.g.F();r=d.kc.li(c,e,d.kc.pe(9001));b=d.JD.local().V(b,a,k,r,n,!1,null)}return b};f.nW=function(b,a,c,e,g,k,n){if(null!=a){var r=a.Vd();if(null!=n&&r.Cc()!=n.Cc()){if(r.td!=n.td)throw d.g.yl();c=d.kc.li(c,n,r)}}else if(null!=n)throw d.g.F();b=new d.hd(b);a=d.MD.local().V(b,a,c,e,g,k,null);for(c=[];null!=(e=a.next());)c.push(e);return c.slice(0)};f.offset=function(b,a,c,e,g,k,n){if(null!=a){var r=a.Vd();if(null!=n&&r.Cc()!=n.Cc()){if(r.td!=n.td)throw d.g.yl();c=d.kc.li(c,n,r)}}else if(null!=
n)throw d.g.F();return d.MD.local().V(b,a,c,e,g,k,null)};f.iR=function(b){return d.FD.local().V(b,null)};f.jR=function(b,a){var c=d.FD.local();b=new d.hd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};f.$z=function(b,a,c){return d.sy.local().$z(b,a,c)};f.aA=function(b,a){return d.sy.local().aA(b,a)};f.bA=function(b,a,c,e){return d.sy.local().bA(b,a,c,e)};f.DC=function(b,a){return d.Km.local().V(b,a,!1,null)};f.ZU=function(b,a){return d.Km.local().Wq(b,a,null)};f.HS=function(b,
a,c,e,g){var k=d.HD.local();if(null!=a){if(a=a.Vd(),null!=g&&a.Cc()!=g.Cc()){if(a.td!=g.td)throw d.g.yl();c=d.kc.li(c,g,a)}}else if(null!=g)throw d.g.F();return k.V(b,c,e,null)};f.Ls=function(b,a,c,e){var g=d.Jm.local();if(null!=a){if(a=a.Vd(),null!=e&&a.Cc()!=e.Cc()){if(a.td!=e.td)throw d.g.yl();c=d.kc.li(c,e,a)}}else if(null!=e)throw d.g.F();return g.V(b,c,null)};f.Fz=function(b,a,c,e,g){void 0===g&&(g=0);var k=d.kN.local();if(4==g)throw d.g.df();if(0!==g)throw d.g.df();if(null!==e){if(0!==e.td)throw d.g.F("Unit must be a linear unit type");
c=d.kc.li(c,e,d.kc.pe(9001))}return k.V(b,c,a,g,null)};f.NS=function(b,a,c,e){if(null===b)return 0;if(4==e)throw d.g.df();if(0!==e)throw d.g.df();if(197==b.G())b=f.nX(b);else if(1736!=b.G())return 0;e=d.fb.lc(a);b=d.fb.Xg(b,a,e,null);b=d.rM.OS([b])[0];if(null!==c){if(2!==c.td)throw d.g.F("Unit must be a area unit type");b=d.kc.li(b,d.kc.pe(109404),c)}return b};f.RS=function(b,a,c,e){b=d.mN.local().V(b,a,e,null);if(null!==c){if(0!==c.td)throw d.g.F("Unit must be a linear unit type");b=d.kc.li(b,d.kc.pe(9001),
c)}return b};f.xW=function(b,a,c){if(null===b)return 0;var e=null;if(null!=a){e=a.Vd();if(0==e.td&&(e=d.kc.lH(e),null==e&&null!==c))throw d.g.F();if(null!=c&&e.Cc()!=c.Cc()&&e.td!=c.td)throw d.g.yl();}else if(null!=c)throw d.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==c?d.kc.li(b,e,c):b):0};f.yW=function(b,a,c){if(null===b||b.u()||1>b.tb())return 0;var e=null;if(null!=a){if(e=a.Vd(),null!=c&&e.Cc()!=c.Cc()&&e.td!=c.td)throw d.g.yl();}else if(null!=c)throw d.g.F();1736==b.G()||197==b.G()?
a=b.Gg():d.T.Oc(b.G())?(a=new d.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var g=new d.b,k=new d.b;a.Ya();)for(;a.Ea();){var n=a.ba();n.Oq(g);n.Ps(k);b+=d.b.Cb(g,k)}null!==e&&null!==c&&(b=d.kc.li(b,e,c));return b};f.$Z=function(b,a){return d.Rd.QS(b,a)};f.dG=function(b){return void 0!==b.points?f.lW(b,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?f.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?f.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,
void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?f.vW(b):void 0!==b.xmin?f.dW(b):null};f.vW=function(b){if(null==b.x||"NaN"==b.x)return new d.Wa;var a=new d.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.sY(b.z);void 0!==b.m&&null!==b.m&&a.cY(b.m);return a};f.dW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new d.ci;var a=new d.ci(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};f.lW=function(b,
a,c){var e=0,g=new d.Ed,k=3*b.points.length;0!=k%2&&k++;2>k&&(k=2);var n=d.J.truncate(3*b.points.length/2);4>n?n=4:16>n&&(n=16);for(var k=d.Uc.Um(k,0),r=d.Uc.Um(n),n=d.Uc.Um(n),f=0;f<b.points.length;f++)k.write(2*f,b.points[f][0]),k.write(2*f+1,b.points[f][1]),r.write(f,a||c?b.points[f][2]:NaN),n.write(f,c&&a?b.points[f][3]:NaN),e++;0!=e&&(g.resize(e),g.Yn(0,k));a&&(g.Td(1),g.Yn(1,r));c&&(g.Td(2),g.Yn(2,0==a?r:n));g.Dc(16777215);return g};f.wH=function(b,a,c,e){var g,k=0,n=2;"P"==e?(g=new d.Ja,k=
1,n=3):g=new d.Ua;for(var r=d.Uc.wh(0),f=d.Uc.vq(0),h=0,l=0,m=[],p=[],u=0;u<b.length;u++){var q=b[u].length;m[u]=!1;if("P"===e&&b[u][0][0]===b[u][b[u].length-1][0]&&b[u][0][1]===b[u][b[u].length-1][1]){var t=0==c?!0:b[u][0][3]===b[u][b[u].length-1][3]||void 0===b[u][0][3]&&void 0===b[u][b[u].length-1][3];(0==a||b[u][0][2]===b[u][b[u].length-1][2]||void 0===b[u][0][2]&&void 0===b[u][b[u].length-1][2])&&t&&(m[u]=!0,--q)}q>=n?(p[u]=!1,l+=1,r.add(h),f.add(k),h+=q):p[u]=!0}e=3*h;0!=e%2&&e++;2>e&&(e=2);
u=d.J.truncate(3*h/2);4>u?u=4:16>u&&(u=16);e=d.Uc.Um(e,0);k=d.Uc.Um(u);n=d.Uc.Um(u);for(u=q=0;u<b.length;u++)if(!1===p[u])for(t=0;t<b[u].length;t++){var v=!1;t===b[u].length-1&&!0===m[u]&&(v=!0);v||(e.write(2*q,b[u][t][0]),e.write(2*q+1,b[u][t][1]),k.write(q,a||c?b[u][t][2]:NaN),n.write(q,c&&a?b[u][t][3]:NaN),q++)}0!=h&&(b=g,r.resize(l),f.resize(l),0<h&&(r.add(h),f.add(0)),b.Yn(0,e),b.GK(f),b.HK(r));a&&(g.Td(1),g.Yn(1,k));c&&(g.Td(2),g.Yn(2,0==a?k:n));g.Dc(16777215);return g};return f}();d.cc=h})(h||
(h={}));(function(d){var h=function(){function d(){}d.Hm=function(b){var a=0,c,e=b.length,d=b[0],k;for(c=0;c<e-1;c++)k=b[c+1],a+=(k[0]-d[0])*(k[1]+d[1]),d=k;return 0<=a};d.rotate=function(b,a,c){a=a*Math.PI/180;var e=Math.cos(a),g=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var k=0;k<b.paths.length;k++){for(var n=b.paths[k],r=[],f=0;f<n.length;f++){var h=n[f].slice(0);r.push(h);var l=e*(n[f][0]-c.x)-g*(n[f][1]-c.y)+c.x,m=g*(n[f][0]-c.x)+e*(n[f][1]-c.y)+c.y;h[0]=l;h[1]=m}a.paths.push(r)}return a}if(void 0!==
b.rings){a={rings:[]};for(k=0;k<b.rings.length;k++){for(var n=b.rings[k],r=[],p=d.Hm(n),f=0;f<n.length;f++)h=n[f].slice(0),r.push(h),l=e*(n[f][0]-c.x)-g*(n[f][1]-c.y)+c.x,m=g*(n[f][0]-c.x)+e*(n[f][1]-c.y)+c.y,h[0]=l,h[1]=m;d.Hm(r)!==p&&r.reverse();a.rings.push(r)}return a}if(void 0!==b.x)return a={x:e*(b.x-c.x)-g*(b.y-c.y)+c.x,y:g*(b.x-c.x)+e*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(f=0;f<b.length;f++)k=b[f].slice(0),k[0]=
e*(b[f][0]-c.x)-g*(b[f][1]-c.y)+c.x,k[1]=g*(b[f][0]-c.x)+e*(b[f][1]-c.y)+c.y,a.points.push(k);return a}return null};d.zG=function(b,a){var c,e;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var k=b.paths[g],n=[],r=0;r<k.length;r++){var f=k[r].slice(0);n.push(f);e=a.x-k[r][0];f[0]=k[r][0]+2*e}c.paths.push(n)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var k=b.rings[g],h=d.Hm(k),n=[],r=0;r<k.length;r++)f=k[r].slice(0),n.push(f),e=a.x-k[r][0],
f[0]=k[r][0]+2*e;d.Hm(n)!==h&&n.reverse();c.rings.push(n)}return c}if(void 0!==b.x)return e=a.x-b.x,c={x:b.x+2*e,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(r=0;r<g.length;r++)k=g[r].slice(0),e=a.x-k[0],k[0]+=2*e,c.points.push(k);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),e=a.x-b.xmin,c.xmax=b.xmin+2*e,e=a.x-b.xmax,
c.xmin=b.xmax+2*e,c):null};d.AG=function(b,a){var c,e;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var k=b.paths[g],n=[],r=0;r<k.length;r++){var f=k[r].slice(0);n.push(f);e=a.y-k[r][1];f[1]=k[r][1]+2*e}c.paths.push(n)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var k=b.rings[g],h=d.Hm(k),n=[],r=0;r<k.length;r++)f=k[r].slice(0),n.push(f),e=a.y-k[r][1],f[1]=k[r][1]+2*e;d.Hm(n)!==h&&n.reverse();c.rings.push(n)}return c}if(void 0!==b.x)return e=
a.y-b.y,c={y:b.y+2*e,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(r=0;r<g.length;r++)k=g[r].slice(0),e=a.y-k[1],k[1]+=2*e,c.points.push(k);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),e=a.y-b.ymin,c.ymax=b.ymin+2*e,e=a.y-b.ymax,c.ymin=b.ymax+2*e,c):null};return d}();d.Wp=h})(h||(h={}));(function(d){var h=function(){function f(){}
f.bh=function(b,a){null==a&&(a=d.ze.Ig());switch(b){case 33:return new d.Wa(a);case 322:return new d.Hb(a);case 197:return new d.ci(a);case 550:return new d.Ed(a);case 1607:return new d.Ua(a);case 1736:return new d.Ja(a);default:throw d.g.X("invalid argument.");}};return f}();d.vM=h})(h||(h={}));(function(d){var h=function(){function f(b,a){this.tf=d.ia.zd(b,-1);this.va=new d.Lu;this.bm=a}f.prototype.yX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};f.prototype.addElement=function(b,
a){if(void 0===a)return this.dP(b);a=d.J.truncate(a%this.tf.size);var c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};f.prototype.dP=function(b){var a=this.bm.Wz(b),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};f.prototype.kd=function(b,a){if(void 0===a)this.HR(b);else{a=d.J.truncate(a%this.tf.size);var c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){var k=
this.va.nb(e);this.va.ja(e)==b?(this.va.kd(c,g,e),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):g=e;e=k}}};f.prototype.HR=function(b){var a=this.bm.Wz(b),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){var k=this.va.nb(e);this.va.ja(e)==b?(this.va.kd(c,g,e),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):g=e;e=k}};f.prototype.iT=function(b){b=d.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};f.prototype.yT=
function(b){return this.va.nb(b)};f.prototype.Kd=function(b){var a=this.bm.Wz(this.ja(b)),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){if(e==b){this.va.kd(c,g,e);-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1));return}g=e;e=this.va.nb(e)}throw d.g.F();};f.prototype.ja=function(b){return this.va.ja(b)};f.prototype.clear=function(){this.tf=d.ia.zd(this.tf.size,-1);this.va.clear()};f.prototype.size=function(){return this.va.eH()};return f}();
d.FM=h})(h||(h={}));(function(d){var h=function(){function f(){this.kj=new d.ad(3);this.va=new d.ad(6);this.tV=!1;this.Ge=-1}f.prototype.Kl=function(b){this.kj.kd(b)};f.prototype.Bx=function(){return this.kj.Pe()};f.prototype.Pv=function(b){this.va.kd(b)};f.prototype.GB=function(){return this.va.Pe()};f.prototype.vC=function(b,a){this.kj.P(b,1,a)};f.prototype.Qx=function(b,a){this.kj.P(b,2,a)};f.prototype.bY=function(b,a){this.kj.P(b,3,a)};f.prototype.tC=function(b,a){this.va.P(b,4,a)};f.prototype.eY=
function(b,a){this.va.P(b,3,a)};f.prototype.KK=function(b,a){this.va.P(b,2,a)};f.prototype.mi=function(b){var a=this.GB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};f.prototype.zh=function(b){this.RF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.eY(a,c):this.Ge=c;-1!=c&&this.KK(c,a);this.Pv(b);return c};f.prototype.pu=function(b){this.va.Qe(b)};f.prototype.$G=function(b){return this.va.S(b,5)};f.prototype.aY=function(b,a){this.va.P(b,
5,a)};f.prototype.addElement=function(b,a){return this.pU(b,a)};f.prototype.pU=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.P(b,0,c);var e=this.va.S(b,1);this.vC(c,e);-1!=e&&this.Qx(e,c);this.va.P(b,1,c);this.setData(c,a);this.tC(b,this.at(b)+1);this.tV&&this.bY(c,b);return c};f.prototype.kd=function(b,a){var c=this.Ve(a),e=this.nb(a);-1!=c?this.Qx(c,e):this.va.P(b,0,e);-1!=e?this.vC(e,c):this.va.P(b,1,c);this.Kl(a);this.tC(b,this.at(b)-1);return e};f.prototype.Vn=function(b){this.kj.Qe(b)};
f.prototype.getData=function(b){return this.kj.S(b,0)};f.prototype.setData=function(b,a){this.kj.P(b,0,a)};f.prototype.nb=function(b){return this.kj.S(b,2)};f.prototype.Ve=function(b){return this.kj.S(b,1)};f.prototype.xc=function(b){return this.va.S(b,0)};f.prototype.Fc=function(b){return this.va.S(b,1)};f.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};f.prototype.RF=function(b){for(var a=this.Fc(b);-1!=a;){var c=a,a=this.Ve(c);this.Kl(c)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.tC(b,
0)};f.prototype.u=function(){return 0==this.kj.size};f.prototype.eH=function(){return this.kj.size};f.prototype.at=function(b){return this.va.S(b,4)};f.prototype.cA=function(b){return this.va.S(b,3)};return f}();d.Xp=h})(h||(h={}));(function(d){var h=function(){function f(b){void 0===b?(this.Qg=new d.ad(2),this.va=new d.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new d.ad(2),this.va=new d.ad(b?4:2),this.Ge=-1,this.Cw=b)}f.prototype.Kl=function(b){this.Qg.kd(b)};f.prototype.Bx=function(){return this.Qg.Pe()};
f.prototype.Pv=function(b){this.va.kd(b)};f.prototype.GB=function(){return this.va.Pe()};f.prototype.mi=function(){var b=this.GB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};f.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var c=a,a=this.nb(a);this.Kl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.P(a,3,c):this.Ge=c,-1!=c&&this.va.P(c,2,a));this.Pv(b)};f.prototype.pu=function(b){this.va.Qe(b)};f.prototype.addElement=function(b,a){var c=
this.va.S(b,1),e=this.Bx();-1!=c?this.Qg.P(c,1,e):this.va.P(b,0,e);this.va.P(b,1,e);this.Qg.P(e,0,a);return e};f.prototype.Vn=function(b){this.Qg.Qe(b)};f.prototype.kd=function(b,a,c){-1!=a?(this.Qg.P(a,1,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,-1));this.Kl(c)};f.prototype.mz=function(b,a){var c=this.va.S(b,1),e=this.va.S(a,0);-1!=e&&(-1!=c?this.Qg.P(c,1,e):this.va.P(b,0,e),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,
2),e=this.va.S(a,3),-1!=c?this.va.P(c,3,e):this.Ge=e,-1!=e&&this.va.P(e,2,c));this.Pv(a)};f.prototype.ja=function(b){return this.Qg.S(b,0)};f.prototype.kk=function(b,a){this.Qg.P(b,0,a)};f.prototype.nb=function(b){return this.Qg.S(b,1)};f.prototype.xc=function(b){return this.va.S(b,0)};f.prototype.yo=function(b){return this.ja(this.xc(b))};f.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};f.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};f.prototype.eH=
function(){return this.Qg.size};f.prototype.cA=function(b){return this.va.S(b,3)};return f}();d.Lu=h})(h||(h={}));(function(d){var h=function(){function f(){}f.$D=function(b,a,c,e,g,k,n){var r=new d.b;r.L(b);b=new d.b;b.L(a);g.Ny(r);g.Ny(b);a=g.Wu(r);var z=g.Wu(b);0==z&&(z=g.ZG());if(r.x!=b.x&&(r.y!=b.y||r.y!=g.A&&r.y!=g.B)||z>a!=k){a=g.AE(r);var z=g.AE(b),h,l=k?1:3;do a=a+l&3,h=g.Gx(a),0!=n&&(e=f.$D(r,h,c,e,g,k,n)),c[e++].ka(h.x,h.y),r=h;while((a&3)!=z);0!=n&&(e=f.$D(r,b,c,e,g,k,n))}else if(g=new d.b,
g.ka(b.x-r.x,b.y-r.y),0!=n&&(n=d.J.truncate(g.SO()/n),0<n))for(g.scale(1/(n+1)),k=0;k<n;k++)r.add(g),c[e++].ka(r.x,r.y);return e};f.be=function(b,a,c){a=a.no();b=null!=b&&void 0!==b.se?b.se(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};f.Cs=function(b){return 2*Math.sqrt(2)*b};f.sP=function(b){return Math.sqrt(2)*b};f.ah=function(b,a,c){var e=new d.h;a.s(e);return f.be(b,e,c)};f.GF=function(b,a,c){a=a.xf(1,0).no();b=null!=b?b.se(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};f.a_=function(b,a){var c=new d.h;
b.ac(c);c.Nb(a);return c};f.Zv=function(b,a){var c=new d.h;b.ac(c);b=new d.h;a.ac(b);c.Nb(b);return c};f.j_=function(b,a){var c=b.nT(a),e=b.wa(a),g=b.Gc(a),k=b.Ba(c);c==e?(g=b.Ba(g-1),c=b.Ba(e+1)):c==g-1?(g=b.Ba(c-1),c=b.Ba(e)):(g=b.Ba(c-1),c=b.Ba(c+1));k=d.b.zp(g,k,c);return 0==k?0<b.Sm(a):-1==k};f.bQ=function(b){var a=new d.h;b.ac(a);if(a.u())return null;var c=new d.gq(a,8),e=-1,g=new d.h,k=!1;do for(var n=0,r=b.aa();n<r;n++)if(b.jk(n,g),e=c.lw(n,g,e),-1==e){if(k)throw d.g.X("internal error");b.uo(a,
!1);k=!0;c.reset(a,8);break}else k=!1;while(k);return c};f.BF=function(b){var a=new d.h;b.ac(a);for(var c=new d.gq(a,8),e=-1,g=b.Fa(),k=new d.h,n=!1;g.Ya();)for(;g.Ea();){var r=g.ba(),f=g.Db();r.s(k);e=c.lw(f,k,e);if(-1==e){if(n)throw d.g.za();b.uo(a,!1);n=!0;c.reset(a,8);g.yj();break}}return c};f.Lj=function(b,a){var c=new d.h;b.ac(c);for(var e=new d.gq(c,8),g=-1,k=new d.h,n=b.Fa(),r=!1;n.Ya();)for(;n.Ea();){var f=n.ba(),h=n.Db();f.s(k);if(k.Yb(a)&&(g=e.lw(h,k,g),-1==g)){if(r)throw d.g.X("internal error.");
b.uo(c,!1);r=!0;e.reset(c,8);n.yj();break}}return e};f.S_=function(b){var a=new d.h;b.ac(a);for(var c=new d.gq(a,8),e=new d.b,g=new d.h,k=!1,n=0;n<b.D();n++)if(b.w(n,e),g.I(e),-1==c.eh(n,g)){if(k)throw d.g.za();b.uo(a,!1);k=!0;c.reset(a,8);n=-1}return c};f.CF=function(b,a){for(var c=new d.gq(a,8),e=new d.b,g=!1,k=new d.h,n=0;n<b.D();n++)if(b.w(n,e),a.contains(e)&&(k.I(e),-1==c.eh(n,k))){if(g)throw d.g.za();g=!0;n=new d.h;b.uo(n,!1);c.reset(n,8);n=-1}return c};f.dT=function(b,a,c){var e=new d.h,g=
new d.h;b.ac(e);a.ac(g);e.O(c,c);g.O(c,c);var k=new d.h;k.I(e);k.Ma(g);b=b.Fa();a=a.Fa();var n=new d.gD;n.zC(c);var r=!1;for(n.bL();b.Ya();)for(;b.Ea();)b.ba().s(e),e.Yb(k)&&(r=!0,c=new d.h,c.I(e),n.$E(b.Db(),c));n.uG();if(!r)return null;e=!1;for(n.aL();a.Ya();)for(;a.Ea();)a.ba().s(g),g.Yb(k)&&(e=!0,c=new d.h,c.I(g),n.WE(a.Db(),c));n.tG();return e?n:null};f.eT=function(b,a,c,e,g){var k=b.G(),n=a.G(),r=new d.h,f=new d.h;b.ac(r);a.ac(f);r.O(c,c);f.O(c,c);var h=new d.h;h.I(r);h.Ma(f);var l=new d.gD;
l.zC(c);var m=!1;l.bL();var p=0;for(c=b.aa();p<c;p++)if(!e||1736!=k||b.rw(p))b.jk(p,r),r.Yb(h)&&(m=!0,l.$E(p,r));l.uG();if(!m)return null;b=!1;l.aL();e=0;for(c=a.aa();e<c;e++)if(!g||1736!=n||a.rw(e))a.jk(e,f),f.Yb(h)&&(b=!0,l.WE(e,f));l.tG();return b?l:null};f.o_=function(b,a){return 0<b.Kk(a)};f.R_=function(b,a){var c=new d.h;b.iX(a,c);var c=new d.gq(c,8),e=-1,g=new d.h;b=b.Fa();b.fC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var k=b.Db();a.ac(g);e=c.lw(k,g,e);if(-1==e)throw d.g.X("internal error");}return c};
f.Fv=function(b,a,c){if(b!=a)for(var e=0;e<c;e++)null==b[e]?b[e]=d.b.El(a[e]):b[e].L(a[e])};f.oz=function(b,a,c,e){var d=0;for(e+=0;d<e;c++,d++)null==b[d]&&(b[d]=[0,0]),b[d][0]=a[c].x,b[d][1]=a[c].y};f.nz=function(b,a,c,e){var g=a,k=0;for(a=e+a;g<a;k++,g++)null==b[g]?b[g]=d.b.pa(c[k][0],c[k][1]):b[g].ka(c[k][0],c[k][1])};f.kR=function(b,a,c){if(b!=a)for(var e=0;e<c;e++)null==b[e]?b[e]=new d.Wa(a[e]):a[e].copyTo(b[e])};f.FP=function(b,a,c,e){var d=e.ca;e=e.ha;for(var k=0;k<a;k+=c){var n=b.read(k);
n<d?b.write(k,d):n>e&&b.write(k,e)}};f.vP=function(b,a,c,e){var d=e.ca;e=e.ha;for(var k=0;k<a;k+=c){var n=b.read(k);n<d?b.write(k,d):n>e&&b.write(k,e)}};f.UK=function(b,a,c){if(b.hasAttribute(c)){var e=b.G();if(d.T.gh(e)){var g=d.ma.si(c),e=d.ma.Xa(c),k=b.D();if(1==g){b=b.Pa(c);f.FP(b,k*e,e,a);return}if(2==g){b=b.Pa(c);f.vP(b,k*e,e,a);return}throw d.g.X("snap_coordinate not implemented");}if(197==e)k=b.xf(c,0),e=!1,k.ca<a.ca&&(e=!0,k.ca=a.ca),k.ha>a.ha&&(e=!0,k.ha=a.ha),e&&b.setInterval(c,0,k);else if(33==
e)k=b.Yc(c,0),e=!1,k<a.ca&&(e=!0,k=a.ca),k>a.ha&&(e=!0,k=a.ha),e&&b.setAttribute(c,0,k);else if(d.T.Oc(e))k=b.dt(c,0),e=!1,k<a.ca&&(e=!0,k=a.ca),k>a.ha&&(e=!0,k=a.ha),e&&b.Tx(c,0,k),k=b.Os(c,0),k<a.ca&&(e=!0,k=a.ca),k>a.ha&&(e=!0,k=a.ha),e&&b.Lx(c,0,k);else throw d.g.X("snap_coordinate not implemented");}};f.jo=function(b,a,c,e,d){var g=0;null!=a&&(g=a.se(b),d&&!e||null==a||(g+=1.01*a.gA(b)));e&&(c*=4,g*=1.01);return Math.max(g,c)};f.T_=function(b,a,c,e){a=d.h.DO(a.Be(),a.nf(),c.Be(),c.nf());return f.jo(0,
b,a,e,!1)};f.Zy=function(b,a,c){a=a.no();return f.jo(0,b,a,c,!1)};f.U_=function(b,a,c){a=a.no();return f.jo(1,b,a,c,!1)};f.hQ=function(b,a){var c=new d.h;a.s(c);return f.Zy(b,c,!0)};f.$y=function(b,a){a=a.no();return f.jo(0,b,a,!1,!0)};f.V_=function(b,a,c){a=a.no();return f.jo(1,b,a,c,!0)};f.vv=function(b,a){var c=new d.h;a.s(c);return f.$y(b,c)};f.NH=function(b,a,c,e){e*=e;var g=new d.b;g.yc(b,a);b=new d.b;b.yc(c,a);a=g.qk();c=b.qk();if(a<=e&&c<=e)return!0;var k=d.Ub.Yx(g.Ui(b));return k<=e*a||k<=
e*c?0<=g.oi(b):!1};f.VK=function(b,a,c,e){for(var g=0;g<a;g++){var k=b[g].y,n=d.J.pk(k,c,e);n!=k&&(b[g].y=n)}};return f}();d.na=h})(h||(h={}));(function(d){var h=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,e){a=a.ja(e);e=this.ab.Ok(b);var d=this.ab.Ok(a);return e<d?-1:e==d?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),f=function(){function a(a){this.ab=a}a.prototype.hs=function(a,c,b){this.ab.BY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Ok(a)};return a}(),
b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new d.zc;this.oh=new d.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,c){this.pj.ca=a.ca-c;this.pj.ha=a.ha+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.eC=function(a,c,b){if(a>c)throw d.g.F();this.pj.ca=a-b;this.pj.ha=c+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};
a.prototype.Wn=function(a,c){this.pj.ca=a-c;this.pj.ha=a+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw d.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.qW();break;case 2:a=this.rW();break;case 3:a=this.sW();break;case 4:a=this.tW();break;case 5:a=this.DX();break;case 6:a=this.mV();break;case 7:a=this.wP();break;case 0:a=this.rA();break;default:throw d.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(c,b,e){var d=
new a;d.ab=c;d.oh.yb(20);d.Ni(b,e);return d};a.DZ=function(c,b,e){var d=new a;d.ab=c;d.oh.yb(20);d.Wn(b,e);return d};a.pa=function(c){var b=new a;b.ab=c;b.oh.yb(20);b.Ee=-1;return b};a.prototype.rA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Nk(this.Sc),
this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Nk(this.Sc),this.lj=this.ab.Mk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.rW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Mk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=
this.ab.Nk(this.Sc);this.lj=this.ab.Mk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Mk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=
this.ab.Nk(this.Sc);this.lj=this.ab.Mk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.tW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Mk(this.Sc)&&this.oh.add(this.ab.Mk(this.Sc));return!0};a.prototype.mV=
function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq())&&this.ab.Ok(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.DX=function(){this.jh=this.Ei;if(-1!=this.jh&&c.tw(this.Gq())&&this.ab.Ok(this.Gq())>=this.pj.ca)return this.Ei=this.KT(),!1;this.Ee--;return!0};a.prototype.wP=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};
a.prototype.KT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();d.WZ=a;var c=function(){function c(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}c.prototype.cs=function(){this.pl(!0)};c.prototype.zs=function(a,c){if(!this.Ew)throw d.g.Da();this.bk.push(new d.zc(a,c))};c.prototype.yq=function(){if(!this.Ew)throw d.g.X("invalid call");
this.Ew=!1;this.ar=!0;this.pg||(this.rU(),this.Mw=this.bk.length)};c.prototype.eh=function(a){if(!this.pg||!this.ar)throw d.g.F("invalid call");if(-1==this.Mf){var c=this.bk.length;if(this.SA){var b=new d.ia(0);b.yb(2*c);this.VJ(b);this.zi.yb(2*c);this.zi.resize(0);this.UJ(b);this.xn.resize(c,-1);this.xn.Zh(-1,0,c);this.SA=!1}else this.xn.Zh(-1,0,c);this.Mf=this.Hv()}c=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.iA(c));this.MK(c,b);this.xn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.pg||
!this.ar)throw d.g.X("invalid call");var c=this.xn.get(a);if(-1==c)throw d.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.iA(c),e;e=this.vg.TT(b);this.vg.Kd(this.rT(c),b);this.vg.Kd(this.NT(c),b);a=this.vg.size(b);0==a&&(this.vg.JR(b),this.PK(e,-1));this.ak.kd(c);for(var b=this.fH(e),g=this.Qj(e),f=this.Mk(e),c=0;!(0<a||e==this.Mf||-1!=g&&-1!=f);)e==this.Qj(b)?-1!=g?(this.ql(b,g),this.mk(g,b),this.ql(e,-1)):-1!=f?(this.ql(b,f),this.mk(f,b),this.sl(e,
-1)):this.ql(b,-1):-1!=g?(this.sl(b,g),this.mk(g,b),this.ql(e,-1)):-1!=f?(this.sl(b,f),this.mk(f,b),this.sl(e,-1)):this.sl(b,-1),this.mk(e,-1),c++,e=b,b=this.Nk(e),a=-1!=b?this.vg.size(b):0,g=this.Qj(e),f=this.Mk(e),b=this.fH(e)};c.prototype.reset=function(){if(!this.pg||!this.ar)throw d.g.F("invalid call");this.pl(!1)};c.prototype.size=function(){return this.Mw};c.prototype.mf=function(){return a.pa(this)};c.prototype.VJ=function(a){for(var c=this.bk.length,b=0;b<2*c;b++)a.add(b);this.CY(a,2*c)};
c.prototype.UJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var e=a.get(b),d=this.Ok(e);d!=c&&(this.zi.add(e),c=d)}};c.prototype.rU=function(){var a=this.bk.length,c=new d.ia(0);c.yb(2*a);this.VJ(c);this.zi.yb(2*a);this.zi.resize(0);this.UJ(c);this.ak.Qe(a);this.sj.Vn(2*a);var b=d.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<c.size;a++){var e=c.get(a),f=b.get(e>>1);-1!=f?this.MK(f,this.sj.addElement(this.iA(f),e)):(f=this.DH(e,this.Mf),b.set(e>>1,f))}};c.prototype.DH=function(a,c){var b=c,e=c,
g,k=-1,f=0,h=this.zi.size-1,l=0,m=a>>1,p=NaN,u=NaN;g=!0;for(var q=this.xT(m),m=this.uT(m);g;){f<h?(l=f+d.J.truncate((h-f)/2),-1==this.Qz(b)&&this.vK(b,this.zi.get(l),this.zi.get(l+1))):-1==this.Qz(b)&&this.vK(b,this.zi.get(f),this.zi.get(f));var t=this.Hq(b);if(m<t)-1!=c&&(c==b?(e=b,p=t,c=this.Qj(b),-1!=c?u=this.Hq(c):u=NaN):u>t&&(t<p?this.ql(e,b):this.sl(e,b),this.sl(b,c),this.pg&&(this.mk(b,e),this.mk(c,b)),e=b,p=t,c=-1,u=NaN)),h=this.sT(b),-1==h&&(h=this.Hv(),this.ZX(b,h)),b=h,h=l;else if(q>t)-1!=
c&&(c==b?(e=b,p=t,c=this.Mk(b),-1!=c?u=this.Hq(c):u=NaN):u<t&&(t<p?this.ql(e,b):this.sl(e,b),this.ql(b,c),this.pg&&(this.mk(b,e),this.mk(c,b)),e=b,p=t,c=-1,u=NaN)),f=this.OT(b),-1==f&&(f=this.Hv(),this.jY(b,f)),b=f,f=l+1;else{g=this.Nk(b);-1==g&&(g=this.xR(b),this.PK(b,g));var v=this.eP(g,a),k=this.vR();this.mY(k,g);this.YX(k,v);b!=c&&(t<p?this.ql(e,b):this.sl(e,b),this.pg&&this.mk(b,e),-1!=c&&(u<t?this.ql(b,c):this.sl(b,c),this.pg&&this.mk(c,b)));g=!1}}return k};c.prototype.Hv=function(){return this.Je.Pe()};
c.prototype.xR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};c.prototype.vR=function(){return this.ak.Pe()};c.prototype.pl=function(a){a?(this.Ew=this.SA=!0,this.ar=!1,null==this.zi?this.zi=d.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=[]:this.bk.length=0):this.SA=!1;this.pg?null==this.xn?(this.xn=d.Uc.wh(0),this.vg=new d.uk,this.vg.Ep(new h(this))):this.vg.clear():null==this.sj?this.sj=new d.Xp:this.sj.clear();null==this.Je?(this.ak=new d.ad(3),this.Je=new d.ad(this.pg?8:7)):(this.ak.Vi(!1),
this.Je.Vi(!1));this.Mf=-1;this.Mw=0};c.prototype.vK=function(a,c,b){this.TX(a,c);this.UX(a,b)};c.prototype.Hq=function(a){var c=this.Qz(a);if(-1==c)return NaN;c=this.Ok(c);a=this.Ok(this.ZS(a));return c==a?c:.5*(c+a)};c.prototype.TX=function(a,c){this.Je.P(a,0,c)};c.prototype.UX=function(a,c){this.Je.P(a,1,c)};c.prototype.ZX=function(a,c){this.Je.P(a,3,c)};c.prototype.jY=function(a,c){this.Je.P(a,4,c)};c.prototype.PK=function(a,c){this.Je.P(a,2,c)};c.prototype.ql=function(a,c){this.Je.P(a,5,c)};
c.prototype.sl=function(a,c){this.Je.P(a,6,c)};c.prototype.mk=function(a,c){this.Je.P(a,7,c)};c.prototype.mY=function(a,c){this.ak.P(a,0,c)};c.prototype.eP=function(a,c){return this.pg?this.vg.addElement(c,a):this.sj.addElement(a,c)};c.prototype.YX=function(a,c){this.ak.P(a,1,c)};c.prototype.MK=function(a,c){this.ak.P(a,2,c)};c.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};c.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};c.Vq=function(a){return 0==(a&1)};
c.tw=function(a){return 1==(a&1)};c.prototype.Qz=function(a){return this.Je.S(a,0)};c.prototype.ZS=function(a){return this.Je.S(a,1)};c.prototype.Nk=function(a){return this.Je.S(a,2)};c.prototype.sT=function(a){return this.Je.S(a,3)};c.prototype.OT=function(a){return this.Je.S(a,4)};c.prototype.Qj=function(a){return this.Je.S(a,5)};c.prototype.Mk=function(a){return this.Je.S(a,6)};c.prototype.fH=function(a){return this.Je.S(a,7)};c.prototype.iA=function(a){return this.ak.S(a,0)};c.prototype.rT=function(a){return this.ak.S(a,
1)};c.prototype.NT=function(a){return this.ak.S(a,2)};c.prototype.xT=function(a){return this.bk[a].ca};c.prototype.uT=function(a){return this.bk[a].ha};c.prototype.CY=function(a,c){null==this.on&&(this.on=new d.Hu);var b=new f(this);this.on.sort(a,0,c,b)};c.prototype.BY=function(a,b,e){var d=this;a.Gd(b,e,function(a,b){var e=d.Ok(a),g=d.Ok(b);return e<g||e==g&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Ok=function(a){var b=this.bk[a>>1];return c.Vq(a)?b.ca:b.ha};return c}();d.ns=c})(h||(h={}));(function(d){var h=
function(){function f(b){if(null==b)throw d.g.X("Invalid arguement");this.Ke=b;var a=b.fT();a.cU()?b.je.UH()?this.Zo=d.di.PannableFold:this.Zo=d.di.Clip:this.Zo=d.di.DontClip;a.dU()?b.He.UH()?this.Dn=d.di.PannableFold:this.Dn=d.di.Clip:this.Dn=d.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}f.Xg=function(b,a,c){return a.xr.Xg(b,c)};f.gs=function(b,a,c,e){return b.xr.gs(a,c,e)};f.Du=function(b,a,c,e){c=0>c?a.length:c;b=b.xr.gs(a,c,e);if(b==c)return b;
for(var d=a=0;d<c;d++){var k=e[d];k.isNaN()||(a<d&&e[a].L(k),a++)}for(;a<c;a++)e[a].$c();return b};f.MC=function(b,a,c,e){return b.xr.MC(a,c,e)};f.iL=function(b,a,c,e){c=0>c?a.length:c;b=b.xr.MC(a,c,e);if(b==c)return b;for(var d=a=0;d<c;d++){var k=e[d];isNaN(k.x)||(a<d&&e[a].I(k.x,k.y,k.z),a++)}for(;a<c;a++)e[a].dv();return b};f.transform=function(b,a,c,e,g){if(b.Ho())return d.na.kR(e,a,c),c;for(var k=[],n=0,r=0;r<c;){for(var h=Math.min(k.length,c-r),l=r,w=0;l<h;l++,w++)null==k[w]?k[w]=a[l].w():a[l].w(k[w]);
var m;m=g?f.Du(b,k,h,k):f.gs(b,k,h,k);for(w=l=0;l<m;l++,w++)null==e[r]&&(e[r]=new d.Wa(a[r])),e[r].rb(k[w]);r+=h;n+=m}return n};f.jL=function(b,a,c){if(0==c)return[];var e=new d.Ed;e.oP(a,2*c);a=this.Xg(e,b,null);b=a.Pa(0);a=2*a.D();c=d.J.gf(a);b.ol(0,a,c,0,!0);return c};f.prototype.gs=function(b,a,c){if(this.Ke.Ho())return b!=c&&d.na.Fv(c,b,a),a;var e=this.Ke.je,g=this.Ke.He,k=e.Fb(),n=g.Fb();if(0==k&&k===n){var f=e.Yi(),g=g.Yi(),g=f/g,f=new d.Hd;f.Op(g,g);f.$Y(b,a,c);return a}f=d.J.qv(Math.min(a,
64));if(3==k){var h;h=e.ij;e=h.Fk();k=e.Fb();c!=b&&d.na.Fv(c,b,a);d.Ib.Dl(h,c,a,!0);h.Du(d.Om.forward,c,a);d.Ib.Cl(h,c,a,!0)}if(3==k||3===n)throw d.g.X("image: transform_in_place_");if(2==k)this.Zo==d.di.Clip?(c!=b&&d.na.Fv(c,b,a),b=e.Lk(),d.Ib.KU(b,e,c,a)):(c!=b&&d.na.Fv(c,b,a),e.Jc()&&(k=e.se(0),h=e.re(),d.Ib.zY(c,a,h,k),d.Ib.BG(c,a,e,0))),d.Ib.xN(e,c,a,f);else for(k=e.se(0),h=e.re(),e=0;e<a;e++)d.Ib.AY(b[e],h,k,c[e]);d.Ib.vN(this.Ke,c,a,f);b=0;(n=2==n)?b=g.pi():isNaN(this.pn)||(b=this.pn);n&&this.Dn!=
d.di.Clip||d.Ib.BG(c,a,g.lc(),b);n&&(d.Ib.LH(c,a,g,this.Dn),d.Ib.wN(g,c,a,f));b=a;for(e=0;e<a;++e)c[e].isNaN()&&b--;return b};f.prototype.MC=function(b,a,c){a=0>a?b.length:a;if(this.Ke.Ho()){for(var e=0;e<a;++e)null==c[e]&&(c[e]=new d.pd),c[e].I(b[e].x,b[e].y,b[e].z);return a}var g=this.Ke.je,e=this.Ke.He,k=g.Fb(),n=e.Fb();if(0==k&&k==n)return g=g.Yi(),e=e.Yi(),e=g/e,g=new d.fO,g.Op(e,e,e),g.transform(b,a,c),a;k=new d.Ed;k.Td(1);k.Td(3);k.nP(b);b=k.Pa(3);e=0;for(g=a;e<g;e++)b.write(e,e);k=this.Xg(k,
null);for(e=0;e<a;++e)null==c[e]?c[e]=d.pd.pa(NaN,NaN,NaN):c[e].dv();if(null==k)return 0;b=k.Pa(3);var n=k.Pa(0),f=k.Pa(1);k.gX(c,a);e=0;for(g=k.D();e<g;e++)a=b.read(e),n.pX(2*e,c[a]),c[a].z=f.read(e);return k.D()};f.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),k=e.Fb();if(0==g&&g==k)return c=c.Yi(),e=e.Yi(),c/=e,e=new d.Hd,e.Op(c,c),c=d.T.oe(b),c.Xc(e),c;switch(b.G()){case 1607:case 1736:e=this.NJ(b,a);break;case 550:e=
this.XW(b,a);break;case 197:e=this.WW(b,a);break;default:throw d.g.X("");}return e};f.prototype.PJ=function(b){var a=b.w(),c=[];c[0]=a;this.gs(c,1,c);b=new d.Wa(b);b.rb(c[0]);return b};f.prototype.NJ=function(b,a){if(b.hn())throw d.g.X("curves not supported");var c=b.G();if(1736==c)return this.YW(b,a);if(1607==c)return this.ZW(b,a);throw d.g.X("projectMultiPath");};f.prototype.YW=function(b,a){var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),k=e.Fb(),n=d.J.qv(Math.min(b.D(),64));b=d.Ja.oe(b);if(3==g){var r=
c.ij,c=r.Fk(),g=c.Fb();b=r.Dl(b,!0);this.qq(r,d.Om.forward,b);b=r.Cl(b,!0)}r=null;3==k&&(r=e.ij,e=r.Fk(),k=e.Fb());var h=2==g,l=2==k,w=l?e.lc():e,m=!l&&!this.Gw,k=!1,p=b;if(h){if(p=d.Ib.MJ(p,c,this.Zo,a),p.u())return p}else{b=new d.h;p.ac(b);g=c.re();if(b.A<g.A||b.B>g.B){var u=d.h.pa(b.o-1,g.A,b.v+1,g.B),p=d.uh.rq(p,u,c,NaN,0,a);if(p.u())return p}b.N()>2*g.N()&&(p=d.Ib.Aq(p,-2*g.N(),2*g.N(),c,!0,0,!0,a))}b=this.yI;(g=!isNaN(b))&&(p=d.Jm.local().V(p,b,a));var u=l?e.Sj():null,q=NaN;h&&(q=c.pi());var t=
null!=e.Ws();if(this.mI)h&&(d.Ib.qs(c,q,p,n),g&&(h=c.Ch(),q=c.lc().Ch(),b*=q/h)),d.Ib.ps(this.Ke,p,m,n),g&&(h=c.lc().Ch(),q=e.lc().Ch(),b*=q/h),c=p;else{var v=new d.Ua(p.description);v.VE(p);h&&(d.Ib.qs(c,q,v,n),g&&(h=c.Ch(),q=c.lc().Ch(),b*=q/h));d.Ib.ps(this.Ke,v,m,n);g&&(h=c.lc().bn(),q=e.lc().bn(),b*=q/h);m=NaN;l?(u=e.Sj(),m=e.pi()):isNaN(this.pn)||(m=this.pn);h=f.te(c)|f.te(e);q=10*w.se(0);this.Gw&&(h=3,q=0);c=d.Ib.LS(p,c,v,w,m,a,h,q)}t&&(c=d.Ib.kF(c,e,a));l&&(k||(l=w.re().N(),c.xf(0,0).N()>=
l-w.se(0)&&(w=u.getNorthPoleLocation(),l=u.getSouthPoleLocation(),p=u.getNorthPoleGeometry(),u=u.getSouthPoleGeometry(),m=0,p==d.Bg.PE_POLE_POINT&&w!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(m=1),u==d.Bg.PE_POLE_POINT&&l!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(m|=2),0!==m&&(k=!0))),c=d.Ib.uA(c,e,this.Dn,a),g&&(c=d.Jm.local().V(c,b,a)),d.Ib.vy(e,c,n));if(c.u())return c;k&&(c=d.Km.local().V(c,e,!1,a));null!=r&&(c=r.Cl(c,!1),this.qq(r,d.Om.reverse,c),c=r.Dl(c,!1));return c};f.te=function(b){if(2!=b.Fb())return 0;var a=
0,c=b.Sj();b=c.getNorthPoleLocation();var e=c.getSouthPoleLocation(),g=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();g==d.Bg.PE_POLE_POINT&&b!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==d.Bg.PE_POLE_POINT&&e!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};f.prototype.ZW=function(b,a){var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),k=e.Fb(),n=d.J.qv(Math.min(b.D(),64));b=d.Ua.oe(b);if(3==g){var r=c.ij,c=r.Fk(),g=c.Fb();b=r.Dl(b,!0);this.qq(r,d.Om.forward,b);b=r.Cl(b,!0)}r=null;3==k&&(r=e.ij,e=r.Fk(),k=
e.Fb());var h=2==g,g=(k=2==k)?e.lc():e,l=!k&&!this.Gw;if(h){if(b=d.Ib.MJ(b,c,this.Zo,a),b.u())return b}else{var w=new d.h;b.ac(w);var m=c.re();if(w.A<m.A||w.B>m.B)if(w=d.h.pa(w.o-1,m.A,w.v+1,m.B),b=d.uh.rq(b,w,c,NaN,0,a),b.u())return b}var p=NaN;h&&(p=c.pi());var w=null!=e.Ws(),m=this.yI,u=!isNaN(m);u&&(b=d.Jm.local().V(b,m,a));if(this.mI)h&&d.Ib.qs(c,p,b,n),u&&(h=c.Ch(),p=c.lc().Ch(),m*=p/h),d.Ib.ps(this.Ke,b,l,n),u&&(h=c.lc().Ch(),p=e.lc().Ch(),m*=p/h),c=b;else{var q=new d.Ua(b.description);q.VE(b);
h&&(d.Ib.qs(c,p,q,n),u&&(h=c.Ch(),p=c.lc().Ch(),m*=p/h));d.Ib.ps(this.Ke,q,l,n);u&&(h=c.lc().Ch(),p=e.lc().Ch(),m*=p/h);l=NaN;k?l=e.pi():isNaN(this.pn)||(l=this.pn);h=f.te(c)|f.te(e);p=10*g.se(0);this.Gw&&(h=3,p=0);c=d.Ib.MS(b,c,q,g,l,a,h,p)}w&&(c=d.Ib.kF(c,e,a));k&&(c=d.Ib.uA(c,e,this.Dn,a),u&&(c=d.Jm.local().V(c,m,a)),d.Ib.vy(e,c,n));if(c.u())return c;null!=r&&(c=r.Cl(c,!1),this.qq(r,d.Om.reverse,c),c=r.Dl(c,!1));return c};f.prototype.WW=function(b,a){var c=(b.fa()+b.N())/400;if(0!=c){var e=d.Jm.local().V(b,
c,a),e=this.NJ(e,a),c=b.Ka();e.Qn(c)}else c=new d.Wa(b.Bq()),e=this.PJ(c),c=b.Ka(),e.u()?c.Oa():(b.copyTo(c),e=e.w(),c.I(e.x,e.y,e.x,e.y));return c};f.prototype.XW=function(b,a){b=d.T.oe(b);var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),k=e.Fb(),n=d.J.qv(Math.min(b.D(),64));if(3==g){var f=c.ij,c=f.Fk(),g=c.Fb();b=f.Cl(b,!0);this.qq(f,d.Om.forward,b);b=f.Dl(b,!0)}if(2==g){this.Zo==d.di.Clip?b=d.tk.local().V(b,c.Lk(),c,a):c.Jc()&&(g=new d.h,b.ac(g),c.re().contains(g)||(this.Zo==d.di.PannableFold&&(b=d.Ib.Mj(b,
c)),d.Ib.xu(b,c.re(),c.se(0),!0),b=d.Ib.Xm(b,c,0,!0,0,a)));if(b.u())return b;d.Ib.qs(c,0,b,n)}else d.Ib.xu(b,c.re(),c.se(0),!0);d.Ib.ps(this.Ke,b,!1,n);c=0;g=!1;f=null;3==k&&(g=!0,f=e.ij,e=f.Fk(),k=e.Fb());(k=2==k)?c=e.pi():isNaN(this.pn)||(c=this.pn);k&&this.Dn!=d.di.Clip||(b=d.Ib.Xm(b,e.lc(),c,!1,0,a));if(k&&(b=d.Ib.uA(b,e,this.Dn,a),d.Ib.vy(e,b,n),b.u()))return b;g&&(b=f.Cl(b,!0),this.qq(f,d.Om.reverse,b),b=f.Dl(b,!0));return b};f.prototype.qq=function(b,a,c){var e=c.D();if(0!=e){for(var g=c.Pa(0),
k=d.J.gf(200,0),n=[],f=0;f<e;){var h=Math.min(100,e-f);g.ol(2*f,2*h,k,2,!0);for(var l=0;l<h;++l)n[l]=d.b.pa(k[2*f],k[2*f+1]);b.Du(a,n,h);f+=h}c.Dc(1993)}};f.rk=function(b,a,c){if(null==b||null==a||!a.Jc())throw d.g.X("Invalid Arguement");if(b.u())return b;var e;e=b.G();197==e?(e=new d.Ja(b.description),e.jd(b,!1)):d.T.Oc(e)?(e=new d.Ua(b.description),e.dc(b,!0)):e=b;e=d.Ib.Mj(e,a);return e.u()?e:d.Ib.Xm(e,a,0,e!=b,0,c)};f.Nj=function(b,a,c,e){if(null==b||null==a||!a.Jc())throw d.g.X("Invalid Arguement");
if(b.u())return b;var g=b.G();if(d.T.Ic(g)){b=d.Ib.Mj(b,a);g=new d.h;b.s(g);for(var k=d.na.Zy(a,g,!1),n=a.Bh(),r=Math.floor((g.o-n.o)/n.N())*n.N()+n.o;r<g.v;)r>g.o+k&&r<g.v-k&&(b=d.Ib.qU(b,a,c,r)),r+=n.N()}else{if(197==g)return g=new d.Ja(b.description),g.jd(b,!1),f.Nj(g,a,c,e);if(d.T.Oc(g))return g=new d.Ua(b.description),g.dc(b,!0),f.Nj(g,a,c,e)}return f.rk(b,a,e)};f.Yp=function(b,a,c,e){var g=a.Fb(),k=new d.fE;a.jX(k);if(0==g)return f.Dj(b,k,a,c);e==d.Up.foldAndClipWithHorizon&&a.Jc()&&(b=f.rk(b,
a,c));b=f.Dj(b,k,a,c);if(e==d.Up.clipToDomainOnly||b.u())return b;if(1==g)return e==d.Up.clipWithHorizon?(e=new d.h,b.ac(e),g=a.re(),k=.01*g.N(),e.A=g.A,e.B=g.B,e.o-=k,e.v+=k,d.uh.rq(b,e,a,NaN,0,c)):b;if(2==g)return g=a.Lk(),e==d.Up.clipWithHorizon||e==d.Up.foldAndClipWithHorizon?(a=d.tk.local().V(b,g,a,c),a==g?d.T.oe(a):a):b;if(3==g)return b;throw d.g.X("missing implementation");};f.Dj=function(b,a,c,e){var g=a.XT(),k=b.hasAttribute(1),n=b.hasAttribute(2),f=new d.zc;f.Oa();var h=new d.zc;h.Oa();
k&&(f=a.YT());n&&(h=a.tT());a=d.uh.rq(b,g,c,NaN,0,e);k&&(k=a.xf(1,0),f.contains(k)||(b==a&&(a=d.T.oe(a)),d.na.UK(a,f,1)));n&&(k=a.xf(2,0),h.contains(k)||(b==a&&(a=d.T.oe(a)),d.na.UK(a,h,2)));return a};return f}();d.ko=h})(h||(h={}));(function(d){var h=function(f){function b(a,c,b,g){f.call(this);void 0===a?this.description=d.ze.Ig():void 0===b?this.description=a:(this.description=d.ze.Ig(),this.xC(a,c),this.vm(b,g))}B(b,f);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-
this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.fh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=function(){var a=new d.b;a.yc(this.Bc(),this.ec());return a};b.gR=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var c=new d.h;this.s(c);a.Gp(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var g=this.description.qd(c),k=d.ma.Xa(g);c<k;c++){var n=
this.xf(g,0);a.setInterval(g,0,n)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof d.Hd){this.Ac();var c=new d.b;c.x=this.ua;c.y=this.ra;a.$h(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.$h(c,c);this.sa=c.x;this.oa=c.y}else this.Ac(),c=new d.pd,c.x=this.ua,c.y=this.ra,c.z=this.ae(0,1,0),c=a.Rp(c),this.ua=c.x,
this.ra=c.y,this.oo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.ae(1,1,0),c=a.Rp(c),this.sa=c.x,this.oa=c.y,this.oo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return d.Ub.Xq(this.ua,this.sa,a)};b.prototype.YS=function(a){return d.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=
function(a,c){var b=new d.Cg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw d.g.F();b.Js();b=b.get();b.Fg(this.description);var e=new d.b;this.gc(a,e);b.xC(e.x,e.y);this.gc(c,e);b.vm(e.x,e.y);for(var e=1,k=this.description.Ga;e<k;e++)for(var n=this.description.Sd(e),f=d.ma.Xa(n),h=0;h<f;h++){var l=this.Yc(a,n,h);b.Tx(n,h,l);l=this.Yc(c,n,h);b.Lx(n,h,l)}};b.prototype.Yc=function(a,c,b){if(0==c)return 0==b?this.gc(a).x:this.gc(a).y;switch(d.ma.Xz(c)){case 0:return.5>
a?this.dt(c,b):this.Os(c,b);case 1:var e=this.dt(c,b);c=this.Os(c,b);return d.Ub.Xq(e,c,a);case 2:throw d.g.X("not implemented");}throw d.g.za();};b.prototype.qe=function(a,c){var b=this.sa-this.ua,d=this.oa-this.ra,k=b*b+d*d;if(0==k)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*d)/k;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,d){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.PG(c))}else{a=this.sa-this.ua;if(0==a)return c==
this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.YS(c))}null!=d&&(d[0]=c);return 1};b.prototype.pf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Si=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=
this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.la[a];this.la[a]=this.la[a+c];this.la[a+c]=b}}};b.prototype.ev=function(a,c){a=d.b.pa(a,c);a.sub(this.ec());c=new d.b;c.yc(this.Bc(),this.ec());var b=c.Ui(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,g){var e=this.ua,n=this.ra,f=a-e,h=c-n,f=Math.sqrt(f*f+h*h);if(f<=Math.max(b,6.661338147750939E-16*f))return g&&
0==f?NaN:0;f=a-this.sa;h=c-this.oa;f=Math.sqrt(f*f+h*h);if(f<=Math.max(b,6.661338147750939E-16*f))return g&&0==f?NaN:1;f=this.sa-this.ua;h=this.oa-this.ra;g=Math.sqrt(f*f+h*h);if(0<g){var l=1/g,f=f*l,h=h*l,w=a-e,m=c-n,p=w*f+m*h,u=1.7763568394002505E-15*(Math.abs(w*f)+Math.abs(m*h)),q=f,f=-h,h=q,u=Math.max(b,u);if(p<-u||p>g+u)return NaN;if(Math.abs(w*f+m*h)<=Math.max(b,1.7763568394002505E-15*(Math.abs(w*f)+Math.abs(m*h)))&&(f=d.J.pk(p*l,0,1),.5>=f?(h=this.ua+(this.sa-this.ua)*f,g=this.ra+(this.oa-
this.ra)*f):(h=this.sa-(this.sa-this.ua)*(1-f),g=this.oa-(this.oa-this.ra)*(1-f)),d.b.xz(h,g,a,c)<=b)){if(.5>f){if(d.b.xz(h,g,e,n)<=b)return 0}else if(d.b.xz(h,g,this.sa,this.oa)<=b)return 1;return f}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.NO(a)};b.prototype.JE=function(a,c,b){var e=b?this.ua:this.sa;b=b?this.ra:this.oa;var k=new d.b;k.x=a.sa-e;k.y=a.oa-b;return c.oi(k)>6.661338147750939E-16*c.zE(k)?(k.x=a.ua-e,k.y=a.ra-b,c.oi(k)<=
6.661338147750939E-16*c.zE(k)):!0};b.prototype.IE=function(a){var c=new d.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.JE(a,c,!1))return!1;c.Lr();return this.JE(a,c,!0)?!0:!1};b.We=function(a,c){var b=a.ev(c.ua,c.ra),d=a.ev(c.sa,c.oa);if(0>b&&0>d||0<b&&0<d)return!1;b=c.ev(a.ua,a.ra);d=c.ev(a.sa,a.oa);if(0>b&&0>d||0<b&&0<d)return!1;b=a.Rb();d=c.Rb();return b>d?a.IE(c):c.IE(a)};b.te=function(a,c,b){var e=d.b.pa(NaN,NaN),k=a.sa-a.ua,n=a.oa-a.ra,f=c.sa-c.ua,h=c.oa-c.ra,l=f*n-k*h;if(0==l)return e;
var w=8.881784197001252E-16*(Math.abs(f*n)+Math.abs(k*h)),m=c.ua-a.ua,p=c.ra-a.ra,u=f*p-m*h,q=u/l,t=Math.abs(l),f=(8.881784197001252E-16*(Math.abs(f*p)+Math.abs(m*h))*t+w*Math.abs(u))/(l*l)+2.220446049250313E-16*Math.abs(q);if(q<-f||q>1+f)return e;h=k*p-m*n;f=h/l;k=(8.881784197001252E-16*(Math.abs(k*p)+Math.abs(m*n))*t+w*Math.abs(h))/(l*l)+2.220446049250313E-16*Math.abs(f);if(f<-k||f>1+k)return e;q=d.J.pk(q,0,1);k=d.J.pk(f,0,1);n=a.gc(q);l=c.gc(k);w=new d.b;w.yc(n,l);if(w.length()>b&&(w.add(n,l),
w.scale(.5),q=a.qe(w,!1),k=c.qe(w,!1),a=a.gc(q),c=c.gc(k),a.sub(c),a.length()>b))return e;e.ka(q,k);return e};b.RO=function(a,c,e,d){var g=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(g++,!d)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){g++;if(2==g)return 2;if(!d)return 1}return c.Si(a.ua,a.ra,e)||c.Si(a.sa,a.oa,e)||a.Si(c.ua,c.ra,e)||a.Si(c.sa,c.oa,e)?1:d&&0!=g?0:0==b.We(a,c)?0:1};b.Gy=function(a,c,e,g,k,n){var f=0,h=a.lq(c.ua,c.ra,n,!1),l=a.lq(c.sa,c.oa,n,!1),w=c.lq(a.ua,
a.ra,n,!1),m=c.lq(a.sa,a.oa,n,!1);isNaN(h)||(null!=g&&(g[f]=h),null!=k&&(k[f]=0),null!=e&&(e[f]=d.b.pa(c.ua,c.ra)),f++);isNaN(l)||(null!=g&&(g[f]=l),null!=k&&(k[f]=1),null!=e&&(e[f]=d.b.pa(c.sa,c.oa)),f++);2==f||isNaN(w)||0==h&&0==w||0==l&&1==w||(null!=g&&(g[f]=0),null!=k&&(k[f]=w),null!=e&&(e[f]=d.b.pa(a.ua,a.ra)),f++);2==f||isNaN(m)||1==h&&0==m||1==l&&1==m||(null!=g&&(g[f]=1),null!=k&&(k[f]=m),null!=e&&(e[f]=d.b.pa(c.sa,c.oa)),f++);if(0<f)return 2==f&&null!=g&&g[0]>g[1]&&(a=g[0],g[0]=g[1],g[1]=
a,null!=k&&(g=k[0],k[0]=k[1],k[1]=g),null!=e&&(k=d.b.pa(e[0].x,e[0].y),e[0]=e[1],e[1]=k)),f;f=b.te(a,c,n);if(isNaN(f.x))return 0;null!=e&&(e[0]=a.gc(f.x));null!=g&&(g[0]=f.x);null!=k&&(k[0]=f.y);return 1};b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(d.dE);d.Hb=h})(h||(h={}));(function(d){var h=function(){function d(){this.am=[];
this.Ca=-1}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=null};d.prototype.TY=function(b){this.am.push(b)};d.prototype.Re=function(){return!0};return d}();d.RM=h})(h||(h={}));(function(d){(function(d){d[d.enumFillRuleOddEven=0]="enumFillRuleOddEven";d[d.enumFillRuleWinding=1]="enumFillRuleWinding"})(d.JN||(d.JN={}));var h=function(f){function b(a,
c){f.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===c)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=this.ir=0,this.description=d.ze.Ig();else{if(null==c)throw d.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=c}this.bj=null;this.Ta=0}B(b,f);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Ac();null==this.ur?this.ur=new d.Wa(this.description):
this.ur.Fg(this.description)};b.prototype.$x=function(a,c){var b=new d.b;b.x=a;b.y=c;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw d.g.F();this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=d.Uc.wh(2),this.kb.write(0,0),this.jb=d.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-
2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(c+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(c,this.ur),this.hh=!1)};b.prototype.Xj=function(a,c){this.By();this.rb(this.qa-1,a,c)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.oW=function(a){this.Ac();if(this.$f)throw d.g.za();var c=this.aa();if(a>c)throw d.g.za();if(this.Qb(a)){if(null==this.jb)throw d.g.za();var b=this.qa,g=this.wa(a),
k=this.Gc(a);this.zl(this.qa+1);this.wc();for(var n=0,f=this.description.Ga;n<f;n++)if(null!=this.ya[n]){var h=d.ma.Xa(this.description.Sd(n));this.ya[n].Qk(h*k,this.ya[n],h*g,h,!0,1,h*b)}for(;c>a;c--)b=this.kb.read(c),this.kb.write(c,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.te[a]};b.prototype.Qb=
function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Gc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.ub(a)};b.prototype.ft=function(a){return 0!=(this.jb.read(a)&2)};b.prototype.dc=function(a,c){this.om(a.description);if(322==a.G()){var b=new d.Wa;if(c||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw d.g.za();};b.prototype.oq=function(a){var c=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,
a.A);this.sq();this.hh=!1;c&&this.lg(256,!1)};b.prototype.jd=function(a,c){if(!a.u()){for(var b=0==this.qa,g=new d.Wa(this.description),k=0;4>k;k++)a.ig(c?4-k-1:k,g),0==k?this.Rf(g):this.lineTo(g);this.sq();this.hh=!1;b&&!c&&this.lg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ti(a,b,!c)};b.prototype.Ti=function(a,c,b){this.Yf(-1,a,c,b)};b.prototype.Bl=function(a,c){this.sA(a,c)};b.prototype.Bs=function(a,c,b,g,k){k||0!=this.aa()||(k=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>
b||0>g||g>a.ew(c))throw d.g.X("index out of bounds");if(0!=g){var e=a.Qb(c)&&b+g==a.ew(c);if(!e||1!=g){this.hh=!1;this.om(a.description);b=a.wa(c)+b+1;k&&(g++,b--);e&&g--;e=this.qa;this.zl(this.qa+g);this.wc();if(k){if(0==g)return;this.kb.add(this.qa);k=a.jb.read(c);k&=-5;this.$f&&(k|=1);this.jb.write(this.jb.size-1,k);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);k=0;for(var f=this.description.Ga;k<f;k++){var h=this.description.qd(k),l=d.ma.Xa(h),w=a.description.mg(h);0>w||null==a.ya[w]?
this.ya[k].Vj(l*e,d.ma.de(h),g*l,l*e):this.ya[k].Qk(l*e,a.ya[w],l*b,g*l,!0,l,l*e)}if(this.hn())throw d.g.za();if(a.ft(c))throw d.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,c=this.aa();a<c;a++)this.CX(a)};b.prototype.CX=function(a){this.wc();if(a>=this.aa())throw d.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var g=0,k=this.description.Ga;g<k;g++)if(null!=this.ya[g]){var n=d.ma.Xa(this.description.Sd(g));this.ya[g].Zd(n*(c+a),n*(b-a),n)}this.Dc(1993)};b.prototype.Rr=
function(a){this.wc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw d.g.F();for(var b=this.wa(a),g=this.La(a),k=0,n=this.description.Ga;k<n;k++)if(null!=this.ya[k]){var f=d.ma.Xa(this.description.Sd(k));this.ya[k].Ek(f*b,f*g,f*this.qa)}for(b=a+1;b<=c;b++)k=this.kb.read(b),this.kb.write(b-1,k-g);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=g;this.lh-=g;this.Dc(1993)};b.prototype.Yf=function(a,c,b,g){if(c==this)throw d.g.F();if(b>=
c.aa())throw d.g.F();var e=this.aa();if(a>e)throw d.g.F();0>a&&(a=e);0>b&&(b=c.aa()-1);this.hh=!1;this.om(c.description);c.wc();var n=c.wa(b),f=c.La(b),h=this.qa,l=c.Qb(b)&&!g?1:0;this.zl(this.qa+f);this.wc();for(var w=a<e?this.wa(a):h,m=0,p=this.description.Ga;m<p;m++){var u=this.description.Sd(m),q=c.description.mg(u),t=d.ma.Xa(u);0<=q&&null!=c.ya[q]?(0!=l&&this.ya[m].Qk(w*t,c.ya[q],t*n,t,!0,t,t*h),this.ya[m].Qk((w+l)*t,c.ya[q],t*(n+l),t*(f-l),g,t,t*(h+l))):this.ya[m].Vj(w*t,d.ma.de(u),t*f,t*h)}this.kb.add(h+
f);for(g=e;g>=a+1;g--)n=this.kb.read(g-1),this.kb.write(g,n+f);c.ft(b);this.jb.add(0);for(g=e-1;g>=a+1;g--)e=this.jb.read(g),e&=-5,this.jb.write(g+1,e);e=c.DT().read(b);e&=-5;this.$f&&(e|=1);this.jb.write(a,e)};b.prototype.sA=function(a,c){var b=-1,g=this.aa();if(b>g)throw d.g.F();0>b&&(b=g);this.hh=!1;var k=this.qa;this.zl(this.qa+c);this.wc();var n=b<g?this.wa(b):k;null!=a?this.ya[0].Sq(2*n,a,0,c,!0,2*k):(a=d.ma.de(0),this.ya[0].Vj(2*n,a,2*c,2*k));for(var f=1,h=this.description.Ga;f<h;f++){a=this.description.qd(f);
var l=d.ma.Xa(a);a=d.ma.de(a);this.ya[f].Vj(n*l,a,l*c,l*k)}this.kb.add(this.qa);for(k=g;k>=b+1;k--)n=this.kb.read(k-1),this.kb.write(k,n+c);this.jb.add(0);for(k=g-1;k>=b+1;k--)g=this.jb.read(k),g&=-5,this.jb.write(k+1,g);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,c,b){var e=-1;0>a&&(a=this.aa());if(a>this.aa()||e>this.La(a)||b>c.length)throw d.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>e&&(e=this.La(a));this.wc();var k=
this.qa;this.zl(this.qa+b);this.wc();for(var n=0,f=this.description.Ga;n<f;n++){var h=this.description.Sd(n),l=d.ma.Xa(h);this.ya[n].ho(l*(this.wa(a)+e+b),(k-this.wa(a)-e)*l,this.ya[n],l*(this.wa(a)+e),!0,l);0==n?this.ya[n].ks(l*(this.wa(a)+e),b,c,0,!0):this.ya[n].Zh(d.ma.de(h),(this.wa(a)+e)*l,b*l)}this.hn()&&(this.cf.ho(this.wa(a)+e+b,k-this.wa(a)-e,this.cf,this.wa(a)+e,!0,1),this.tj.ho(this.wa(a)+e+b,k-this.wa(a)-e,this.tj,this.wa(a)+e,!0,1),this.cf.Zh(1,this.wa(a)+e,b),this.tj.Zh(-1,this.wa(a)+
e,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,c,b){var e=this.aa();0>a&&(a=this.aa());if(a>=e||c>this.La(a))throw d.g.X("index out of bounds");a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var k=this.qa;this.zl(this.qa+1);this.wc();var n=this.wa(a);this.ya[0].eh(2*(n+c),b,2*k);b=1;for(var f=this.description.Ga;b<f;b++){var h=this.description.Sd(b),l=d.ma.Xa(h);this.ya[b].Vj(l*(n+c),d.ma.de(h),l,l*
k)}for(a+=1;a<=e;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.dC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw d.g.X("index out of bounds");this.wc();var g=this.wa(a);0>c&&(c=this.La(a)-1);g+=c;c=0;for(var k=this.description.Ga;c<k;c++)if(null!=this.ya[c]){var n=d.ma.Xa(this.description.Sd(c));this.ya[c].Ek(n*g,n,n*this.qa)}for(;b>=a+1;b--)g=this.kb.read(b),this.kb.write(b,g-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.FF=function(a,c,b,g){a=this.wa(a)+c;b=this.wa(b)+
g;if(b<a||0>a||b>this.D()-1)throw d.g.F();g=this.Fa();c=0;g.Tb(a);do{for(;g.Ea();){a=g.ba();if(g.Db()==b)break;a=a.Rb();c+=a}if(g.Db()==b)break}while(g.Ya());return c};b.prototype.gQ=function(a,c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw d.g.F();var e=this.Fa();if(c>b){if(!this.Qb(a))throw d.g.F("cannot iterate across an open path");e.kC()}var k=a=0;e.Tb(c);do k+=a,a=e.ba().Rb();while(e.Db()!=b);return k};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};b.prototype.GU=function(a,
c,b,g){for(var e=a;e<b-1;e++)if(this.Qb(e))throw d.g.F("cannot interpolate across closed paths");e=this.description.Ga;if(1!=e){var n=this.FF(a,c,b,g);if(0!=n)for(var f=1;f<e;f++){var h=this.description.qd(f);if(2!=d.ma.Xz(h))for(var l=d.ma.Xa(h),w=0;w<l;w++)this.IU(h,a,c,b,g,n,w)}}};b.prototype.FU=function(a,c,b){var e=this.description.Ga;if(1!=e){var k=this.gQ(a,c,b);if(0!=k)for(var n=1;n<e;n++){var f=this.description.qd(n);if(2!=d.ma.Xz(f))for(var h=d.ma.Xa(f),l=0;l<h;l++)this.HU(f,a,c,b,k,l)}}};
b.prototype.IU=function(a,c,b,g,k,n,f){var e=this.Fa();c=this.wa(c)+b;g=this.wa(g)+k;k=this.Yc(a,c,f);b=this.Yc(a,g,f);var r=k,h=0;e.Tb(c);do if(e.Ea()){e.ba();if(e.Db()==g)break;this.setAttribute(a,e.Db(),f,r);e.Li();do{c=e.ba();if(e.Ik()==g)return;c=c.Rb();h+=c;r=d.Ub.Xq(k,b,h/n);e.Fo()||this.setAttribute(a,e.Ik(),f,r)}while(e.Ea())}while(e.Ya())};b.prototype.HU=function(a,c,b,g,k,n){var e=this.Fa(),f=this.wa(c)+b;c=this.wa(c)+g;if(c!=f){g=this.Yc(a,f,n);b=this.Yc(a,c,n);var h=0;e.Tb(f);e.kC();
f=g;do{var l=e.ba();this.setAttribute(a,e.Db(),n,f);f=l.Rb();h+=f;f=d.Ub.Xq(g,b,h/k)}while(e.Ik()!=c)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.NE()};b.prototype.Xc=function(a){a instanceof d.Hd?this.lF(a,-1):this.zP(a)};b.prototype.lF=function(a,c){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],g=new d.b,k=new d.b,n,f,h;for(0>c?(n=this.hn(),f=0,h=this.qa):(n=this.ft(c),f=this.wa(c),h=this.Gc(c));f<h;f++){g.x=b.read(2*f);g.y=b.read(2*f+1);
if(n&&(c=this.tj.read(f),0<=c))switch(this.cf.read(f)&7){case 2:k.x=this.Xd.read(c);k.y=this.Xd.read(c+1);a.$h(k,k);this.Xd.write(c,k.x);this.Xd.write(c+1,k.y);k.x=this.Xd.read(c+3);k.y=this.Xd.read(c+4);a.$h(k,k);this.Xd.write(c+3,k.x);this.Xd.write(c+4,k.y);break;case 4:throw d.g.za();}a.$h(g,g);b.write(2*f,g.x);b.write(2*f+1,g.y)}this.Dc(1993)}};b.prototype.zP=function(a){if(!this.u()){this.Td(1);this.wc();for(var c=this.ya[0],b=this.ya[1],g=new d.pd,k=new d.pd,n=this.hn(),f=0;f<this.qa;f++){g.x=
c.read(2*f);g.y=c.read(2*f+1);g.z=b.read(f);if(n){var h=this.tj.read(f);if(0<=h)switch(this.cf.read(f)&7){case 2:k.x=this.Xd.read(h);k.y=this.Xd.read(h+1);k.z=this.Xd.read(h+2);k=a.Rp(k);this.Xd.write(h,k.x);this.Xd.write(h+1,k.y);this.Xd.write(h+1,k.z);k.x=this.Xd.read(h+3);k.y=this.Xd.read(h+4);k.z=this.Xd.read(h+5);k=a.Rp(k);this.Xd.write(h+3,k.x);this.Xd.write(h+4,k.y);this.Xd.write(h+5,k.z);break;case 4:throw d.g.za();}}g=a.Rp(g);c.write(2*f,g.x);c.write(2*f+1,g.y);b.write(f,g.z)}this.Dc(1993)}};
b.prototype.Py=function(){null==this.kb&&(this.kb=d.Uc.wh(1,0),this.jb=d.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;a.mr=this.mr;null!=this.kb?a.kb=d.ia.Ak(this.kb):a.kb=null;null!=this.jb?a.jb=d.Fm.Ak(this.jb):a.jb=null;null!=this.tj?a.tj=d.ia.Ak(this.tj):a.tj=null;null!=this.cf?a.cf=d.Fm.Ak(this.cf):a.cf=null;null!=this.Xd?a.Xd=d.Qd.Ak(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.xk(1024)?a.bj=null:a.bj=
this.bj};b.prototype.Rb=function(){if(!this.xk(512))return this.hr;for(var a=this.Fa(),c=new d.ry(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.en();this.lg(512,!1);return c.en()};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&f.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:f.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new d.ZN(this)};b.prototype.Oy=
function(a){f.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,c){f.prototype.uo.call(this,a,c);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.xk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<
this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.xk(1024)){var a=this.aa();null==this.bj?this.bj=new d.Qd(a):this.bj.size!=a&&this.bj.resize(a);for(var a=new d.ry(0),c=new d.ry(0),b=new d.b,g=0,k=this.Fa();k.Ya();){c.reset();for(this.w(this.wa(k.Ta),b);k.Ea();)c.add(k.ba().Cy(b.x,b.y));a.add(c.en());var n=g++;this.bj.write(n,c.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.zT=function(){if(this.$f){this.Al();
for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.xk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=d.Uc.vq(a+1);for(var c=1,b=0;b<a;b++){var g=this.bj.read(b);0==b&&(c=0<g?1:-1);0<g*c?this.jb.jC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Gc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=this.wa(c)&&a<this.Gc(c))return this.Ta=c}if(5>b){for(c=
0;c<b;c++)if(a<this.Gc(c))return this.Ta=c;throw d.g.X("corrupted geometry");}c=0;for(--b;b>c;){var g=c+(b-c>>1),k=this.wa(g);if(a<k)b=g-1;else if(c=this.Gc(g),a>=c)c=g+1;else return this.Ta=g}return this.Ta=c};b.prototype.nT=function(a){var c=this.Pa(0);this.ET();var b=this.Gc(a),g=this.wa(a);a=-1;var k=new d.b,n=new d.b;k.y=-Infinity;k.x=-Infinity;for(g+=0;g<b;g++)c.fc(2*g,n),-1==k.compare(n)&&(a=g,k.L(n));return a};b.prototype.jA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),c=0,
b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?1736:1607};b.prototype.ET=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.PT=function(){this.Cu();return this.cf};b.prototype.DT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=
a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};b.prototype.Xu=function(a,c){null==this.ob&&(this.ob=new d.vl);c=d.xy.lX(c);var b=this.ob.Hi;if(null!=b)if(b.il<a||c>b.LT())this.ob.My(null);else return!0;b=d.xy.create(this,a,c);this.ob.My(b);return!0};b.prototype.jc=function(){var a=f.prototype.jc.call(this);
if(!this.Hc()){var c=this.aa();null!=this.kb&&this.kb.zk(a,0,c+1);null!=this.jb&&this.jb.zk(a,0,c)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,c,b){var e=this.cw(a);if(a==this.Gc(e)-1&&!this.Qb(e))throw d.g.X("index out of bounds");this.wc();var k=this.cf,n=1;null!=k&&(n=k.read(a)&7);switch(n){case 1:c.Js();break;case 2:throw d.g.za();case 4:throw d.g.za();default:throw d.g.za();}c=c.get();b?c.Fg(d.ze.Ig()):c.Fg(this.description);e=a==this.Gc(e)-
1&&this.Qb(e)?this.wa(e):a+1;k=new d.b;this.w(a,k);c.Mc(k);this.w(e,k);c.Zc(k);if(!b)for(b=1,k=this.description.Ga;b<k;b++)for(var n=this.description.Sd(b),f=d.ma.Xa(n),h=0;h<f;h++){var l=this.Yc(n,a,h);c.Tx(n,h,l);l=this.Yc(n,e,h);c.Lx(n,h,l)}};b.prototype.jk=function(a,c){if(a>=this.aa())throw d.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw d.g.X("not implemented");var b=this.Pa(0),g=new d.b,k=new d.h;k.Oa();var n=this.wa(a);for(a=this.Gc(a);n<a;n++)b.fc(2*n,g),k.Nb(g);c.I(k)}};b.prototype.iX=
function(a,c){if(a>=this.aa())throw d.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw d.g.X("not implemented");var b=this.Pa(0),g=new d.b,k=new d.h;k.Oa();var n=this.wa(a);for(a=this.Gc(a);n<a;n++)b.fc(2*n,g),k.Nb(g);c.I(k)}};b.prototype.Hj=function(a){null==this.ob&&(this.ob=new d.vl);if(0==a||16>this.D())return!1;a=d.na.BF(this);this.ob.OE(a);return!0};b.prototype.CO=function(){null==this.ob&&(this.ob=new d.vl);if(null!=this.ob.np)return!0;this.ob.PE(null);var a=d.na.bQ(this);this.ob.PE(a);return!0};
b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.VE=function(a){if(this==a)throw d.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.oW(c),c++};b.prototype.oQ=function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Gc(c);if(a>=c||a<b)throw d.g.X("change_ring_start_point");for(var g=0,k=this.description.Ga;g<k;g++){var n=this.description.qd(g),n=d.ma.Xa(n);this.ya[g].rotate(b*n,a*n,c*n)}}};b.te=[0,0,6,0,8,0];return b}(d.Mu);
d.wl=h})(h||(h={}));(function(d){var h=function(f){function b(a){f.call(this);if(void 0!==a){if(null==a)throw d.g.F();this.description=a}else this.description=d.ze.Ig();this.qa=0}B(b,f);b.prototype.Ka=function(){return new b(this.description)};b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,c){this.resize(this.qa+1);var b=new d.b;b.ka(a,c);this.rb(this.qa-1,b)};b.prototype.Id=function(a,c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw d.g.F();if(c!=
b){this.om(a.description);b-=c;var e=this.qa;this.resize(this.qa+b);this.wc();for(var k=0,n=a.description.Ga;k<n;k++){var f=a.description.Sd(k),h=d.ma.Xa(f),l=this.Pa(f),f=a.Pa(f);l.Qk(e*h,f,c*h,b*h,!0,1,e*h)}}};b.prototype.ZE=function(a,c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw d.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var g=0;g<b;g++)this.rb(c+g,a[0+g])}};b.prototype.dC=function(a){if(0>a||a>=this.D())throw d.g.X("index out of bounds");this.wc();for(var c=0,b=this.description.Ga;c<
b;c++)if(null!=this.ya[c]){var g=d.ma.Xa(this.description.Sd(c));this.ya[c].Ek(g*a,g,g*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){f.prototype.NE.call(this)};b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.u()){this.wc();for(var c=this.ya[0],b=new d.b,g=0;g<this.qa;g++)b.x=c.read(2*g),b.y=c.read(2*g+1),a.$h(b,b),c.write(2*g,b.x),c.write(2*g+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();
this.Td(1);this.wc();for(var c=this.ya[0],b=this.ya[1],k=new d.pd,g=0;g<this.qa;g++){k.x=c.read(2*g);k.y=c.read(2*g+1);k.z=b.read(g);var n=a.Rp(k);c.write(2*g,n.x);c.write(2*g+1,n.y);b.write(g,n.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?f.prototype.Eb.call(this,a):!1};b.prototype.nP=function(a){var c=a.length,b=c;if(0>
c||0>c||0>b)throw d.g.F();this.Td(1);if(0!=b){c=b-0;b=this.qa;this.aK(this.qa+c);for(var g=this.Pa(0),k=0;k<c;k++){var n=a[0+k].y;g.write(2*(b+k),a[0+k].x);g.write(2*(b+k)+1,n)}g=this.Pa(1);for(k=0;k<c;k++)g.write(b+k,a[0+k].z);this.Dc(1993)}};b.prototype.oP=function(a,c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw d.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw d.g.F();c=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*c,b,a,0,!0)}};b.prototype.aK=function(a){var c=this.qa;this.zl(a);if(this.qa>c){a=1;for(var b=
this.description.Ga;a<b;a++){var g=this.description.qd(a),k=d.ma.Xa(g);this.ya[a].Vj(k*c,d.ma.de(g),k*(this.qa-c),k*c)}}};b.prototype.fX=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw d.g.F();var g=this.Pa(0),k=b-c,n=[];g.ol(2*c,2*k,n,0,!0);for(g=0;g<k;g++)a[g]=d.b.pa(n[2*g],n[2*g+1]);return b};b.prototype.gX=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw d.g.F();c=this.Pa(0);var g=null,k=d.ma.de(1),n=this.hasAttribute(1);
n&&(g=this.Pa(1));var b=b-0,f=[],h=[];c.ol(0,2*b,f,0,!0);g.ol(0,b,h,0,!0);for(c=0;c<b;c++)a[c]=new d.pd(f[2*c],f[2*c+1],n?h[c]:k)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};b.prototype.Gg=function(){return null};return b}(d.Mu);d.Ed=h})(h||(h={}));(function(d){(function(d){d[d.NotDetermined=0]="NotDetermined";d[d.Structure=1]="Structure";d[d.DegenerateSegments=2]="DegenerateSegments";d[d.Clustering=3]="Clustering";
d[d.Cracking=4]="Cracking";d[d.CrossOver=5]="CrossOver";d[d.RingOrientation=6]="RingOrientation";d[d.RingOrder=7]="RingOrder";d[d.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";d[d.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";d[d.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(d.YM||(d.YM={}));var h=function(){function d(b,a,c){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=c)}d.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return d}();
d.$d=h})(h||(h={}));(function(d){var h=function(){function f(){}f.YZ=function(b){if(!1===b)throw d.g.KL();};f.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};f.qv=function(b){var a;void 0===a&&(a=0);for(var c=[],e=0;e<b;e++)c[e]=f.gf(2,a);return c};f.gf=function(b,a){void 0===a&&(a=0);for(var c=[],e=0;e<b;e++)c[e]=a;return c};f.Nv=function(b,a){var c,e;void 0===c&&(c=0);for(void 0===e&&(e=b.length-1);c<=e;c++)b[c]=a};f.pk=function(b,a,c){return b<a?a:b>c?c:b};f.t_=function(){return 4};f.dh=function(b,
a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};f.Zi=function(){throw Error("Not Implemented");};f.p_=function(){return-Infinity};f.r_=function(){return Infinity};f.h_=function(){return 2147483647};f.UZ=function(){return 2.220446049250313E-16};f.VZ=function(){return 1.7976931348623157E308};f.IB=function(b){return f.eZ(b)+12345&2147483647};f.gI=function(b){var a=32,c=b%f.qA|0,e=b/f.qA|0;if(0===(a&=63))return b;
32>a?(b=c>>>a|e<<32-a,a=e>>a):(b=e>>a-32,a=0<=e?0:-1);return a*f.qA+(b>>>0)};f.eZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};f.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};f.hV=Math.pow(2,53)-1;f.XZ=-f.hV;f.jD=65536;f.K_=16777216;f.qA=f.jD*f.jD;return f}();d.J=h})(h||(h={}));(function(d){(function(d){d[d.Project=0]="Project";d[d.Union=1]="Union";d[d.Difference=2]="Difference";d[d.Proximity2D=3]="Proximity2D";d[d.Relate=4]="Relate";d[d.Equals=5]="Equals";d[d.Disjoint=
6]="Disjoint";d[d.Intersects=7]="Intersects";d[d.Within=8]="Within";d[d.Contains=9]="Contains";d[d.Crosses=10]="Crosses";d[d.Touches=11]="Touches";d[d.Overlaps=12]="Overlaps";d[d.Buffer=13]="Buffer";d[d.Distance=14]="Distance";d[d.Intersection=15]="Intersection";d[d.Clip=16]="Clip";d[d.Cut=17]="Cut";d[d.DensifyByLength=18]="DensifyByLength";d[d.DensifyByAngle=19]="DensifyByAngle";d[d.LabelPoint=20]="LabelPoint";d[d.GeodesicBuffer=21]="GeodesicBuffer";d[d.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";
d[d.ShapePreservingDensify=23]="ShapePreservingDensify";d[d.GeodeticLength=24]="GeodeticLength";d[d.GeodeticArea=25]="GeodeticArea";d[d.Simplify=26]="Simplify";d[d.SimplifyOGC=27]="SimplifyOGC";d[d.Offset=28]="Offset";d[d.Generalize=29]="Generalize";d[d.SymmetricDifference=30]="SymmetricDifference";d[d.ConvexHull=31]="ConvexHull";d[d.Boundary=32]="Boundary";d[d.SimpleRelation=33]="SimpleRelation"})(d.tN||(d.tN={}));var h=function(){function f(){}f.prototype.G=function(){return null};f.prototype.qo=
function(){return!1};f.prototype.wv=function(){return!1};f.NZ=function(b){d.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.OE(null)))};return f}();d.ef=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,k){return a instanceof d.T?(k=new d.hd(a),this.V(k,c,[b],!1,g).next()):!0===g?(b=new d.ED(a,c,b,!1,k),d.ei.local().V(b,c,k)):new d.ED(a,c,b,
!1,k)};b.$=null;return b}(d.ef);d.DD=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e,g){this.Ca=-1;this.ie=b;this.JA=a;this.yt=c;this.uV=new d.h;this.uV.Oa();this.To=-1;this.mc=g}f.prototype.next=function(){for(var b;null!=(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.buffer=function(b,a){return d.QL.buffer(b,a,this.JA,NaN,96,this.mc)};f.prototype.Re=
function(){return!0};return f}();d.ED=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.dN(a,c,b,g)};b.$=null;return b}(d.ef);d.cN=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c){this.Ca=-1;if(null==b)throw d.g.F();this.R=a;this.Zk=b;this.ta=d.na.be(c,a,
!1)}f.prototype.next=function(){var b;return null!=(b=this.Zk.next())?(this.Ca=this.Zk.Ia(),d.ne.clip(b,this.R,this.ta,0)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.dN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof d.T?d.GD.EF(a):new d.GD(c,a,b)};b.$=null;return b}(d.ef);
d.FD=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c){this.bB=new d.Ju;this.Ca=-1;if(null==a)throw d.g.F();this.oI=b;this.Pc=!1;this.Zk=a;this.mc=c}f.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.fQ(this.Zk);this.Pc=!0;return b}return null}if(!this.Pc){b=this.Zk.next();if(null!=b)return this.Ca=this.Zk.Ia(),f.EF(b);this.Pc=!0}return null};f.prototype.Ia=function(){return this.Ca};f.prototype.fQ=function(b){for(var a;null!=(a=b.next());)this.bB.Jb(a);return this.bB.VS()};
f.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw d.g.X("Invalid call for non merging convex hull.");var b=this.Zk.next();if(null!=b)return this.bB.Jb(b),!0;throw d.g.X("Expects a non-null geometry.");};f.EF=function(b){if(f.Wg(b))return b;var a=b.G();if(d.wl.Oc(a))return a=new d.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var c=new d.Wa,a=new d.Ua(b.description);b.Ae(0,c);a.Rf(c);b.Ae(1,c);a.lineTo(c);return a}return d.Ju.VQ(b)};f.Wg=function(b){if(b.u())return!0;var a=b.G();
return 33==a||197==a?!0:d.wl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:d.Ju.VH(b,0)};return f}();d.GD=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,k){return new d.fN(a,c,b,g,k)};b.$=null;return b}(d.ef);d.eN=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e,g){this.qg=null;
if(null==a||null==c)throw d.g.X("invalid argument");this.rV=b;this.WA=a;this.xI=c;b=d.na.Zv(a,c);this.ta=d.na.be(e,b,!0);this.wI=-1;this.ke=g}f.prototype.Ia=function(){return 0};f.prototype.next=function(){this.IS();return++this.wI<this.qg.length?this.qg[this.wI]:null};f.prototype.IS=function(){if(null==this.qg)switch(this.qg=[],this.WA.G()){case 1607:this.KS();break;case 1736:this.JS()}};f.prototype.KS=function(){var b=new d.Ua,a=new d.Ua,c=new d.Ua;this.qg.push(b);this.qg.push(a);var e=[];d.XL.VL(this.rV,
this.WA,this.xI,this.ta,e,this.ke);for(var g=0;g<e.length;g++){var k=e[g];0==k.nx?b.add(k.Y,!1):1==k.nx||2==k.nx?a.add(k.Y,!1):3==k.nx?this.qg.push(k.Y):c.add(k.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(c);b.u()&&a.u()&&3>this.qg.length&&(this.qg.length=0)};f.prototype.JS=function(){var b=new d.ia(0),a=new d.fd,c=a.iG(),e=a.Jb(this.WA),g=a.Jb(this.xI),k=new d.Dg;try{k.Xr(a,this.ta,this.ke);k.Hl(c,e,g,b);var n=a.Se(e),f=new d.Ja,h=new d.Ja;this.qg.length=0;this.qg.push(f);this.qg.push(h);
for(e=0;e<b.size;e++){var l,w=new d.fd,m=w.Jb(n),p=w.Jb(a.Se(b.get(e)));k.Wr(w,this.ke);var u=k.nw(m,p);l=w.Se(u);if(!l.u()){var q=a.VG(b.get(e),c);2==q?f.add(l,!1):1==q?h.add(l,!1):this.qg.push(l);var t=new d.fd,m=t.Jb(n),p=t.Jb(a.Se(b.get(e)));k.Wr(t,this.ke);n=t.Se(k.Vm(m,p))}}!n.u()&&0<b.size&&this.qg.push(n);f.u()&&h.u()&&(this.qg.length=0)}finally{k.qh()}};f.prototype.Re=function(){return!0};return f}();d.fN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}
B(b,f);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){if(a instanceof d.T)return a=new d.hd(a),this.V(a,c,b).next();if(0>=c)throw d.g.F();return new d.gN(a,c,b)};b.$=null;return b}(d.ef);d.Jm=h})(h||(h={}));(function(d){var h=function(){function f(b,a){this.Ca=-1;this.ie=b;this.Kt=a}f.prototype.Ia=function(){return this.Ca};f.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.KR(b)):null};
f.prototype.KR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(d.T.Oc(a))return this.MR(b);if(197==a)return this.LR(b);throw d.g.za();};f.prototype.MR=function(b){if(b.Rb()<=this.Kt)return b;var a=new d.Ua(b.description);a.dc(b,!0);return this.wz(a)};f.prototype.LR=function(b){var a=new d.Ja(b.description);a.jd(b,!1);var c=new d.h;b.s(c);b=c.fa();return c.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};f.prototype.wz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var e=
!0;c.Ea();){var g=c.ba();if(322!=g.G())throw d.g.X("not implemented");var k=c.Fo(),n=g.Rb();if(n>this.Kt){var f=Math.ceil(n/this.Kt),n=new d.Wa(b.description);e&&(g.Dp(n),a.Rf(n));for(var h=e=1/f,l=0,f=f-1;l<f;l++)g.Fx(h,n),a.lineTo(n),h+=e;k?a.sq():(g.Bp(n),a.lineTo(n))}else k?a.sq():a.dc(g,e);e=!1}return a};f.prototype.Re=function(){return!0};return f}();d.gN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.local=function(){null===b.$&&(b.$=new b);return b.$};
b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,g).next()):new d.hN(a,c,b,g)};b.Vm=function(a,c,e,g){if(a.u()||c.u())return a;var k=a.tb(),n=c.tb();if(k>n)return a;var f=a.G(),h=c.G(),l=new d.h,w=new d.h,m=new d.h;a.s(l);c.s(w);m.I(l);m.Nb(w);var m=d.na.be(e,m,!0),p=m*Math.sqrt(2)*1.00001,u=new d.h;u.I(l);u.O(p,p);if(!u.Yb(w))return a;if(1==k&&2==n)return b.TL(a,c,h,e,g);if(33==f)switch(d.wl.Oc(h)?(e=new d.Ua(c.description),
e.dc(c,!0)):e=c,h){case 1736:return b.hO(a,e,m);case 1607:return b.lO(a,e,m);case 550:return b.WN(a,e,m);case 197:return b.QN(a,e,m);case 33:return b.dO(a,e,m);default:throw d.g.F();}else if(550==f)switch(h){case 1736:return b.DM(a,c,m);case 197:return b.nM(a,c,m);case 33:return b.yM(a,c,m)}return d.Dg.Vm(a,c,e,g)};b.hO=function(a,c,b){return 0==d.gd.WH(c,a,b)?a:a.Ka()};b.lO=function(a,c,b){var e=a.w();c=c.Fa();for(var k=b*Math.sqrt(2)*1.00001,n=k*k,f=new d.h;c.Ya();)for(;c.Ea();){var h=c.ba();h.s(f);
f.O(k,k);if(f.contains(e)){if(h.mt(e,b))return a.Ka();var l=h.ec();if(d.b.sc(e,l)<=n)return a.Ka();l=h.Bc();if(d.b.sc(e,l)<=n)return a.Ka()}}return a};b.WN=function(a,c,b){var e=c.Pa(0);c=c.D();var k=a.w(),n=new d.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var f=0;f<c;f++)if(e.fc(2*f,n),d.b.sc(n,k)<=b)return a.Ka();return a};b.QN=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);c=a.w();return e.contains(c)?a.Ka():a};b.dO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var e=a.w();c=c.w();return d.b.sc(e,c)<=
b?a.Ka():a};b.DM=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);for(var k=a.D(),n=!1,f=[],h=0;h<k;h++)f[h]=!1;for(var l=new d.b,h=0;h<k;h++)a.w(h,l),e.contains(l)&&0!=d.gd.ge(c,l,b)&&(n=!0,f[h]=!0);if(!n)return a;c=a.Ka();for(h=0;h<k;h++)f[h]||c.Id(a,h,h+1);return c};b.nM=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);c=a.D();var k=!1;b=[];for(var n=0;n<c;n++)b[n]=!1;for(var f=new d.b,n=0;n<c;n++)a.w(n,f),e.contains(f)&&(k=!0,b[n]=!0);if(!k)return a;e=a.Ka();for(n=0;n<c;n++)b[n]||e.Id(a,n,n+1);return e};
b.yM=function(a,c,b){var e=a.Pa(0),k=a.D(),n=c.w(),f=new d.b,h=!1;c=[];for(var l=0;l<k;l++)c[l]=!1;l=b*Math.sqrt(2)*1.00001;b=l*l;for(l=0;l<k;l++)e.fc(2*l,f),d.b.sc(f,n)<=b&&(h=!0,c[l]=!0);if(!h)return a;e=a.Ka();for(l=0;l<k;l++)c[l]||e.Id(a,l,l+1);return e};b.TL=function(a,c,b,g,k){var e=new d.ci;a.Qn(e);var f=new d.h;c.s(f);e.Nb(f);e.O(.1*e.N(),.1*e.fa());f=new d.Ja;f.jd(e,!1);1736==b?f.add(c,!0):f.jd(c,!0);return d.tk.local().V(a,f,g,k)};b.$=null;return b}(d.ef);d.cq=h})(h||(h={}));(function(d){var h=
function(){function f(b,a,c,e){this.ot=null==a;this.Ca=-1;this.ie=b;this.JA=c;this.xV=a.next();this.mc=e}f.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.cq.Vm(b,this.xV,this.JA,this.mc)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.hN=h})(h||(h={}));(function(d){var h=function(){function b(a){this.ke=a;this.Zj=new d.h;this.Zj.Oa();this.Jh=new d.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;
a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.$R=function(a,c){var b=!this.Zj.Yb(this.Jh);if(d.T.Ic(a.G())&&d.T.Ic(c.G())){if(a.D()>c.D())return this.uF(a,c,b);this.Bu();b=this.uF(c,a,b);this.Bu();return b}if(550==a.G()&&d.T.Ic(c.G()))return b=this.vF(c,a,b),this.Bu(),b;if(550==c.G()&&d.T.Ic(a.G()))return this.vF(a,c,b);if(550==a.G()&&550==c.G()){if(a.D()>
c.D())return this.wF(a,c);this.Bu();b=this.wF(c,a);this.Bu();return b}return 0};b.prototype.uF=function(a,c,b){var e=a.Fa(),k=c.Fa(),n=new d.h,f=new d.h,h=1.7976931348623157E308;if(!b&&this.rZ(a,c,e,k))return 0;for(;e.Ya();)for(;e.Ea();)if(a=e.ba(),a.s(n),!(n.Zx(this.Jh)>h)){for(;k.Ya();)for(;k.Ea();)if(c=k.ba(),c.s(f),n.Zx(f)<h&&(c=a.Cb(c,b),c*=c,c<h)){if(0==c)return 0;h=c}k.yj()}return Math.sqrt(h)};b.prototype.vF=function(a,c,b){var e=a.Fa(),k=new d.h,n=1.7976931348623157E308,f=new d.b,h,l=c.D();
for(b=!b&&1736==a.G();e.Ya();)for(;e.Ea();){var w=e.ba();w.s(k);if(!(1<l&&k.Zx(this.Jh)>n)){for(var m=0;m<l;m++){c.w(m,f);if(b&&0!=d.gd.ge(a,f,0))return 0;h=w.qe(f,!1);f.sub(w.gc(h));h=f.qk();if(h<n){if(0==h)return 0;n=h}}b=!1}}return Math.sqrt(n)};b.prototype.wF=function(a,c){for(var b=1.7976931348623157E308,g=new d.b,k=new d.b,n,f=a.D(),h=c.D(),l=0;l<f;l++)if(a.w(l,g),!(1<h&&this.Jh.ZK(g)>b))for(var w=0;w<h;w++)if(c.w(w,k),n=d.b.sc(g,k),n<b){if(0==n)return 0;b=n}return Math.sqrt(b)};b.prototype.rZ=
function(a,c,b,g){if(1736==a.G()){for(;g.Ya();)if(g.Ea()){var e=g.ba();if(0!=d.gd.ge(a,e.Bc(),0))return!0}g.yj()}if(1736==c.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=d.gd.ge(c,a.Bc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,c){if(a.u()||c.u())return NaN;a.s(this.Zj);c.s(this.Jh);return this.$R(a,c)};return b}(),f=function(b){function a(){b.apply(this,arguments)}B(a,b);a.prototype.V=function(a,b,g){if(null==a||null==b)throw d.g.F();if(a.u()||b.u())return NaN;var c,e;c=a.G();e=b.G();
if(33==c){if(33==e)return d.b.Cb(a.w(),b.w());if(197==e)return g=new d.h,b.s(g),g.Cb(a.w());c=new d.Ed;c.add(a);a=c}else if(197==c){if(197==e)return e=new d.h,a.s(e),g=new d.h,b.s(g),g.Cb(e);c=new d.Ja;c.jd(a,!1);a=c}33==e?(e=new d.Ed,e.add(b),b=e):197==e&&(e=new d.Ja,e.jd(b,!1),b=e);return(new h(g)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(d.ef);d.iN=f})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e){this.LI=
b;this.TI=a;this.ke=e;this.lI=c}f.prototype.next=function(){var b=this.LI.next();return null==b?null:this.lD(b)};f.prototype.Ia=function(){return this.LI.Ia()};f.prototype.lD=function(b){var a=b.G();if(d.T.Jo(a))return b;if(197==a)return a=new d.Ja(b.description),a.jd(b,!1),this.lD(a);if(b.u())return b;if(null==b)throw d.g.za();for(var a=b.Ka(),c=new d.Hb,e=0,g=b.aa();e<g;e++)this.pM(b,e,a,c);return a};f.prototype.pM=function(b,a,c,e){if(!(2>b.La(a))){var g=b.wa(a),k=b.Gc(a)-1,n=b.Pa(0),f=b.Qb(a),
h=new d.ia(0);h.yb(b.La(a)+1);var l=new d.ia(0);l.yb(b.La(a)+1);h.add(f?g:k);h.add(g);for(g=new d.b;1<h.size;){var w=h.Fc();h.Pf();var m=h.Fc();b.w(w,g);e.Mc(g);b.w(m,g);e.Zc(g);m=this.lM(e,g,n,w,m,k);0<=m?(h.add(m),h.add(w)):l.add(w)}f||l.add(h.get(0));if(l.size==h.size)c.Ti(b,a,!0);else if(2<=l.size&&(!this.lI||2!=l.size||!(f||d.b.Cb(b.Ba(l.get(0)),b.Ba(l.get(1)))<=this.TI))){a=new d.Wa;e=0;for(k=l.size;e<k;e++)b.Ae(l.get(e),a),0==e?c.Rf(a):c.lineTo(a);f&&(this.lI||2!=l.size||c.lineTo(a),c.sq())}}};
f.prototype.lM=function(b,a,c,e,d,k){var g=d-1;d<=e&&(g=k);k=d=-1;for(e+=1;e<=g;e++){c.fc(2*e,a);var f=a.x,h=a.y;b.gc(b.qe(a,!1),a);a.x-=f;a.y-=h;f=a.length();f>this.TI&&f>k&&(d=e,k=f)}return d};f.prototype.Re=function(){return!0};return f}();d.jN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 29};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.jN(a,c,b,g)};b.local=function(){null===
b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.HD=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,k,n,f,h){return a instanceof d.T?(h=new d.hd(a),this.V(h,c,b,[g],k,n,!1,f).next()):!0===f?(b=new d.KD(a,c,b,g,k,!1,!1,h),d.ei.local().V(b,c,h)):new d.KD(a,c,b,g,k,!1,!1,h)};b.$=null;return b}(d.ef);d.JD=h})(h||(h={}));(function(d){var h=
function(){function f(b,a,c,e,g,k,n,f){if(k)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.yt=e;this.Po=g;this.To=-1;this.mc=f;this.vV=new d.h;this.vV.Oa()}f.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.SS(b,this.yt[this.To]);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.SS=function(b,a){return d.sM.buffer(b,this.Rg,this.$e,a,this.Po,this.mc)};f.prototype.Re=
function(){return!0};return f}();d.KD=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g){if(null==c)throw d.g.F();if(a.u()||1>a.tb())return 0;if(4==b)throw d.g.df();var e=d.fb.lc(c),n=d.fb.hw(e),f=d.fb.Sv(e),n=n*(2-n),h=e.Vd().Ai,l=a.G(),w;1736==l||197==l?w=a.Gg():d.T.Oc(l)?(w=new d.Ua(a.description),w.dc(a,!0)):w=a;if(0==e.Eb(c)){if(d.fb.Jc(c)){w=
d.gi.Mj(w,c);1607==l&&w==a&&(w=d.T.oe(a));a=new d.zc;d.fb.Bh(c).Sn(a);for(var l=0,m=w.D();l<m;l++){var p=w.Ba(l);p.x=d.gi.Nn(p.x,a);w.rb(l,p)}}a=w.Ka();w=d.gi.OJ(c,e,w,a,g)?a:d.fb.Xg(w,c,e,g)}return this.bS(w,b,f,n,h)};b.prototype.bS=function(a,c,b,g,k){var e=new d.ea(0),f=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=a.ba(),l=h.ec(),h=h.Bc();l.scale(k);h.scale(k);d.mb.Ld(b,g,l.x,l.y,h.x,h.y,e,null,null,c);f+=e.j}return f};b.$=null;return b}(d.ef);d.mN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,
arguments)}B(b,f);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,k){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g,k).next()):new d.lN(a,b,g,c,-1,-1,k)};b.$=null;return b}(d.ef);d.kN=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e,g,k){if(0<k)throw d.g.df();if(4!=c&&0<g)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.CV=e;this.BV=g}f.prototype.next=function(){for(var b;null!=
(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Hz(b);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.Hz=function(b){return d.Ej.Ls(b,this.Rg,this.$e,this.CV,this.BV,this.mc)};f.prototype.Re=function(){return!0};return f}();d.lN=h})(h||(h={}));(function(d){(function(d){d[d.Unknown=0]="Unknown";d[d.Contains=1]="Contains";d[d.Within=2]="Within";d[d.Equals=3]="Equals";d[d.Disjoint=4]="Disjoint";d[d.Touches=8]="Touches";d[d.Crosses=16]="Crosses";d[d.Overlaps=32]="Overlaps";d[d.NoThisRelation=
64]="NoThisRelation";d[d.Intersects=1073741824]="Intersects";d[d.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(d.BM||(d.BM={}));var h=function(){function f(){}f.s_=function(b,a,c,e){if(a.u()||b.u())return 4;var g=b.G(),k=a.G(),n;d.T.Oc(g)&&(b=n=new d.Ua(b.description),n.dc(b,!0));d.T.Oc(k)&&(a=n=new d.Ua(a.description),n.dc(a,!0));switch(g){case 33:switch(k){case 33:return f.FN(b,a,c);case 197:return f.te(f.CD(a,b,c));case 550:return f.te(f.aE(a,b,c));case 1607:return f.te(f.aD(a,b,c,
e));case 1736:return f.te(f.oE(a,b,c))}throw d.g.za();case 197:switch(k){case 33:return f.CD(b,a,c);case 197:return f.JM(b,a,c);case 550:return f.te(f.TD(a,b,c,e));case 1607:return f.te(f.tE(a,b));case 1736:return f.te(f.kE(a,b))}throw d.g.za();case 550:switch(k){case 33:return f.aE(b,a,c);case 197:return f.TD(b,a,c,e);case 550:return f.ZD(b,a,c,e);case 1607:return f.te(f.vE(a,b));case 1736:return f.te(f.mE(a,b))}throw d.g.za();case 1607:switch(k){case 33:return f.aD(b,a,c,e);case 197:return f.tE(b,
a);case 550:return f.vE(b,a);case 1607:return f.mO(b,a);case 1736:return f.te(f.rE(a,b))}throw d.g.za();case 1736:switch(k){case 33:return f.oE(b,a,c);case 197:return f.kE(b,a);case 550:return f.mE(b,a);case 1607:return f.rE(b,a);case 1736:return f.XN(b,a)}throw d.g.za();default:throw d.g.za();}};f.FN=function(b,a,c){b=b.w();a=a.w();return f.iE(b,a,c)};f.iE=function(b,a,c){b.sub(a);return b.qk()<=c*c?3:4};f.CD=function(b,a,c){var e=new d.h;b.s(e);b=a.w();return f.QM(e,b,c)};f.QM=function(b,a,c){b.O(-c,
-c);if(b.contains(a))return 1;b.O(c,c);return b.contains(a)?8:4};f.UM=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};f.JM=function(b,a,c){var e=new d.h;b.s(e);b=new d.h;a.s(b);return f.NM(e,b,c)};f.NM=function(b,a,c){var e=0;b.contains(a)&&(e|=1);a.contains(b)&&(e|=2);if(0!=e)return e;b.O(-c,-c);a.O(-c,-c);if(b.Yb(a))return e=b,e.O(c,c),e=e.contains(a)?1:0,a.O(c,c),e|=a.contains(b)?2:0,0!=e?e:32;e=b;e.O(c,c);a.O(c,c);return e.Yb(a)?8:4};f.aE=function(b,a,c){a=a.w();return f.cE(b,a,c)};
f.cE=function(b,a,c){for(var e=0,d=b.D();e<d;e++){var k;k=b.Ba(e);k=f.iE(k,a,c);if(4!=k)return 0!=(k&2)&&1!=d?1:k}return 4};f.TD=function(b,a,c,e){var g=new d.h;a.s(g);return f.aN(b,g,c,e)};f.aN=function(b,a,c,e){a.O(-c,-c);a.O(c,c);for(var d=c=0,k=b.D();d<k;d++){var n;n=b.Ba(d);n=f.te(f.UM(a,a,n));if(4!=n&&(c|=n,4==e))return 1073741824}return 0==c?4:2==c?c:32};f.ZD=function(b,a,c,e){for(var d=0,k=0,n=a.D();k<n;k++){var r;r=a.Ba(k);r=f.cE(b,r,c);if(4!=r&&(d++,4==e))return 1073741824}return 0<d?d==
a.D()?3==e?(r=f.ZD(a,b,c,1),1==r?3:0):1:32:0};f.aD=function(b,a,c,e){a=a.w();return f.iO(b,a,c,e)};f.XM=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Hi);if(null!=c){c=c.rm(a.x,a.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};f.iO=function(b,a,c,e){if(0==(e&1073741839))return 64;var g=f.XM(b,a);if(0<g)return g;c*=c;for(g=b.Fa();g.Ya();){var k=g.Ta;if(!b.Qb(k)){var n=b.La(k),k=b.wa(k);if(0==n)continue;if(d.b.sc(b.Ba(k),a)<=c||1<n&&d.b.sc(b.Ba(k+n-1),a)<=c)return 8}if(8!=e)for(;g.Ea();)if(n=
g.ba(),n=n.gc(n.qe(a,!1)),d.b.sc(n,a)<=c)return 0!=(e&1073741828)?1073741824:1}return 0!=(e&1073741828)?4:64};f.tE=function(b,a){var c=new d.h;a.s(c);return f.eO(b,c)};f.eO=function(b,a){b=f.eq(b,a);return 0<b?b:0};f.eq=function(b,a){b=b.ob;if(null!=b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};f.vE=function(b,a){var c=new d.h;a.s(c);c=f.eq(b,c);return 0<c?c:0};f.uv=function(b,a){var c=new d.h;a.s(c);c=f.eq(b,c);return 0<c?c:-1==c&&(c=new d.h,
b.s(c),c=f.eq(a,c),0<c)?f.te(c):0};f.mO=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.oE=function(b,a,c){a=a.w();return f.RN(b,a,c)};f.RN=function(b,a,c){b=d.gd.ge(b,a,c);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw d.g.za();};f.kE=function(b,a){var c=new d.h;a.s(c);return f.ON(b,c)};f.ON=function(b,a){b=f.eq(b,a);return 0<b?b:0};f.mE=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.rE=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.XN=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.kX=function(b,a){var c=
b.G(),e=a.G(),g;if(d.T.gh(c)&&(g=b.ob,null!=g&&(g=g.Hi,null!=g))){if(33==e){var k=a.w();g=g.rm(k.x,k.y)}else k=new d.h,a.s(k),g=g.Rn(k);if(1==g)return 1;if(0==g)return 4}if(d.T.gh(e)&&(g=a.ob,null!=g&&(g=g.Hi,null!=g))){33==c?(c=b.w(),g=g.rm(c.x,c.y)):(c=new d.h,b.s(c),g=g.Rn(c));if(1==g)return 2;if(0==g)return 4}return 0};f.te=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return f}();d.nN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);
b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,c,b,g,k){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,g,k).next()):void 0===k?new d.LD(a,c,b,g,-1):new d.LD(a,c,b,g,k)};b.prototype.qo=function(a,c,b){if(!this.wv(a))return!1;c=d.na.ah(c,a,!1);var e=a.Hj(b);return e=e||a.Xu(c,b)};b.prototype.wv=function(a){return d.xy.bz(a)};b.$=null;return b}(d.ef);d.tk=h})(h||(h={}));(function(d){var h=function(){function f(b,
a,c,e,g){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.sf=a.next();this.$j=this.sf.G();this.mc=e;this.ej=g;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw d.g.F("bad dimension mask");}f.prototype.next=function(){if(this.ot)return null;var b;if(null!=this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.LU(b);return b=this.ox.next()}return null};f.prototype.Ia=function(){return this.Ca};f.prototype.Ma=
function(b){var a=this.oL(b);if(null!=a)return a;var a=d.na.Zv(this.sf,b),c=d.na.be(this.Rg,a,!0),a=new d.h;this.sf.s(a);var e=new d.h;b.s(e);a.O(2*c,2*c);a.Ma(e);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);b=d.ne.clip(b,a,0,0);return d.Dg.nw(b,c,this.Rg,this.mc)};f.prototype.JJ=function(b,a,c){var e=0;if(0!=(a&1))null==c[0]&&(c[0]=new d.Ed(b)),e++;else for(var g=0;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&2))null==c[e]&&(c[e]=new d.Ua(b)),e++;else for(g=e;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&4))null==
c[e]&&(c[e]=new d.Ja(b)),e++;else for(g=e;g<c.length-1;g++)c[g]=c[g+1];if(3!=e){b=[];for(g=0;g<e;g++)b[g]=c[g];return new d.hd(b)}return new d.hd(c)};f.prototype.LU=function(b){var a=this.oL(b);if(null!=a){var c=[null,null,null];c[a.tb()]=a;return this.JJ(b.description,this.ej,c)}a=d.na.Zv(this.sf,b);c=d.na.be(this.Rg,a,!0);a=new d.h;this.sf.s(a);a.O(2*c,2*c);var e=new d.h;b.s(e);a.Ma(e);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);a=d.ne.clip(b,a,0,0);c=d.Dg.wA(a,c,this.Rg,this.mc);return this.JJ(b.description,
this.ej,c)};f.prototype.oL=function(b){var a=d.na.Zv(b,this.sf),c=d.na.be(this.Rg,a,!0),a=b.G(),e=b.u(),g=this.sf.u(),g=e||g;if(!g){g=new d.h;b.s(g);var k=new d.h;this.sf.s(k);k.O(2*c,2*c);g=!g.Yb(k)}if(!g)if(k=d.nN.kX(this.sf,b),4==k)g=!0;else{if(0!=(k&2))return this.sf;if(0!=(k&1))return b}if(g)return c=d.T.lf(a),g=d.T.lf(this.$j),c<g?f.$(b,e):c>g?this.dK():0==c?550==a&&33==this.$j?this.dK():f.$(b,e):f.$(b,e);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return c=this.sf,a=new d.h,b.s(a),e=
new d.h,c.s(e),a.Ma(e),c=new d.ci,b.copyTo(c),c.Gp(a),c;if(197==a&&0==d.T.lf(this.$j)||197==this.$j&&0==d.T.lf(a))return e=197==a?b:this.sf,b=197==a?this.sf:b,a=new d.h,e.s(a),d.ne.clip(b,a,c,0);if(0==d.T.lf(a)&&0<d.T.lf(this.$j)||0<d.T.lf(a)&&0==d.T.lf(this.$j)){c=d.na.ah(this.Rg,b,!1);if(550==a||33==a)return d.Dg.MH(b,this.sf,c);if(550==this.$j||33==this.$j)return d.Dg.MH(this.sf,b,c);throw d.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?
null:this.lL(this.sf,b):this.lL(b,this.sf)};f.prototype.lL=function(b,a){var c=b,e=a,g=d.na.ah(this.Rg,a,!1),k=new d.h;e.s(k);var n=new d.h;c.s(n);n.O(2*g,2*g);k.Ma(n);k.O(10*g,10*g);var c=b=d.ne.clip(b,k,0,0),n=new d.ia(0),f=-1,h=e.ob;if(null!=h){var l=h.Hi;if(null!=l){f=0;n.yb(c.D()+c.aa());for(var w=new d.h,m=c.Fa();m.Ya();)for(;m.Ea();){m.ba().s(w);var p=l.Rn(w);1==p?n.add(1):0==p?n.add(0):(n.add(-1),f++)}}}5<a.D()&&(e=a=d.ne.clip(a,k,0,0),h=e.ob);0>f&&(f=c.jA());k=c.D()+e.D();if(f*e.D()>Math.log(k)*
k*4)return null;k=null;f=e.Fa();null!=h&&null!=h.Mb&&(k=h.Mb);null==k&&20<e.D()&&(k=d.na.BF(e));e=b.Ka();h=null;l=c.Fa();w=[0,0,0,0,0,0,0,0,0];m=new d.Qd(0);p=new d.Cg;b=-1;for(var u=0,q=0,t=0<n.size,v=-1;l.Ya();){var v=l.Ta,x=0;b=-1;for(u=0;l.Ea();){var B=t?d.J.truncate(n.get(q)):-1;q++;var y=l.ba();if(0>B){if(null!=k)for(null==h?h=k.qT(y,g):h.Wn(y,g),B=h.next();-1!=B;B=h.next()){f.Tb(k.ja(B));for(var B=f.ba(),C=y.Ma(B,null,w,null,g),B=0;B<C;B++)m.add(w[B])}else for(f.yj();f.Ya();)for(;f.Ea();)for(B=
f.ba(),C=y.Ma(B,null,w,null,g),B=0;B<C;B++)m.add(w[B]);if(0<m.size){m.Gd(0,m.size,function(a,c){return a-c});var A=0;m.add(1);for(var C=-1,B=0,E=m.size;B<E;B++){var D=m.get(B);if(D!=A){var F=!1;0!=A||1!=D?(y.yh(A,D,p),A=p.get()):(A=y,F=!0);if(2<=x){e.Bs(c,v,b,u,3==x);if(1!=this.fF(a,A.ec(),g)&&1!=this.gF(a,A,g))return null;e.dc(A,!1);x=1;u=0}else switch(C=this.gF(a,A,g),C){case 1:F?2>x?(b=l.Db()-c.wa(v),u=1,x=0==x?3:2):u++:(e.dc(A,0==x),x=1);break;case 0:x=0;b=-1;u=0;break;default:return null}A=D}}}else{B=
this.fF(a,y.ec(),g);if(0>B)return null;1==B?(2>x&&(b=l.Db()-c.wa(v),x=0==x?3:2),u++):(b=-1,u=0)}m.clear(!1)}else 0!=B&&1==B&&(0==x?(x=3,b=l.Db()-c.wa(v)):1==x?(x=2,b=l.Db()-c.wa(v)):u++)}2<=x&&(e.Bs(c,v,b,u,3==x),b=-1)}return e};f.prototype.fF=function(b,a,c){return d.ff.kn(b,a,c)};f.prototype.gF=function(b,a,c){var e=a.ec();a=a.Bc();var g=d.ff.kn(b,e,c),k=d.ff.kn(b,a,c);if(1==g&&0==k||0==g&&1==k)return-1;if(0==g||0==k)return 0;if(1==g||1==k)return 1;g=new d.b;g.add(e,a);g.scale(.5);b=d.ff.kn(b,g,
c);return 0==b?0:1==b?1:-1};f.$=function(b,a){return a?b:b.Ka()};f.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};f.prototype.Re=function(){return!0};return f}();d.LD=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,k,n,f){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g,k,n,f).next()):new d.oN(a,c,b,
g,k,n,f)};b.$=null;return b}(d.ef);d.MD=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e,d,k,n){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=c;this.jj=e;this.jB=d;this.GI=k;this.ke=n}f.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.bN(b)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.bN=function(b){var a;a=0>=this.GI?d.na.ah(this.fk,b,!1):this.GI;return d.UL.V(b,this.Qa,this.jj,this.jB,a,this.ke)};f.prototype.Re=function(){return!0};
return f}();d.oN=h})(h||(h={}));(function(d){(function(d){d[d.clipToDomainOnly=1]="clipToDomainOnly";d[d.clipWithHorizon=2]="clipWithHorizon";d[d.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(d.Up||(d.Up={}));var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b).next()):new d.pN(a,c,b)};b.prototype.transform=function(a,
c,b,g){return d.ko.transform(a,c,b,g,!0)};b.prototype.jL=function(a,c,b){return d.ko.jL(a,c,b)};b.prototype.Du=function(a,c,b,g){return d.ko.Du(a,c,b,g)};b.prototype.XY=function(a,c,b,g){return d.ko.gs(a,c,b,g)};b.prototype.iL=function(a,c,b,g){return d.ko.iL(a,c,b,g)};b.$=null;return b}(d.ef);d.os=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c){this.Ca=-1;this.ie=b;this.LV=a;this.ke=c}f.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),d.ko.Xg(b,this.LV,
this.ke)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.pN=h})(h||(h={}));(function(d){var h=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Yk=-1;this.qt=this.$q=!1};b.prototype.tS=function(a,c,b){for(a.Tb(c,b);a.Ea();){var e=a.ba(),e=e.Rb();if(0!=e)return a.Db()}for(a.Tb(c,b);a.pA();)if(e=a.Li(),e=e.Rb(),0!=e)return a.Db();return-1};b.prototype.uS=function(a,c){for(a.Tb(c,-1);a.pA();)if(0!=a.Li().Rb())return a.Db();return-1};
b.prototype.sS=function(a,c){a.Tb(c,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.rS=function(a,c,b,g){this.Yk=this.tS(c,b,g);if(-1!=this.Yk){c.Tb(this.Yk,-1);var e=c.ba(),n=e.gc(e.qe(a,!1));b=d.b.sc(n,a);g=new d.b;g.L(n);g.sub(e.ec());n=new d.b;n.L(a);n.sub(e.ec());this.$q=0>g.Ui(n);this.Lh=this.sS(c,this.Yk);if(-1!=this.Lh){c.Tb(this.Lh,-1);var e=c.ba(),f=e.qe(a,!1),f=e.gc(f),h=d.b.sc(f,a);h>b?this.Lh=-1:(g.L(f),g.sub(e.ec()),n.L(a),n.sub(e.ec()),this.qt=0>g.Ui(n))}-1==
this.Lh&&(this.Lh=this.uS(c,this.Yk),-1!=this.Lh&&(c.Tb(this.Lh,-1),e=c.ba(),f=e.qe(a,!1),f=e.gc(f),h=d.b.sc(f,a),h>b?this.Lh=-1:(g.L(f),g.sub(e.ec()),n.L(a),n.sub(e.ec()),this.qt=0>g.Ui(n),a=this.Yk,this.Yk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.eQ=function(a,c,b,d,k){b=b.Fa();this.rS(a,b,d,k);if(-1!=this.Yk&&-1==this.Lh)return this.$q;if(-1!=this.Yk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Yk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);c=b.ba().Eg(0);return 0<=
a.Ui(c)?!0:!1}return c};return b}(),f=function(b){function a(){b.apply(this,arguments)}B(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.$z=function(a,b,g,k){void 0===k&&(k=!1);if(a.u())return new d.Mm;b=b.w();var c=a,e=a.G();197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.FJ(c,b);case 550:return this.rJ(c,b);case 1607:case 1736:return this.$V(c,b,g,k);default:throw d.g.X("not implemented");}};a.prototype.aA=function(a,
b){if(a.u())return new d.Mm;b=b.w();var c=a,e=a.G();197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.FJ(c,b);case 550:case 1607:case 1736:return this.rJ(c,b);default:throw d.g.X("not implemented");}};a.prototype.bA=function(a,b,g,k){if(0>k)throw d.g.F();if(a.u())return[];b=b.w();var c=a,e=a.G();197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.FW(c,b,g,k);case 550:case 1607:case 1736:return this.cW(c,b,g,k);default:throw d.g.X("not implemented");}};a.prototype.$V=
function(a,b,g,k){if(1736==a.G()&&g&&(g=new d.h,a.s(g),g=d.na.be(null,g,!1),0!=(k?d.gd.ge(a,b,0):d.gd.ge(a,b,g)))){var c=new d.Mm(b,0,0);k&&c.NK(!0);return c}for(var e=a.Fa(),c=new d.b,f=g=-1,l=1.7976931348623157E308,w=0;e.Ya();)for(;e.Ea();){var m=e.ba(),m=m.gc(m.qe(b,!1)),p=d.b.sc(m,b);p<l?(w=1,c=m,g=e.Db(),f=e.Ta,l=p):p==l&&w++}c=new d.Mm(c,g,Math.sqrt(l));k&&(e.Tb(g,f),m=e.ba(),k=0>d.b.zp(b,m.ec(),m.Bc()),1<w&&(w=new h,w.reset(),k=w.eQ(b,k,a,g,f)),c.NK(k));return c};a.prototype.FJ=function(a,
b){a=a.w();b=d.b.Cb(a,b);return new d.Mm(a,0,b)};a.prototype.rJ=function(a,b){var c=a.Pa(0);a=a.D();for(var e=0,n=0,f=0,h=1.7976931348623157E308,l=0;l<a;l++){var w=new d.b;c.fc(2*l,w);var m=d.b.sc(w,b);m<h&&(n=w.x,f=w.y,e=l,h=m)}c=new d.Mm;c.Ly(n,f,e,Math.sqrt(h));return c};a.prototype.FW=function(a,b,g,k){if(0==k)return g=[];g*=g;a=a.w();b=d.b.sc(a,b);b<=g?(g=[],k=new d.Mm,k.Ly(a.x,a.y,0,Math.sqrt(b)),g[0]=k):g=[];return g};a.prototype.cW=function(a,b,g,k){if(0==k)return k=[];var c=a.Pa(0),e=a.D();
a=[];var f=0;g*=g;for(var h=0;h<e;h++){var l=c.read(2*h),m=c.read(2*h+1),p=b.x-l,u=b.y-m,p=p*p+u*u;p<=g&&(u=new d.Mm,u.Ly(l,m,h,Math.sqrt(p)),f++,a.push(u))}b=a.length;a.sort(function(a,c){return a.Qa<c.Qa?-1:a.Qa==c.Qa?0:1});if(k>=b)return a.slice(0);a.length=k;return a.slice(0)};a.$=null;return a}(d.ef);d.sy=f})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 4};b.prototype.V=function(a,c,b,g,k){return d.Nm.ZB(a,c,b,g,k)};b.local=
function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=function(a,c,b){return d.Gu.UE(a,c,b)};b.$=null;return b}(d.ef);d.qN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 33};b.prototype.V=function(a,c,b,g,k){return 1073741824===a?!d.Fd.$B(c,b,g,4,k):d.Fd.$B(c,b,g,a,k)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=
function(a,c,b){return d.Gu.UE(a,c,b)};b.$=null;return b}(d.ef);d.Gj=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e){this.ke=e;this.sV=c;this.Ca=-1;if(null==b)throw d.g.F();this.Zk=b;this.fk=a}f.prototype.next=function(){var b;return null!=(b=this.Zk.next())?(this.Ca=this.Zk.Ia(),this.DC(b)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.DC=function(b){if(null==b)throw d.g.F();return d.ty.TK(b,this.fk,this.sV,this.ke)};f.prototype.Re=function(){return!0};return f}();
d.rN=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 26};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.rN(a,c,b,g)};b.prototype.Wq=function(a,c,b,g,k){return 0<(void 0!==g?d.ty.Wq(a,c,b,g,k):d.ty.Wq(a,c,!1,null,b))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.Km=h})(h||(h={}));(function(d){var h=function(){function a(){this.nr=0}a.prototype.iY=
function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();d.KZ=h;var f=function(){return function(){}}(),b=function(){return function(a,b,c,e){this.x=a;this.y=b;this.$i=c;this.ln=e}}(),a=function(){function a(a){this.bf=a}a.prototype.compare=function(a,b,c){a=a.ja(c);b=this.bf.Nf.read(2*b);a=this.bf.Nf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),c=function(){function a(a){this.bf=a}a.prototype.compare=
function(a,b,c){b=this.bf.ib[b];a=this.bf.ib[a.ja(c)];var e=b.fn(),d=a.fn();c=b.Le.pf(this.bf.wp,0);var g=a.Le.pf(this.bf.wp,0);c==g&&(c=Math.min(e?b.Le.ra:b.Le.oa,d?a.Le.ra:a.Le.oa),e=.5*(c-this.bf.wp)+this.bf.wp,e==this.bf.wp&&(e=c),c=b.Le.pf(e,0),g=a.Le.pf(e,0));return c<g?-1:c>g?1:0};return a}(),e=function(){function a(a,b){this.QJ=new d.b;this.parent=a;this.ZT=b}a.prototype.hs=function(a,b,c){var e=this.parent,d=this.ZT;c.Gd(a,b,function(a,b){return e.ki(a,b,d)})};a.prototype.Qq=function(a){a=
this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),g=function(){function g(a,b,c,e,g){this.zI=a.description;this.Y=a;this.mh=b;this.hk=d.na.ah(this.mh,a,!1);this.pp=d.na.ah(this.mh,a,!0);this.eB=c;this.qV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=new d.Xp;this.hb=new d.uk;this.we=new d.$d;this.kI=this.Ul=g}g.prototype.BA=function(){this.kI=!0;return(!d.T.Ic(this.Y.G())||this.OF()&&this.NF(!1))&&this.qQ()?d.T.Ic(this.Y.G())?
this.tQ()?1607==this.Y.G()?this.vQ()?2:0:this.wQ()?this.xQ():0:0:2:0};g.prototype.JC=function(a,b){var c=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var e=this.Nf.read(2*b);b=this.Nf.read(2*b+1);var g=!d.Iu.pw(c,a,e,b,this.hk*this.hk);return g?g:0==this.Y.tb()?!1:c==e&&a==b};g.prototype.OF=function(){for(var a=this.Y,b=a.$f?3:2,c=0,e=a.aa();c<e;c++)if(a.La(c)<b)return this.we=new d.$d(1,c,0),!1;return!0};g.prototype.NF=function(a){for(var b=this.Y,c=b.Fa(),e=b.hasAttribute(1),b=e?d.na.GF(this.mh,b,!1):
0;c.Ya();)for(;c.Ea();){var g=c.ba();if(!(g.Rb()>this.hk)){if(a&&e){var k=g.dt(1,0),g=g.dt(1,0);if(Math.abs(g-k)>b)continue}this.we=new d.$d(2,c.Db(),-1);return!1}}return!0};g.prototype.qQ=function(){var b=this.Y,c=null;d.T.Ic(this.Y.G())&&(c=this.Y);var g=(this.kI||this.Ul)&&null!=c,k=b.D();this.Nf=b.Pa(0);this.Gi=new d.ia(0);this.Gi.yb(2*k);this.Fi=new d.ia(0);this.Fi.yb(2*k);g&&(null==this.im&&(this.im=new d.ia(0)),this.im.yb(k));for(var f=b=0;f<k;f++)if(this.Gi.add(2*f),this.Gi.add(2*f+1),this.Fi.add(2*
f),this.Fi.add(2*f+1),g){for(;f>=c.Gc(b);)b++;this.im.add(b)}(new d.Hu).sort(this.Fi,0,2*k,new e(this,g));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(k);c=0;for(k*=2;c<k;c++)if(g=this.Fi.get(c),b=this.Gi.get(g),g=b>>1,0==(b&1)){b=this.hb.addElement(g,-1);f=this.hb.Ve(b);if(-1!=f&&!this.JC(this.hb.ja(f),g))return this.we=new d.$d(3,g,this.hb.ja(f)),!1;var h=this.hb.nb(b);if(-1!=h&&!this.JC(this.hb.ja(h),g))return this.we=new d.$d(3,g,this.hb.ja(h)),!1}else if(b=this.hb.search(g,-1),f=this.hb.Ve(b),
h=this.hb.nb(b),this.hb.Kd(b,-1),-1!=f&&-1!=h&&!this.JC(this.hb.ja(f),this.hb.ja(h)))return this.we=new d.$d(3,this.hb.ja(f),this.hb.ja(h)),!1;return!0};g.prototype.tQ=function(){return 10>this.Y.D()?this.rQ():this.sQ()};g.prototype.sQ=function(){var a=new d.fd;a.Jb(this.Y);var b=new d.$d;return d.Ku.tJ(!1,a,this.hk,b,this.ke)?(b.lm=a.Za(b.lm),b.mm=a.Za(b.mm),this.we.ms(b),!1):!0};g.prototype.rQ=function(){for(var a=this.Y,b=a.Fa(),a=a.Fa();b.Ya();)for(;b.Ea();){var c=b.ba();if(!b.Io()||!b.UU()){a.zX(b);
do for(;a.Ea();){var e=a.ba(),e=c.ys(e,this.hk,!0);if(0!=e)return this.we=new d.$d(2==e?5:4,b.Db(),a.Db()),!1}while(a.Ya())}}return!0};g.prototype.wQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.kC();var b=new d.ia(0);b.yb(10);for(var c=NaN,e=0,g=0,a=2*a.D();g<a;g++){var k=this.Fi.get(g),k=this.Gi.get(k);if(0==(k&1)){var k=k>>1,f=this.Nf.read(2*k),h=this.Nf.read(2*k+1);if(0!=b.size&&(f!=c||h!=e)){if(!this.KJ(b))return!1;null!=b&&b.clear(!1)}b.add(k);c=f;e=h}}return this.KJ(b)?
!0:!1};g.prototype.vQ=function(){for(var a=this.Y,b=Array(a.aa()),c=0,e=a.aa();c<e;c++)b[c]=a.Eo(c);var e=new f,g,k,h,l=new d.b,c=this.Fi.get(0),c=this.Gi.get(c),m=c>>1;this.Nf.fc(2*m,l);c=this.im.get(m);g=b[c];k=a.wa(c);h=a.Gc(c)-1;e.Il=m==k||m==h;e.Uy=this.Ul?!g&&e.Il:e.Il;e.$i=c;e.x=l.x;e.y=l.y;e.ln=m;for(var p=new f,u=1,q=this.Fi.size;u<q;u++)if(c=this.Fi.get(u),c=this.Gi.get(c),0==(c&1)){m=c>>1;this.Nf.fc(2*m,l);c=this.im.get(m);c!=e.$i&&(g=b[c],k=a.wa(c),h=a.Gc(c)-1);var t,v=m==k||m==h;t=this.Ul?
!g&&e.Il:e.Il;p.x=l.x;p.y=l.y;p.$i=c;p.ln=m;p.Uy=t;p.Il=v;if(p.x==e.x&&p.y==e.y)if(this.Ul){if(!p.Uy||!e.Uy)if(p.$i!=e.$i||!p.Il&&!e.Il)return this.we=new d.$d(8,p.ln,e.ln),!1}else if(!p.Il||!e.Il)return this.we=new d.$d(5,p.ln,e.ln),!1;c=e;e=p;p=c}return!0};g.prototype.QF=function(){for(var a=this.Y,c=[],e=-1,g=!1,k=0,f=a.aa();k<f;k++)a.rw(k)&&(g=!1,e++,k<f-1&&(a.rw(k+1)||(g=!0))),c[k]=g?e:-1;var g=new d.b,k=this.Fi.get(0),k=this.Gi.get(k),h=k>>1;this.Nf.fc(2*h,g);for(var k=this.im.get(h),e=new b(g.x,
g.y,k,h,c[k]),a=[],l=1,f=this.Fi.size;l<f;l++)if(k=this.Fi.get(l),k=this.Gi.get(k),0==(k&1)){h=k>>1;this.Nf.fc(2*h,g);k=this.im.get(h);k=new b(g.x,g.y,k,h,c[k]);if(k.x==e.x&&k.y==e.y){if(k.$i==e.$i)return this.we=new d.$d(9,k.ln,e.ln),!1;0<=c[k.$i]&&c[k.$i]==c[e.$i]&&(0!=a.length&&a[a.length-1]==e||a.push(e),a.push(k))}e=k}if(0==a.length)return!0;k=new d.Xp(!0);d.J.Nv(c,-1);g=-1;l=new d.b;l.$c();e=0;for(f=a.length;e<f;e++){h=a[e];if(h.x!=l.x||h.y!=l.y)g=k.mi(0),l.x=h.x,l.y=h.y;var m=c[h.$i];-1==m&&
(m=k.mi(2),c[h.$i]=m);k.addElement(m,g);k.addElement(g,m)}f=new d.ia(0);f.yb(10);for(e=k.Ge;-1!=e;e=k.cA(e))if(a=k.$G(e),0==(a&1)&&0!=(a&2)){a=-1;f.add(e);for(f.add(-1);0<f.size;){g=f.Fc();f.Pf();l=f.Fc();f.Pf();h=k.$G(l);if(0!=(h&1)){a=0==(h&2)?g:l;break}k.aY(l,h|1);for(h=k.xc(l);-1!=h;h=k.nb(h))m=k.getData(h),m!=g&&(f.add(m),f.add(l))}if(-1!=a){k=-1;e=0;for(f=c.length;e<f;e++)if(c[e]==a){k=e;break}this.we=new d.$d(10,k,-1);return!1}}return!0};g.prototype.xQ=function(){var a=this.Y;if(0>=a.hf())return this.we=
new d.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.QF()?0:2;this.hp=d.ia.zd(a.aa(),0);this.qB=d.ia.zd(a.aa(),-1);for(var b=-1,e=0,g=0,k=a.aa();g<k;g++){var f=a.Sm(g);this.hp.write(g,0>f?0:256);if(0<f)b=g,e=f;else{if(0==f)return this.we=new d.$d(6,g,-1),0;if(0>b||e<Math.abs(f))if(this.we=new d.$d(7,g,-1),this.Ul)return 0;this.qB.write(g,b)}}this.Wt=a.aa();this.Bn=new d.ia(0);this.Bn.yb(10);k=a.D();this.wp=NaN;a=new d.ia(0);a.yb(10);this.Jr=d.ia.zd(k,-1);this.ux=d.ia.zd(k,-1);null!=
this.Yj?this.Yj.clear(!1):this.Yj=new d.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new c(this));b=0;for(k*=2;0<this.Wt&&b<k;b++)if(e=this.Fi.get(b),e=this.Gi.get(e),0==(e&1)){e>>=1;g=this.Nf.read(2*e+1);if(g!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(e);this.wp=g}return 0<this.Wt&&!this.ju(a)?0:this.Ul?0==this.we.Ii&&this.QF()?2:0:0==this.we.Ii?2:1};g.prototype.KJ=function(a){if(1==a.size)return!0;for(var b=0,c=a.size;b<c;b++){var e=a.get(b);this.ug.Tb(e);var g=this.ug.Li();
this.ib.push(this.Gv(g,e,this.ug.Ta,!0));this.ug.ba();g=this.ug.ba();this.ib.push(this.Gv(g,e,this.ug.Ta,!1))}var k=this;this.ib.sort(function(a,b){return k.VR(a,b)});e=this.Hh.Ge;-1==e&&(e=this.Hh.mi(0));this.Hh.Vn(this.ib.length);b=0;for(c=this.ib.length;b<c;b++)this.Hh.addElement(e,b);for(var b=!0,n=c=-1;b;){b=!1;g=this.Hh.xc(e);if(-1==g)break;for(var f=this.Hh.nb(g);-1!=f;){c=this.Hh.getData(g);n=this.Hh.getData(f);c=this.ib[c].up;n=this.ib[n].up;if(c==n)if(b=!0,this.Hh.kd(e,g),g=this.Hh.Ve(f),
f=this.Hh.kd(e,f),-1==f||-1==g)break;else continue;g=f;f=this.Hh.nb(g)}}b=this.Hh.at(e);this.Hh.RF(e);if(0<b)return this.we=new d.$d(5,c,n),!1;b=0;for(c=a.size;b<c;b++)this.WB(this.ib[b]);this.ib.length=0;return!0};g.prototype.ju=function(a){for(var b=0,c=a.size;b<c;b++){var e=a.get(b),g=this.Jr.read(e);if(-1!=g){var k=this.hb.ja(g);this.Yj.add(k);this.hb.Kd(g,-1);this.WB(this.ib[k]);this.ib[k]=null;this.Jr.write(e,-1)}g=this.ux.read(e);-1!=g&&(k=this.hb.ja(g),this.Yj.add(k),this.hb.Kd(g,-1),this.WB(this.ib[k]),
this.ib[k]=null,this.ux.write(e,-1))}b=0;for(c=a.size;b<c;b++){e=a.get(b);this.ug.Tb(e);g=this.ug.Li();if(g.ra>g.oa){var n=this.ug.Db(),f=this.Gv(g,e,this.ug.Ta,!0);0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=f):(k=this.ib.length,this.ib.push(f));g=this.hb.addElement(k,-1);-1==this.Jr.read(n)?this.Jr.write(n,g):this.ux.write(n,g);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(g)}this.ug.ba();g=this.ug.ba();g.ra<g.oa&&(n=this.ug.Ik(),f=this.Gv(g,e,this.ug.Ta,!1),0<this.Yj.size?(k=this.Yj.Fc(),
this.Yj.Pf(),this.ib[k]=f):(k=this.ib.length,this.ib.push(f)),g=this.hb.addElement(k,-1),-1==this.Jr.read(n)?this.Jr.write(n,g):this.ux.write(n,g),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(g))}b=0;for(c=this.Bn.size;b<c&&0<this.Wt;b++)if(g=this.Bn.get(b),0==(this.hp.read(this.ib[this.hb.ja(g)].pB)&3)){a=-1;for(var e=this.hb.Ve(g),h=g,f=null,k=-1,l=0;-1!=e;){k=this.hb.ja(e);f=this.ib[k];k=f.pB;l=this.hp.read(k);if(0!=(l&3))break;h=e;e=this.hb.Ve(e)}-1==e?(n=1,e=h):(a=1==(l&3)?k:this.qB.read(k),
n=0!=f.hH()?0:1,e=this.hb.nb(e));do{k=this.hb.ja(e);f=this.ib[k];k=f.pB;h=this.hp.read(k);if(0==(h&3)){if(n!=f.hH())return this.we=new d.$d(6,k,-1),!1;l=0==n||f.fn()?2:1;h=h&252|l;this.hp.write(k,l);if(2==l&&0==this.we.Ii&&this.qB.read(k)!=a&&(this.we=new d.$d(7,k,-1),this.Ul))return!1;this.Wt--;if(0==this.Wt)return!0}1==(h&3)&&(a=k);h=e;e=this.hb.nb(e);n=0!=n?0:1}while(h!=g)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new d.ia(0);return!0};g.prototype.Gv=function(a,b,c,e){if(322==a.G())a=this.sR(a);
else throw d.g.za();a.up=b;a.pB=c;a.nr=0;a.iY(e);return a};g.prototype.sR=function(a){var b;0<this.cp.length?(b=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(b.Le)):(b=new h,b.Le=d.dE.oe(a));return b};g.prototype.WB=function(a){322==a.Le.G()&&this.cp.push(a)};g.prototype.aW=function(){for(var a=this.Y.D(),b=new d.ia(0),c=0;c<a;c++)b.add(c);var e=this;b.Gd(0,a,function(a,b){return e.Cv(a,b)});for(c=1;c<a;c++)if(0==this.Cv(b.get(c-1),b.get(c)))return this.we=new d.$d(3,b.get(c-1),b.get(c)),0;
return 2};g.prototype.KW=function(){return this.OF()?this.NF(!0)?2:0:0};g.prototype.IW=function(){return this.BA()};g.prototype.bW=function(){for(var a=this.Y.D(),b=new d.ia(0),c=0;c<a;c++)b.add(c);var e=this;b.Gd(0,a,function(a,b){return e.TQ(a,b)});var g=Array(a);d.J.Nv(g,!1);g[b.get(0)]=!0;for(c=1;c<a;c++){var k=b.get(c-1),f=b.get(c);0==this.Cv(k,f)?g[f]=!1:g[f]=!0}for(var b=this.Y.Ka(),k=this.Y,f=0,h=1,c=0;c<a;c++)g[c]?h=c+1:(f<h&&b.Id(k,f,h),f=c+1);f<h&&b.Id(k,f,h);b.Zg(2,this.pp);return b};
g.prototype.LW=function(){var a=this.Y,b=a.Fa(),c=a.Fa(),e=this.Y.Ka(),g=this.Y,k=a.hasAttribute(1),f=k?d.na.GF(this.mh,a,!0):0,h=new d.ia(0),l=new d.ia(0);h.yb(d.J.truncate(a.D()/2+1));for(l.yb(d.J.truncate(a.D()/2+1));b.Ya();)if(c.Ya(),!(2>a.La(b.Ta))){c.BX();for(var m,p,u=!0;b.Ea();){var q=b.ba(),t=c.Li();if(b.Db()>c.Db())break;u&&(h.add(b.Db()),l.add(c.Ik()),u=!1);p=h.Fc();var v=b.Ik();if(1<v-p){var x=new d.b;x.yc(a.Ba(p),a.Ba(v));m=x.length()}else m=q.Rb();p=l.Fc();v=c.Db();1<v-p?(x=new d.b,
x.yc(a.Ba(p),a.Ba(v)),p=x.length()):p=t.Rb();m>this.pp?h.add(b.Ik()):k&&(m=a.Yc(1,h.Fc(),0),q=q.Os(1,0),Math.abs(q-m)>f&&h.add(b.Ik()));p>this.pp?l.add(c.Db()):k&&(m=a.Yc(1,l.Fc(),0),q=t.Os(1,0),Math.abs(q-m)>f&&l.add(c.Db()))}h.Fc()<l.Fc()?h.size>l.size?h.Pf():l.Pf():(h.Fc()!=l.Fc()&&l.Pf(),l.Pf());if(2<=l.size+h.size){u=new d.Wa;t=0;for(q=h.size;t<q;t++)g.Ae(h.get(t),u),0==t?e.Rf(u):e.lineTo(u);for(t=l.size-1;0<t;t--)g.Ae(l.get(t),u),e.lineTo(u);g.Qb(b.Ta)?e.sq():0<l.size&&(g.Ae(l.get(0),u),e.lineTo(u))}null!=
h&&h.clear(!1);null!=l&&l.clear(!1)}e.Zg(2,this.pp);return e};g.prototype.JW=function(){return this.yY()};g.prototype.yY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return d.Dg.nl(this.Y,this.pp,!0,!1,this.ke);this.gj=new d.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.eB&&d.sk.V(this.gj,this.pp,this.ke,!0),1736==this.Y.G()&&d.lo.V(this.gj,this.gj.rd,this.eB,!1,this.ke));this.Y=this.gj.Se(this.gj.rd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};g.tc=function(a,
b,c){if(a.u())return 1;var e=a.G();if(33==e)return 1;if(197==e)return c=new d.h,a.s(c),c.fh(d.na.ah(b,a,!1))?0:1;if(d.T.Oc(e))throw d.g.za();if(!d.T.gh(e))throw d.g.za();var e=d.na.ah(b,a,!1),k=a.Kk(e);c=c?-1:k;if(-1!=c)return c;1==c&&(e=0);c=(new g(a,b,c,0,!1)).BA();a.Zg(c,e);return c};g.Wq=function(a,b,c,e,k){null!=e&&(e.Ii=0,e.lm=-1,e.mm=-1);if(a.u())return 1;var n=a.G();if(33==n)return 1;var f=d.na.ah(b,a,!1);if(197==n)return b=new d.h,a.s(b),b.fh(f)?(null!=e&&(e.Ii=2,e.lm=-1,e.mm=-1),0):1;if(d.T.Oc(n))return f=
new d.Ua(a.description),f.dc(a,!0),g.Wq(f,b,c,e,k);k=a.Kk(f);c=c?-1:k;if(-1!=c)return c;b=new g(a,b,c,0,!1);if(550==n)c=b.aW();else if(1607==n)c=b.KW();else if(1736==n)c=b.IW();else throw d.g.za();a.Zg(c,f);null!=e&&0==c&&e.ms(b.we);return c};g.Bb=function(a,b,c,e,k){null!=e&&(e.Ii=0,e.lm=-1,e.mm=-1);if(a.u())return 1;var n=a.G();if(33==n)return 1;var f=d.na.ah(b,a,!1);if(197==n)return b=new d.h,a.s(b),b.fh(f)?(null!=e&&(e.Ii=2,e.lm=-1,e.mm=-1),0):1;if(d.T.Oc(n))return n=new d.Ua(a.description),n.dc(a,
!0),g.Wq(n,b,c,e,k);a=new g(a,b,-1,0,!0);if(550==n||1607==n||1736==n)b=a.BA();else throw d.g.za();null!=e&&e.ms(a.we);return b};g.TK=function(a,b,c,e){if(a.u())return a;var k=a.G();if(33==k)return a;var n=d.na.ah(b,a,!1);if(197==k)return b=new d.h,a.s(b),b.fh(n)?a.Ka():a;if(d.T.Oc(k))return k=new d.Ua(a.description),k.dc(a,!0),g.TK(k,b,c,e);e=a.Kk(n);c=c?-1:e;if(2==c)return a;a=new g(a,b,c,0,!1);if(550==k)a=a.bW();else if(1607==k)a=a.LW();else if(1736==k)a=a.JW();else throw d.g.za();return a};g.EC=
function(a,b,c,e){if(a.u())return a;var k=a.G();if(33==k)return a;var n=d.na.ah(b,a,!1);if(197==k)return b=new d.h,a.s(b),b.fh(n)?a.Ka():a;if(d.T.Oc(k))return n=new d.Ua(a.description),n.dc(a,!0),g.EC(n,b,c,e);if(!d.T.gh(k))throw d.g.X("OGC simplify is not implemented for this geometry type "+k);return d.Dg.EC(a,n,!1,e)};g.prototype.ki=function(a,b,c){if(a==b)return 0;a=this.Gi.get(a);var e=this.Gi.get(b);b=a>>1;var g=e>>1,k=new d.b,n=new d.b;this.Nf.fc(2*b,k);k.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*
g,n);n.y+=0!=(e&1)?this.hk:-this.hk;a=k.compare(n);return 0==a&&c?(c=this.im.get(b)-this.im.get(g),0>c?-1:0<c?1:0):a};g.prototype.Cv=function(a,b){if(a==b)return 0;var c=this.Y,e=c.Ba(a),g=c.Ba(b);if(e.x<g.x)return-1;if(e.x>g.x)return 1;if(e.y<g.y)return-1;if(e.y>g.y)return 1;for(e=1;e<this.qV;e++)for(var g=this.zI.qd(e),k=d.ma.Xa(g),n=0;n<k;n++){var f=c.Yc(g,a,n),h=c.Yc(g,b,n);if(f<h)return-1;if(f>h)return 1}return 0};g.prototype.TQ=function(a,b){var c=this.Cv(a,b);return 0==c?a<b?-1:1:c};g.prototype.VR=
function(a,b){if(a===b)return 0;var c=a.Le.Eg(a.fn()?1:0);a.fn()&&c.Lr();a=b.Le.Eg(b.fn()?1:0);b.fn()&&a.Lr();b=c.$u();var e=a.$u();return e==b?(b=c.Ui(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*c.y)+Math.abs(a.y*c.x))&&(b--,b++),0>b?1:0<b?-1:0):b<e?-1:1};return g}();d.ty=g})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,b,e,g){return a instanceof
d.T?(a=new d.hd(a),b=new d.hd(b),this.V(a,b,e,g).next()):new d.sN(a,b,e,g)};b.Pp=function(a,c,e,g){var k=a.tb(),n=c.tb();if(a.u()&&c.u())return k>n?a:c;if(a.u())return c;if(c.u())return a;var f=new d.h,h=new d.h,l=new d.h;a.s(f);c.s(h);l.I(f);l.Nb(h);f=d.na.be(e,l,!0);h=a.G();l=c.G();return 33==h&&33==l?b.oO(a,c,f):h!=l?0<k||0<n?k>n?a:c:550==h?b.XJ(a,c,f):b.XJ(c,a,f):d.Dg.Pp(a,c,e,g)};b.oO=function(a,b,e){e=e*Math.sqrt(2)*1.00001;e*=e;var c=a.w(),k=b.w(),n=new d.Ed(a.description);d.b.sc(c,k)>e&&(n.add(a),
n.add(b));return n};b.XJ=function(a,b,e){var c=a.Pa(0),k=a.D(),n=b.w(),f=a.Ka();e=e*Math.sqrt(2)*1.00001;var h=new d.h;a.s(h);h.O(e,e);if(h.contains(n)){e*=e;for(var h=!1,l=[],m=0;m<k;m++)l[m]=!1;for(m=0;m<k;m++){var p=c.read(2*m),u=c.read(2*m+1),p=p-n.x,u=u-n.y;p*p+u*u<=e&&(h=!0,l[m]=!0)}if(h)for(m=0;m<k;m++)l[m]||f.Id(a,m,m+1);else f.Id(a,0,k),f.add(b)}else f.Id(a,0,k),f.add(b);return f};b.$=null;return b}(d.ef);d.uy=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c,e){this.ot=null==
a;this.Ca=-1;this.ie=b;this.Rg=c;this.MV=a.next();this.mc=e}f.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.uy.Pp(b,this.MV,this.Rg,this.mc)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.sN=h})(h||(h={}));(function(d){var h=function(){function a(){}a.prototype.kw=function(){this.Iz=null;this.gy=-1;this.rL=!1};return a}(),f=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.qP=
function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.MW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,d){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.TA=!1;this.al=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.mc=d}a.tc=function(a){var b=[],c=0;for(a=Object.keys(a);c<a.length;c++)b.push(Number(a[c]));
b.sort(function(a,b){return a-b});return b};a.prototype.sH=function(b){var c=this.rp[b],g=a.tc(c)[0],k=c[g],n=k.Ty().Iz,k=k.Ty().rL;delete c[g];k&&(n=d.Km.local().V(n,this.Rg,!1,this.mc),0==b&&33==n.G()&&(b=new d.Ed(n.description),n.u()||b.add(n),n=b));return n};a.prototype.next=function(){if(this.Pc&&this.Ro==this.al)return null;for(;!this.cL(););if(-1==this.al)return null;if(this.TA){for(this.Ro++;;){if(this.Ro>this.al||0>this.Ro)throw d.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=
0;this.Ro=this.al;return this.sH(this.al)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.al&&!this.TA&&(this.dF(b,!1,a),b>this.al&&!this.TA&&this.xX(b))}if(0<this.Yq)for(b=0;b<=this.al;b++)for(;1<this.jr[b];)if(a=this.JQ(b),0!=a.length)a=d.Dg.SR(a,this.Rg,this.mc),this.dF(b,!0,a);else break;return this.Pc};a.prototype.JQ=function(b){for(var c=
[],d=[],k=this.rp[b],n=a.tc(k),f=0;f<n.length;f++){var h=n[f],l=k[h];if(this.Pc||1E4<l.Es&&1<l.Pj.length){this.jr[b]-=l.Pj.length;for(this.Yq-=l.Pj.length;0<l.Pj.length;)c.push(l.Ty().Iz),l.MW();d.push(h)}}for(f=0;f<d.length;f++)delete k[d[f]];return c};a.prototype.xX=function(a){for(var b=0;b<a;b++)this.rp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.dF=function(b,e,d){var c=new h;c.kw();c.Iz=d;d=a.Mg(d);c.gy=d;d=a.We(d);if(b+1>this.rp.length)for(var g=0,r=Math.max(2,b+1);g<r;g++)this.rp.push([]);
g=this.rp[b][d];void 0===g&&(g=new f,this.rp[b][d]=g);c.rL=e;g.qP(c);this.jr[b]++;this.Yq++;this.al=Math.max(this.al,b)};a.We=function(a){return 0<a?d.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var b=a.G();if(d.T.gh(b))return a.D();if(33==b)return 1;if(197==b)return 4;if(d.T.Oc(b))return 2;throw d.g.za();};a.prototype.Re=function(){return this.cL()};return a}();d.uN=b})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments)}B(b,f);b.prototype.G=function(){return 1};
b.prototype.V=function(a,b,e,g){return void 0===g?new d.uN(a,b,e):this.aS(a,b,e,g)};b.prototype.aS=function(a,b,e,g){a=new d.hd([a,b]);return this.V(a,e,g).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.ei=h})(h||(h={}));(function(d){var h;(function(d){d[d.nextPath=0]="nextPath";d[d.nextSegment=1]="nextSegment";d[d.iterate=2]="iterate"})(h||(h={}));h=function(){function f(b,a,c,e){this.Ot=new d.h;this.FV=b;this.GV=a;this.br=e;this.ip=-1;this.Vl=!1;var g=
b.ob;null!=g&&(g=e?g.np:g.Mb,null!=g&&(this.Pc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,e?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(g=a.ob,null!=g&&(g=e?g.np:g.Mb,null!=g&&(this.Pc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=0,e?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=e?d.na.eT(b,a,c,1<=b.Kk(0),1<=a.Kk(0)):d.na.dT(b,a,c))}f.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.iW();
break;case 1:b=this.jW();break;case 2:b=this.DA();break;default:throw d.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};f.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};f.prototype.Ml=function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};f.prototype.fA=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):
this.Ot:this.Ci.fA(this.Ci.sg)};f.prototype.Jz=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Jz(this.Ci.bg)};f.prototype.iW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=!0,!1;this.cr?this.GV.jk(this.ip,this.Ot):this.FV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};f.prototype.jW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();
this.lx.Wn(b,this.ta);this.Zb=2;return!0};f.prototype.DA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return f}();d.Lm=h})(h||(h={}));(function(d){d=d.CN||(d.CN={});d[d.enumClosed=1]="enumClosed";d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";d[d.enumOGCStartPolygon=4]="enumOGCStartPolygon";d[d.enumCalcMask=4]="enumCalcMask"})(h||(h={}));(function(d){var h=function(){function f(){}f.Cb=function(b,a,c,e,g,k,n,h,l){var r=[0,0,0],z=[0,0,0],m=[0,0,0],p=
[0,0,0,0],u=new d.ea(0),q=new d.ea(0),t=new d.ea(0);if(null!=n||null!=h||null!=l)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,k,n,h,l);else{g=d.C.da(g);c=d.C.da(c);var v=d.C.da(g-c);if(d.l.W(e,k)&&(d.l.W(c,g)||d.l.W(d.l.K(e),1.570796326794897)))null!=n&&(n.j=0),null!=h&&(h.j=0),null!=l&&(l.j=0);else{if(d.l.W(e,-k)){if(d.l.W(d.l.K(e),1.570796326794897)){null!=n&&(n.j=2*d.C.Yg(b,a));null!=h&&(h.j=0<e?d.C.da(3.141592653589793-d.C.da(g)):d.C.da(g));null!=l&&(l.j=0<e?d.C.da(g):d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(v),
3.141592653589793)&&(null!=n&&(n.j=2*d.C.Yg(b,a)),null!=h&&(h.j=0),null!=l&&(l.j=0))}else{if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(k),1.570796326794897)){d.xl.Cb(b,a,c,e,g,k,n,h,l);return}if(d.l.W(c,g)||d.l.W(d.l.K(v),3.141592653589793)){d.xl.Cb(b,a,c,e,g,k,n,h,l);return}if(d.l.xd(e)){d.xl.Cb(b,a,c,e,g,k,n,h,l);return}}var x=Math.sqrt(1-a);g=d.C.da(g-c);c=0;d.C.Ck(1,a,e,c,0,u,q,t);r[0]=u.j;r[1]=q.j;r[2]=t.j;d.C.Ck(1,a,k,g,0,u,q,t);z[0]=u.j;z[1]=q.j;z[2]=t.j;m[0]=0;m[1]=0;m[2]=-1*a*d.C.n(1,
a,e)*Math.sin(e);0>g?d.C.Or(m,z,r,p,0):d.C.Or(m,r,z,p,0);for(var q=[0,0,0],t=[0,0,0],B=[0,0,0],r=[0,0,0],u=[0,0,0],y=Math.acos(p[2]/1),C=1-a,A=Math.tan(y),E=1+A*A/C,D=2*m[2]*A/C,A=Math.sqrt(D*D-4*E*(m[2]*m[2]/C-1)),E=2*E,C=(-D+A)/E,D=(-D-A)/E,A=Math.tan(y),E=A*C+m[2],y=(C+D)/2,m=(E+(A*D+m[2]))/2,A=d.C.Sp(C-y,E-m),C=m/x*1.570796326794897,D=0;100>D;D++){E=d.C.Cm(a,C);E=E*E/Math.cos(C)*(Math.sin(C)-m*E/(1*(1-a)));if(d.l.xd(E))break;C-=E}var m=d.C.n(1,a,C)*Math.cos(C),m=Math.sqrt((m-y)*(m+y)),A=1-A/m,
A=A*(2-A),E=d.C.eo(q),y=d.C.eo(t),C=d.C.eo(B),F=d.C.Eu(B,q),D=d.C.Eu(B,t);d.C.fy(B,q,r);d.C.fy(B,t,u);q=Math.acos(F/(C*E));t=Math.acos(D/(C*y));t*=d.l.Ab(1,d.C.Eu(r,u));if(1.570796326794897<=d.l.K(q)&&1.570796326794897<=d.l.K(t)||3.141592653589793<d.l.K(q-t))q=(3.141592653589793-d.l.K(q))*d.l.Ab(1,q),t=(3.141592653589793-d.l.K(t))*d.l.Ab(1,t);r=d.C.ik(A,t);u=d.C.q(m,A,d.C.ik(A,q));r=d.C.q(m,A,r);r=d.l.K(r-u)*b;q=new d.ea(0);t=new d.ea(0);B=p[1]/1;B*=-d.l.Ab(1,v);u=Math.acos(B)*d.l.Ab(1,v);f.Uf(b,
a,c,e,r,u,q,t);d.l.W(g,q.j)&&d.l.W(k,t.j)||(A=d.C.Sp(d.C.da(g-q.j),k-t.j),f.Uf(b,a,c,e,r,d.C.da(u+3.141592653589793),q,t),E=d.C.Sp(d.C.da(g-q.j),k-t.j),E<A&&(u=d.C.da(u+3.141592653589793)));q=[0,0,0,0];t=[0,0,0,0];m=[0,0,0];A=[0,0,0];b=[0,0,0];c=[0,0,0];e=[0,0,0];B=[0,0,0];m[0]=0;m[1]=0;m[2]=x;A[0]=0;A[1]=0;A[2]=0;d.C.Or(A,m,z,q,0);d.l.xd(k)?(b[0]=z[0],b[1]=z[1],b[2]=1,c[0]=1*Math.cos(g)-1*Math.sin(g),c[1]=1*Math.sin(g)+1*Math.cos(g)):(a=d.C.n(1,a,k)*Math.cos(k),b[0]=0,b[1]=0,z[2]+=Math.tan(1.570796326794897-
d.l.K(k))*a*d.l.Ab(1,k),c[0]=a*Math.cos(g)-a*Math.sin(g),c[1]=a*Math.sin(g)+a*Math.cos(g));c[2]=z[2];d.C.Or(z,c,b,t,1);d.C.fy(t,q,e);d.C.fy(t,p,B);B=d.C.Eu(e,B)/(d.C.eo(e)*d.C.eo(B));B*=d.l.Ab(1,v);g=Math.acos(B)*-d.l.Ab(1,v);0<u&&0<g?g=d.C.da(g+3.141592653589793):0>u&&0>g&&(g=d.C.da(g+3.141592653589793));null!=n&&(n.j=r);null!=h&&(h.j=u);null!=l&&(l.j=g)}}};f.Uf=function(b,a,c,e,g,k,n,f){var h=[0,0,0],r=[0,0,0],l=[0,0,0],m=[0,0,0],p=[0,0,0],u=[0,0,0],q=[0,0,0],t=[0,0,0,0],v=new d.ea(0),x=new d.ea(0),
B=new d.ea(0),y=new d.ea(0),A=new d.ea(0),C=new d.ea(0);if(null!=n&&null!=f)if(d.l.Qi(a))d.vh.Uf(b,c,e,g,k,n,f);else if(d.l.xd(g))null!=n&&(n.j=c),null!=f&&(f.j=e);else if(k=d.C.da(k),0>g&&(g=d.l.K(g),k=d.C.da(k+3.141592653589793)),c=d.C.da(c),e=d.C.da(e),1.570796326794897<d.l.K(e)&&(c=d.C.da(c+3.141592653589793),e=d.l.Ab(3.141592653589793,e)-e),d.l.W(d.l.K(e),1.570796326794897)||d.l.xd(e)||d.l.xd(k)||d.l.W(d.l.K(k),3.141592653589793))d.xl.Uf(b,a,c,e,g,k,n,f);else{var E=Math.sqrt(1-a);b=g/b;d.C.Ck(1,
a,e,0,0,y,A,C);h[0]=y.j;h[1]=A.j;h[2]=A.j;q[0]=0;q[1]=0;q[2]=-1*a*d.C.n(1,a,e)*Math.sin(e);y=d.C.n(1,a,e);A=d.C.da(1.570796326794897-k);C=Math.sin(A);g=Math.cos(e);e=Math.sin(e);p[0]=y*g-e*C;p[1]=Math.cos(A);p[2]=(1-a)*y*e+g*C;0>k?d.C.Or(q,p,h,t,0):d.C.Or(q,h,p,t,0);h=Math.acos(t[2]/1);t=Math.atan2(-t[1],-t[0]);e=1-a;p=Math.tan(h);A=1+p*p/e;y=2*q[2]*p/e;p=Math.sqrt(y*y-4*A*(q[2]*q[2]/e-1));A*=2;e=(-y+p)/A;y=(-y-p)/A;p=Math.tan(h);A=p*e+q[2];h=(e+y)/2;q=(A+(p*y+q[2]))/2;p=d.C.Sp(e-h,A-q);E=q/E*1.570796326794897;
for(e=0;100>e;e++){y=d.C.Cm(a,E);y=y*y/Math.cos(E)*(Math.sin(E)-q*y/(1*(1-a)));if(d.l.xd(y))break;E-=y}E=d.C.n(1,a,E)*Math.cos(E);E=Math.sqrt((E-h)*(E+h));q=1-p/E;q*=2-q;u=Math.acos(d.C.Eu(u,r)/(d.C.eo(u)*d.C.eo(r)));u*=d.l.Ab(1,r[0]);k=(d.C.q(E,q,d.C.ik(q,u))+b*d.l.Ab(1,k))/d.C.Yg(E,q);k=d.C.da(1.570796326794897*k);k=d.C.xp(q,k);d.C.n(E,q,k);p=d.C.da(t+c);c=Math.cos(p);k=Math.sin(p);l[0]=m[0]*c+m[1]*-k;l[1]=m[0]*k+m[1]*c;l[2]=m[2];d.C.kQ(a,l[0],l[1],l[2],B,x,v);null!=n&&(n.j=x.j);null!=f&&(f.j=B.j)}};
return f}();d.WD=h})(h||(h={}));(function(d){var h=function(){function a(a){this.ab=null;this.mu=new d.b;this.nu=new d.b;this.a=a}a.prototype.compare=function(a,b,c){this.a.Nc(b,this.mu);this.a.Nc(a.ja(c),this.nu);return this.mu.compare(this.nu)};return a}(),f=function(){function a(a){this.cg=new d.b;this.el=new d.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.a.Nc(a.ja(b),this.el);return this.cg.compare(this.el)};return a}(),b=function(a){function b(b){a.call(this,
b.a,b.ta,!1);this.bb=b}B(b,a);b.prototype.compare=function(a,b,c){if(this.Ng)return-1;var e=this.bb.he.yo(this.bb.ri(b));a=a.ja(c);var d=this.bb.he.yo(this.bb.ri(a));this.rn=c;return this.YF(b,e,a,d)};return b}(d.gE),a=function(a){function b(b){a.call(this,b.a,b.ta);this.bb=b}B(b,a);b.prototype.compare=function(a,b){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(b)));this.rn=b;return this.ZF(b,a)};return b}(d.bO),c=function(){function c(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Nd=this.ib=
this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.gl=this.Ih=this.bl=this.gg=this.xe=null;this.Vh=this.zr=this.BB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new d.b;this.oj=new d.b;this.ib=new d.ad(8);this.Nd=new d.ad(5);this.Gh=new d.Lu;this.he=new d.Lu;this.ih=!1;this.Th=new d.b;this.Th.ka(0,0);this.ta=0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new d.uk;this.Tc=new d.uk;this.Ih=new d.ia(0);this.gl=new d.eE;this.gg=new d.ia(0);this.bl=new d.ia(0);this.Xo=new d.Wa}c.prototype.JY=function(a,b){var c=
new d.Hd;c.yC();a.Xc(c);this.Yr(a);this.Lo=!1;this.ta=b;this.BB=b*b;b=this.HC();a.Xc(c);b||(this.mS(),b||this.HC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};c.prototype.NY=function(a,b){this.Yr(a);this.Lo=!1;this.ta=b;this.BB=b*b;this.ih=!1;this.HC();this.ih||(this.ih=1==a.zq(b,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};c.prototype.Jg=function(a,b){return this.ib.S(a,0+b)};c.prototype.mC=function(a,b,c){this.ib.P(a,0+b,c)};c.prototype.ri=function(a){return this.ib.S(a,
2)};c.prototype.VX=function(a,b){this.ib.P(a,2,b)};c.prototype.cH=function(a,b){return this.ib.S(a,3+b)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.um=function(a,b){this.ib.P(a,7,b)};c.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};c.prototype.Zr=function(a,b,c){this.ib.P(a,3+this.Iq(a,b),c)};c.prototype.HT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};c.prototype.as=function(a,b,c){this.ib.P(a,5+this.Iq(a,b),c)};c.prototype.Ns=function(a){return this.Nd.S(a,
0)};c.prototype.SX=function(a,b){this.Nd.P(a,0,b)};c.prototype.Nz=function(a){return this.Nd.S(a,4)};c.prototype.Vr=function(a,b){this.Nd.P(a,4,b)};c.prototype.Nl=function(a){return this.Nd.S(a,1)};c.prototype.ao=function(a,b){this.Nd.P(a,1,b)};c.prototype.Mz=function(a){return this.Nd.S(a,3)};c.prototype.tu=function(a,b){this.Nd.P(a,3,b)};c.prototype.Mn=function(a){var b=this.Nd.Pe(),c=this.Gh.mi();this.SX(b,c);-1!=a?(this.Gh.addElement(c,a),this.a.Va(a,this.Vh,b),this.Vr(b,this.a.Za(a))):this.Vr(b,
-1);return b};c.prototype.ER=function(a){this.Nd.kd(a)};c.prototype.bF=function(a,b){this.Gh.addElement(this.Ns(a),b);this.a.Va(b,this.Vh,a)};c.prototype.cu=function(a){var b=this.ib.Pe(),c=this.he.mi();this.VX(b,c);-1!=a&&this.he.addElement(c,a);return b};c.prototype.cF=function(a,b){this.he.addElement(this.ri(a),b)};c.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};c.prototype.Jj=function(a,b){if(-1==this.Jg(a,0))this.mC(a,0,b);else if(-1==this.Jg(a,1))this.mC(a,1,b);
else throw d.g.za();this.Ry(a,b)};c.prototype.Ry=function(a,b){var c=this.Nl(b);if(-1!=c){var e=this.Kq(c,b);this.as(e,b,a);this.Zr(a,b,e);this.Zr(c,b,a);this.as(a,b,c)}else this.as(a,b,a),this.Zr(a,b,a),this.ao(b,a)};c.prototype.Iq=function(a,b){return this.Jg(a,0)==b?0:1};c.prototype.Ln=function(a,b){var c=this.Mz(b);-1!=c&&(this.Hf.Kd(c,-1),this.tu(b,-1));var e,c=this.Nl(b);if(-1!=c){var d=e=c,g;do{g=!1;var k=this.Iq(e,b),f=this.cH(e,k);if(this.Jg(e,k+1&1)==a){this.Kv(e);this.he.zh(this.ri(e));
this.Jv(e);if(e==f){c=-1;break}c==e&&(c=this.Nl(b),d=f,g=!0)}e=f}while(e!=d||g);if(-1!=c){do k=this.Iq(e,b),f=this.cH(e,k),this.mC(e,k,a),e=f;while(e!=d);e=this.Nl(a);-1!=e?(d=this.Kq(e,a),g=this.Kq(c,a),d==e?(this.ao(a,c),this.Ry(e,a),this.ao(a,e)):g==c&&this.Ry(c,a),this.Zr(c,a,d),this.as(d,a,c),this.Zr(e,a,g),this.as(g,a,e)):this.ao(a,c)}}c=this.Ns(a);e=this.Ns(b);for(d=this.Gh.xc(e);-1!=d;d=this.Gh.nb(d))this.a.Va(this.Gh.ja(d),this.Vh,a);this.Gh.mz(c,e);this.ER(b)};c.prototype.UV=function(a,
b){var c=this.Jg(a,0),e=this.Jg(a,1),d=this.Jg(b,0),g=this.Jg(b,1);this.he.mz(this.ri(a),this.ri(b));b==this.Nl(c)&&this.ao(c,a);b==this.Nl(e)&&this.ao(e,a);this.Kv(b);this.Jv(b);c==d&&e==g||e==d&&c==g||(this.wo(c,this.mp),this.wo(d,this.oj),this.mp.ub(this.oj)?(c!=d&&this.Ln(c,d),e!=g&&this.Ln(e,g)):(e!=d&&this.Ln(e,d),c!=g&&this.Ln(c,g)))};c.prototype.Kv=function(a){var b=this.Jg(a,1);this.mG(a,this.Jg(a,0));this.mG(a,b)};c.prototype.mG=function(a,b){var c=this.Kq(a,b),e=this.HT(a,b),d=this.Nl(b);
c!=a?(this.Zr(e,b,c),this.as(c,b,e),d==a&&this.ao(b,c)):this.ao(b,-1)};c.prototype.jF=function(a,b,c){var e=this.he.xc(a),d=this.he.ja(e);a=this.jf(d);var g=this.jf(this.a.U(d));this.a.bs(d,b,c,!0);for(e=this.he.nb(e);-1!=e;e=this.he.nb(e)){var d=this.he.ja(e),k=this.jf(d)==a;this.a.bs(d,b,c,k)}e=b.Mq(c,0).ec();b=b.Mq(c,b.Rl(c)-1).Bc();this.sL(a,e);this.sL(g,b)};c.prototype.fG=function(a,b,c){var e=this.ri(a),d=this.Jg(a,0),g=this.Jg(a,1),k=this.cu(-1);this.Ih.add(k);this.um(k,-3);this.gg.add(k);
this.Jj(k,d);a=1;for(b=b.Rl(c);a<b;a++)c=this.Mn(-1),this.bl.add(c),this.gg.add(c),this.Jj(k,c),k=this.cu(-1),this.Ih.add(k),this.um(k,-3),this.gg.add(k),this.Jj(k,c);this.Jj(k,g);for(e=this.he.xc(e);-1!=e;e=this.he.nb(e))if(g=this.he.ja(e),this.jf(g)==d){a=0;do 0<a&&(k=this.gg.get(a-1),this.bF(k,g),-1==this.Nz(k)&&this.Vr(k,this.a.Za(g))),k=this.gg.get(a),a+=2,this.cF(k,g),g=this.a.U(g);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(k=this.gg.get(a+1),this.bF(k,g),0>this.Nz(k)&&
this.Vr(k,this.a.Za(g))),k=this.gg.get(a),a-=2,this.cF(k,g),g=this.a.U(g);while(0<=a)}this.gg.clear(!1)};c.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};c.prototype.LJ=function(a,b,c){var e=this.Jg(b,0),g=new d.b;this.wo(e,g);var k=new d.b,f=this.Jg(b,1);this.wo(f,k);var n=c.Rl(a),h=c.Mq(a,0),l=new d.b;h.Oq(l);if(!g.ub(l)){if(!this.ih){var m=g.compare(this.Th),l=l.compare(this.Th);0>m*l&&(this.ih=!0)}this.HG(e,this.gg);this.bl.add(e)}!this.ih&&1<n&&(m=g.compare(k),h=h.Bc(),g.compare(h)!=m||
h.compare(k)!=m?this.ih=!0:0>h.compare(this.Th)&&(this.ih=!0));h=c.Mq(a,n-1);a=h.Bc();k.ub(a)||(this.ih||(m=k.compare(this.Th),l=a.compare(this.Th),0>m*l&&(this.ih=!0)),this.HG(f,this.gg),this.bl.add(f));this.gg.add(b);k=0;for(f=this.gg.size;k<f;k++)a=this.gg.get(k),c=this.Jq(a),d.ad.CA(c)&&(this.Tc.Kd(c,-1),this.um(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Ih.add(a),this.um(a,-3));this.gg.clear(!1)};c.prototype.pQ=function(a,b){this.xe.compare(this.Tc,this.Tc.ja(a),b);this.xe.Ng&&(this.xe.Gs(),this.yG(a,
b))};c.prototype.yG=function(a,b){this.Lo=!0;a=this.Tc.ja(a);b=this.Tc.ja(b);var c,e;e=this.he.yo(this.ri(a));var g=this.he.yo(this.ri(b));c=this.a.ic(e);null==c&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.od(e,this.Fe),c=this.Fe);e=this.a.ic(g);null==e&&(null==this.An&&(this.An=new d.Hb),this.a.od(g,this.An),e=this.An);this.gl.Ap(c);this.gl.Ap(e);this.gl.Ma(this.ta,!0)&&(this.ih=!0);this.YK(a,b,-1,this.gl);this.gl.clear()};c.prototype.yS=function(a,b){this.Lo=!0;b=this.Tc.ja(b);var c,e=this.he.yo(this.ri(b));
c=this.a.ic(e);null==c&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.od(e,this.Fe),c=this.Fe);e=this.NG(a);this.gl.Ap(c);this.a.wj(e,this.Xo);this.gl.tA(this.ta,this.Xo,!0);this.YK(b,-1,a,this.gl);this.gl.clear()};c.prototype.tU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.QU(a)&&this.sU(a);this.Ko=!1}};c.prototype.sU=function(a){var b;this.Ko?(b=this.Tc.jv(this.$I,
this.WI,a,!0),this.Ko=!1):b=this.Tc.aF(a);-1==b?this.UV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,b),this.xe.Ng&&(this.xe.Gs(),this.yG(this.xe.rn,b)))};c.prototype.QU=function(a){var b=this.Jg(a,0);a=this.Jg(a,1);this.wo(b,this.mp);this.wo(a,this.oj);if(d.b.sc(this.mp,this.oj)<=this.BB)return this.ih=!0,-1;var c=this.mp.compare(this.Th),e=this.oj.compare(this.Th);return 0>=c&&0<e?a:0>=e&&0<c?b:-1};c.prototype.kS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var b=this.a.Qr(),c=b.next();-1!=c;c=b.next())-1!=
this.a.Sa(c,this.Vh)&&a.add(c);this.a.Xx(a,a.size);this.lS(a)};c.prototype.lS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new h(this.a));var b=new d.b;b.$c();for(var c=-1,e=new d.b,g=0,f=a.size;g<f;g++){var l=a.get(g);this.a.Nc(l,e);e.ub(b)?(l=this.a.Sa(l,this.Vh),this.Ln(c,l)):(c=this.jf(l),this.a.Nc(l,b),l=this.Hf.ro(l),this.tu(c,l))}};c.prototype.mS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var b=this.Hf.xc(-1);-1!=b;b=this.Hf.nb(b))a.add(this.Hf.ja(b));this.Hf.clear();this.a.Xx(a,
a.size);for(var b=0,c=a.size;b<c;b++){var e=a.get(b),f=this.jf(e),e=this.Hf.ro(e);this.tu(f,e)}};c.prototype.HG=function(a,b){var c=this.Nl(a);if(-1!=c){var e=c;do d.ad.CA(this.Jq(e))&&b.add(e),e=this.Kq(e,a);while(e!=c)}};c.prototype.sL=function(a,b){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),b)};c.prototype.YK=function(a,b,c,e){this.Kv(a);-1!=b&&this.Kv(b);this.LJ(0,a,e);-1!=b&&this.LJ(1,b,e);-1!=c&&(e.cg.w(this.mp),this.wo(c,this.oj),this.oj.ub(this.mp)||this.bl.add(c));
c=0;for(var d=this.bl.size;c<d;c++){var g=this.bl.get(c),k=this.Mz(g);-1!=k&&(this.Hf.Kd(k,-1),this.tu(g,-1))}c=this.ri(a);d=-1!=b?this.ri(b):-1;this.jF(c,e,0);-1!=b&&this.jF(d,e,1);this.fG(a,e,0);-1!=b&&this.fG(b,e,1);this.he.zh(c);this.Jv(a);-1!=b&&(this.he.zh(d),this.Jv(b));c=0;for(d=this.bl.size;c<d;c++)g=this.bl.get(c),g==this.zr&&(this.Kw=!0),k=this.Mz(g),-1==k&&(k=this.Hf.aF(this.NG(g)),-1==k?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,g)):this.tu(g,k));this.bl.clear(!1)};c.prototype.wo=
function(a,b){this.a.pH(this.Nz(a),b)};c.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};c.prototype.HC=function(){this.Kw=!1;this.zr=-1;null==this.xe&&(this.Tc.Dw=!1,this.xe=new b(this),this.Tc.Oo=this.xe);var c=new d.ia(0),e=null,n=null,h=0;this.WI=this.$I=-1;this.Ko=!1;for(var l=this.Hf.xc(-1);-1!=l;){h++;this.Ko=!1;var m=this.Hf.ja(l);this.zr=this.jf(m);this.a.Nc(m,this.Th);this.xe.QK(this.Th.y,this.Th.x);var p,u=this.Nl(this.zr);p=-1==u;if(!p){m=u;do{var q=this.Jq(m);-1==q?(this.Ih.add(m),
this.um(m,-3)):-3!=q&&c.add(q);m=this.Kq(m,this.zr)}while(m!=u)}if(0<c.size){this.Ko=1==c.size&&1==this.Ih.size;p=0;for(u=c.size;p<u;p++)m=this.Tc.ja(c.get(p)),this.um(m,-2);var t=-2,v=-2;p=0;for(u=c.size;p<u;p++){q=c.get(p);if(-2==t){var x=this.Tc.Ve(q);-1!=x?(m=this.Tc.ja(x),m=this.Jq(m),-2!=m&&(t=x)):t=-1}-2==v&&(q=this.Tc.nb(q),-1!=q?(m=this.Tc.ja(q),m=this.Jq(m),-2!=m&&(v=q)):v=-1);if(-2!=t&&-2!=v)break}p=0;for(u=c.size;p<u;p++)q=c.get(p),m=this.Tc.ja(q),this.Tc.Kd(q,-1),this.um(m,-1);c.clear(!1);
this.$I=-1!=t?t:-1;this.WI=-1!=v?v:-1;-1!=t&&-1!=v?this.Ko||this.pQ(t,v):-1==t&&-1==v&&(this.Ko=!1)}else p&&(null==e&&(e=new a(this)),e.Yh(this.Th),this.Tc.lK(e),e.Ng&&(e.Gs(),this.yS(this.zr,e.rn)));this.tU();this.Kw?(this.Kw=!1,null==n&&(n=new f(this.a)),n.Yh(this.Th),l=this.Hf.lK(n)):l=this.Hf.nb(l)}return this.Lo};c.prototype.Yr=function(a){this.a=a;this.Vh=this.a.Ud();this.ib.Qe(a.vd+32);this.Nd.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.rd;-1!=
a;a=this.a.Ue(a))if(d.T.Ic(this.a.hc(a)))for(l=this.a.Pb(a);-1!=l;l=this.a.Sb(l)){var b=this.a.La(l),c=this.a.cb(l),e=this.Mn(c),g=this.cu(c);this.Jj(g,e);m=this.a.U(c);c=0;for(b-=2;c<b;c++){var f=this.a.U(m),h=this.Mn(m);this.Jj(g,h);g=this.cu(m);this.Jj(g,h);m=f}this.a.Qb(l)?(h=this.Mn(m),this.Jj(g,h),g=this.cu(m),this.Jj(g,h),this.Jj(g,e)):(h=this.Mn(m),this.Jj(g,h))}else for(var l=this.a.Pb(a);-1!=l;l=this.a.Sb(l))for(var m=this.a.cb(l),e=0,b=this.a.La(l);e<b;e++)this.Mn(m),m=this.a.U(m);this.kS()};
return c}();d.XD=c})(h||(h={}));(function(d){var h=function(f){function b(a,c,e){f.call(this);if(void 0!==a)if(void 0!==e){this.description=d.ze.Ig();var g=new d.pd;g.I(a,c,e);this.CC(g)}else if(void 0!==c)this.description=d.ze.Ig(),this.rb(a,c);else if(a instanceof d.ma)this.description=a;else if(a instanceof d.b)this.description=d.ze.Ig(),this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw d.g.F();else this.description=
d.ze.Ig()}B(b,f);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a=new d.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,b){"number"===typeof a?(this.Ac(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=b):(this.Ac(),this.rb(a.x,a.y))};b.prototype.mA=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");
var a=new d.pd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=d.ma.de(1);return a};b.prototype.CC=function(a){this.Ac();var b=this.hasAttribute(1);b||d.ma.PH(1,a.z)||(this.Td(1),b=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=a.z)};b.prototype.Be=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.BC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");
return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.sY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,0)};b.prototype.cY=function(a){this.setAttribute(2,0,a)};b.prototype.Cc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.wk(c)+b]:d.ma.de(a)};b.prototype.KG=
function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.wk(c)+b]:d.ma.de(a)};b.prototype.setAttribute=function(a,b,e){this.Ac();var c=this.description.mg(a);0>c&&(this.Td(a),c=this.description.mg(a));null==this.la&&this.nq();this.la[this.description.wk(c)+b]=e};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Ac();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var b=d.ze.vx(a,
this.description),e=[],g=0,k=0,f=a.Ga;k<f;k++){var h=a.qd(k),l=d.ma.Xa(h);if(-1==b[k])for(var m=d.ma.de(h),h=0;h<l;h++)e[g]=m,g++;else for(m=this.description.wk(b[k]),h=0;h<l;h++)e[g]=this.la[m],g++,m++}this.la=e}this.description=a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.Hc()){var b=this.w();a.$h(b,b);this.rb(b)}}else this.Hc()||
(this.Td(1),b=this.mA(),this.CC(a.Rp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw d.g.F();a.Ac();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=
a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var b=this.mA();a.o=b.x;a.A=b.y;a.Bf=b.z;a.v=b.x;a.B=b.y;a.$g=b.z}};b.prototype.xf=function(a,b){var c=new d.zc;if(this.Hc())return c.Oa(),c;a=this.Yc(a,b);c.ca=a;c.ha=a;return c};b.prototype.bK=function(a){if(null==this.la)this.la=d.J.gf(a);else if(this.la.length<a){for(var b=this.la.slice(0),
e=this.la.length;e<a;e++)b[e]=0;this.la=b}};b.Bb=function(a,b,e){if(0<e)for(e=0;e<a.length;e++)b[e]=a[e]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?!0:!1;for(var c=0,e=this.description.af.length;c<e;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var b=0,e=this.description.af.length;b<e;b++)var g=this.la[b],g=d.J.truncate(g^g>>>32),a=
d.J.dh(g,a);return a};b.prototype.Gg=function(){return null};return b}(d.T);d.Wa=h})(h||(h={}));(function(d){var h=function(){function d(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}d.pa=function(b,a,c){var e=new d;e.x=b;e.y=a;e.z=c;return e};d.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};d.prototype.Vx=function(){this.z=this.y=this.x=0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};d.prototype.length=function(){return Math.sqrt(this.x*this.x+
this.y*this.y+this.z*this.z)};d.prototype.sub=function(b){return new d(this.x-b.x,this.y-b.y,this.z-b.z)};d.prototype.Vg=function(b){return new d(this.x*b,this.y*b,this.z*b)};d.prototype.dv=function(){this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};d.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return d}();d.pd=h})(h||(h={}));(function(d){var h=function(){function f(b,a,c){this.tx=this.dx=null;this.tg=a;this.EV=a.y-c;this.DV=a.y+c;this.Ir=0;this.NA=b;this.ta=c;this.QV=
c*c;this.OA=0!=c;this.yw=!1}f.prototype.result=function(){return 0!=this.Ir?1:0};f.prototype.YO=function(b){b=b.gc(b.qe(this.tg,!1));return d.b.sc(b,this.tg)<=this.QV?!0:!1};f.prototype.pG=function(b){if(!this.OA&&(this.NA&&this.tg.ub(b.ec())||this.tg.ub(b.Bc())))this.yw=!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.NA&&!this.OA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?c=!0:this.tg.x>=Math.min(b.ua,b.sa)&&
(c=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(c){if(this.tg.y==b.ec().y){if(this.tg.y<b.Bc().y)return}else if(this.tg.y==b.Bc().y&&this.tg.y<b.ec().y)return;this.Ir=this.NA?this.Ir^1:this.Ir+(b.ec().y>b.Bc().y?1:-1)}}};f.prototype.ku=function(b){var a=b.xf(0,1);if(a.ca>this.DV||a.ha<this.EV)return!1;if(this.OA&&this.YO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=
0;b<a;b++){var c=this.dx[b].get();this.pG(c);if(this.yw)return!0}else if(this.pG(b),this.yw)return!0;return!1};f.$=function(b,a,c){a=new f(0==b.xo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.ku(c))return-1;return a.result()};f.bd=function(b,a,c,e){var g=new d.h;b.ac(g);g.O(e,e);var k=new f(0==b.xo(),c,e);b=b.Fa();var n=new d.h;n.I(g);n.v=c.x+e;n.A=c.y-e;n.B=c.y+e;c=a.Yz(n,e);for(e=c.next();-1!=e;e=c.next())if(b.Tb(a.ja(e)),b.Ea()&&(e=b.ba(),k.ku(e)))return-1;return k.result()};f.kn=function(b,
a,c){if(b.u())return 0;var e=new d.h;b.ac(e);e.O(c,c);if(!e.contains(a))return 0;e=b.ob;if(null!=e){var g=e.Hi;if(null!=g){g=g.rm(a.x,a.y);if(1==g)return 1;if(0==g)return 0}e=e.Mb;if(null!=e)return f.bd(b,e,a,c)}return f.$(b,a,c)};f.XU=function(b,a,c,e){if(b.u())return 0;var g=new d.h;b.ac(g);g.O(e,e);if(!g.contains(a,c))return 0;g=b.ob;if(null!=g&&(g=g.Hi,null!=g)){g=g.rm(a,c);if(1==g)return 1;if(0==g)return 0}return f.$(b,d.b.pa(a,c),e)};f.WU=function(b,a,c){return a.u()?0:f.kn(b,a.w(),c)};f.zA=
function(b,a,c,e,g){var k=new d.h;b.ac(k);k.O(e,e);if(!k.contains(c))return 0;var n=new f(!0,c,e);if(null!=g){var h=new d.h;h.I(k);h.v=c.x+e;h.A=c.y-e;h.B=c.y+e;b=b.Fa();e=g.Yz(h,e);for(h=e.next();-1!=h;h=e.next())if(b.Tb(g.ja(h),a),b.Ea()&&b.Ta==a&&(h=b.ba(),n.ku(h)))return-1}else if(b=b.Fa(),b.fC(a),b.Ya())for(;b.Ea();)if(h=b.ba(),n.ku(h))return-1;return n.result()};f.yA=function(b,a,c){var e=new d.h;b.ac(e);e.O(c,c);if(!e.contains(a))return 0;a=new f(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Sm(c.Ta))){for(a.Ir=
0;c.Ea();)if(e=c.ba(),a.ku(e))return-1;if(0!=a.Ir)return 1}return a.result()};f.Oi=function(b,a,c,e,g){var k=b.Fa();k.fC(a);if(!k.Ya()||!k.Ea())throw d.g.X("corrupted geometry");for(a=2;2==a&&k.Ea();)a=k.ba().gc(.5),a=f.zA(b,c,a,e,g);if(2==a)throw d.g.X("internal error");return 1==a?!0:!1};f.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return f}();d.ff=h})(h||(h={}));(function(d){var h=function(d){function b(a){d.call(this,!0,a)}B(b,d);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,b,e){this.FU(a,b,e)};b.prototype.hT=function(){this.zT()};return b}(d.wl);d.Ja=h})(h||(h={}));(function(d){(function(d){d[d.PiPOutside=0]="PiPOutside";d[d.PiPInside=1]="PiPInside";d[d.PiPBoundary=2]="PiPBoundary"})(d.IN||(d.IN={}));var h=function(){function f(){}f.WH=function(b,a,c){b=d.ff.WU(b,a,c);return 0==b?0:1==b?1:2};f.ge=function(b,a,c){b=d.ff.kn(b,a,c);return 0==b?0:1==b?1:2};f.dX=function(b,
a,c,e){b=d.ff.XU(b,a,c,e);return 0==b?0:1==b?1:2};f.m_=function(b,a,c,e){return 0==d.ff.zA(b,a,c,e,null)?0:1};f.yA=function(b,a,c){return 0==d.ff.yA(b,a,c)?0:1};f.NR=function(b,a,c,e,g){if(a.length<c||g.length<c)throw d.g.F();for(var k=0;k<c;k++)g[k]=f.ge(b,a[k],e)};f.YR=function(b,a,c,e,g){if(a.length/2<c||g.length<c)throw d.g.F();for(var k=0;k<c;k++)g[k]=f.dX(b,a[2*k],a[2*k+1],e)};f.fL=function(b,a,c,e,g){if(1736==b.G())f.NR(b,a,c,e,g);else if(197==b.G()){var k=new d.h;b.s(k);f.OM(k,a,c,e,g)}else throw d.g.X("invalid_call");
};f.v_=function(b,a,c,e,g){if(1736==b.G())f.YR(b,a,c,e,g);else if(197==b.G()){var k=new d.h;b.s(k);f.SM(k,a,c,e,g)}else throw d.g.Da();};f.OM=function(b,a,c,e,g){if(a.length<c||g.length<c)throw d.g.F();if(b.u())for(e=0;e<c;e++)g[e]=0;else for(b.O(.5*-e,.5*-e),b.O(.5*e,.5*e),e=0;e<c;e++)b.contains(a[e])?g[e]=1:b.contains(a[e])?g[e]=2:g[e]=0};f.SM=function(b,a,c,e,g){if(a.length/2<c||g.length<c)throw d.g.F();if(b.u())for(e=0;e<c;e++)g[e]=0;else for(b.O(.5*-e,.5*-e),b.O(.5*e,.5*e),e=0;e<c;e++)b.contains(a[2*
e],a[2*e+1])?g[e]=1:b.contains(a[2*e],a[2*e+1])?g[e]=2:g[e]=0};f.$T=function(b,a,c,e,d){for(var g=0;g<c;g++)d[g]=b.mt(a[g],e)?2:0};f.jS=function(b,a,c,e,d){var g=b.ob,f=null;null!=g&&(f=g.Hi);for(var g=c,h=0;h<c;h++)if(d[h]=1,null!=f){var l=a[h];0==f.rm(l.x,l.y)&&(d[h]=0,g--)}if(0!=g)for(b=b.Fa();b.Ya()&&0!=g;)for(;b.Ea()&&0!=g;)for(f=b.ba(),h=0;h<c&&0!=g;h++)1==d[h]&&f.mt(a[h],e)&&(d[h]=2,g--);for(h=0;h<c;h++)1==d[h]&&(d[h]=0)};f.gL=function(b,a,c,e,g){var k=b.G();if(1607==k)f.jS(b,a,c,e,g);else if(d.T.Oc(k))f.$T(b,
a,c,e,g);else throw d.g.X("Invalid call.");};return f}();d.gd=h})(h||(h={}));(function(d){var h=function(d){function b(a,b){2==arguments.length?(d.call(this,!1,a.description),this.Rf(a),this.lineTo(b)):d.call(this,!1,a)}B(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,b,e,d){this.GU(a,b,e,d)};return b}(d.wl);d.Ua=h})(h||(h={}));(function(d){var h=function(){function d(){}d.$_=function(){};
return d}();d.d_=h})(h||(h={}));(function(d){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(d.fM||(d.fM={}));var h=function(){function a(){this.Jl=3;this.uz=this.yv=NaN}a.prototype.cU=function(){return this.et(1)};a.prototype.dU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var b=new a;b.yv=this.yv;b.uz=this.uz;b.Jl=this.Jl;return b};return a}();d.OZ=h;(function(a){a[a.Dont_Geonomalize_Polygon=
2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(d.gM||(d.gM={}));var f=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=(this.Jl&a)};a.oe=function(b){var c=new a;c.Jl=b.Jl;return c};a.prototype.FO=function(a){this.Jl=a.Jl};return a}();d.PZ=f;var b=function(){function a(a,b,g){this.je=a;this.He=b;this.rg=new d.h;this.rg.I(g);this.zV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.zV};a.prototype.Eb=
function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();d.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new h;this.EI=new f;this.xr=this.ve=null;this.sr=this.Tl=!0}a.Is=function(b,e,d,k){var c;void 0===k&&(k=null);void 0===c&&(c=null);var g=new a;g.kq(b,e,d,k,c);return g};a.prototype.kq=function(a,b,g,k,f){if(null==a||null==b)throw d.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=k&&(this.DI=k.Vf());null!=f&&this.EI.FO(f);f=
!1;1==b.Fb()&&null!=k&&(k=k.yv,isNaN(k)||0==k||(f=!0));if(a==b)this.Tl=!f,this.sr=!0;else{k=a.Fb();var c=b.Fb();if(0==k||0==c){if(null!=g)throw d.g.F();null!=a.Vd()&&null!=b.Vd()&&(this.Tl=a.Vd().Eb(b.Vd()))}else 3==k||3==c?this.Tl=a.Eb(b):this.je.iU(this.He)?this.Tl=!f:this.Tl=!1,this.ve=g,null!=this.ve&&this.ve.Mp(),this.sr=(null==this.ve||0==this.ve.count())&&this.je.lc().Eb(this.He.lc())}this.wL()};a.prototype.Wv=function(){var b=new a;b.je=this.He;b.He=this.je;null!=this.ve&&(b.ve=this.ve.Wv());
b.Tl=this.Tl;b.sr=this.sr;b.wL();return b};a.prototype.Ho=function(){return this.Tl};a.prototype.fT=function(){return this.DI.Vf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.je.Eb(b.je)&&this.He.Eb(b.He)?this.ve==b.ve?!0:null!=this.ve&&null!=b.ve&&this.ve.Eb(b.ve)?!0:!1:!1};a.prototype.wL=function(){this.xr=new d.ko(this)};a.u_={};return a}();d.rs=b})(h||(h={}));(function(d){var h=function(){function b(){}b.uq=function(a){return a*b.pO};b.Wx=function(a,c){return b.VN(c-a)};
b.cO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=d.Ub.hM(a);0>a&&(a+=360);return a};b.VN=function(a){a=b.cO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.pO=57.29577951308232;return b}();d.ls=h;var f=function(){function b(){}b.Mj=function(a,b){var c=new d.h;a.s(c);var g=d.fb.Bh(b),k=new d.h;k.I(g);k.o=c.o;k.v=c.v;k.O(.01*k.fa(),0);g=d.na.be(b,c,!1);return k.contains(c)?a:d.ne.clip(a,k,g,0)};b.ht=function(a,c,e,g,k){if(!d.fb.Jc(c))throw d.g.F();var f=d.na.ah(c,a,!1),
h=d.fb.Bh(c),l=d.fb.lc(c),m=l.Vd().Ai,p=d.fb.hw(l),l=d.fb.Sv(l),p=p*(2-p),u=new d.zc;h.Sn(u);var q=[[0,0],[0,0]];2==d.Rd.Fb(c)?g?(q[0][0]=b.Nn(k,u),q[0][1]=h.Cq(),d.fb.lu(),h=q[0][0]*m):(q[0][0]=h.Gk(),q[0][1]=k,d.fb.lu(),h=q[0][1]*m):h=k*m;if(!g&&0!=h)throw d.g.F();var t=new d.ea,v=new d.fd;a=v.Jb(a);for(var x=[0],B=new d.b,y=new d.b,A=new d.b,C=new d.b,E=new d.b,D=new d.b,F=v.Pb(a);-1!=F;F=v.Sb(F)){var H=v.cb(F);v.w(H,A);for(var G=!1,K=H=v.U(H);-1!=K;K=v.U(K)){if(K==H){if(G)break;G=!0}v.w(K,C);
if(g&&f<k-A.x&&C.x-k>f||f<k-C.x&&A.x-k>f||!g&&f<-A.y&&C.y>f||f<-C.y&&A.y>f){do if(!(Math.abs(A.x-C.x)>=.5*u.N())){2==d.Rd.Fb(c)?(q[0][0]=b.Nn(A.x,u),q[0][1]=A.y,q[1][0]=b.Nn(C.x,u),q[1][1]=C.y,d.fb.VW(),E.x=q[0][0]*m,E.y=q[0][1]*m,D.x=q[1][0]*m,D.y=q[1][1]*m):(E.x=A.x*m,E.y=A.y*m,D.x=C.x*m,D.y=C.y*m);D.x=6.283185307179586*(C.x-A.x)/u.N()+E.x;if(g){if(y.x=h,y.y=b.FB(l,p,E,D,h,e),isNaN(y.y))break}else{y.x=b.DB(l,p,E,D,e);if(isNaN(y.x))break;y.y=0}d.mb.Ld(l,p,E.x,E.y,D.x,D.y,t,null,null,e);var N=t.j;
d.mb.Ld(l,p,E.x,E.y,y.x,y.y,t,null,null,e);var Q=t.j;2==d.Rd.Fb(c)?(q[0][0]=y.x/m,q[0][1]=y.y/m,d.fb.US(),g?(B.y=q[0][1],B.x=k):(B.x=b.Zp(q[0][0],A.x,C.x,u),B.y=k)):g?(B.x=k,B.y=y.y/m):(B.x=b.Zp(y.x/m,A.x,C.x,u),B.y=k);x[0]=0<N?d.J.pk(Q/N,0,1):.5;0!=x[0]&&1!=x[0]&&(N=v.Ra(K),v.zm(N,x,1),v.rb(v.U(N),B.x,B.y))}while(0)}A.L(C)}}return v.Se(a)};b.Xm=function(a,c,e,g,k){if(a.u())return a;var f=d.fb.ee(c);return b.Aq(a,e-180*f,360*f,c,g,k,!0)};b.FB=function(a,c,e,g,k,f){if(3.141592653589793<=Math.abs(e.x-
g.x)||!b.Cj(e.x,g.x,k))return NaN;var n;e.x>g.x?n=g:(n=e,e=g);g=new d.ea(0);var h=new d.ea(0),l=new d.ea(0);d.mb.Ld(a,c,n.x,n.y,e.x,e.y,h,g,null,f);var m=h.j,p=0,u=1,q=new d.b;for(q.L(n);m*(u-p)>1E-12*a;){var t=.5*(p+u);d.mb.Oj(a,c,n.x,n.y,m*t,g.j,h,l,f);q.x=h.j;q.y=l.j;if(q.x==k)break;if(b.Cj(n.x,q.x,k))u=t;else if(b.Cj(e.x,q.x,k))p=t;else return NaN}return q.y};b.Cj=function(a,b,e){a=h.uq(a);b=h.Wx(a,h.uq(b));e=h.Wx(a,h.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};b.Nn=function(a,b){var c=
b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};b.Zp=function(a,b,e,g){var c=new d.zc;c.I(b,e);e=g.N();a=Math.floor((a-b)/e)*e+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+e-c);)a+=e;return a};b.DB=function(a,b,e,g,k){var c;e.y>g.y?c=g:(c=e,e=g);g=new d.zc;g.I(c.y,e.y);if(!g.contains(0)||3.141592653589793<=Math.abs(c.x-e.x))return NaN;if(c.x==e.x)return c.x;var f=new d.ea(0),h=new d.ea(0),l=new d.ea(0);d.mb.Ld(a,b,c.x,c.y,e.x,e.y,h,f,null,k);var m=h.j,p=0,u=1,q=new d.b;for(q.L(c);m*(u-p)>1E-12*a;){var t=
.5*(p+u);d.mb.Oj(a,b,c.x,c.y,m*t,f.j,h,l,k);q.x=h.j;q.y=l.j;g.I(c.y,q.y);if(0==q.y)break;if(g.contains(0))u=t;else if(g.I(e.y,q.y),g.contains(0))p=t;else return NaN}return q.x};b.Aq=function(a,b,e,g,k,f,h){var c=new d.h;a.s(c);if(c.u())return a;var n=new d.zc;c.Sn(n);var r=new d.zc;r.I(b,b+e);if(r.contains(n)&&r.ha!=n.ha)return a;var l=new d.h;l.I(c);var m=a.G();if(33==m){l=k?a:a.Vf();c=l.Be();if(c<r.ca||c>=r.ha||h&&c==r.ha)c+=Math.ceil((r.ca-c)/e)*e,c=r.wu(c),l.BC(c);return l}if(550==m){l=k?a:a.Vf();
g=l.Pa(0);m=2*l.D();a=!1;for(k=0;k<m;k+=2)if(c=g.read(k),c<r.ca||c>=r.ha||h&&c==r.ha)a=!0,c+=Math.ceil((r.ca-c)/e)*e,c=r.wu(c),g.write(k,c);a&&l.Dc(1993);return l}if(r.contains(n))return a;if(197==m)return e=k?a:a.Vf(),c.Ma(l),e.Gp(c),e;var p=.1*Math.max(c.fa(),c.N());l.O(0,p);h=a;r=g.se(0);a=d.ei.local();k=new d.Hd;for(var u=0;;){var q=Math.floor((n.ca-b)/e),t=Math.ceil((n.ha-b)/e);if(3<t-q){q=Math.floor(.5*(t+q));l.o=c.o-p;l.v=b+e*q;var v=d.ne.clip(h,l,r,f);l.o=l.v;l.v=c.v+p;var x=d.ne.clip(h,l,
r,f);k.Ag((q-t)*e,0);x.Xc(k);1736==m?h=a.V(v,x,g,null):(h=v,h.add(x,!1));h.s(c);c.Sn(n);u++}else break}l.o=b;l.v=b+e;b=new d.h;b.I(l);b.O(r,0);b=Math.floor((c.o-l.o)/e)*e;0!=b?(l.move(b,0),k.Ag(-b,0)):k.qC();b=1607==m?new d.Ua(h.description):new d.Ja(h.description);f=new d.h;for(n=new d.h;c.v>l.o;){p=d.ne.clip(h,l,r,0);p.s(n);if(1607==m?!p.u()&&(n.N()>r||n.fa()>r):!p.u()&&(1736!=m||n.N()>r))p.Xc(k),p.s(n),b.s(f),f.O(r,r),f.Yb(n)&&1736==m?b=a.V(b,p,g,null):b.add(p,!1);l.move(e,0);k.shift(-e,0)}return b};
b.OJ=function(a,b,e,g,k){var c=new d.Ed(e.description);c.Id(e,0,-1);k=d.fb.Xg(c,a,b,k);c=e.D();g.Oa();if(!d.fb.Jc(a)||c!=k.D())return!1;var f=new d.h;e.s(f);var h=new d.h;k.s(h);f=f.N();h=h.N();if(0!=f&&0!=h){if(h/=f,a=d.fb.Bh(b).N()/d.fb.Bh(a).N(),1E-10<Math.abs(h/a-1))return!1}else if(0!=f||0!=h)return!1;g.add(e,!1);for(e=0;e<c;e++)a=k.Ba(e),g.rb(e,a);return!0};b.vA=function(){throw d.g.df();};return b}();d.gi=f})(h||(h={}));(function(d){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";
a[a.PannableFold=2]="PannableFold"})(d.di||(d.di={}));var h=d.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(d.mD||(d.mD={}));var f=d.mD,b=function(){function a(){}a.iw=function(a,b,g){if(g||0<b){a=a.toString(d.Vc.PE_STR_NAME_CANON|d.Vc.PE_STR_AUTH_NONE);b=[];for(g=0;g<a.length;g++)b[g]="a"<=a[g]&&"z">=a[g]?b[g]=a[g].toUpperCase():a[g];return b.join()}return a.toString(d.Vc.PE_STR_AUTH_TOP)};
a.qs=function(a,b,g,k){var c=k.length,e=g.D();if(0!=e){var f=g.Pa(0),h=Math.min(e,c),l=0,m=a.Kg();isNaN(b)&&(b=0);var p=a.Jc();a=p?a.lc().re().N():0;for(var u=179*a/360;0<e;){f.Hx(l<<1,h,k,0,!0);d.fi.projToGeogCenter(m,h,k,b);if(p)for(var q=0;q<h;q++){var t=k[q][0]-b,v=d.Ub.sign(t),x=f.read(2*(l+q));0>v*d.Ub.sign(x)&&Math.abs(t)>u&&(k[q][0]+=-v*a)}f.hy(l<<1,h,k,0,!0);l+=h;e-=h;h=Math.min(e,c)}g.Dc(1993)}};a.J_=function(a,b,g,k){var c=a.Kg();isNaN(b)&&(b=0);var e=g.Be();k[0][0]=e;k[0][1]=g.nf();d.fi.projToGeogCenter(c,
1,k,b);a.Jc()&&(b=d.Ub.sign(k[0][0]-b),0>b*d.Ub.sign(e)&&(a=a.lc().re().N(),Math.abs(k[0][0])>179*a/360&&(k[0][0]-=b*a)));g.rb(k[0][0],k[0][1])};a.xN=function(a,b,g,k){var c=0,e=a.Kg();isNaN(c)&&(c=0);var f=a.Jc(),h=a.ee();a=360*h;for(var h=179*h,l=k.length,m=0;m<g;){for(var p=m;p<g&&b[p].isNaN();++p)m++;var u=Math.min(l,g-m);if(0<u){for(var p=1,q=m+1;p<u;++p,++q)if(b[q].isNaN()){u=p;break}d.na.oz(k,b,m,u);d.fi.projToGeogCenter(e,u,k,c);if(f)for(p=0,q=m;p<u;++p,++q){var t=b[q].x,v=k[p][0]-c,x=d.Ub.sign(v);
0>x*d.Ub.sign(t)&&Math.abs(v)>h&&(k[p][0]-=x*a)}d.na.nz(b,m,k,u);m+=u}}};a.vy=function(a,b,g){var c=g.length,e=b.D();if(!(1>e)){var f=b.Pa(0),h=Math.min(e,c),l=0,m=a.Kg(),p=a.Jc(),u=p?a.re().N():0,q=179*u/360,t=0;for(p&&(t=a.pi());0<e;){f.Hx(l<<1,h,g,0,!0);d.fi.geogToProj(m,h,g);if(p)for(a=0;a<h;a++){var v=g[a][0],x=d.Ub.sign(v),B=f.read(2*(l+a))-t;0>x*d.Ub.sign(B)&&Math.abs(v)>q&&(g[a][0]+=-x*u)}f.hy(l<<1,h,g,0,!0);l+=h;e-=h;h=Math.min(e,c)}b.Dc(1993)}};a.B_=function(a,b,g){if(!b.u()){var c=a.Kg();
g[0][0]=b.Be();g[0][1]=b.nf();d.fi.geogToProj(c,1,g);if(a.Jc()){var c=d.Ub.sign(g[0][0]),e=a.pi();0>c*d.Ub.sign(b.Be()-e)&&(a=a.re().N(),Math.abs(g[0][0])>179*a/360&&(g[0][0]-=c*a))}b.rb(g[0][0],g[0][1])}};a.wN=function(a,b,g,k){if(0!=g){var c=a.Kg(),e=a.Jc(),f=e?a.re().N():0,h=179*f/360,l=0;e&&(l=a.pi());for(a=0;a<g;){for(var m=a;m<g&&b[m].isNaN();++m)a++;var p=Math.min(k.length,g-a);if(0<p){for(var m=1,u=a+1;m<p;++m,++u)if(b[u].isNaN()){p=m;break}d.na.oz(k,b,a,p);d.fi.geogToProj(c,p,k);if(e)for(m=
0,u=a;m<p;m++){var q=k[m][0],t=d.Ub.sign(q);0>t*d.Ub.sign(b[u].x-l)&&Math.abs(q)>h&&(k[m][0]-=t*f)}d.na.nz(b,a,k,p);a+=p}}}};a.ps=function(a,b,g,k){var c=b.D();if(0!=c){var e=b.Pa(0),f=a.je,h=a.He,l=f.lc().Yi(),m=h.lc().Yi(),p=f.ee(),u=h.ee();a=a.ve;if(null==a||0==a.count()){g=l/m;k=(f.dn()-h.dn())*u;m=-90*p;a=90*p;l=!1;u=1;for(f=2*c;u<f;)p=e.get(u),h=d.J.pk(p,m,a),h!=p&&(e.set(u,h),l=!0),u+=2;if(0!=k||1!=g)for(l=!0,m=new d.b,u=0;u<c;u++)e.fc(2*u,m),m.x*=g,m.x+=k,m.y*=g,e.fo(2*u,m);l&&b.Dc(1993)}else{var f=
k.length,h=Math.min(c,f),q=d.J.gf(h),t=null,v=0,x=NaN,B=NaN,y=360*u,A=u/p;g&&(B=90*u,x=89.9*p,t=d.J.gf(h));for(var C=!0,E=0;0!=c;){p=!1;e.Hx(v<<1,h,k,0,!0);for(u=0;u<h;u++)q[u]=k[u][0];if(g)for(u=0;u<h;u++){var D=Math.abs(k[u][1])-x;0<D&&(p=k[u][1],k[u][1]=d.Ub.Fl(x,p),t[u]=d.Ub.Fl(D,p),p=!0)}u=k[0][0];a.transform(k,h,l,m);C&&(E=k[0][0]-A*u,C=!1);for(u=0;u<h;u++)D=k[u][0]-q[u]*A-E,200<Math.abs(D)&&(k[u][0]=0<D?k[u][0]-y:k[u][0]+y);if(p){for(u=0;u<h;u++)0!=t[u]&&(k[u][1]+=A*t[u],k[u][1]>B?k[u][1]=
B:k[u][1]<-B&&(k[u][1]=-B));for(p=0;p<h;p++)t[p]=0}e.hy(v<<1,h,k,0,!0);v+=h;c-=h;h=Math.min(c,f)}b.Dc(1993)}}};a.A_=function(a,b,g,k){if(b.u())return!1;var c=a.je,e=a.He,f=a.ve,h=c.lc().Yi(),l=e.lc().Yi();k[0][0]=b.Be();k[0][1]=b.nf();if(null!=f&&0<f.count()){a=!0;var m=!1,p=NaN,u=0,q=1;g&&(g=c.ee(),p=e.ee(),q=p/g,p*=90,c=89.9*g,e=Math.abs(k[0][1])-c,0<e&&(m=k[0][1],k[0][1]=d.Ub.Fl(c,m),u=d.Ub.Fl(e,m),m=!0));f.transform(k,1,h,l);m&&0!=u&&(k[0][1]+=q*u,k[0][1]>p?k[0][1]=p:k[0][1]<-p&&(k[0][1]=-p));
b.rb(k[0][0],k[0][1])}else{g=c.ee();a=d.J.pk(k[0][1],-90*g,90*g)!=k[0][1];p=e.ee();f=(c.dn()-e.dn())*p;h/=l;if(1!=h||0!=f)a=!0,k[0][0]*=h,k[0][0]+=f,k[0][1]*=h;a&&b.rb(k[0][0],k[0][1])}return a};a.vN=function(a,b,g,k){var c;if(a.sr)k=90*a.je.ee(),d.na.VK(b,g,-k,k);else{var e=a.ve,f=a.je,h=a.He;a=f.Xs();var l=h.Xs(),m=f.ee(),p=90*m,u=h.ee();if(null==e||0==e.count()){if(k=a/l,e=(f.dn()-h.dn())*u,d.na.VK(b,g,-p,p),0!=e||1!=k)for(u=0;u<g;u++)b[u].x*=k,b[u].x+=e,b[u].y*=k}else for(var f=Math.min(g,k.length),
p=d.J.gf(f),h=360*u,m=u/m,q=!0,t=0,v=0;0!=g;){for(u=0;u<f;u++)p[u]=b[u+v].x;u=b[0].x;d.na.oz(k,b,v,f);e.transform(k,f,a,l);d.na.nz(b,v,k,f);q&&(t=b[0].x-m*u,q=!1);for(u=0;u<f;u++)c=b[v+u].x-p[u]*m-t,200<Math.abs(c)&&(b[v+u].x=0<c?b[v+u].x-h:b[v+u].x+h);v+=f;g-=f;f=Math.min(g,k.length)}}};a.ZZ=function(b,e,d,k){return a.Xm(b,e,isNaN(d)?0:d,!0,k,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.LS=function(b,e,g,k,f,h,l,m){for(var c=a.Vu(k,f),n=c.N(),r=n/360,p=a.lE*r,z=b.Pa(0),u=e.Jc(),
q=u?n/e.re().N():0,t=!1,I=new d.Ja(g.description),v=0,x=g.aa();v<x;++v){var B=u,y=new d.Ua(g.description);y.Ti(g,v,!0);if(0!=l){var A=a.bE(!0,y,c.B-m,c.B,l);(t=t||A)&&(B=!1)}var C=-1;B&&(C=b.wa(v));var E=y.Pa(0),D=y.D(),F=0,H=E.read(0),G=0,A=3*k.se(0),K=!1,N=new d.b;N.$c();var Q=new d.b;Q.$c();for(var O=!1,M=1;M<D;++M){var S=d.b.pa(E.Of(2*M),E.Of(2*M+1)),aa=S.x,L=aa+F,J=L-H;S.x=L;if(Math.abs(J)>p){if(B){var V=C+(M+1<D?M:0),Y=z.read(2*(C+M-1)),V=(z.read(2*V)-Y)*q;Math.abs(J-V)>1*r&&(B=!1)}B||(F-=d.Ub.Fl(n,
L-H),L=aa+F,++G,O=0!=F,S.x=L)}else K||d.na.NH(Q,N,S,A)&&(K=!0);O&&E.write(2*M,L);H=L;Q.L(N);N.L(S)}0<G&&y.Dc(1993);B=y.Ba(0);D=y.Ba(D-1);y=d.b.Cb(B,D)<A?a.UR(y,k,f,h,K):a.hS(b,v,y,k,f);I.add(y,!1)}f=k.se(0);g=c.N()/180;a.xu(I,c,.1*f,!1);f=d.uh.clip(I,c,f,g,h);I=I!=f;b=b.hf();m=f.hf();l=0;0<m&&0>b?l=1:0>=m&&0<b&&(0==m?(m=NaN,2==e.Fb()?m=e.Lk().hf():1==e.Fb()&&(m=e.re().IG()),b>.99*m&&(l=-1)):l=-1);0!=l&&(e=new d.Ja(f.description),e.oq(c),e=d.Jm.local().V(e,g,h),e.add(f,!1),I=!0,f=e);I&&(f=d.Km.local().V(f,
k,!1,h));return f};a.hS=function(b,e,g,k,f){var c=g.D(),n=g.Ba(0),h=g.Ba(c-1);k=a.Vu(k,f);f=k.N();var n=d.Ub.sign(h.x-n.x),l=new d.h;g.ac(l);var m=k.Gk(),p,h=m-f,m=m+f;if(0<=n){for(var u=Math.ceil((h-l.o)/f),u=u*f;h>l.o+u;)u+=f;for(;h<l.v+u;)u-=f;p=u;720<l.N()&&(m=h+360*Math.ceil(l.N()/360))}else{u=Math.ceil((m-l.v)/f);for(u*=f;m<l.v+u;)u-=f;for(;m>l.o+u;)u+=f;p=u;720<l.N()&&(h=m-360*Math.ceil(l.N()/360))}var u=n*f,q=d.h.pa(l.o,l.A,l.v,l.B);q.move(p,0);var t=new d.Hd;t.Ag(p,0);g.Xc(t);l=new d.Ua(g.description);
l.add(g,!1);p=g.Ba(c-1);f=0;for(var v=l.Ba(0).x,x=0;0<n?q.v<m:q.o>h;)1024<=x&&(x=0),q.move(u,0),t.Wb=u,g.Xc(t),v+=u,k.o<=v&&k.v>=v&&(f=l.D()-1),g.rb(0,p),p=g.Ba(c-1),l.Bs(g,0,0,c-1,!1);g=new d.Ja(l.description);c=0<b.Sm(e);g.add(l,!1);b=l.Ba(0);h=l.Ba(l.D()-1);e=g.aa()-1;(0>n?c:!c)?(n=d.b.pa(h.x,k.B),g.aj(n),n=d.b.pa(k.Gk(),k.B),g.aj(n),k=d.b.pa(b.x,k.B)):(n=d.b.pa(h.x,k.A),g.aj(n),n=d.b.pa(k.Gk(),k.A),g.aj(n),k=d.b.pa(b.x,k.A));g.aj(k);g.KH(0,e,0);g.oQ(f);return g};a.UR=function(b,e,g,k,f){var c=
new d.Ja(b.description);c.add(b,!1);c.dC(0,c.D()-1);var n=new d.h;c.ac(n);g=a.Vu(e,g);for(var h=g.N(),l=Math.ceil((g.o-n.o)/h),l=l*h;g.o>n.o+l;)l+=h;for(;g.o<n.v+l;)l-=h;l+=h;if(0!=l){n.move(l,0);var m=new d.Hd;m.Ag(l,0);c.Xc(m)}if(g.o<=n.o&&g.v>n.v)return f&&(f=c.hf(),c=d.Km.local().V(c,e,!0,k),e=c.hf(),(e=d.Ub.sign(f)!=d.Ub.sign(e))&&c.eK()),c;b=new d.Ja(b.description);b.add(c,!1);for(f=f||n.N()>h-e.se(0);n.o<g.v;)n.move(h,0),m=new d.Hd,m.Ag(h,0),c.Xc(m),b.add(c,!1);f&&(f=b.hf(),b.Hp(1),b=d.Km.local().V(b,
e,!0,k),e=b.hf(),(e=d.Ub.sign(f)!=d.Ub.sign(e))&&b.eK());return b};a.bE=function(a,b,g,k,f){for(var c=b.Pa(0),e=b.D(),n=!1,h=0;h<e;h++){var l=d.b.pa(c.Of(2*h),c.Of(2*h+1));if(0!=(f&1)&&l.y>=g){n=!0;break}if(0!=(f&2)&&l.y<=-g){n=!0;break}}if(!n)return!1;c=!1;a&&(c=b.Eo(0));a=new d.fd;var e=a.Jb(b),n=a.Pb(e),m=-1,p=!0,u=new d.b;u.$c();for(var h=new d.Wa,q=-1,t=a.cb(n);-1!=t;t=a.U(t)){var l=a.Ba(t),v=0!=(f&1)&&90<=l.y?1:0,v=v|(0!=(f&2)&&l.y<=-g?2:0);if(0<m&&m!=v){if(u.x!=l.x){u.x=l.x;a.wj(a.Ra(t),h);
var x=a.Wj(n,t,h);a.Qf(x,u)}if(c)for(q=-1!=q?a.U(q):a.cb(n),x=a.Ra(t);q!=x;)q=a.ud(q,!1);q=-1}0<v&&(l.y=d.Ub.Fl(k,l.y),a.Qf(t,l),p||m==v||(l.x!=u.x?(a.wj(t,h),x=a.Wj(n,t,h),a.rb(x,u.x,l.y),q=x):q=t));m=v;u=l;p=!1}if(c){if(-1!=q)for(q=a.U(q);-1!=q;)q=a.ud(q,!1);g=a.cb(n);a.Uq(g,a.Rj(n))||(a.wj(g,h),a.Wj(n,-1,h))}a.Se(e).copyTo(b);return!0};a.zZ=function(a,b){var c=0,e=a.La(b);b+=1;for(var d=a.aa();b<d&&!(0<a.Sm(b));++b)c++;return 64<e&&3<=c};a.uA=function(b,e,g,k){var c=b;if(c.u()||g==h.DontClip)return c;
var f=c.G();if(33==f)return k=c,c=[k.w()],a.LH(c,1,e,g),c[0].isNaN()?k.Oa():k.rb(c[0]),b;b=e.lc();var l=b.ee(),m=90*l,p=180*l,u=360*l,q=e.pi(),t=.5*l,v=new d.h;c.s(v);var x=e.Vs(),B=e.ES(),y=197==x.G();e=new d.h;x.s(e);g==h.PannableFold&&(g=b.re().N(),e.o=q-.5*g,e.v=e.o+g);if(v.A<-m||v.B>m){(new d.h).I(v.o-l,-m,v.v+l,m);c=d.uh.rq(c,e,b,NaN,0,k);if(c.u())return c;c.s(v)}if(B&&(e.B<v.A||e.A>v.B))return c.Ka();v.N()>u&&(c=a.Aq(c,q-p,u,b,!0,0,!0,k),c.s(v));m=a.DN(v.o,v.v,e.o,e.v,u);0!=m&&v.move(m,0);
if(v.v>e.v||v.o<e.o){if(v.v>e.v)for(;v.o>=e.v;)v.move(-u,0),m-=u;for(;v.o<e.v-u;)v.move(u,0),m+=u}g=d.na.vv(b,x);0!=m&&(l=new d.Hd,l.Ag(m,0),c.Xc(l));if(B){if(y&&e.contains(v))return c;B=[null,null];for(m=0;2>m;m++){y?l=d.T.Ic(f)?d.uh.clip(c,e,g,t,k):d.uh.clip(c,e,g,0,k):(l=d.tk.local().V(c,x,b,k),l==x&&(l=d.T.oe(l)));if(e.o<=v.o&&e.v>=v.v||e.o>=v.o&&e.v<=v.v)return l;B[m]=l;0==m&&(v.move(-u,0),l=new d.Hd,l.Ag(-u,0),c.Xc(l))}if(550==f)B[0].Id(B[1],0,-1);else if(d.T.Ic(f))B[0].add(B[1],!1);else if(33==
f)B[0].u()&&(B[0]=B[1]);else throw d.g.X("intersect_with_GCS_horizon: unexpected geometry type");return B[0]}if(e.B<v.A||e.A>v.B)return c;for(f=0;!c.u()&&v.v>e.o;)0!=f&&(l=new d.Hd,l.Ag(f,0),c.Xc(l)),d.Gj.local().V(4,c,x,b,k)||(c=d.cq.local().V(c,x,b,k),x==c&&(c=d.T.oe(c))),0!=f&&(t=new d.Hd,t.Ag(-f,0),c.Xc(t)),f-=u,v.move(-u,0);return c};a.LH=function(b,e,g,k){if(0!=e&&k!=h.DontClip)if(k==h.PannableFold){k=g.BT();for(var c=e,f=0;f<e;f++)if(b[f].y>k.B||b[f].y<k.A)b[f].$c(),c--;0!=c&&a.Uu(b,e,k.o,
k.N())}else{k=g.ee();var l=90*k,m=180*k;k*=360;c=e;for(f=0;f<e;f++)if(b[f].y>l||b[f].y<-l)b[f].$c(),c--;if(0!=c){c=new d.h;c.Mx(b,e);var l=g.Vs(),p=g.Uv(),f=197==l.G(),u=new d.h;l.s(u);if(!p||!(u.B<c.A||u.A>c.B))if(p)if(a.Uu(b,e,u.Gk()-m,k),c=e,f)for(f=0;f<e;f++)u.contains(b[f])||(b[f].$c(),c--);else for(g=d.na.vv(g.lc(),l),f=0;f<e;f++)(m=0!=d.gd.ge(l,b[f],g))||(b[f].$c(),c--);else for(a.Uu(b,e,-m,k),c=e,g=d.na.vv(g.lc(),l),f=0;f<e;f++)if(m=b[f],m.isNaN()&&c--,p=a.qE(m.x,u.o,u.v,k),m.x+=p,m=0!=d.gd.ge(l,
m,g))b[f].$c(),c--}}};a.b_=function(a,b,g){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==g.Fb())return b=90*g.ee(),b-=2*b/Math.PI*d.Vc.PE_HORIZON_DELTA,g=new d.h,a.s(g),g.B>=b&&(c=1),g.A<=-b&&(c|=2),c;var e=g.Sj();if(null==e)return 0;var f=null;0<=b&&(f=a);for(var h=0;2>h;h++)if((0<h?e.getSouthPoleLocation():e.getNorthPoleLocation())!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY){var l=g.eA(0<h);l.isNaN()||(l=0>b?d.ff.yA(a,l,0):d.ff.zA(f,b,l,0,null),c|=l<<h)}return c};a.Aq=function(a,b,g,k,f,h,l,m){var c=a.G(),e=b+g;
if(33===c){k=f?a:a.Vf();var n=k.Be();if(n<b||n>=e||l&&n==e)n+=Math.ceil((b-n)/g)*g,n=d.J.pk(n,b,e),k.BC(n);return k}if(a.u())return a;n=new d.h;a.s(n);if(n.u())return a;var r=new d.zc;n.Sn(r);var p=new d.zc;p.I(b,e);if(p.contains(r))return a;e=new d.h;e.I(n);if(550===c){k=f?a:a.Vf();m=k.Pa(0);c=2*k.D();e=!1;for(b=0;b<c;b+=2)if(n=m.read(b),n<p.ca||n>=p.ha||l&&n==p.ha)e=!0,n+=Math.ceil((p.ca-n)/g)*g,n=p.wu(n),m.write(b,n);e&&k.Dc(1993);return k}if(197==c)return g=f?a:a.Vf(),n.Ma(e),g.Gp(n),g;var u=
.1*Math.max(n.fa(),n.N());e.O(0,u);l=a;p=k.se(0);a=d.ei.local();for(f=new d.Hd;;){var z=Math.floor((r.ca-b)/g),q=Math.ceil((r.ha-b)/g);if(3<q-z){z=Math.floor(.5*(q+z));e.o=n.o-u;e.v=b+g*z;var t=d.uh.clip(l,e,p,h,m);e.o=e.v;e.v=n.v+u;var I=d.uh.clip(l,e,p,h,m);f.Ag((z-q)*g,0);I.Xc(f);1736==c?l=a.V(t,I,k,null):(l=t,l.add(I,!1));l.s(n);n.Sn(r)}else break}e.o=b;e.v=b+g;b=new d.h;b.I(e);b.O(p,0);b=Math.floor((n.o-e.o)/g)*g;0!=b?(e.move(b,0),f.Ag(-b,0)):f.qC();b=1607==c?new d.Ua(l.description):new d.Ja(l.description);
h=new d.h;for(r=new d.h;n.v>e.o;){u=d.uh.clip(l,e,p,0,m);u.s(r);if(1607==c?!u.u()&&(r.N()>p||r.fa()>p):!u.u()&&(1736!=c||r.N()>p))u.Xc(f),u.s(r),b.s(h),h.O(p,p),h.Yb(r)&&1736==c?b=a.V(b,u,k,null):b.add(u,!1);e.move(g,0);f.shift(-g,0)}return b};a.Uu=function(a,b,g,k){for(var c=g+k,e=0;e<b;e++){var f=a[e].x;g<=f&&f<c||!(f<g||f>c||f==c)||(f+=Math.ceil((g-f)/k)*k,f=d.J.pk(f,g,c),a[e].x=f)}};a.Xm=function(b,e,g,k,f,h){if(!e.Jc())throw d.g.X("fold_into_360_degree_range");if(b.u())return b;var c;if(2==e.Fb())g=
e.bw(),c=e.aw()-g;else{var n=e.ee();c=360*n;g-=180*n}return a.Aq(b,g,c,e,k,f,!0,h)};a.BG=function(b,e,d,k){if(2==d.Fb())k=d.bw(),d=d.aw()-k;else{var c=d.ee();d=360*c;k-=180*c}a.Uu(b,e,k,d)};a.Mj=function(a,b){var c=b.re();if(33==a.G()){var e=a.nf();return c.A<=e&&e<=c.B?a:a.Ka()}e=new d.h;a.s(e);var f=new d.h;f.I(c);f.o=e.o;f.v=e.v;f.O(.01*f.fa(),0);c=d.na.$y(b,e);return f.contains(e)?a:d.uh.clip(a,f,c,0,null)};a.Im=function(a,b,d){return a>b.v&&a-b.v<d?b.v:a<b.o&&b.o-a<d?b.o:a};a.AY=function(b,e,
d,k){k.x=a.Im(b.x,e,d);k.y=b.y};a.zY=function(b,e,d,k){for(var c=0;c<e;c++)b[c].y<d.A||b[c].y>d.B?b[c].$c():b[c].x=a.Im(b[c].x,d,k)};a.xu=function(b,e,g,k){if(!b.u()){var c=b.G();if(!k||1736!=c)if(d.T.gh(c)){k=b.Pa(0);for(var c=0,f=b.D();c<f;c++){var h=k.read(2*c),l=a.Im(h,e,g);l!=h&&k.write(2*c,l)}b.Dc(1993)}else if(197==c)k=new d.h,b.s(k),k.o=a.Im(k.o,e,g),k.v=a.Im(k.v,e,g),b.Gp(k);else if(33==c)b.BC(a.Im(b.Be(),e,g));else throw d.g.X("internal error");}};a.qU=function(b,e,g,k){var c=new d.fd,f=
c.Jb(b);b=d.na.vv(e,b);a.ht(c,f,e,b,g,!0,k);return c.Se(f)};a.ht=function(b,e,g,k,n,h,l){if(!g.Jc())throw d.g.F("invalid call");var c=g.re(),r=g.lc(),m=r.Kg().getDatum().getSpheroid(),r=r.Vd().Ai,p=m.getFlattening(),m=m.getAxis(),p=p*(2-p),u=new d.zc;c.Sn(u);var z=null,q=[[0,0],[0,0]];2==g.Fb()?(z=g.Kg(),h?(q[0][0]=a.Nn(l,u),q[0][1]=c.Cq(),d.fi.projToGeog(z,1,q),c=q[0][0]*r):(q[0][0]=c.Gk(),q[0][1]=l,d.fi.projToGeog(z,1,q),c=q[0][1]*r)):c=l*r;if(!h&&0!=c&&n!=f.GreatElliptic)throw d.g.X("invalid argument");
var t=new d.ea,v=[0],x=new d.b,B=new d.b,y=new d.b,A=[null,null],C=new d.b,E=new d.b,D=new d.b,F=new d.b;for(e=b.Pb(e);-1!=e;e=b.Sb(e)){var H=b.cb(e);b.w(H,C);for(var G=!1,K=H=b.U(H);-1!=K;K=b.U(K)){if(K==H){if(G)break;G=!0}b.w(K,E);if(h&&(k<l-C.x&&E.x-l>k||k<l-E.x&&C.x-l>k)||!h&&(0!=l||k<-C.y&&E.y>k||k<-E.y&&C.y>k)){do if(!(Math.abs(C.x-E.x)>=.5*u.N())){2==g.Fb()?(q[0][0]=a.Nn(C.x,u),q[0][1]=C.y,q[1][0]=a.Nn(E.x,u),q[1][1]=E.y,d.fi.projToGeogCenter(z,2,q,0),D.x=q[0][0]*r,D.y=q[0][1]*r,F.y=q[1][1]*
r):(D.x=C.x*r,D.y=C.y*r,F.y=E.y*r);F.x=2*(E.x-C.x)*Math.PI/u.N()+D.x;var N;if(h){B.x=c;B.y=a.FB(m,p,D,F,c,n);if(isNaN(B.y))break;A[0]=B;N=1}else if(n==f.GreatElliptic){var Q=[0,0];N=d.yy.vA(m,p,D,F,c,Q);if(0==N)break;B.x=Q[0];B.y=c;A[0]=B;2==N&&(y.x=Q[1],y.y=c,A[1]=y)}else{B.x=a.DB(m,p,D,F,n);if(isNaN(B.x))break;B.y=0;A[0]=B;N=1}for(var O=-1,Q=0;Q<N;Q++){d.mb.Ld(m,p,D.x,D.y,F.x,F.y,t,null,null,n);var M=t.j;d.mb.Ld(m,p,D.x,D.y,A[Q].x,A[Q].y,t,null,null,n);var L=t.j;2==g.Fb()?(q[0][0]=A[Q].x/r,q[0][1]=
A[Q].y/r,d.fi.geogToProj(z,1,q),h?(x.y=q[0][1],x.x=l):(x.x=a.Zp(q[0][0],C.x,E.x,u),x.y=l)):h?(x.x=l,x.y=A[Q].y/r):(x.x=a.Zp(A[Q].x/r,C.x,E.x,u),x.y=l);v[0]=0<M?d.J.pk(L/M,0,1):.5;if(0==v[0]||1==v[0])break;O>v[0]||(O=b.Ra(K),b.zm(O,v,1),b.rb(b.U(O),x.x,x.y),O=v[0])}}while(0)}C.L(E)}}};a.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};a.Zp=function(a,b,g,k){var c=new d.zc;c.I(b,g);g=k.N();a=Math.floor((a-b)/g)*g+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+g-c);)a+=g;return a};
a.Cj=function(a,b,g){a=d.ls.uq(a);b=d.ls.Wx(a,d.ls.uq(b));g=d.ls.Wx(a,d.ls.uq(g));return 0==g||0<b&&0<g&&g<=b||0>b&&0>g&&g>=b?!0:!1};a.FB=function(b,e,g,k,n,h){if(h==f.GreatElliptic)return d.yy.NU(e,g,k,n);if(Math.abs(g.x-k.x)>=Math.PI||!a.Cj(g.x,k.x,n))return NaN;var c;g.x>k.x?c=k:(c=g,g=k);k=new d.ea;var l=new d.ea,r=new d.ea;d.mb.Ld(b,e,c.x,c.y,g.x,g.y,l,k,null,h);var m=l.j,p=0,u=1,q=new d.b;for(q.L(c);m*(u-p)>1E-12*b;){var t=.5*(p+u);d.mb.Oj(b,e,c.x,c.y,m*t,k.j,l,r,h);q.x=l.j;q.y=r.j;if(q.x==
n)break;if(a.Cj(c.x,q.x,n))u=t;else if(a.Cj(g.x,q.x,n))p=t;else return NaN}return q.y};a.DB=function(a,b,g,k,n){if(n==f.GreatElliptic)return n=[0,0],d.yy.vA(a,b,g,k,0,n),n[0];var c;g.y>k.y?c=k:(c=g,g=k);k=new d.zc;k.I(c.y,g.y);if(!k.contains(0)||Math.abs(c.x-g.x)>=Math.PI)return NaN;if(c.x==g.x)return c.x;var e=new d.ea,h=new d.ea,l=new d.ea;d.mb.Ld(a,b,c.x,c.y,g.x,g.y,h,e,null,n);var m=h.j,p=0,u=1,q=new d.b;for(q.L(c);m*(u-p)>1E-12*a;){var t=.5*(p+u);d.mb.Oj(a,b,c.x,c.y,m*t,e.j,h,l,n);q.x=h.j;q.y=
l.j;k.I(c.y,q.y);if(0==q.y)break;if(k.contains(0))u=t;else if(k.I(g.y,q.y),k.contains(0))p=t;else return NaN}return q.x};a.x_=function(a,b,g,k,f,h){if(b==f&&g!=h)throw d.g.F();if(0>=k)return 0;if(a.Ho()){h*=2;var c=2*g;a=2*k;for(g=0;g<a;g++)f[h+g]=b[c+g];return k}if(2>=k){h=[new d.b,new d.b];for(c=0;c<k;c++)h[c].ka(b[2*c],b[2*c+1]);b=d.os.local().XY(a,h,k,h);for(c=0;c<k;c++)f[2*c]=h[c].x,f[2*c+1]=h[c].y;return b}var e=a.je,c=a.He,n=e.Fb(),l=c.Fb();if(0==n&&n==l)return a=e.Yi(),c=c.Yi(),c=a/c,a=new d.Hd,
a.Op(c,c),a.YY(b,g,f,h,k),k;n=new d.Ed;n.Td(3);n.resize(k);for(var l=n.Pa(0),r=n.Pa(3),c=0,m=2*g,p=2*h;c<k;c++,p+=2){g=b[m++];var e=b[m++],u=p;if(isNaN(g)||isNaN(e))e=g=0,u=-1;r.write(c,u);l.write(2*c,g);l.write(2*c+1,e)}n.Dc(1993);b=d.os.local().V(n,a,null);c=0;for(h*=2;c<k;c++,h+=2)f[h]=NaN,f[h+1]=NaN;if(b.u())return 0;h=b.Pa(3);a=b.Pa(0);c=n=0;for(k=b.D();c<k;c++)b=h.read(c),-1!=b&&(g=a.read(2*c),e=a.read(2*c+1),f[b]=g,f[b+1]=e,n++);return n};a.OJ=function(a,b,g,k){if(!a.je.Jc())return!1;var c=
new d.Ed(b.description);c.Id(b,0,-1);k=d.os.local().V(c,a,k);c=b.D();g.Oa();if(c!=k.D())return!1;var e=new d.h;b.s(e);var f=new d.h;k.s(f);e=e.N();f=f.N();if(0!=e&&0!=f){if(f/=e,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(f/a-1))return!1}else if(0!=e||0!=f)return!1;g.add(b,!1);b=new d.b;for(a=0;a<c;a++)k.w(a,b),g.rb(a,b);return!0};a.rP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,e,g,k){if(g==h.Clip){var c=e.Lk();197==c.G()?(g=new d.h,c.s(g),c=d.na.$y(e,g),b=d.uh.clip(b,
g,c,5E4*e.bn(),k)):d.Gj.local().V(1,c,b,e,k)||(b=d.tk.local().V(b,c,e,k),b==c&&(b=d.wl.oe(b)))}else e.Jc()&&(k=new d.h,b.ac(k),e.re().contains(k)||(a.xu(b,e.re(),e.se(0),!0),g==h.PannableFold&&(b=a.Mj(b,e)),b=a.Xm(b,e,0,!0,1E5*e.bn(),null)));return b};a.kF=function(a,b,g){var c=b.Ws();if(null==c)return a;b=b.lc();var e=b.re().N(),f=new d.h;a.ac(f);var h=new d.zc;f.Sn(h);for(var f=c.Fa(),c=null,l=new d.Hd;f.Ya();)for(;f.Ea();){var m=f.ba(),p=m.xf(0,0),u=new d.zc;u.I(p.ca,p.ha);for(p=0;u.ha>h.ca;)u.move(-e),
--p;for(;u.ca<=h.ha;){if(u.Yb(h)){null==c&&(c=new d.Ua);var q=d.Hb.gR(m.ec(),m.Bc());0!=p&&(l.Ag(p*e,0),q.Xc(l));c.dc(q,!0)}u.move(e);++p}}return null!=c?(b=d.na.hQ(b,c),b=d.na.Cs(b),d.Ku.lR(a,c,b,g)):a};a.DN=function(b,e,d,k,f){return b>=d&&e<=k?0:a.qE(.5*(e+b),d,k,f)};a.qE=function(a,b,g,k){return d.Ub.round((.5*(g+b)-a)/k)*k};a.MS=function(b,e,g,k,f,h,l,m){var c=a.Vu(k,f),n=c.N(),r=n/360,p=a.lE*r,u=b.Pa(0),z=e.Jc(),q=z?n/e.re().N():0,t;e=b.Ka();for(var v=0,I=g.aa();v<I;++v){var x=z,B=new d.Ua(g.description);
B.Ti(g,v,!0);t=g.Qb(v);0!=l&&(t=a.bE(t,B,c.B-m,c.B,l))&&(x=!1);var y=-1;t=B.D();var A=!1;x&&(y=b.wa(v),A=b.Qb(v));var C=B.Pa(0),E=0,D=C.read(0),F=0,H=3*k.se(0),G=!1,K=new d.b;K.$c();var N=new d.b;N.$c();for(var Q=!1,O=1;O<t;++O){var M=d.b.pa(C.Of(2*O),C.Of(2*O+1)),L=M.x,S=L+E,aa=S-D;M.x=S;if(Math.abs(aa)>p){if(x){var V=y+O-1,J=y;if(!A||O+1<t)J+=O;V=u.read(2*V);J=(u.read(2*J)-V)*q;Math.abs(aa-J)>1*r&&(z=!1)}x||(E-=d.Ub.Fl(n,S-D),S=L+E,++F,Q=0!=E,M.x=S)}else G||d.na.NH(K,N,M,H)&&(G=!0);Q&&C.write(2*
O,S);D=S;K.L(N);N.L(M)}0!=F&&B.Dc(1993);x=B.Ba(0);t=B.Ba(t-1);d.b.Cb(x,t);B=a.FS(B,k,isNaN(f)?0:f,h);e.add(B,!1)}b=k.se(0);g=c.N()/180;a.xu(e,c,.1*b,!1);return d.uh.clip(e,c,b,g,h)};a.FS=function(b,e,d,k){return a.Xm(b,e,d,!0,0,k)};a.KU=function(a,b,g,k){var c=a.G();if(1736==c)for(b=null!=b?b.se(0):0,c=0;c<k;c++)1!=d.gd.ge(a,g[c],b)&&g[c].$c();else if(197==c)for(c=0;c<k;c++)a.hR(g[c])||g[c].$c();else throw d.g.F();};a.Dl=function(a,b,g,k){if(32>g)for(var c=new d.Wa,e=0;e<g;e++)c.rb(b[e]),a.Dl(c,k).w(b[e]);
else{var f=new d.Ed;f.Td(3);f.ZE(b,g);c=f.Pa(3);for(e=0;e<g;e++)c.write(e,e);e=a.Dl(f,k);a=e.Pa(0);c=e.Pa(3);k=d.b.pa(NaN,NaN);for(f=0;f<g;f++)b[f]=k;g=e.D();for(e=0;e<g;e++)k=c.read(e),a.fc(2*e,b[k])}};a.Cl=function(a,b,g,k){if(32>g)for(var c=new d.Wa,e=0;e<g;e++)c.rb(b[e]),a.Cl(c,k).w(b[e]);else{var f=new d.Ed;f.Td(3);f.ZE(b,g);c=f.Pa(3);for(e=0;e<g;e++)c.write(e,e);e=a.Cl(f,k);a=e.Pa(0);c=e.Pa(3);k=d.b.pa(NaN,NaN);for(f=0;f<g;f++)b[f]=k;g=e.D();for(e=0;e<g;e++)k=c.read(e),a.fc(2*e,b[k])}};a.Z_=
"ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.lE=210;return a}();d.Ib=b})(h||(h={}));(function(d){(function(d){d[d.rightSide=1]="rightSide"})(d.LN||(d.LN={}));var h=function(){function f(b,a,c){this.xt=new d.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=c,this.$w=0)}f.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};f.prototype.u=function(){return 0>this.up};f.prototype.Oz=function(){if(this.u())throw d.g.X("invalid call");return new d.Wa(this.xt.x,this.xt.y)};f.prototype.Za=function(){if(this.u())throw d.g.X("invalid call");
return this.up};f.prototype.Rz=function(){if(this.u())throw d.g.X("invalid call");return this.Qa};f.prototype.AA=function(){return 0!=(this.$w&1)};f.prototype.Ly=function(b,a,c,e){this.xt.x=b;this.xt.y=a;this.up=c;this.Qa=e};return f}();d.Mm=h})(h||(h={}));(function(d){var h=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Uk=-1;a.ac(this.fl);this.fl.O(b,b);this.fl.Yb(this.Mb.Ha)?((this.rt=d.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Bc(),this.ta=b):this.ta=
NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Uk=-1;this.fl.I(a);this.fl.O(b,b);this.ta=NaN;this.fl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Uk=this.Lt;var a=null,b=null,e,g=null,k=null;this.rt&&(a=new d.b,b=new d.b,g=new d.h);for(var n=!1;!n;){for(;-1!=
this.Uk;){e=this.Mb.Kz(this.Mb.Tv(this.Uk));if(e.Yb(this.fl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),g.I(e),g.O(this.ta,this.ta),0<g.gz(a,b)){n=!0;break}}else{n=!0;break}this.Uk=this.Mb.$v(this.Uk)}if(-1==this.Uk){e=this.Rh.Fc();var h=this.hj[this.hj.length-1];null==k&&(k=[],k[0]=new d.h,k[1]=new d.h,k[2]=new d.h,k[3]=new d.h);f.uK(h,k);this.Rh.Pf();--this.hj.length;for(h=0;4>h;h++){var l=this.Mb.Eq(e,h);if(-1!=l&&0<this.Mb.QT(l)&&k[h].Yb(this.fl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),g.I(k[h]),
g.O(this.ta,this.ta),0<g.gz(a,b)){var m=new d.h;m.I(k[h]);this.Rh.add(l);this.hj.push(m)}}else m=new d.h,m.I(k[h]),this.Rh.add(l),this.hj.push(m)}if(0==this.Rh.size)return-1;this.Uk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Uk);return this.Uk};b.fR=function(a,c,e){var g=new b;g.Mb=a;g.fl=new d.h;g.Rh=new d.ia(0);g.hj=[];g.Wn(c,e);return g};b.eR=function(a,c,e){var g=new b;g.Mb=a;g.fl=new d.h;g.Rh=new d.ia(0);g.hj=[];g.Ni(c,e);return g};b.dR=function(a){var c=new b;c.Mb=a;c.fl=
new d.h;c.Rh=new d.ia(0);c.hj=[];return c};return b}();d.g_=h;var f=function(){function b(a,b){this.Lf=new d.ad(11);this.yi=new d.ad(5);this.st=[];this.Ww=new d.ia(0);this.Ha=new d.h;this.pl(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.pl(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,e){e=-1==e?this.Mf:this.gH(e);var c=this.fa(e),d=this.gT(e);return this.mw(a,b,c,d,e,!1,-1)};
b.prototype.ja=function(a){return this.bT(a)};b.prototype.RG=function(a){return this.Kz(this.Tv(a))};b.prototype.fa=function(a){return this.Vv(a)};b.prototype.gT=function(a){var b=new d.h;b.I(this.Ha);var e=this.Vv(a);a=this.bH(a);for(var g=0;g<2*e;g+=2){var k=d.J.truncate(3&a>>g);0==k?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==k?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==k?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.QT=function(a){return this.lA(a)};b.prototype.qT=function(a,
b){return h.fR(this,a,b)};b.prototype.Yz=function(a,b){return h.eR(this,a,b)};b.prototype.mf=function(){return h.dR(this)};b.prototype.pl=function(a,b){if(0>b||32<2*b)throw d.g.F("invalid height");this.AV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,c,e,g,k,f,h){if(!g.contains(c))return 0==e?-1:this.mw(a,c,0,this.Ha,this.Mf,f,h);if(!f)for(var n=k;-1!=n;n=this.CT(n))this.Ux(n,this.lA(n)+1);n=new d.h;n.I(g);
g=k;var l=[];l[0]=new d.h;l[1]=new d.h;l[2]=new d.h;for(l[3]=new d.h;e<this.AV&&this.jQ(g);e++){b.uK(n,l);for(var r=!1,m=0;4>m;m++)if(l[m].contains(c)){var r=!0,p=this.Eq(g,m);-1==p&&(p=this.rR(g,m));this.Ux(p,this.lA(p)+1);g=p;n.I(l[m]);break}if(!r)break}return this.oU(a,c,e,n,g,f,k,h)};b.prototype.oU=function(a,b,e,d,k,f,h,l){var c=this.XG(k);if(f){if(k==h)return l;this.QR(l);f=l}else f=this.tR(),this.oC(f,a),this.KX(this.Tv(f),b);this.hY(f,k);-1!=c?(this.Sx(f,c),this.Px(c,f)):this.wK(k,f);this.rC(k,
f);this.Ox(k,this.Yv(k)+1);this.iQ(k)&&this.CS(e,d,k);return f};b.prototype.QR=function(a){var b=this.gH(a),e=this.XG(b),d=this.IT(a),k=this.$v(a);this.Us(b)==a?(-1!=k?this.Sx(k,-1):this.rC(b,-1),this.wK(b,k)):e==a?(this.Px(d,-1),this.rC(b,d)):(this.Sx(k,d),this.Px(d,k));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var c=.5*(a.o+a.v),d=.5*(a.A+a.B);b[0].I(c,d,a.v,a.B);b[1].I(a.o,d,c,a.B);b[2].I(a.o,a.A,c,d);b[3].I(c,a.A,a.v,d)};b.prototype.iQ=function(a){return 8==this.Yv(a)&&
!this.tH(a)};b.prototype.CS=function(a,b,e){var c,d,f=this.Us(e);do d=this.Tv(f),c=this.yi.S(f,0),d=this.Kz(d),this.mw(c,d,a,b,e,!0,f),f=c=this.$v(f);while(-1!=f)};b.prototype.jQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.rR=function(a,b){var c=this.Lf.Pe();this.OX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.rl(c,a);this.AK(c,this.Vv(a)+1);this.EK(c,b<<2*this.Vv(a)|this.bH(a));return c};
b.prototype.tR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new d.h));this.LX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.OX=function(a,b,e){this.Lf.P(a,b,e)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.rC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};
b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.lA=function(a){return this.Lf.S(a,8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.CT=function(a){return this.Lf.S(a,9)};b.prototype.rl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.bT=function(a){return this.yi.S(a,0)};b.prototype.oC=
function(a,b){this.yi.P(a,0,b)};b.prototype.IT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.hY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.LX=function(a,b){this.yi.P(a,4,b)};b.prototype.Kz=function(a){return this.st[a]};b.prototype.KX=function(a,b){this.st[a].I(b)};
return b}();d.gq=f})(h||(h={}));(function(d){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(d.AM||(d.AM={}));var h=function(){function b(a,b){this.Dh=null;this.OV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.qG=function(a,b){for(var c=0;c<b;)for(var d=a[c++],k=a[c++],f=a[c++]*this.OV;d<k;d++)this.Dh[f+(d>>4)]|=this.uI<<2*(d&15)};return b}();d.i_=h;var f=function(){function b(a,b,e){this.Dh=null;this.zB=this.il=this.pJ=
this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.jl=this.$l=null;this.kw(a,b,e)}b.create=function(a,c,e){if(!b.bz(a))throw d.g.F();return b.fe(a,c,e)};b.Cj=function(a,c,e){if(!b.bz(a))throw d.g.F();return b.te(a,c,e)};b.lX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw d.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.nS=function(a,b){b=b.Fa();for(var c=new d.b,g=new d.b;b.Ya();)for(;b.Ea();){var k=
b.ba();if(322!=k.G())throw d.g.X("Internal Error");a.$h(k.ec(),c);a.$h(k.Bc(),g);this.qj.Qy(c.x,c.y,g.x,g.y)}this.qj.YJ(d.zy.py)};b.prototype.oS=function(){throw d.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var c=1;4>c;c++)a.Qy(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(d.zy.py)};b.prototype.dL=function(a,b,e){for(var c=[null,null,null,null],k=0;k<c.length;k++)c[k]=new d.b;b=b.Fa();e=this.jl.ZY(e)+1.5;for(var k=new d.b,f=new d.b,h=new d.b,l=new d.b,
m=new d.b,p=new d.h,u=new d.b;b.Ya();){var q=!1,t=!0;for(u.ka(0,0);b.Ea();){var v=b.ba();l.x=v.ua;l.y=v.ra;m.x=v.sa;m.y=v.oa;p.Oa();p.Nb(l.x,l.y);p.ll(m.x,m.y);if(this.$l.TH(p)){this.jl.$h(m,m);t?(this.jl.$h(l,l),u.L(l),t=!1):l.L(u);k.yc(m,l);var v=k.length(),x=.5>v;0==v?k.ka(1,0):(x||u.L(m),k.scale(e/v),f.ka(-k.y,k.x),h.ka(k.y,-k.x),l.sub(k),m.add(k),c[0].add(l,f),c[1].add(l,h),c[2].add(m,h),c[3].add(m,f),x?q=!0:this.Bz(a,c))}else q&&(this.Bz(a,c),q=!1),t=!0}q&&this.Bz(a,c)}};b.prototype.VC=function(a){return d.J.truncate(a*
this.CI+this.nJ)};b.prototype.WC=function(a){return d.J.truncate(a*this.At+this.pJ)};b.fe=function(a,c,e){return new b(a,c,e)};b.te=function(a,c,e){return new b(a,c,e)};b.prototype.kw=function(a,b,e){this.hg=Math.max(d.J.truncate(2*Math.sqrt(e)+.5),64);this.Hn=d.J.truncate((2*this.hg+31)/32);this.$l=new d.h;this.il=b;e=0;for(var c=this.hg,k=this.Hn;8<=c;)e+=c*k,c=d.J.truncate(c/2),k=d.J.truncate((2*c+31)/32);this.Dh=d.J.gf(e,0);this.qj=new d.zy;e=new h(this.Dh,this.Hn,this);this.qj.wY(this.hg,this.hg,
e);a.s(this.$l);this.$l.O(b,b);var c=new d.h,k=d.h.pa(1,1,this.hg-2,this.hg-2),f=b*k.N();b*=k.fa();c.I(this.$l.Wf(),Math.max(f,this.$l.N()),Math.max(b,this.$l.fa()));this.zB=this.il;this.jl=new d.Hd;this.jl.lU(c,k);new d.Hd;switch(a.G()){case 550:e.Kx(this.qj,2);this.oS();break;case 1607:e.Kx(this.qj,2);this.dL(this.qj,a,this.zB);break;case 1736:e.Kx(this.qj,1),this.nS(this.jl,a),e.Kx(this.qj,2),this.dL(this.qj,a,this.zB)}this.CI=this.jl.lb;this.At=this.jl.gb;this.nJ=this.jl.Wb;this.pJ=this.jl.bc;
this.aQ()};b.prototype.aQ=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,e=this.hg,g=d.J.truncate(this.hg/2),k=this.Hn,f=d.J.truncate((2*g+31)/32);8<e;){for(e=0;e<g;e++)for(var h=2*e,l=2*e+1,m=0;m<g;m++){var p=2*m,u=2*m+1,q=p>>4,p=2*(p&15),t=u>>4,u=2*(u&15),v=this.Dh[a+k*h+q]>>p&3,v=v|this.Dh[a+k*h+t]>>u&3,v=v|this.Dh[a+k*l+q]>>p&3,v=v|this.Dh[a+k*l+t]>>u&3;this.Dh[b+f*e+(m>>4)]|=v<<2*(m&15)}e=g;k=f;a=b;g=d.J.truncate(e/2);f=d.J.truncate((2*g+31)/32);b=a+k*e}};b.prototype.rm=function(a,
b){if(!this.$l.contains(a,b))return 0;a=this.VC(a);b=this.WC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.VC(a.o),e=this.VC(a.v),g=this.WC(a.A);a=this.WC(a.B);0>b&&(b=0);0>g&&(g=0);e>=this.hg&&(e=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>e||g>a)return 0;for(var k=Math.max(e-b,1)*Math.max(a-g,1),f=0,h=this.Hn,l=this.hg,m=0;;){if(32>k||16>l){for(k=g;k<=a;k++)for(var p=
b;p<=e;p++)if(m=this.Dh[f+h*k+(p>>4)]>>2*(p&15)&3,1<m)return 2;if(0==m)return 0;if(1==m)return 1}f+=h*l;l=d.J.truncate(l/2);h=d.J.truncate((2*l+31)/32);b=d.J.truncate(b/2);g=d.J.truncate(g/2);e=d.J.truncate(e/2);a=d.J.truncate(a/2);k=Math.max(e-b,1)*Math.max(a-g,1)}};b.prototype.LT=function(){return this.hg*this.Hn};return b}();d.xy=f})(h||(h={}));(function(d){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";
b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(d.SN||(d.SN={}));var h=function(){function b(){}b.pa=function(a,c,e,d,k,f,h,l){var g=new b;g.bx=a;g.zn=c;g.ek=e;g.rj=d;g.RI=k;g.G_=f;g.H_=h;g.I_=l;return g};return b}(),f=function(){function b(){}b.UE=function(a,c,e){if(!b.cz(a))return!1;var g=d.na.ah(c,a,!1);c=!1;d.vl.KF(a)&&(c=c||a.Xu(g,e));g=a.G();1736!=g&&1607!=g||!d.vl.IF(a)||0==e||(c=c||a.Hj(e));1736!=g&&1607!=g||!d.vl.JF(a)||
0==e||(c=c||a.CO());return c};b.cz=function(a){return d.vl.KF(a)||d.vl.IF(a)||d.vl.JF(a)};return b}();d.Gu=f;f=function(){function b(){this.Ph=[]}b.$B=function(a,c,e,g,k){var f=a.G(),h=c.G();if(197==f){if(197==h)return b.sO(a,c,e,g);if(33==h)return 2==g?g=1:1==g&&(g=2),b.lG(c,a,e,g)}else if(33==f){if(197==h)return b.lG(a,c,e,g);if(33==h)return b.vO(a,c,e,g)}if(a.u()||c.u())return 4==g?!0:!1;var l=new d.h;a.s(l);var m=new d.h;c.s(m);var p=new d.h;p.I(l);p.Nb(m);e=d.na.be(e,p,!1);if(b.Dk(l,m,e))return 4==
g?!0:!1;l=!1;d.wl.Oc(f)&&(f=new d.Ua(a.description),f.dc(a,!0),a=f,f=1607);d.wl.Oc(h)&&(h=new d.Ua(c.description),h.dc(c,!0),c=h,h=1607);if(197!=f&&197!=h){if(a.tb()<c.tb()||33==f&&550==h)2==g?g=1:1==g&&(g=2)}else 1736!=f&&197!=h&&(2==g?g=1:1==g&&(g=2));switch(f){case 1736:switch(h){case 1736:l=b.gu(a,c,e,g,k);break;case 1607:l=b.On(a,c,e,g,k);break;case 33:l=b.fu(a,c,e,g,k);break;case 550:l=b.eu(a,c,e,g,k);break;case 197:l=b.eD(a,c,e,g,k)}break;case 1607:switch(h){case 1736:l=b.On(c,a,e,g,k);break;
case 1607:l=b.NB(a,c,e,g,k);break;case 33:l=b.iu(a,c,e,g,k);break;case 550:l=b.hu(a,c,e,g,k);break;case 197:l=b.sD(a,c,e,g)}break;case 33:switch(h){case 1736:l=b.fu(c,a,e,g,k);break;case 1607:l=b.iu(c,a,e,g,k);break;case 550:l=b.au(c,a,e,g,k)}break;case 550:switch(h){case 1736:l=b.eu(c,a,e,g,k);break;case 1607:l=b.hu(c,a,e,g,k);break;case 550:l=b.EB(a,c,e,g,k);break;case 33:l=b.au(a,c,e,g,k);break;case 197:l=b.RJ(a,c,e,g)}break;case 197:switch(h){case 1736:l=b.eD(c,a,e,g,k);break;case 1607:l=b.sD(c,
a,e,g);break;case 550:l=b.RJ(c,a,e,g)}}return l};b.sO=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;var k=new d.h,f=new d.h,h=new d.h;a.s(k);c.s(f);h.I(k);h.Nb(f);a=d.na.be(e,h,!1);switch(g){case 4:return b.Dk(k,f,a);case 2:return b.SE(f,k,a);case 1:return b.SE(k,f,a);case 3:return b.We(k,f,a);case 8:return b.DP(k,f,a);case 32:return b.aP(k,f,a);case 16:return b.EL(k,f,a)}return!1};b.lG=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;a=a.w();var k=new d.h,f=new d.h;c.s(k);f.I(a);f.Nb(k);
c=d.na.be(e,f,!1);switch(g){case 4:return b.Dx(a,k,c);case 2:return b.YC(a,k,c);case 1:return b.EN(a,k,c);case 3:return b.qL(a,k,c);case 8:return b.XC(a,k,c)}return!1};b.vO=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;a=a.w();c=c.w();var k=new d.h;k.I(a);k.Nb(c);e=d.na.be(e,k,!1);switch(g){case 4:return b.NN(a,c,e);case 2:return b.eL(c,a,e);case 1:return b.eL(a,c,e);case 3:return b.yL(a,c,e)}return!1};b.gu=function(a,c,e,d,k){switch(d){case 4:return b.iS(a,c,e);case 2:return b.Ex(c,a,e,k);
case 1:return b.Ex(a,c,e,k);case 3:return b.jU(a,c,e);case 8:return b.mW(a,c,e);case 32:return b.iV(a,c,e,k)}return!1};b.On=function(a,c,e,d,k){switch(d){case 4:return b.GS(a,c,e);case 1:return b.MB(a,c,e,k);case 8:return b.wW(a,c,e,k);case 16:return b.EP(a,c,e)}return!1};b.fu=function(a,c,e,d){switch(d){case 4:return b.XR(a,c,e);case 1:return b.xO(a,c,e);case 8:return b.eW(a,c,e)}return!1};b.eu=function(a,c,e,d){switch(d){case 4:return b.CR(a,c,e);case 1:return b.uO(a,c,e);case 8:return b.TV(a,c,
e);case 16:return b.uP(a,c,e)}return!1};b.eD=function(a,c,e,d,k){if(b.mQ(a,c,e))return 4==d?!0:!1;if(4==d)return!1;switch(d){case 2:return b.eX(a,c,e);case 1:return b.rO(a,c,e);case 3:return b.gU(a,c,e);case 8:return b.lV(a,c,e,k);case 32:return b.fV(a,c,e,k);case 16:return b.FL(a,c,e,k)}return!1};b.NB=function(a,c,e,d){switch(d){case 4:return b.yZ(a,c,e);case 2:return b.oD(c,a,e);case 1:return b.oD(a,c,e);case 3:return b.PL(a,c,e);case 8:return b.uD(a,c,e);case 32:return b.dM(a,c,e);case 16:return b.qD(a,
c,e)}return!1};b.iu=function(a,c,e,d){switch(d){case 4:return b.wZ(a,c,e);case 1:return b.SY(a,c,e);case 8:return b.zM(a,c,e)}return!1};b.hu=function(a,c,e,d){switch(d){case 4:return b.uZ(a,c,e);case 1:return b.HX(a,c,e);case 8:return b.oM(a,c,e);case 16:return b.nZ(a,c,e)}return!1};b.sD=function(a,c,e,d){if(b.qZ(a,c,e))return 4==d?!0:!1;if(4==d)return!1;switch(d){case 2:return b.EM(a,c,e);case 1:return b.oX(a,c,e);case 3:return b.JL(a,c,e);case 8:return b.kM(a,c,e);case 32:return b.$L(a,c,e);case 16:return b.fZ(a,
c,e)}return!1};b.EB=function(a,c,e,d){switch(d){case 4:return b.SL(a,c,e);case 2:return b.sJ(c,a,e);case 1:return b.sJ(a,c,e);case 3:return b.cM(a,c,e);case 32:return b.IM(a,c,e)}return!1};b.au=function(a,c,e,d){switch(d){case 4:return b.AJ(a,c,e);case 2:return b.TM(a,c,e);case 1:return b.pZ(a,c,e);case 3:return b.zx(a,c,e)}return!1};b.RJ=function(a,c,e,d){switch(d){case 4:return b.OL(a,c,e);case 2:return b.PM(a,c,e);case 1:return b.mZ(a,c,e);case 3:return b.ZL(a,c,e);case 8:return b.MM(a,c,e);case 16:return b.IL(a,
c,e)}return!1};b.jU=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.We(g,k,e))return!1;g=b.vc(a,c,!1);if(4==g||1==g||2==g)return!1;if(b.qJ(a,c,e))return!0;g=a.Rb();k=c.Rb();return Math.abs(g-k)>4*Math.max(a.D(),c.D())*e?!1:b.PB(a,c,e,!0)};b.iS=function(a,c,e){var d=b.vc(a,c,!0);return 4==d?!0:1==d||2==d||1073741824==d?!1:b.cD(a,c,e)};b.mW=function(a,c,e){var d=b.vc(a,c,!1);return 4==d||1==d||2==d?!1:b.iD(a,c,e,null)};b.iV=function(a,c,e,d){var g=b.vc(a,c,!1);return 4==g||1==g||2==g?!1:
b.dD(a,c,e,d)};b.Ex=function(a,c,e,g){var k=new d.h,f=new d.h;a.s(k);c.s(f);if(!b.Ec(k,f,e))return!1;k=b.vc(a,c,!1);return 4==k||2==k?!1:1==k?!0:b.CL(a,c,e,g)};b.GS=function(a,c,e){var d=b.vc(a,c,!0);return 4==d?!0:1==d||1073741824==d?!1:b.cD(a,c,e)};b.wW=function(a,c,e,d){var g=b.vc(a,c,!1);return 4==g||1==g?!1:b.kD(a,c,e,d)};b.EP=function(a,c,e){var d=b.vc(a,c,!1);return 4==d||1==d?!1:b.bD(a,c,e,null)};b.MB=function(a,c,e,g){var k=new d.h,f=new d.h;a.s(k);c.s(f);if(!b.Ec(k,f,e))return!1;k=b.vc(a,
c,!1);return 4==k?!1:1==k?!0:b.DL(a,c,e,g)};b.XR=function(a,b,e){return 0==d.gd.WH(a,b,e)?!0:!1};b.eW=function(a,c,e){c=c.w();return b.fD(a,c,e)};b.xO=function(a,c,e){c=c.w();return b.BL(a,c,e)};b.CR=function(a,c,e){var g=b.vc(a,c,!1);if(4==g)return!0;if(1==g)return!1;g=new d.h;a.s(g);g.O(e,e);for(var k=new d.b,f=0;f<c.D();f++)if(c.w(f,k),g.contains(k)){var h=d.gd.ge(a,k,e);if(1==h||2==h)return!1}return!0};b.TV=function(a,b,e){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;c=new d.h;a.s(c);c.O(e,e);
var k,f=!1,h;h=a;for(var l=!1,m=0;m<b.D();m++){k=b.Ba(m);if(c.contains(k))if(k=d.gd.ge(h,k,e),2==k)f=!0;else if(1==k)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return f?!0:!1};b.uP=function(a,b,e){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;var k=new d.h,c=new d.h,f=new d.h;a.s(k);b.s(f);c.I(k);c.O(e,e);var f=k=!1,h,l;l=a;for(var m=!1,p=0;p<b.D();p++){h=b.Ba(p);c.contains(h)?(h=d.gd.ge(l,h,e),0==h?f=!0:1==h&&(k=!0)):f=!0;if(k&&f)return!0;
m||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new d.Ja,a.copyTo(l),l.Hj(1)),m=!0)}return!1};b.uO=function(a,b,e){var c=new d.h,k=new d.h;a.s(c);b.s(k);if(!this.Ec(c,k,e))return!1;k=this.vc(a,b,!1);if(4==k)return!1;if(1==k)return!0;var k=!1,f,h;h=a;for(var l=!1,m=0;m<b.D();m++){f=b.Ba(m);if(!c.contains(f))return!1;f=d.gd.ge(h,f,e);if(1==f)k=!0;else if(0==f)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return k};b.gU=function(a,c,
e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.We(g,k,e))return!1;g=new d.Ja;g.jd(c,!1);return b.PB(a,g,e,!0)};b.mQ=function(a,c,e){var g=b.vc(a,c,!1);if(4==g)return!0;if(1==g||2==g)return!1;var k=new d.h,g=new d.h;a.s(k);c.s(g);if(b.Ec(g,k,e))return!1;k=new d.b;g.Tn(k);c=d.gd.ge(a,k,e);if(0!=c)return!1;g.TJ(k);c=d.gd.ge(a,k,e);if(0!=c)return!1;g.Un(k);c=d.gd.ge(a,k,e);if(0!=c)return!1;g.WJ(k);c=d.gd.ge(a,k,e);if(0!=c)return!1;c=a.Pa(0);k=new d.h;k.I(g);k.O(e,e);for(var f=0,h=a.D();f<h;f++){var l=
c.read(2*f),m=c.read(2*f+1);if(k.contains(l,m))return!1}return!b.XH(a,g,e)};b.lV=function(a,c,e,g){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,f=new d.h;a.s(k);c.s(f);if(b.Ec(f,k,e))return!1;if(f.N()<=e&&f.fa()<=e)return c=c.Bq(),b.fD(a,c,e);if(f.N()<=e||f.fa()<=e)return k=new d.Ua,f=new d.Wa,c.ig(0,f),k.Rf(f),c.ig(2,f),k.lineTo(f),b.kD(a,k,e,g);k=new d.Ja;k.jd(c,!1);return b.iD(a,k,e,g)};b.fV=function(a,c,e,g){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,f=new d.h;
a.s(k);c.s(f);if(b.Ec(f,k,e)||f.N()<=e||f.fa()<=e)return!1;k=new d.Ja;k.jd(c,!1);return b.dD(a,k,e,g)};b.eX=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.Ec(k,g,e)};b.rO=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.Ec(g,k,e))return!1;g=b.vc(a,c,!1);if(4==g||2==g)return!1;if(1==g)return!0;if(k.N()<=e&&k.fa()<=e)return c=c.Bq(),b.BL(a,c,e);if(k.N()<=e||k.fa()<=e)return k=new d.Ua,g=new d.Wa,c.ig(0,g),k.Rf(g),c.ig(2,g),k.lineTo(g),b.DL(a,k,e,null);k=new d.Ja;k.jd(c,!1);
return b.CL(a,k,e,null)};b.FL=function(a,c,e,g){var k=new d.h,f=new d.h;a.s(k);c.s(f);if(b.Ec(f,k,e)||f.fa()>e&&f.N()>e||f.fa()<=e&&f.N()<=e)return!1;k=new d.Ua;f=new d.Wa;c.ig(0,f);k.Rf(f);c.ig(2,f);k.lineTo(f);return b.bD(a,k,e,g)};b.PL=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.We(g,k,e)&&4!=b.vc(a,c,!1)?b.qJ(a,c,e)?!0:b.PB(a,c,e,!1):!1};b.yZ=function(a,b,e){return 4==this.vc(a,b,!1)?!0:(new d.Lm(a,b,e,!0)).next()?!this.fI(a,b,e):!1};b.uD=function(a,c,e){if(4==b.vc(a,c,!1))return!1;
var g=new d.Qd(0);if(0!=b.SB(a,c,e,g))return!1;for(var k=new d.Ed,f=0;f<g.size;f+=2){var h=g.read(f),l=g.read(f+1);k.lv(h,l)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return b.yx(a,k,e)};b.qD=function(a,c,e){if(4==b.vc(a,c,!1))return!1;var g=new d.Qd(0);if(0!=b.SB(a,c,e,g))return!1;for(var k=new d.Ed,f=0;f<g.size;f+=2){var h=g.read(f),l=g.read(f+1);k.lv(h,l)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return!b.yx(a,k,e)};b.dM=function(a,c,e){return 4==b.vc(a,c,!1)?!1:b.$H(a,c,e)};b.oD=function(a,c,e){var g=new d.h,
k=new d.h;a.s(g);c.s(k);return b.Ec(g,k,e)&&4!=b.vc(a,c,!1)?b.Wg(c,a,e,!1):!1};b.wZ=function(a,c,e){if(4==b.vc(a,c,!1))return!0;c=c.w();return!b.IA(a,c,e)};b.zM=function(a,c,e){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.hC(a,c,e)};b.SY=function(a,c,e){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.yH(a,c,e)};b.uZ=function(a,c,e){return 4==b.vc(a,c,!1)?!0:!b.ZH(a,c,e,!1)};b.oM=function(a,b,e){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),k=new d.h,f=new d.h,h=new d.h;a.s(k);b.s(f);k.O(e,e);f.O(e,e);
h.I(k);h.Ma(f);var l,m,k=null;l=a.ob;null!=l?(m=l.Mb,k=l.np,null==m&&(m=l=d.na.Lj(a,h))):m=l=d.na.Lj(a,h);var p=m.mf(),u=null;null!=k&&(u=k.mf());var q=new d.b,t=new d.b,v=!1,x=e*e,k=new d.Fm(b.D());for(l=0;l<b.D();l++)k.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,q),h.contains(q))if(f.I(q.x,q.y,q.x,q.y),null==u||(u.Ni(f,e),-1!=u.next())){p.Ni(f,e);for(var B=p.next();-1!=B;B=p.next())if(c.Tb(m.ja(B)),B=c.ba(),B.gc(B.qe(q,!1),t),d.b.sc(q,t)<=x){k.write(l,1);v=!0;break}}if(!v)return!1;a=a.Gg();c=new d.Ed;
f=new d.b;for(l=0;l<b.D();l++)0!=k.read(l)&&(b.w(l,f),c.lv(f.x,f.y));return this.yx(a,c,e)};b.nZ=function(a,b,e){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),k=new d.h,f=new d.h,h=new d.h;a.s(k);b.s(f);k.O(e,e);f.O(e,e);h.I(k);h.Ma(f);var l,m,k=null;l=a.ob;null!=l?(m=l.Mb,k=l.np,null==m&&(m=l=d.na.Lj(a,h))):m=l=d.na.Lj(a,h);var p=m.mf(),u=null;null!=k&&(u=k.mf());var q=new d.b,t=new d.b,v=!1,x=!1,B=e*e,k=new d.Fm(b.D());for(l=0;l<b.D();l++)k.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,q),h.contains(q))if(f.I(q.x,
q.y,q.x,q.y),null!=u&&(u.Ni(f,e),-1==u.next()))x=!0;else{p.Ni(f,e);for(var y=!1,A=p.next();-1!=A;A=p.next())if(c.Tb(m.ja(A)),A=c.ba(),A.gc(A.qe(q,!1),t),d.b.sc(q,t)<=B){k.write(l,1);y=v=!0;break}y||(x=!0)}else x=!0;if(!v||!x)return!1;a=a.Gg();c=new d.Ed;f=new d.b;for(l=0;l<b.D();l++)0!=k.read(l)&&(b.w(l,f),c.lv(f.x,f.y));return!this.yx(a,c,e)};b.HX=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.Ec(g,k,e)||4==b.vc(a,c,!1)||!b.ZH(a,c,e,!0))return!1;a=a.Gg();return!b.CJ(a,c,e)};b.JL=function(a,
c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return k.fa()>e&&k.N()>e?!1:b.We(g,k,e)};b.qZ=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.Ec(k,g,e)?!1:!b.XH(a,k,e)};b.kM=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(k.fa()<=e&&k.N()<=e)return k=c.Bq(),b.hC(a,k,e);if(k.fa()<=e||k.N()<=e)return k=new d.Ua,g=new d.Wa,c.ig(0,g),k.Rf(g),c.ig(2,g),k.lineTo(g),b.uD(a,k,e);a=a.Fa();c=new d.h;g=new d.h;c.I(k);g.I(k);c.O(-e,-e);g.O(e,e);for(var k=!1,f=new d.h,h=new d.h;a.Ya();)for(;a.Ea();){a.ba().s(f);
h.I(c);h.Ma(f);if(!h.u()&&(h.fa()>e||h.N()>e))return!1;h.I(g);h.Ma(f);h.u()||(k=!0)}return k};b.$L=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(b.Ec(g,k,e)||b.Ec(k,g,e)||b.Ec(k,g,e)||k.fa()>e&&k.N()>e||k.fa()<=e&&k.N()<=e)return!1;g=new d.Ua;k=new d.Wa;c.ig(0,k);g.Rf(k);c.ig(2,k);g.lineTo(k);return b.$H(a,g,e)};b.EM=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.Ec(k,g,e)||k.fa()<=e&&k.N()<=e)return!1;if(k.fa()<=e||k.N()<=e)return b.Ec(k,g,e);a=a.Fa();c=new d.h;c.I(k);c.O(-e,
-e);for(var k=!1,g=new d.h,f=new d.h;a.Ya();)for(;a.Ea();)a.ba().s(g),c.Tm(g)?k=!0:(f.I(c),f.Ma(g),!f.u()&&(f.fa()>e||f.N()>e)&&(k=!0));return k};b.oX=function(a,c,e){var g=new d.h,k=new d.h;c.s(k);a.s(g);if(!b.Ec(g,k,e)||k.fa()>e&&k.N()>e)return!1;if(k.fa()<=e&&k.N()<=e)return c=c.Bq(),b.yH(a,c,e);g=new d.Ua;k=new d.Wa;c.ig(0,k);g.Rf(k);c.ig(2,k);g.lineTo(k);return b.Wg(g,a,e,!1)};b.fZ=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(b.Ec(k,g,e)||k.fa()<=e&&k.N()<=e)return!1;if(k.fa()<=e||
k.N()<=e)return g=new d.Ua,k=new d.Wa,c.ig(0,k),g.Rf(k),c.ig(2,k),g.lineTo(k),b.qD(a,g,e);a=a.Fa();c=new d.h;g=new d.h;g.I(k);c.I(k);g.O(-e,-e);c.O(e,e);for(var f=k=!1,h=new d.h,l=new d.h;a.Ya();)for(;a.Ea();)if(a.ba().s(h),f||c.contains(h)||(f=!0),k||(l.I(g),l.Ma(h),!l.u()&&(l.fa()>e||l.N()>e)&&(k=!0)),k&&f)return!0;return!1};b.cM=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.We(g,k,e)?b.jM(a,c,e)?!0:b.RC(a,c,e,!1,!0,!1):!1};b.SL=function(a,c,e){return!b.CJ(a,c,e)};b.IM=function(a,
c,e){return b.RC(a,c,e,!1,!1,!0)};b.sJ=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.Ec(g,k,e)?b.RC(c,a,e,!0,!1,!1):!1};b.yx=function(a,b,e){e*=e;for(var c=new d.b,k=new d.b,f=0;f<b.D();f++){b.w(f,k);for(var h=!1,l=0;l<a.D();l++)if(a.w(l,c),d.b.sc(c,k)<=e){h=!0;break}if(!h)return!1}return!0};b.zx=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return b.We(g,k,e)};b.AJ=function(a,c,e){c=c.w();return b.$t(a,c,e)};b.TM=function(a,c,e){return b.zx(a,c,e)};b.pZ=function(a,c,e){return!b.AJ(a,
c,e)};b.ZL=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);return k.fa()>e||k.N()>e?!1:b.We(g,k,e)};b.OL=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(b.Ec(k,g,e))return!1;c=new d.h;c.I(k);c.O(e,e);e=new d.b;for(k=0;k<a.D();k++)if(a.w(k,e),c.contains(e))return!1;return!0};b.MM=function(a,b,e){var c=new d.h,k=new d.h,f=new d.h;b.s(c);if(c.fa()<=e&&c.N()<=e)return!1;if(c.fa()<=e||c.N()<=e){b=new d.b;var h=!1;k.I(c);f.I(c);k.O(e,e);c.fa()>e?f.O(0,-e):f.O(-e,0);for(var l=0;l<a.D();l++)if(a.w(l,
b),k.contains(b)){if(c.fa()>e){if(b.y>f.A&&b.y<f.B)return!1}else if(b.x>f.o&&b.x<f.v)return!1;h=!0}return h}k.I(c);f.I(c);k.O(e,e);f.O(-e,-e);b=new d.b;h=!1;for(l=0;l<a.D();l++)if(a.w(l,b),k.contains(b)){if(f.Tm(b))return!1;h=!0}return h};b.PM=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.Ec(k,g,e))return!1;if(k.fa()<=e&&k.N()<=e)return b.We(g,k,e);if(k.fa()<=e||k.N()<=e){c=!1;var g=new d.h,f=new d.h;g.I(k);f.I(k);k.fa()>e?g.O(0,-e):g.O(-e,0);f.O(e,e);for(var h=new d.b,l=0;l<a.D();l++){a.w(l,
h);if(!f.contains(h))return!1;k.fa()>e?h.y>g.A&&h.y<g.B&&(c=!0):h.x>g.o&&h.x<g.v&&(c=!0)}return c}c=!1;g=new d.h;f=new d.h;g.I(k);f.I(k);g.O(-e,-e);f.O(e,e);h=new d.b;for(l=0;l<a.D();l++){a.w(l,h);if(!f.contains(h))return!1;g.Tm(h)&&(c=!0)}return c};b.mZ=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(!b.Ec(g,k,e)||k.fa()>e||k.N()>e)return!1;c=c.Bq();return!b.$t(a,c,e)};b.IL=function(a,c,e){var g=new d.h,k=new d.h;a.s(g);c.s(k);if(b.Ec(k,g,e)||k.fa()<=e&&k.N()<=e)return!1;if(k.fa()<=e||k.N()<=
e){c=new d.h;g=new d.h;c.I(k);k.fa()>e?c.O(0,-e):c.O(-e,0);g.I(k);g.O(e,e);for(var f=new d.b,h=!1,l=!1,m=0;m<a.D();m++)if(a.w(m,f),h||(k.fa()>e?f.y>c.A&&f.y<c.B&&(h=!0):f.x>c.o&&f.x<c.v&&(h=!0)),l||g.contains(f)||(l=!0),h&&l)return!0;return!1}c=new d.h;g=new d.h;c.I(k);c.O(-e,-e);g.I(k);g.O(e,e);f=new d.b;l=h=!1;for(m=0;m<a.D();m++)if(a.w(m,f),!h&&c.Tm(f)&&(h=!0),l||g.contains(f)||(l=!0),h&&l)return!0;return!1};b.yL=function(a,b,e){return d.b.sc(a,b)<=e*e?!0:!1};b.NN=function(a,b,e){return d.b.sc(a,
b)>e*e?!0:!1};b.eL=function(a,c,e){return b.yL(a,c,e)};b.qL=function(a,c,e){var g=new d.h;g.I(a);return b.We(g,c,e)};b.Dx=function(a,b,e){var c=new d.h;c.I(b);c.O(e,e);return!c.contains(a)};b.XC=function(a,b,e){if(b.fa()<=e&&b.N()<=e)return!1;var c=new d.h,k=new d.h;c.I(b);c.O(e,e);if(!c.contains(a))return!1;if(b.fa()<=e||b.N()<=e){k.I(b);b.fa()>e?k.O(0,-e):k.O(-e,0);if(b.fa()>e){if(a.y>k.A&&a.y<k.B)return!1}else if(a.x>k.o&&a.x<k.v)return!1;return!0}k.I(b);k.O(-e,-e);return k.Tm(a)?!1:!0};b.YC=function(a,
b,e){if(b.fa()<=e&&b.N()<=e)return!0;if(b.fa()<=e||b.N()<=e){var c=new d.h;c.I(b);b.fa()>e?c.O(0,-e):c.O(-e,0);var k=!1;b.fa()>e?a.y>c.A&&a.y<c.B&&(k=!0):a.x>c.o&&a.x<c.v&&(k=!0);return k}c=new d.h;c.I(b);c.O(-e,-e);return c.Tm(a)};b.EN=function(a,c,e){return b.qL(a,c,e)};b.We=function(a,c,e){return b.Ec(a,c,e)&&b.Ec(c,a,e)};b.Dk=function(a,b,e){var c=new d.h;c.I(b);c.O(e,e);return!a.Yb(c)};b.DP=function(a,c,e){if(a.fa()<=e&&a.N()<=e){var g=a.Wf();return b.XC(g,c,e)}if(c.fa()<=e&&c.N()<=e)return g=
c.Wf(),b.XC(g,a,e);a.fa()>e&&a.N()>e&&(c.fa()<=e||c.N()<=e)?g=c:(g=a,a=c);if(g.fa()<=e||g.N()<=e){if(a.fa()<=e||a.N()<=e){c=new d.Hb;var k=new d.Hb,f=[0,0],h=[0,0],l=new d.b;g.Tn(l);c.Mc(l);g.Un(l);c.Zc(l);a.Tn(l);k.Mc(l);a.Un(l);k.Zc(l);c.Ma(k,null,f,h,e);return 1!=c.Ma(k,null,null,null,e)?!1:0==f[0]||1==f[1]||0==h[0]||1==h[1]}c=new d.h;k=new d.h;c.I(a);c.O(-e,-e);k.I(c);k.Ma(g);return!k.u()&&(k.fa()>e||k.N()>e)?!1:!0}a.O(e,e);k=new d.h;k.I(g);k.Ma(a);return k.u()||!k.u()&&k.fa()>e&&k.N()>e?!1:!0};
b.aP=function(a,c,e){if(b.Ec(a,c,e)||b.Ec(c,a,e)||a.fa()<=e&&a.N()<=e||c.fa()<=e&&c.N()<=e)return!1;if(a.fa()<=e||a.N()<=e){if(c.fa()>e&&c.N()>e)return!1;var g=new d.Hb,k=new d.Hb,f=[0,0],h=[0,0],l=new d.b;a.Tn(l);g.Mc(l);a.Un(l);g.Zc(l);c.Tn(l);k.Mc(l);c.Un(l);k.Zc(l);g.Ma(k,null,f,h,e);return 2!=g.Ma(k,null,null,null,e)?!1:(0<f[0]||1>f[1])&&(0<h[0]||1>h[1])}if(c.fa()<=e||c.N()<=e)return!1;g=new d.h;g.I(a);g.Ma(c);return g.u()||g.fa()<=e||g.N()<=e?!1:!0};b.SE=function(a,c,e){if(!b.Ec(a,c,e))return!1;
if(a.fa()<=e&&a.N()<=e)return a=a.Wf(),b.YC(a,c,e);if(c.fa()<=e&&c.N()<=e)return c=c.Wf(),b.YC(c,a,e);if(a.fa()<=e||a.N()<=e)return b.Ec(a,c,e);if(c.fa()<=e||c.N()<=e){var g=new d.h;g.I(a);g.O(-e,-e);if(g.Tm(c))return!0;a=new d.h;a.I(g);a.Ma(c);return a.u()||a.fa()<=e&&a.N()<=e?!1:!0}return b.Ec(a,c,e)};b.EL=function(a,c,e){if(b.Ec(a,c,e)||b.Ec(c,a,e)||a.fa()<=e&&a.N()<=e||c.fa()<=e&&c.N()<=e||c.fa()>e&&c.N()>e&&a.fa()>e&&a.N()>e)return!1;var g;a.fa()>e&&a.N()>e?g=c:(g=a,a=c);if(a.fa()>e&&a.N()>e){c=
new d.h;var k=new d.h;k.I(a);k.O(-e,-e);c.I(k);c.Ma(g);return c.u()||c.fa()<=e&&c.N()<=e?!1:!0}c=new d.Hb;var k=new d.Hb,f=[0,0],h=[0,0],l=new d.b;g.Tn(l);c.Mc(l);g.Un(l);c.Zc(l);a.Tn(l);k.Mc(l);a.Un(l);k.Zc(l);c.Ma(k,null,f,h,e);return 1!=c.Ma(k,null,null,null,e)?!1:0<f[0]&&1>f[1]&&0<h[0]&&1>h[1]};b.cD=function(a,b,e){var c,k,f=new d.h,h=new d.h,l=new d.Lm(a,b,e,!0);if(!l.next())return!0;if(this.fI(a,b,e))return!1;var m;m=a;var p;p=null;1736==b.G()&&(p=b);var u=!1,q=!1;do{c=l.Ql();k=l.Ml();k=b.Ba(b.wa(k));
f.I(l.fA());f.O(e,e);if(f.contains(k)&&(k=d.gd.ge(m,k,0),0!=k)||1736==b.G()&&(c=a.Ba(a.wa(c)),h.I(l.Jz()),h.O(e,e),h.contains(c)&&(k=d.gd.ge(p,c,0),0!=k)))return!1;u||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(m=new d.Ja,a.copyTo(m),m.Hj(1)),u=!0);1736!=b.G()||q||(q=b,!d.ff.qm(q,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?p=b:(p=new d.Ja,q.copyTo(p),p.Hj(1)),q=!0)}while(l.next());return!0};b.Ec=function(a,b,e){var c=new d.h;c.I(a);c.O(e,e);return c.contains(b)};b.Yp=function(a,b,e){var c=new d.h;
c.I(b);c.O(e,e);b=new d.b;a.Tn(b);if(!c.contains(b))return!0;a.TJ(b);if(!c.contains(b))return!0;a.WJ(b);if(!c.contains(b))return!0;a.Un(b);return c.contains(b)?!1:!0};b.qJ=function(a,b,e){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new d.b,k=new d.b,f=!0;e*=e;for(var h=0;h<a.aa();h++){if(a.Gc(h)!=b.Gc(h)){f=!1;break}for(var l=a.wa(h);l<b.Gc(h);l++)if(a.w(l,c),b.w(l,k),d.b.sc(c,k)>e){f=!1;break}if(!f)break}return f?!0:!1};b.jM=function(a,b,e){if(a.D()!=b.D())return!1;var c=new d.b,k=new d.b,f=!0;
e*=e;for(var h=0;h<a.D();h++)if(a.w(h,c),b.w(h,k),d.b.sc(c,k)>e){f=!1;break}return f?!0:!1};b.RC=function(a,b,e,g,k,f){var c=!1,h;a.D()>b.D()?(g&&(g=!1,c=!0),h=b):(h=a,a=b);b=null;if(k||f||c){b=new d.Fm(a.D());for(var n=0;n<a.D();n++)b.write(n,0)}var n=new d.h,l=new d.h,m=new d.h;h.s(n);a.s(l);n.O(e,e);l.O(e,e);m.I(n);m.Ma(l);for(var l=new d.b,p=new d.b,u=!0,q=d.na.CF(a,m),t=q.mf(),v=e*e,x=0;x<h.D();x++)if(h.w(x,l),m.contains(l)){var B=!1;n.I(l.x,l.y,l.x,l.y);t.Ni(n,e);for(var y=t.next();-1!=y&&!(y=
q.ja(y),a.w(y,p),d.b.sc(l,p)<=v&&((k||f||c)&&b.write(y,1),B=!0,g));y=t.next());if(!B&&(u=!1,k||g))return!1}else{if(k||g)return!1;u=!1}if(f&&u)return!1;if(g)return!0;for(n=0;n<a.D();n++)if(1==b.read(n)){if(f)return!0}else if(k||c)return!1;return f?!1:!0};b.CJ=function(a,b,e){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new d.h;var k=new d.h,f=new d.h;c.s(b);a.s(k);b.O(e,e);k.O(e,e);f.I(b);f.Ma(k);for(var k=new d.b,h=new d.b,l=e*e,m=d.na.CF(a,f),p=m.mf(),u=0;u<c.D();u++)if(c.w(u,k),f.contains(k)){b.I(k.x,k.y,
k.x,k.y);p.Ni(b,e);for(var q=p.next();-1!=q;q=p.next())if(a.w(m.ja(q),h),d.b.sc(k,h)<=l)return!0}return!1};b.PB=function(a,c,e,d){return b.Wg(a,c,e,d)&&b.Wg(c,a,e,d)};b.Wg=function(a,c,e,g){function k(a,b){return q.XF(a,b)}var f=!0,l=[0,0],m=[0,0],p=0,u=new d.ia(0),q=new b,t,v=new d.h,x=new d.h,B=new d.h;a.s(v);c.s(x);v.O(e,e);x.O(e,e);B.I(v);B.Ma(x);a=a.Fa();var x=c.Fa(),y=null,A=y=null,C=c.ob;null!=C?(y=C.Mb,A=C.np,null==y&&(y=d.na.Lj(c,B))):y=d.na.Lj(c,B);c=y.mf();C=null;for(null!=A&&(C=A.mf());a.Ya();)for(;a.Ea();){var E=
!1,D=a.ba();D.s(v);if(!v.Yb(B))return!1;if(null!=C&&(C.Ni(v,e),-1==C.next()))return f=!1;A=D.Rb();c.Wn(D,e);for(t=c.next();-1!=t;t=c.next()){x.Tb(y.ja(t));t=x.ba();var F=D.Ma(t,null,l,m,e);if(2==F&&(!g||m[0]<=m[1])){var F=l[0],H=l[1],G=m[0],K=m[1];if(F*A<=e&&(1-H)*A<=e){E=!0;p=0;u.resize(0);q.Ph.length=0;for(var N=a.Db(),G=!0;G;){if(a.Ea()){D=a.ba();A=D.Rb();F=D.Ma(t,null,l,m,e);if(2==F&&(!g||m[0]<=m[1])&&(F=l[0],H=l[1],F*A<=e&&(1-H)*A<=e)){N=a.Db();continue}if(x.Ea()&&(t=x.ba(),F=D.Ma(t,null,l,m,
e),2==F&&(!g||m[0]<=m[1])&&(F=l[0],H=l[1],F*A<=e&&(1-H)*A<=e))){N=a.Db();continue}}G=!1}N!=a.Db()&&(a.Tb(N),a.ba());break}else N=a.Db(),t=h.pa(N,a.Ta,F,H,x.Db(),x.Ta,G,K),q.Ph.push(t),u.add(u.size)}}if(!E){if(p==q.Ph.length)return!1;1<u.size-p&&u.Gd(p,u.size,k);for(E=0;p<q.Ph.length;p++)if(t=q.Ph[u.get(p)],!(t.ek<E&&t.rj<E)){if(A*(t.ek-E)>e)return!1;E=t.rj;if(A*(1-E)<=e||1==E)break}if(A*(1-E)>e)return!1;p=0;u.resize(0);q.Ph.length=0}}return f};b.$H=function(a,c,e){if(1>b.SB(a,c,e,null))return!1;var g=
new d.h,k=new d.h;a.s(g);c.s(k);var f=b.Yp(g,k,e),g=b.Yp(k,g,e);return f&&g?!0:f&&!g?!b.Wg(c,a,e,!1):g&&!f?!b.Wg(a,c,e,!1):!b.Wg(a,c,e,!1)&&!b.Wg(c,a,e,!1)};b.SB=function(a,c,e,g){function k(a,b){return x.XF(a,b)}var f,l;a.jA()>c.jA()?(f=c,l=a):(f=a,l=c);a=f.Fa();c=l.Fa();var m=[0,0],p=[0,0],u=-1,q=0,t,v=new d.ia(0),x=new b,B,y=new d.h,A=new d.h,C=new d.h;f.s(y);l.s(A);y.O(e,e);A.O(e,e);C.I(y);C.Ma(A);f=null;null!=g&&(f=new d.b);t=A=A=null;var E=l.ob;null!=E?(A=E.Mb,t=E.np,null==A&&(A=d.na.Lj(l,C))):
A=d.na.Lj(l,C);l=A.mf();E=null;for(null!=t&&(E=t.mf());a.Ya();)for(t=0;a.Ea();){var D=a.ba();D.s(y);if(y.Yb(C)&&(null==E||(E.Ni(y,e),-1!=E.next()))){var F=D.Rb();l.Wn(D,e);for(var H=l.next();-1!=H;H=l.next()){var G=A.ja(H);c.Tb(G);B=c.ba();var K=B.Rb(),N=D.Ma(B,null,m,p,e);if(0<N){var H=m[0],u=p[0],Q=2==N?m[1]:NaN,O=2==N?p[1]:NaN;if(2==N){if(F*(Q-H)>e)return u=1;var M=F*(Q-H);if(c.Ea()){B=c.ba();N=D.Ma(B,null,m,null,e);if(2==N){var N=m[0],S=m[1],N=F*(S-N);if(M+N>e)return u=1}c.Tb(G);c.ba()}if(!c.jn()){c.Li();
B=c.Li();N=D.Ma(B,null,m,null,e);if(2==N&&(N=m[0],S=m[1],N=F*(S-N),M+N>e))return u=1;c.Tb(G);c.ba()}if(a.Ea()){G=a.Db();D=a.ba();N=D.Ma(B,null,m,null,e);if(2==N&&(N=m[0],S=m[1],N=F*(S-N),M+N>e))return u=1;a.Tb(G);a.ba()}if(!a.jn()){G=a.Db();a.Li();D=a.Li();N=D.Ma(B,null,m,null,e);if(2==N&&(N=m[0],S=m[1],N=K*(S-N),M+N>e))return u=1;a.Tb(G);a.ba()}B=h.pa(a.Db(),a.Ta,H,Q,c.Db(),c.Ta,u,O);x.Ph.push(B);v.add(v.size)}u=0;null!=g&&(D.gc(H,f),g.add(f.x),g.add(f.y))}}if(q<x.Ph.length){v.Gd(q,v.size,k);D=0;
for(H=x.Ph[v.get(q)].zn;q<x.Ph.length;q++)if(B=x.Ph[v.get(q)],!(B.ek<D&&B.rj<D))if(F*(B.ek-D)>e)t=F*(B.rj-B.ek),D=B.rj,H=B.zn;else{B.zn!=H?(t=F*(B.rj-B.ek),H=B.zn):t+=F*(B.rj-B.ek);if(t>e)return u=1;D=B.rj;if(1==D)break}F*(1-D)>e&&(t=0);q=0;v.resize(0);x.Ph.length=0}}}return u};b.fI=function(a,b,e){var c=a.Fa(),k=b.Fa();for(a=new d.Lm(a,b,e,!1);a.next();){b=a.Ql();var f=a.Ml();c.Tb(b);k.Tb(f);b=c.ba();if(0<k.ba().Ma(b,null,null,null,e))return!0}return!1};b.ZH=function(a,b,e,g){var c=a.Fa(),f=new d.h,
h=new d.h,l=new d.h;a.s(f);b.s(h);f.O(e,e);f.contains(h);h.O(e,e);l.I(f);l.Ma(h);f=a.ob;null!=f?(f=f.Mb,null==f&&(f=d.na.Lj(a,l))):f=d.na.Lj(a,l);a=f.mf();for(var m=new d.b,p=new d.b,u=e*e,q=0;q<b.D();q++)if(b.w(q,m),l.contains(m)){h.I(m.x,m.y,m.x,m.y);a.Ni(h,e);for(var t=!1,v=a.next();-1!=v;v=a.next())if(c.Tb(f.ja(v)),v=c.ba(),v.gc(v.qe(m,!1),p),d.b.sc(p,m)<=u){t=!0;break}if(g){if(!t)return!1}else if(t)return!0}return g?!0:!1};b.IA=function(a,b,e){var c=new d.b,k=e*e,f=a.Fa();a=a.ob;if(null!=a&&
(a=a.Mb,null!=a)){var h=new d.h;h.I(b);e=a.Yz(h,e);for(h=e.next();-1!=h;h=e.next())if(f.Tb(a.ja(h)),f.Ea()){var h=f.ba(),l=h.qe(b,!1);h.gc(l,c);if(d.b.sc(b,c)<=k)return!0}return!1}for(a=new d.h;f.Ya();)for(;f.Ea();)if(h=f.ba(),h.s(a),a.O(e,e),a.contains(b)&&(l=h.qe(b,!1),h.gc(l,c),d.b.sc(b,c)<=k))return!0;return!1};b.yH=function(a,c,e){return b.IA(a,c,e)&&!b.hC(a,c,e)};b.hC=function(a,c,e){a=a.Gg();return!b.$t(a,c,e)};b.XH=function(a,b,e){if(a.hn()){var c=new d.Hb(b.o,b.A,b.o,b.B),k=new d.Hb(b.o,
b.B,b.v,b.B),f=new d.Hb(b.v,b.B,b.v,b.A);b=new d.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=a.ba();if(h.Yb(c,e)||h.Yb(k,e)||h.Yb(f,e)||h.Yb(b,e))return!0}}else{c=new d.h;c.I(b);c.O(e,e);e=a.Pa(0);k=new d.b;f=new d.b;b=new d.b;for(var h=new d.b,l=0,m=a.aa();l<m;l++)for(var p=!0,u=a.wa(l),q=a.Gc(l);u<q;u++)if(p)e.fc(2*u,f),p=!1;else{e.fc(2*u,k);b.L(f);h.L(k);if(0!=c.gz(b,h))return!0;f.L(k)}}return!1};b.vc=function(a,c,e){var g=a.G(),k=c.G();if(d.T.gh(g)){var f=a.ob;if(null!=f&&(f=
f.Hi,null!=f))if(33==k){var h=c.w(),h=f.rm(h.x,h.y);if(1==h)return 1;if(0==h)return 4}else{h=new d.h;c.s(h);h=f.Rn(h);if(1==h)return 1;if(0==h)return 4;if(e&&d.T.gh(k)&&b.$C(c,f))return 1073741824}}if(d.T.gh(k)&&(f=c.ob,null!=f&&(f=f.Hi,null!=f)))if(33==g){a=a.w();h=f.rm(a.x,a.y);if(1==h)return 2;if(0==h)return 4}else{c=new d.h;a.s(c);h=f.Rn(c);if(1==h)return 2;if(0==h)return 4;if(e&&d.T.gh(g)&&b.$C(a,f))return 1073741824}return 0};b.$C=function(a,b){for(var c=a.D(),g=new d.b,k=0;k<c;k++)if(a.w(k,
g),1==b.rm(g.x,g.y))return!0;return!1};b.iD=function(a,b,e,g){for(var c=1<=a.Kk(0)&&1<=b.Kk(0),f=a.Fa(),h=b.Fa(),l=[0,0],m=[0,0],p=new d.Lm(a,b,e,!1),u=!1;p.next();){var q=p.Ql(),t=p.Ml();f.Tb(q);h.Tb(t);q=f.ba();t=h.ba().Ma(q,null,m,l,e);if(2==t){u=l[0];t=l[1];q=q.Rb();if(c&&(t-u)*q>e)return!1;u=!0}else if(0!=t){u=l[0];q=m[0];if(0<u&&1>u&&0<q&&1>q)return!1;u=!0}}if(!u)return!1;f=new d.h;h=new d.h;c=new d.h;a.s(f);b.s(h);f.O(1E3*e,1E3*e);h.O(1E3*e,1E3*e);c.I(f);c.Ma(h);return 10<a.D()&&(a=d.ne.clip(a,
c,e,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,e,0),b.u())?!1:d.Nm.gu(a,b,e,"F********",g)};b.dD=function(a,c,e,g){var k=1<=a.Kk(0)&&1<=c.Kk(0),f=new d.h,h=new d.h,l=new d.h;a.s(f);c.s(h);for(var m=!1,p=b.Yp(f,h,e),u=b.Yp(h,f,e),q=a.Fa(),t=c.Fa(),v=[0,0],x=[0,0],B=new d.Lm(a,c,e,!1);B.next();){var y=B.Ql(),A=B.Ml();q.Tb(y);t.Tb(A);A=q.ba();y=t.ba().Ma(A,null,x,v,e);if(2==y){var y=v[0],C=v[1],A=A.Rb();if(k&&(C-y)*A>e&&(m=!0,p&&u))return!0}else if(0!=y&&(y=v[0],A=x[0],0<y&&1>y&&0<A&&1>A))return!0}k=new d.h;
q=new d.h;k.I(f);k.O(1E3*e,1E3*e);q.I(h);q.O(1E3*e,1E3*e);l.I(k);l.Ma(q);f="";f=m?f+"**":f+"T*";if(p){if(10<c.D()&&(c=d.ne.clip(c,l,e,0),c.u()))return!1;f+="****"}else f+="T***";if(u){if(10<a.D()&&(a=d.ne.clip(a,l,e,0),a.u()))return!1;f+="***"}else f+="T**";return d.Nm.gu(a,c,e,f.toString(),g)};b.CL=function(a,c,e,g){var k=[!1],f=b.zL(a,c,e,k);if(k[0])return f;k=new d.h;c.s(k);k.O(1E3*e,1E3*e);return 10<a.D()&&(a=d.ne.clip(a,k,e,0),a.u())?!1:d.Nm.Ex(a,c,e,g)};b.zL=function(a,b,e,g){g[0]=!1;for(var c=
a.Fa(),f=b.Fa(),h=[0,0],l=[0,0],m=new d.Lm(a,b,e,!1),p=!1;m.next();){var u=m.Ql(),q=m.Ml();c.Tb(u,-1);f.Tb(q,-1);u=c.ba();u=f.ba().Ma(u,null,l,h,e);if(0!=u&&(p=!0,1==u&&(u=h[0],q=l[0],0<u&&1>u&&0<q&&1>q)))return g[0]=!0,!1}if(!p){g[0]=!0;h=new d.h;a.s(h);h.O(e,e);m=a;p=!1;l=new d.h;g=0;for(c=b.aa();g<c;g++)if(0<b.La(g)){b.jk(g,l);if(h.Yb(l)){if(f=b.Ba(b.wa(g)),f=d.ff.kn(m,f,0),0==f)return!1}else return!1;p||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(f=new d.Ja,a.copyTo(f),f.Hj(1),m=f),
p=!0)}if(1==a.aa()||1607==b.G())return!0;h=new d.h;b.s(h);h.O(e,e);l=b;m=!1;e=new d.h;g=0;for(c=a.aa();g<c;g++)if(0<a.La(g)){a.jk(g,e);if(h.Yb(e)&&(f=a.Ba(a.wa(g)),f=d.ff.kn(l,f,0),1==f))return!1;m||(!d.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?l=b:(f=new d.Ja,b.copyTo(f),f.Hj(1),l=f),m=!0)}return!0}return!1};b.kD=function(a,b,e,g){for(var c=a.Fa(),f=b.Fa(),h=[0,0],l=[0,0],m=new d.Lm(a,b,e,!1),p=!1;m.next();){var u=m.Ql(),q=m.Ml();c.Tb(u);f.Tb(q);u=c.ba();u=f.ba().Ma(u,null,l,h,e);if(2==u)p=!0;
else if(0!=u){p=h[0];u=l[0];if(0<p&&1>p&&0<u&&1>u)return!1;p=!0}}if(!p)return!1;f=new d.h;h=new d.h;c=new d.h;a.s(f);b.s(h);f.O(1E3*e,1E3*e);h.O(1E3*e,1E3*e);c.I(f);c.Ma(h);return 10<a.D()&&(a=d.ne.clip(a,c,e,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,e,0),b.u())?!1:d.Nm.On(a,b,e,"F********",g)};b.bD=function(a,c,e,g){for(var k=a.Fa(),f=c.Fa(),h=[0,0],l=[0,0],m=new d.Lm(a,c,e,!1),p=!1;m.next();){var u=m.Ql(),q=m.Ml();k.Tb(u);f.Tb(q);u=k.ba();u=f.ba().Ma(u,null,l,h,e);if(2==u)p=!0;else if(0!=u){p=h[0];
u=l[0];if(0<p&&1>p&&0<u&&1>u)return!0;p=!0}}if(!p)return!1;f=new d.h;h=new d.h;l=new d.h;m=new d.h;k=new d.h;a.s(f);c.s(h);return b.Yp(h,f,e)?(l.I(f),l.O(1E3*e,1E3*e),m.I(h),m.O(1E3*e,1E3*e),k.I(l),k.Ma(m),10<a.D()&&(a=d.ne.clip(a,k,e,0),a.u())||10<c.D()&&(c=d.ne.clip(c,k,e,0),c.u())?!1:e=d.Nm.On(a,c,e,"T********",g)):e=d.Nm.On(a,c,e,"T*****T**",g)};b.DL=function(a,c,e,g){var k=[!1],f=b.zL(a,c,e,k);if(k[0])return f;k=new d.h;c.s(k);k.O(1E3*e,1E3*e);return 10<a.D()&&(a=d.ne.clip(a,k,e,0),a.u())?!1:
d.Nm.MB(a,c,e,g)};b.BL=function(a,b,e){return 1==d.gd.ge(a,b,e)?!0:!1};b.fD=function(a,b,e){return 2==d.gd.ge(a,b,e)?!0:!1};b.$t=function(a,b,e){var c=new d.b;e*=e;for(var k=0;k<a.D();k++)if(a.w(k,c),d.b.sc(c,b)<=e)return!1;return!0};b.prototype.XF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();d.Fd=f})(h||(h={}));(function(d){var h;(function(b){b[b.InteriorInterior=0]="InteriorInterior";
b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]="BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(h||(h={}));var f;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";
b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";b[b.PointPointPredicates=5]="PointPointPredicates"})(f||(f={}));h=function(){function b(){this.Ie=0;this.i=new d.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.ZB=function(a,b,e,g,k){if(9!=g.length)throw d.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var f=g.charAt(c);if("*"!=f&&"T"!=f&&"F"!=f&&"0"!=f&&"1"!=
f&&"2"!=f)throw d.g.X("relation string");}c=this.GT(g,a.tb(),b.tb());if(0!=c)return d.Fd.$B(a,b,e,c,k);c=new d.h;a.s(c);f=new d.h;b.s(f);var h=new d.h;h.I(c);h.Nb(f);e=d.na.be(e,h,!1);a=this.cG(a,e);b=this.cG(b,e);if(a.u()||b.u())return this.tX(a,b,g);c=b.G();f=!1;switch(a.G()){case 1736:switch(c){case 1736:f=this.gu(a,b,e,g,k);break;case 1607:f=this.On(a,b,e,g,k);break;case 33:f=this.fu(a,b,e,g,k);break;case 550:f=this.eu(a,b,e,g,k)}break;case 1607:switch(c){case 1736:f=this.On(b,a,e,this.Pq(g),
k);break;case 1607:f=this.NB(a,b,e,g,k);break;case 33:f=this.iu(a,b,e,g,k);break;case 550:f=this.hu(a,b,e,g,k)}break;case 33:switch(c){case 1736:f=this.fu(b,a,e,this.Pq(g),k);break;case 1607:f=this.iu(b,a,e,this.Pq(g),k);break;case 33:f=this.HW(a,b,e,g);break;case 550:f=this.au(b,a,e,this.Pq(g),k)}break;case 550:switch(c){case 1736:f=this.eu(b,a,e,this.Pq(g),k);break;case 1607:f=this.hu(b,a,e,this.Pq(g),k);break;case 550:f=this.EB(a,b,e,g,k);break;case 33:f=this.au(a,b,e,g,k)}break;default:f=!1}return f};
b.gu=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.oK();var h=new d.h,l=new d.h;a.s(h);c.s(l);g=!1;d.Fd.Dk(h,l,e)&&(f.mv(a,c),g=!0);g||(h=d.Fd.vc(a,c,!1),4==h?(f.mv(a,c),g=!0):1==h?(f.Sy(c),g=!0):2==h&&(f.mF(a),g=!0));g||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.tq(a,c),f.i.qh());return b.zg(f.H,f.dd)};b.Ex=function(a,c,e,g){var k=new b;k.xj();k.Bj("T*****F**");k.oK();var f=new d.h,h=new d.h;a.s(f);c.s(h);var l=!1;d.Fd.Dk(f,h,e)&&(k.mv(a,c),l=!0);l||(f=d.Fd.vc(a,c,!1),4==f?(k.mv(a,c),l=!0):
1==f?(k.Sy(c),l=!0):2==f&&(k.mF(a),l=!0));if(l)return f=this.zg(k.H,k.dd);l=new d.fd;a=l.Jb(a);f=l.Jb(c);d.sk.V(l,e,g,!1);e=l.Se(f).Gg();l.zq(0,!0,!0);d.lo.V(l,a,-1,!1,g);if(0==l.D(a))return!1;d.lo.V(l,f,-1,!1,g);k.Yr(l,g);c=0==l.D(f);if(!c&&(k.tq(a,f),k.i.qh(),f=this.zg(k.H,k.dd),!f))return f;a=l.Se(a);l=new d.fd;a=l.Jb(a);f=l.Jb(e);k.Yr(l,g);k.Ie=0;k.xj();k.Bj(c?"T*****F**":"******F**");k.iC();k.tq(a,f);k.i.qh();return f=this.zg(k.H,k.dd)};b.On=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.iC();
var h=new d.h,l=new d.h;a.s(h);c.s(l);g=!1;d.Fd.Dk(h,l,e)&&(f.nv(a,c),g=!0);g||(h=d.Fd.vc(a,c,!1),4==h?(f.nv(a,c),g=!0):1==h&&(f.nF(c),g=!0));g||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.Fh=f.i.wq(),b.pv(c,f.i,f.Fh),f.tq(a,c),f.i.xq(f.Fh),f.i.qh());return b.zg(f.H,f.dd)};b.MB=function(a,c,e,g){var k=new b;k.xj();k.Bj("T*****F**");k.iC();var f=new d.h,h=new d.h;a.s(f);c.s(h);var l=!1;d.Fd.Dk(f,h,e)&&(k.nv(a,c),l=!0);l||(f=d.Fd.vc(a,c,!1),4==f?(k.nv(a,c),l=!0):1==f&&(k.nF(c),l=!0));if(l)return e=
this.zg(k.H,k.dd);l=new d.fd;a=l.Jb(a);c=l.Jb(c);k.Fp(l,e,g);if(0==l.D(a))return!1;k.tq(a,c);k.i.qh();return e=this.zg(k.H,k.dd)};b.eu=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.pK();var h=new d.h,l=new d.h;a.s(h);c.s(l);g=!1;d.Fd.Dk(h,l,e)&&(f.ov(a),g=!0);g||(h=d.Fd.vc(a,c,!1),4==h?(f.ov(a),g=!0):1==h&&(f.CP(),g=!0));g||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.lz(a,c),f.i.qh());return b.zg(f.H,f.dd)};b.NB=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.$X();g=new d.h;var h=new d.h;a.s(g);
c.s(h);var l=!1;d.Fd.Dk(g,h,e)&&(f.dI(a,c),l=!0);l||4!=d.Fd.vc(a,c,!1)||(f.dI(a,c),l=!0);l||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.xi=f.i.wq(),f.Fh=f.i.wq(),b.pv(a,f.i,f.xi),b.pv(c,f.i,f.Fh),f.tq(a,c),f.i.xq(f.xi),f.i.xq(f.Fh),f.i.qh());return b.zg(f.H,f.dd)};b.hu=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.DK();g=new d.h;var h=new d.h;a.s(g);c.s(h);var l=!1;d.Fd.Dk(g,h,e)&&(f.HA(a),l=!0);l||4!=d.Fd.vc(a,c,!1)||(f.HA(a),l=!0);l||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.xi=f.i.wq(),
b.pv(a,f.i,f.xi),f.lz(a,c),f.i.xq(f.xi),f.i.qh());return b.zg(f.H,f.dd)};b.EB=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.IK();g=new d.h;var h=new d.h;a.s(g);c.s(h);var l=!1;d.Fd.Dk(g,h,e)&&(f.GJ(),l=!0);l||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),f.Fp(g,e,k),f.lz(a,c),f.i.qh());return b.zg(f.H,f.dd)};b.fu=function(a,c,e,g){var k=new b;k.xj();k.Bj(g);k.pK();var f=new d.h;a.s(f);c=c.w();var h=!1;d.Fd.Dx(c,f,e)&&(k.ov(a),h=!0);h||(e=d.gd.ge(a,c,e),1==e?(k.H[0]=0,k.H[2]=2,k.H[3]=-1,k.H[5]=1,k.H[6]=-1):2==
e?(k.H[6]=-1,0!=a.hf()?(k.H[0]=-1,k.H[3]=0,k.H[2]=2,k.H[5]=1):(k.H[0]=0,k.H[3]=-1,k.H[5]=-1,e=new d.h,a.s(e),k.H[2]=0==e.fa()&&0==e.N()?-1:1)):k.ov(a));return this.zg(k.H,g)};b.iu=function(a,c,e,g,k){var f=new b;f.xj();f.Bj(g);f.DK();var h=new d.h;a.s(h);g=c.w();var l=!1;d.Fd.Dx(g,h,e)&&(f.HA(a),l=!0);if(!l){var h=null,m=l=!1;if(f.ga[0]||f.ga[6])d.Fd.IA(a,g,e)?(f.ga[0]&&(h=d.Pi.Rm(a,k),m=!d.Fd.$t(h,g,e),l=!0,f.H[0]=m?-1:0),f.H[6]=-1):(f.H[0]=-1,f.H[6]=0);f.ga[3]&&(null!=h&&h.u()?f.H[3]=-1:(l||(null==
h&&(h=d.Pi.Rm(a,k)),m=!d.Fd.$t(h,g,e),l=!0),f.H[3]=m?0:-1));f.ga[5]&&(null!=h&&h.u()?f.H[5]=-1:l&&!m?f.H[5]=0:(null==h&&(h=d.Pi.Rm(a,k)),k=d.Fd.zx(h,c,e),f.H[5]=k?-1:0));f.ga[2]&&(0!=a.Rb()?f.H[2]=1:(k=new d.Ed(a.description),k.Id(a,0,a.D()),a=d.Fd.zx(k,c,e),f.H[2]=a?-1:0))}return this.zg(f.H,f.dd)};b.au=function(a,c,e,g){var k=new b;k.xj();k.Bj(g);k.IK();var f=new d.h;a.s(f);c=c.w();var h=!1;d.Fd.Dx(c,f,e)&&(k.GJ(),h=!0);if(!h){f=!1;h=!0;e*=e;for(var l=0;l<a.D();l++){var m=a.Ba(l);d.b.sc(m,c)<=e?
f=!0:h=!1;if(f&&!h)break}f?(k.H[0]=0,k.H[2]=h?-1:0,k.H[6]=-1):(k.H[0]=-1,k.H[2]=0,k.H[6]=0)}return b.zg(k.H,g)};b.HW=function(a,c,e,g){a=a.w();c=c.w();for(var k=[],f=0;9>f;f++)k[f]=-1;d.b.sc(a,c)<=e*e?k[0]=0:(k[2]=0,k[6]=0);k[8]=2;return b.zg(k,g)};b.zg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.tX=function(a,
b,e){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var k=0;9>k;k++)c[k]=-1;return this.zg(c,e)}k=!1;a.u()&&(a=b,k=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();d.T.Ic(b)?1736==b?0!=a.hf()?(c[2]=2,c[5]=1):(c[5]=-1,b=new d.h,a.s(b),c[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=d.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);k&&this.kL(c);return this.zg(c,e)};b.GT=function(a,c,e){return b.lQ(a)?3:b.tO(a)?4:b.hU(a,c,e)?8:b.kO(a,c,e)?16:b.PN(a)?1:b.$M(a,c,e)?32:0};b.lQ=function(a){return"T"==
a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.tO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.hU=function(a,b,e){if(0==b&&0==e)return!1;if(2!=b||2!=e)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&
"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||1==b&&1==e&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=e&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.kO=function(a,b,e){return b>e?"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==e&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.PN=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};
b.$M=function(a,b,e){if(b==e){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,e){a=b.Ia(a);for(var c=b.rf;-1!=c;c=b.og(c))if(0!=(b.Md(c)&a)){var d=b.kf(c);if(-1==d)b.co(c,
e,0);else{var f=d,h=0;do 0!=(b.Ah(f)&a)&&h++,f=b.qc(b.Aa(f));while(f!=d);b.co(c,e,h)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],e=a[2],d=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=e;a[7]=d};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=
!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;
this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.iC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.$X=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=
0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&
(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.AP=function(a,b,e){var c=!0;this.ga[0]&&(this.yU(a,b,e),c=c&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),c=c&&this.uc(1));this.ga[2]&&(this.GH(a,b,e,2),c=c&&this.uc(2));this.ga[3]&&(this.FH(a,e,3),c=c&&this.uc(3));this.ga[4]&&(this.GP(a,b,e),c=c&&this.uc(4));this.ga[5]&&(this.sF(a,e,5),c=c&&this.uc(5));
this.ga[6]&&(this.GH(a,e,b,6),c=c&&this.uc(6));this.ga[7]&&(this.sF(a,b,7),c=c&&this.uc(7));return c};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,e,g,k){if(-1!=b||-1!=g)("T"!=e&&"F"!=e&&-1!=b||"T"!=k&&"F"!=k&&-1!=g?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=g&&(this.H[g]=1)):(-1!=
g&&(this.H[g]=-1),-1!=b&&(e=new d.h,a.s(e),this.H[b]=0==e.fa()&&0==e.N()?0:1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.mF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.ga[7]&&(c=d.Pi.Rq(b),
this.H[7]=c?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.nF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=d.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.CP=function(){this.H[0]=
0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var c=this.dd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.ga[5]&&(c=d.Pi.Rq(a),this.H[5]=c?0:-1);this.ga[6]&&(c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.HA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():
!0;this.H[2]=b?1:0}this.ga[5]&&(a=d.Pi.Rq(a),this.H[5]=a?0:-1);this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.BP=function(a,b,e){var c=!0;this.ga[0]&&(this.zU(a,b),c=c&&this.uc(0));this.ga[1]&&(this.vU(a,b,e,this.Fh),c=c&&this.uc(1));this.ga[2]&&(this.wU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.KP(a,b,e,this.Fh),c=c&&this.uc(3));this.ga[4]&&(this.HP(a,b,e,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.IP(a,b,e),c=c&&this.uc(5));this.ga[6]&&(this.eS(a,b),c=c&&
this.uc(6));this.ga[7]&&(this.dS(a,b,e,this.Fh),c=c&&this.uc(7));return c};b.prototype.oV=function(a,b,e){var c=!0;this.ga[0]&&(this.CU(a,b,e,this.xi,this.Fh),c=c&&this.uc(0));this.ga[1]&&(this.HH(a,b,e,this.xi,this.Fh,1),c=c&&this.uc(1));this.ga[2]&&(this.IH(a,b,e,2),c=c&&this.uc(2));this.ga[3]&&(this.HH(a,e,b,this.Fh,this.xi,3),c=c&&this.uc(3));this.ga[4]&&(this.MP(a,b,e,this.xi,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.tF(a,e,this.xi,5),c=c&&this.uc(5));this.ga[6]&&(this.IH(a,e,b,6),c=c&&this.uc(6));
this.ga[7]&&(this.tF(a,b,this.Fh,7),c=c&&this.uc(7));return c};b.prototype.oF=function(a,b,e){var c=!0;this.ga[0]&&(this.AU(a,b),c=c&&this.uc(0));this.ga[2]&&(this.xU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.LP(a,b,e),c=c&&this.uc(3));this.ga[5]&&(this.JP(a,b),c=c&&this.uc(5));this.ga[6]&&(this.fS(a,b),c=c&&this.uc(6));return c};b.prototype.eI=function(a,b,e){var c=!0;this.ga[0]&&(this.DU(a,b,e,this.xi),c=c&&this.uc(0));this.ga[2]&&(this.BU(a,e),c=c&&this.uc(2));this.ga[3]&&(this.OP(a,b,e,this.xi),
c=c&&this.uc(3));this.ga[5]&&(this.NP(a,b,e,this.xi),c=c&&this.uc(5));this.ga[6]&&(this.gS(a,b,e),c=c&&this.uc(6));return c};b.prototype.GW=function(a,b,e){var c=!0;this.ga[0]&&(this.EU(a,b,e),c=c&&this.uc(0));this.ga[2]&&(this.JH(a,b,e,2),c=c&&this.uc(2));this.ga[6]&&(this.JH(a,e,b,6),c=c&&this.uc(6));return c};b.prototype.yU=function(a,b,e){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&e)&&(this.H[0]=2))};b.prototype.FH=function(a,b,e){if(1!=this.H[e]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(c&b)&&(this.H[e]=1)}};b.prototype.GH=function(a,b,e,d){2!=this.H[d]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=2))};b.prototype.GP=function(a,b,e){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&e)&&(this.H[4]=0))}};b.prototype.sF=function(a,b,e){if(1!=this.H[e]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[e]=1)}};b.prototype.zU=function(a,
b){if(1!=this.H[0]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.vU=function(a,b,e,d){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),g=this.i.Md(c);0==(g&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(g&e)&&0!=a%2&&(this.H[1]=0))}};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,e,d){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[3]=1:0!=this.H[3]&&
1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(c=this.i.Xf(a),a=this.i.Md(c),0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&e)&&0==b%2&&(this.H[3]=0)))}};b.prototype.HP=function(a,b,e,d){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a);a=this.i.Md(c);0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&e)&&0!=b%2&&(this.H[4]=0))}};b.prototype.IP=function(a,b,e){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&e)&&(this.H[5]=1))};b.prototype.eS=function(a,b){if(1!=this.H[6]){var c=this.i.Ff(this.i.Aa(a));
0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.dS=function(a,b,e,d){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),g=this.i.Md(c);0==(g&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(g&e)&&0!=a%2&&(this.H[7]=0))}};b.prototype.CU=function(a,b,e,d,k){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),c=this.i.Md(a),0!=(c&b)&&0!=(c&e)&&(b=this.i.Hg(a,d),k=this.i.Hg(a,
k),0==b%2&&0==k%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,b,e,d,k,f){if(0!=this.H[f]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&(b=this.i.Hg(a,d),k=this.i.Hg(a,k),0==b%2&&0!=k%2&&(this.H[f]=0))}};b.prototype.IH=function(a,b,e,d){1!=this.H[d]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=1))};b.prototype.MP=function(a,b,e,d,k){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&
0!=(c&e)&&(b=this.i.Hg(a,d),k=this.i.Hg(a,k),0!=b%2&&0!=k%2&&(this.H[4]=0))}};b.prototype.tF=function(a,b,e,d){0!=this.H[d]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,e)%2&&(this.H[d]=0))};b.prototype.AU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Hk(this.i.Lz(a))&b)&&(this.H[0]=0)};b.prototype.xU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.LP=function(a,b,e){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&
b)&&0!=(a&e)&&(this.H[3]=0))};b.prototype.JP=function(a,b){1!=this.H[5]&&0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.fS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Hk(this.i.Lz(a))&b)&&(this.H[6]=0)};b.prototype.DU=function(a,b,e,d){if(0!=this.H[0]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&0==this.i.Hg(a,d)%2&&(this.H[0]=0)}};b.prototype.BU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.OP=function(a,b,e,d){if(0!=
this.H[3]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&0!=this.i.Hg(a,d)%2&&(this.H[3]=0)}};b.prototype.NP=function(a,b,e,d){if(0!=this.H[5]){var c=this.i.Md(a);0!=(c&b)&&0==(c&e)&&0!=this.i.Hg(a,d)%2&&(this.H[5]=0)}};b.prototype.gS=function(a,b,e){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&e)&&(this.H[6]=0))};b.prototype.EU=function(a,b,e){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&e)&&(this.H[0]=0))};b.prototype.JH=function(a,b,e,d){0!=this.H[d]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=
0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);this.vj=this.i.xh();for(var g=this.i.rf;-1!=g;g=this.i.og(g)){var k=this.i.kf(g);if(-1==k){if(-1!=this.Fn)switch(this.Fn){case 3:c=this.oF(g,a,b);break;case 4:c=this.eI(g,a,b);break;default:throw d.g.X("internal error");}}else{var f=k;do{var h=f;if(1!=this.i.Kb(h,this.vj)){do{switch(this.jx){case 0:c=this.AP(h,a,b);break;case 1:c=this.BP(h,a,b);break;case 2:c=this.oV(h,a,b);break;default:throw d.g.X("internal error");}if(c)break;
this.i.Ob(h,this.vj,1);h=this.i.qc(h)}while(h!=f&&!c)}if(c)break;f=this.i.qc(this.i.Aa(h))}while(f!=k);if(c)break}}c||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var g=this.i.rf;-1!=g;g=this.i.og(g)){switch(this.Fn){case 3:c=this.oF(g,a,b);break;case 4:c=this.eI(g,a,b);break;case 5:c=this.GW(g,a,b);break;default:throw d.g.za();}if(c)break}c||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,e){this.WR(a,b,
e);this.Yr(a,e)};b.prototype.WR=function(a,b,e){d.sk.V(a,b,e,!1);a.zq(0,!0,!0);for(b=a.rd;-1!=b;b=a.Ue(b))1736==a.hc(b)&&d.lo.V(a,b,-1,!1,e)};b.cG=function(a,b){var c=a.G();if(d.T.Oc(c))return c=new d.Ua(a.description),c.dc(a,!0),c;if(197==c){c=new d.h;a.s(c);if(c.fa()<=b&&c.N()<=b)return c=new d.Wa(a.description),a.Wf(c),c;if(c.fa()<=b||c.N()<=b)return c=new d.Ua(a.description),b=new d.Wa,a.ig(0,b),c.Rf(b),a.ig(2,b),c.lineTo(b),c;c=new d.Ja(a.description);c.jd(a,!1);return c}return a};return b}();
d.Nm=h})(h||(h={}));(function(d){var h=function(){function a(a){this.sn=new d.ia(0);this.Rw=new d.ia(0);this.mu=new d.b;this.nu=new d.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.kA(a))};a.prototype.ow=function(a){var b=this.Sz(a);a=this.SG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.kA=function(a){var b=this.Sz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Sz=function(a){return this.sn.get(a)};
a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new d.ia(0),this.Rw=new d.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.dA=function(a){return this.a.ld(this.Sz(a))};return a}();d.LZ=h;var f=function(){function a(a){this.bf=a;this.Fe=new d.Hb;this.An=
new d.Hb;this.SI=0;this.op=null;this.fB=-1}a.prototype.compare=function(a,b,d){d=a.ja(d);var c=this.bf.ib,e;this.fB==b?e=this.SI:(this.op=c.ic(b),null==this.op?(a=c.a,a.od(c.kA(b),this.Fe),this.op=this.Fe,e=this.Fe.pf(this.bf.Wh,0)):e=this.op.pf(this.bf.Wh,0),this.SI=e,this.fB=b);a=c.ic(d);var g;null==a?(a=c.a,a.od(c.kA(d),this.An),a=this.An,g=this.An.pf(this.bf.Wh,0)):g=a.pf(this.bf.Wh,0);e==g&&(b=c.ow(b),d=c.ow(d),d=Math.min(b?this.op.oa:this.op.ra,d?a.oa:a.ra),b=.5*(d+this.bf.Wh),b==this.bf.Wh&&
(b=d),e=this.op.pf(b,0),g=a.pf(b,0));return e<g?-1:e>g?1:0};a.prototype.reset=function(){this.fB=-1};return a}(),b=function(){function a(){this.Kn=this.jm=null;this.hb=new d.uk;this.hb.PR();this.xe=new f(this);this.hb.Ep(this.xe)}a.prototype.zS=function(){var a=!1;this.Vw&&(a=this.AS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.hA(b);this.a.pC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=
b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new d.ia(0);this.Wh=NaN;var g=new d.b;this.Xt=this.a.aa(this.Y);this.fp=this.a.Ud();this.Mt=this.a.Ud();for(var k=this.jm.xc(this.jm.Ge);-1!=k;k=this.jm.nb(k)){var f=this.jm.getData(k);this.a.Nc(f,g);g.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.xe.reset(),b.clear(!1));b.add(f);this.Wh=g.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,
this.hm)){this.a.pC(b,!0);g=b;for(b=this.a.Tj(b,this.kp);-1!=b;)k=this.a.Tj(b,this.kp),this.a.YV(this.Y,this.a.Sb(g),b),g=b,b=k;b=this.a.Sb(g)}else this.a.pC(b,!1),b=this.a.Sb(b);this.a.cC(this.hm);this.a.cC(this.kp);return a};a.prototype.ju=function(a){return this.TW(a)};a.prototype.TW=function(a){var b=!1;null==this.ib&&(this.ib=new h(this.a));null==this.Kn?(this.Kn=new d.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.SW(a);for(var c=0,k=a.size;c<k;c++){var f=a.get(c);-1!=f&&this.CH(f,-1)}for(c=0;c<
this.Kn.size&&0<this.Xt;c++)if(a=this.Kn.get(c),f=this.ib.dA(this.hb.ja(a)),k=-1,0==this.a.Tj(f,this.hm)){for(var f=this.hb.Ve(a),l=a,m;-1!=f;){var p=this.hb.ja(f),u=this.ib.dA(p),q=this.a.Tj(u,this.hm);if(0!=q){k=u;break}l=f;f=this.hb.Ve(f)}-1==f?(m=!0,f=l):(p=this.hb.ja(f),m=this.ib.ow(p),f=this.hb.nb(f),m=!m);do{p=this.hb.ja(f);u=this.ib.dA(p);q=this.a.Tj(u,this.hm);if(0==q&&(m!=this.ib.ow(p)&&(b=this.a.cb(u),this.a.fK(b),this.a.sh(u,this.a.Ra(b)),b=!0),this.a.$r(u,this.hm,m?3:2),m||(l=this.a.Tj(k,
this.kp),this.a.$r(k,this.kp,u),this.a.$r(u,this.kp,l)),this.Xt--,0==this.Xt))return b;k=u;l=f;f=this.hb.nb(f);m=!m}while(l!=a)}return b};a.prototype.SW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),f=this.a.Sa(d,this.fp),h=this.a.Sa(d,this.Mt);if(-1!=f){var l=this.hb.ja(f);this.ib.CG(l);this.a.Va(d,this.fp,-1)}-1!=h&&(l=this.hb.ja(h),this.ib.CG(l),this.a.Va(d,this.Mt,-1));l=-1;-1!=f&&-1!=h?(this.hb.Kd(f,-1),this.hb.Kd(h,-1),a.set(b,-1)):l=-1!=f?f:h;-1!=l&&(this.CH(d,l)||this.hb.Kd(l,-1),
a.set(b,-1))}};a.prototype.CH=function(a,b){var c=new d.b,e=new d.b;this.a.Nc(a,c);var f=this.a.U(a);this.a.Nc(f,e);var h=!1;if(c.y<e.y){var h=!0,l=this.ib.wJ(a),m;-1==b?m=this.hb.addElement(l,-1):(m=b,this.hb.kk(m,l));l=this.a.Sa(f,this.fp);-1==l?this.a.Va(f,this.fp,m):this.a.Va(f,this.Mt,m);f=this.a.ld(a);0==this.a.Tj(f,this.hm)&&this.Kn.add(m)}f=this.a.Ra(a);this.a.Nc(f,e);c.y<e.y&&(h=!0,l=this.ib.wJ(f),-1==b?m=this.hb.addElement(l,-1):(m=b,this.hb.kk(m,l)),l=this.a.Sa(f,this.fp),-1==l?this.a.Va(f,
this.fp,m):this.a.Va(f,this.Mt,m),f=this.a.ld(a),0==this.a.Tj(f,this.hm)&&this.Kn.add(m));return h};a.V=function(b,e,d,k){var c=new a;c.a=b;c.Y=e;c.jm=d;c.Vw=k;return c.zS()};a.prototype.AS=function(){var a=new d.ia(0),b=new d.ia(0),g=-1,k=-1,f=new d.b;f.$c();for(var h=-1,l=-1,m=-1,p=new d.b,u=this.jm.xc(this.jm.Ge);-1!=u;u=this.jm.nb(u)){var q=this.jm.getData(u);this.a.Nc(q,p);var t=this.a.ld(q);f.ub(p)&&l==t?(-1==k&&(g=this.a.rz(),k=this.a.Ud()),-1==m&&(m=b.size,this.a.Va(h,k,m),b.add(1),-1==this.a.Tj(t,
g)&&(this.a.$r(t,g,h),a.add(t))),this.a.Va(q,k,m),b.CK(b.Fc()+1)):(m=-1,f.L(p));h=q;l=t}if(0==a.size)return!1;f=new d.ia(0);h=new d.ia(0);l=0;for(m=a.size;l<m;l++){var t=a.get(l),v=this.a.Tj(t,g),q=this.a.Sa(v,k);f.clear(!1);h.clear(!1);f.add(v);h.add(q);for(q=this.a.U(v);q!=v;q=this.a.U(q)){var x=q,p=this.a.Sa(x,k);if(-1!=p)if(0==h.size)h.add(p),f.add(x);else if(h.Fc()==p){var u=f.Fc(),B=this.a.U(u),v=this.a.U(x);this.a.Kc(u,v);this.a.Lc(v,u);this.a.Kc(x,B);this.a.Lc(B,x);x=[!1];B=this.a.BH(this.Y,
B,this.a.cb(t),x);this.a.Va(q,k,-1);x[0]&&this.a.jg(t,v);q=this.a.La(t);v=this.a.La(B);q-=v;this.a.nk(t,q);b.set(p,b.get(p)-1);1==b.get(p)&&(b.set(p,0),h.Pf(),f.Pf());q=v=u}else f.add(q),h.add(p)}}this.a.cC(g);this.a.le(k);return!0};return a}();d.TN=b})(h||(h={}));(function(d){var h=function(){function f(){}f.prototype.Cg=function(){this.vB=this.wb=null};f.prototype.get=function(){return this.vB};f.prototype.set=function(b){this.vB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),d.g.za();};f.prototype.create=
function(b){if(322==b)this.Js();else throw d.g.X("Not Implemented");};f.prototype.Js=function(){null==this.wb&&(this.wb=new d.Hb);this.vB=this.wb};return f}();d.Cg=h})(h||(h={}));(function(d){d=d.YN||(d.YN={});d[d.enumLineSeg=1]="enumLineSeg";d[d.enumBezierSeg=2]="enumBezierSeg";d[d.enumArcSeg=4]="enumArcSeg";d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";d[d.enumSegmentMask=7]="enumSegmentMask";d[d.enumDensified=8]="enumDensified"})(h||(h={}));(function(d){var h=function(){return function(b){this.zj=
b;this.TC=this.UC=1;this.UB=this.TB=this.VB=0}}(),f=function(){function b(){this.vr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new d.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.sB=[]}b.prototype.XB=function(a){if(null!=a){for(var b=0,e=a.length;b<e;b++)this.rX(a[b]);a.length=0}};b.prototype.rX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new h(a);else b=this.yr[this.yr.length-1],b.zj=a,
--this.yr.length;return b};b.prototype.MT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};b.prototype.HB=function(){this.sx>=this.sB.length&&this.sB.push(new d.Cg);var a=this.sB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.XB(this.$o);this.XB(this.Ut);this.XB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.MT(a,b).zj};b.prototype.Ma=function(a,
b){if(2!=this.$o.length)throw d.g.za();this.ta=a;var c=d.Ub.Yx(.01*a),g=!1,k=this.$o[0],f=this.$o[1];if(b||0!=(k.zj.ys(f.zj,a,!0)&5)){if(322==k.zj.G()&&(b=k.zj,322==f.zj.G())){var h=f.zj,l=d.Hb.Gy(b,h,null,this.vr,this.cl,a);if(0==l)throw d.Hb.Gy(b,h,null,this.vr,this.cl,a),d.g.za();a=Array(9);d.J.Nv(a,null);for(var m=0;m<l;m++){var p=this.vr[m],u=this.cl[m],q=k.UB,t=1;0==p?(q=k.VB,t=k.UC):1==p&&(q=k.TB,t=k.TC);var v=f.UB,x=1;0==u?(v=f.VB,x=f.UC):1==u&&(v=f.TB,x=f.TC);var B=new d.b;q==v?(q=new d.b,
b.gc(p,q),p=new d.b,h.gc(u,p),u=t+x,x/=u,d.Ub.cI(q,p,x,B),d.b.sc(B,q)+d.b.sc(B,p)>c&&(g=!0)):q>v?(b.gc(p,B),p=new d.b,h.gc(u,p),d.b.sc(B,p)>c&&(g=!0)):(h.gc(u,B),q=new d.b,b.gc(p,q),d.b.sc(B,q)>c&&(g=!0));a[m]=B}k=0;f=-1;for(m=0;m<=l;m++)x=m<l?this.vr[m]:1,x!=k&&(c=this.HB(),b.yh(k,x,c),-1!=f&&c.get().Mc(a[f]),m!=l&&c.get().Zc(a[m]),k=x,this.Ut.push(this.Ax(c.get()))),f=m;b=[0,0,0,0,0,0,0,0,0];for(m=0;m<l;m++)b[m]=m;1<l&&this.cl[0]>this.cl[1]&&(x=this.cl[0],this.cl[0]=this.cl[1],this.cl[1]=x,m=b[0],
b[0]=b[1],b[1]=m);k=0;f=-1;for(m=0;m<=l;m++)x=m<l?this.cl[m]:1,x!=k&&(c=this.HB(),h.yh(k,x,c),-1!=f&&(k=b[f],c.get().Mc(a[k])),m!=l&&(k=b[m],c.get().Zc(a[k])),k=x,this.mx.push(this.Ax(c.get()))),f=m;return g}throw d.g.za();}return!1};b.prototype.tA=function(a,b,e){b.copyTo(this.cg);if(1!=this.$o.length)throw d.g.za();this.ta=a;var c=this.$o[0];if(e||c.zj.av(b.w(),a,!0))if(322==c.zj.G()){a=c.zj;var k=a.qe(b.w(),!1);this.vr[0]=k;var f=c.UB;e=1;0==k?(f=c.VB,e=c.UC):1==k&&(f=c.TB,e=c.TC);c=new d.b;0==
f?(f=new d.b,a.gc(k,f),b=b.w(),d.Ub.cI(f,b,1/(e+1),c)):0<f?(c=new d.b,a.gc(k,c)):c=b.w();e=0;k=-1;for(f=0;1>=f;f++){b=1>f?this.vr[f]:1;if(b!=e){var h=this.HB();a.yh(e,b,h);-1!=k&&h.get().Mc(c);1!=f&&h.get().Zc(c);e=b;this.Ut.push(this.Ax(h.get()))}k=f}this.cg.rb(c)}else throw d.g.za();};return b}();d.eE=f})(h||(h={}));(function(d){var h=function(){function f(b){this.zt=this.Sk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=
0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Sk=null;this.gm=-1;this.Sl=!1;this.zt=new d.b}f.$p=function(b,a){if(0>a||a>=b.D())throw d.g.wd();var c=new f(b),e=b.cw(a);c.cd=a-b.wa(e);c.Oh=e+1;c.Ta=e;c.vf=c.ws(c.Ta);c.gm=c.bb.wa(c.Ta);c.Sl=c.bb.Qb(c.Ta);return c};f.Zp=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw d.g.wd();var e=b.Qb(a)?0:1;if(c>=b.La(a)-e)throw d.g.wd();b=new f(b);b.Ze=-1;b.cd=c;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};f.prototype.zX=
function(b){if(this.bb!=b.bb)throw d.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=b.vf;this.mn=b.mn;this.gm=b.gm;this.Sk=null;this.Sl=b.Sl};f.prototype.ba=function(){this.Ze!=this.cd&&this.RE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw d.g.wd();this.cd++}return this.Sk};f.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw d.g.wd();this.cd--}this.cd!=this.Ze&&this.RE();return this.Sk};f.prototype.AX=function(){this.Ze=
-1;this.cd=0};f.prototype.BX=function(){this.cd=this.vf;this.Ze=-1};f.prototype.Tb=function(b,a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.PO();if(b>=c&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=c+1;this.Ta=c;this.Ze=-1;this.cd=b-this.bb.wa(c);this.vf=this.ws(c);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};f.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;
this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta);this.Oh++;return!0};f.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};f.prototype.fC=function(b){if(0>b)throw d.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};f.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};f.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};
f.prototype.kC=function(){this.mn=!0};f.prototype.Db=function(){return this.bb.kb.f[this.Ta]+this.Ze};f.prototype.PO=function(){return this.bb.wa(this.Ta)};f.prototype.Ik=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};f.prototype.jn=function(){return 0==this.Ze};f.prototype.Io=function(){return this.Ze==this.vf-1};f.prototype.Ea=function(){return this.cd<this.vf};f.prototype.pA=function(){return 0<this.cd};f.prototype.Vf=function(){var b=new f(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=
this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};f.prototype.RE=function(){if(0>this.cd||this.cd>=this.vf)throw d.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.wb&&(this.wb=new d.Hb);this.Sk=this.wb;break;case 2:throw d.g.X("internal error");case 4:throw d.g.za();default:throw d.g.za();}this.Sk.Fg(a);c=this.Ik();this.bb.Nc(b,this.zt);this.Sk.Mc(this.zt);this.bb.Nc(c,this.zt);
this.Sk.Zc(this.zt);for(var e=1,g=a.Ga;e<g;e++)for(var k=a.qd(e),f=d.ma.Xa(k),h=0;h<f;h++){var l=this.bb.Yc(k,b,h);this.Sk.Tx(k,h,l);l=this.bb.Yc(k,c,h);this.Sk.Lx(k,h,l)}};f.prototype.UU=function(){return this.Ta==this.bb.aa()-1};f.prototype.Go=function(){var b=this.bb.PT();return null!=b?1!=(b.read(this.Ze)&7):!1};return f}();d.ZN=h})(h||(h={}));(function(d){var h=function(){function f(b){b instanceof d.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.wV=b.slice(0),this.Ca=-1,this.dj=b.length)}f.prototype.Ia=
function(){return this.Ca};f.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?this.JI:this.wV[this.Ca]):null};f.prototype.Re=function(){return!0};return f}();d.hd=h})(h||(h={}));(function(d){var h=function(){return function(){this.next=null}}(),f=function(){function b(){this.Mr=this.wx=this.xx=this.Pk=this.ai=0;this.vG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Pk=this.ai=-1}b.prototype.wY=function(a,b,e){this.ai=a;this.Pk=b;this.hi=this.Em=
null;this.Mr=0;this.az=e;null==this.Xn&&(this.Xn=d.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};b.prototype.fa=function(){return this.Pk};b.prototype.flush=function(){0<this.tm&&(this.az.qG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Pk;a++){for(var b=this.Em[a];null!=b;){var d=b,b=b.next;d.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Pk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.vG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.tP(),
this.kP(a),this.ZR();this.$K()};b.prototype.Qy=function(a,b,e,g){if(b!=g){var c=1;b>g&&(c=a,a=e,e=c,c=b,b=g,g=c,c=-1);if(!(0>g||b>=this.Pk)){0>a&&0>e?e=a=-1:a>=this.ai&&e>=this.ai&&(e=a=this.ai);var f=(e-a)/(g-b);g>this.Pk&&(g=this.Pk,e=f*(g-b)+a);0>b&&(a=f*(0-b)+a,b=0);var l=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/f+b,a=0):a>l&&(b=(this.ai-a)/f+b,a=this.ai);-8388607>e?g=(0-a)/f+b:e>l&&(g=(this.ai-a)/f+b);b=d.J.truncate(b);g=d.J.truncate(g);b!=g&&(e=new h,e.x=d.J.truncate(4294967296*a),e.y=
b,e.B=g,e.TR=d.J.truncate(4294967296*f),e.dir=c,null==this.Em&&(this.Em=d.J.gf(this.Pk,null)),e.next=this.Em[e.y],this.Em[e.y]=e,e.y<this.xx&&(this.xx=e.y),e.B>this.wx&&(this.wx=e.B),this.Mr++)}}};b.prototype.tP=function(){if(null!=this.hi){for(var a=!1,b=null,d=this.hi;null!=d;)if(d.y++,d.y==d.B){var g=d,d=d.next;null!=b?b.next=d:this.hi=d;g.next=null}else d.x+=d.TR,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.kP=function(a){if(!(a>=this.Pk)){var b=this.Em[a];
if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var d=!0,g=b,k=null;null!=a&&null!=g;)a.x>g.x?(d&&(this.hi=g),d=g.next,g.next=a,null!=k&&(k.next=g),k=g,g=d):(d=a.next,a.next=g,null!=k&&(k.next=a),k=a,a=d),d=!1;null==this.hi&&(this.hi=b)}}};b.xG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.ZR=function(){if(null!=this.hi)for(var a=0,c=this.hi,e=d.J.truncate(d.J.gI(c.x)),g=c.next;null!=g;g=g.next)if(a=this.vG?a^1:a+g.dir,g.x>c.x){var k=d.J.truncate(d.J.gI(g.x));0!=a&&(c=b.xG(e,
this.ai),e=b.xG(k,this.ai),e>c&&c<this.ai&&(this.Xn[this.tm++]=c,this.Xn[this.tm++]=e,this.Xn[this.tm++]=g.y,this.tm==this.Xn.length&&(this.az.qG(this.Xn,this.tm),this.tm=0)));c=g;e=k}};b.prototype.WK=function(a){for(var c=0,e=a;null!=e;e=e.next)c++;this.XK=c;if(1==c)return a;null==this.kg?this.kg=d.J.gf(Math.max(c,16),null):this.kg.length<c&&(this.kg=d.J.gf(Math.max(c,2*this.kg.length),null));for(var g=0,e=a;null!=e;e=e.next)this.kg[g++]=e;2==c?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=
this.kg[1],this.kg[1]=a):b.VM(this.kg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];this.kg[0]=null;e=a;for(g=1;g<c;g++)e.next=this.kg[g],e=this.kg[g],this.kg[g]=null;e.next=null;return a};b.VM=function(a,b,d){if(b==a.length)a.sort(d);else{var c=a.slice(0,0),e=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,c.concat(b).concat(e))}};b.py=0;b.L_=1;return b}();d.zy=f})(h||(h={}));(function(d){var h=function(){function f(){}f.prototype.Ri=function(b,a){var c=this.a.Sa(b,
this.Gr);this.fm==c&&(this.fm=this.Me.nb(this.fm));this.Vo==c&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.xB,c);this.yk(b);if(a&&(c=this.a.ld(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var d=this.a.ld(a);if(d==c){this.a.jg(c,a);return}a=this.a.Ra(b);if(a!=b&&(d=this.a.ld(a),d==c)){this.a.jg(c,a);return}}this.a.jg(c,-1);this.a.sh(c,-1)}};f.prototype.HE=function(){for(var b=!1,a=0,c=new d.b;;){a++;null==this.vi?(this.vi=new d.ia(0),this.vt=new d.ia(0),this.Xe=new d.ia(0)):(this.vi.clear(!1),
this.vt.clear(!1),this.Xe.clear(!1));for(var e=this.Vo,g=0,k=!0;e!=this.fm;){var f=this.Me.getData(e),h=new d.b;this.a.Nc(f,h);k&&(this.a.Nc(f,c),k=!1);var h=this.a.Ra(f),l=this.a.U(f);-559038737!=this.a.Sa(h,this.Ug)&&(this.vi.add(h),this.a.Va(h,this.Ug,-559038737),this.vt.add(f),this.Xe.add(g++));-559038737!=this.a.Sa(l,this.Ug)&&(this.vi.add(l),this.a.Va(l,this.Ug,-559038737),this.vt.add(f),this.Xe.add(g++));e=this.Me.nb(e)}if(2>this.vi.size)break;var m=this;this.Xe.Gd(0,this.Xe.size,function(a,
b){return m.HO(a,b)});e=0;for(g=this.Xe.size;e<g;e++)k=this.Xe.get(e),k=this.vi.get(k),this.a.Va(k,this.Ug,e),h=new d.b,this.a.Nc(k,h);h=this.TO(c);e=0;for(g=this.Xe.size;e<g;e++)k=this.Xe.get(e),-1!=k&&(k=this.vi.get(k),this.a.Va(k,this.Ug,-1));if(h)b=!0;else break}return b};f.prototype.TO=function(b){for(var a=!1,c=!0;c;){var c=!1,d=0;-1==this.Xe.get(d)&&(d=this.Pm(d));for(var g=this.Pm(d),k=0,f=this.Xe.size;k<f&&-1!=d&&-1!=g&&d!=g;k++){var h=this.Xe.get(d),g=this.Xe.get(g),h=this.vi.get(h),g=this.vi.get(g),
l=this.a.U(h);this.a.qw(l,b)||(l=this.a.Ra(h));var m=this.a.U(g);this.a.qw(m,b)||(m=this.a.Ra(g));var p=this.Zu(l,h),u=this.Zu(m,g),q=p?this.a.Ra(l):this.a.U(l),t=u?this.a.Ra(m):this.a.U(m),v=!1;this.mq(l)?v=!0:this.mq(m)?v=!0:this.mq(h)?v=!0:this.mq(g)?v=!0:this.mq(q)?v=!0:this.mq(t)&&(v=!0);!v&&this.a.Uq(h,g)&&(v=!0,this.KE(p,u,l,h,m,g));!v&&this.a.Uq(q,t)&&(v=!0,this.KE(!p,!u,l,q,m,t));v&&(a=!0);c=c||v;d=this.Pm(d);g=this.Pm(d)}}if(!a)for(d=0,-1==this.Xe.get(d)&&(d=this.Pm(d)),g=this.Pm(d),k=0,
f=this.Xe.size;k<f&&-1!=d&&-1!=g&&d!=g;k++)h=this.Xe.get(d),g=this.Xe.get(g),h=this.vi.get(h),g=this.vi.get(g),l=this.a.U(h),this.a.qw(l,b)||(l=this.a.Ra(h)),m=this.a.U(g),this.a.qw(m,b)||(m=this.a.Ra(g)),p=this.Zu(l,h),u=this.Zu(m,g),q=p?this.a.Ra(l):this.a.U(l),t=u?this.a.Ra(m):this.a.U(m),this.LO(p,u,h,l,q,g,m,t)&&(a=!0),d=this.Pm(d),g=this.Pm(d);return a};f.prototype.WO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new d.Dg).zW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=
this.Gr=-1;var c=this.a.D(this.Y),e=new d.ia(0);e.yb(c);for(var g=this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g))for(var k=this.a.cb(g),f=0,h=this.a.La(g);f<h;f++)e.add(k),k=this.a.U(k);var l=this.a.Dd.f,m=this.a.Dd.ed;this.a.xb.wc();var p=this.a.xb.ya[0].f;e.Gd(0,c,function(a,b){var c=l[m*a],d=l[m*b],e=p[2*c],c=p[2*c+1],g=p[2*d],d=p[2*d+1],e=c<d?-1:c>d?1:e<g?-1:e>g?1:0;0==e&&(e=l[m*a+3],d=l[m*b+3],e=e<d?-1:e==d?0:1);return e});this.Gr=this.a.Ud();this.Me=new d.Xp;this.xB=this.Me.mi(0);this.Me.Vn(c);for(g=
0;g<c;g++)k=e.get(g),f=this.Me.addElement(this.xB,k),this.a.Va(k,this.Gr,f);this.Ug=this.a.Ud();this.fm=-1;for(this.xE()&&(b=!0);a;){a=!1;c=0;e=!1;do{e=!1;this.Vo=-1;for(var h=0,g=new d.b,f=new d.b,u=this.Me.xc(this.xB);-1!=u;)k=this.Me.getData(u),-1!=this.Vo?(this.a.Nc(k,f),g.ub(f))?h++:(g.L(f),this.fm=u,0<h&&(k=this.HE())&&(e=!0,-1!=this.fm&&(k=this.Me.getData(this.fm),this.a.Nc(k,g))),this.Vo=u=this.fm,h=0):(this.Vo=u,this.a.Nc(this.Me.getData(u),g),h=0),-1!=u&&(u=this.Me.nb(u));this.fm=-1;0<h&&
(k=this.HE())&&(e=!0);if(10<c++)throw d.g.za();e&&this.OO();this.xE()&&(e=!0);a=a||e&&!1;b=b||e}while(e)}this.a.le(this.Gr);this.a.le(this.Ug);return b=d.TN.V(this.a,this.Y,this.Me,this.Vw)||b};f.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};f.prototype.LO=function(b,a,c,d,g,f,h,l){if(d==h)return this.yk(c),this.yk(f),!1;var e=this.a.Sa(c,this.Ug),k=this.a.Sa(g,this.Ug),n=this.a.Sa(f,this.Ug),m=this.a.Sa(l,this.Ug);c=[0,0,0,0,0,0,0,0];var p=[0,0,0,0];c[0]=0;p[0]=e;c[1]=0;p[1]=k;c[2]=1;p[2]=
n;c[3]=1;p[3]=m;for(e=1;4>e;e++){k=p[e];n=c[e];for(m=e-1;0<=m&&p[m]>k;)p[m+1]=p[m],c[m+1]=c[m],m--;p[m+1]=k;c[m+1]=n}p=0;0!=c[0]&&(p|=1);0!=c[1]&&(p|=2);0!=c[2]&&(p|=4);0!=c[3]&&(p|=8);if(5!=p&&10!=p)return!1;b==a?b?(this.a.Kc(l,d),this.a.Lc(d,l),this.a.Kc(g,h),this.a.Lc(h,g)):(this.a.Lc(l,d),this.a.Kc(d,l),this.a.Lc(g,h),this.a.Kc(h,g)):b?(this.a.Lc(d,f),this.a.Kc(f,d),this.a.Lc(h,g),this.a.Kc(g,h)):(this.a.Kc(d,f),this.a.Lc(f,d),this.a.Kc(h,g),this.a.Lc(g,h));return!0};f.prototype.KE=function(b,
a,c,d,g,f){this.C_?this.VO():this.UO(b,a,c,d,g,f)};f.prototype.VO=function(){throw d.g.X("not implemented.");};f.prototype.UO=function(b,a,c,d,g,f){if(b!=a)b?(this.a.Kc(c,g),this.a.Lc(g,c),this.a.Kc(f,d),this.a.Lc(d,f),this.po(g,c),this.Ri(g,!0),this.a.Mi(g,!0),this.yk(c),this.po(f,d),this.Ri(f,!0),this.a.Mi(f,!1)):(this.a.Kc(g,c),this.a.Lc(c,g),this.a.Kc(d,f),this.a.Lc(f,d),this.po(g,c),this.Ri(g,!0),this.a.Mi(g,!1),this.yk(c),this.po(f,d),this.Ri(f,!0),this.a.Mi(f,!0)),this.yk(d);else{var e=b?c:
d,k=a?g:f;b=b?d:c;a=a?f:g;g=!1;this.a.Kc(e,k);this.a.Kc(k,e);this.a.Lc(b,a);this.a.Lc(a,b);for(f=a;f!=k;)c=this.a.Ra(f),d=this.a.U(f),this.a.Lc(f,d),this.a.Kc(f,c),g=g||f==e,f=d;g||(c=this.a.Ra(k),d=this.a.U(k),this.a.Lc(k,d),this.a.Kc(k,c));this.po(k,e);this.Ri(k,!0);this.a.Mi(k,!1);this.yk(e);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.yk(b)}};f.prototype.xE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),d=0,g=this.a.La(a);d<g&&1<g;){var f=this.a.Ra(c),h=this.a.U(c);
this.a.Uq(f,h)?(b=!0,this.Ri(c,!1),this.a.ud(c,!0),this.Ri(h,!1),this.a.ud(h,!0),c=f,d=0,g=this.a.La(a)):(c=h,d++)}if(2>this.a.La(a)){b=this.a.cb(a);d=0;for(g=this.a.La(a);d<g;d++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};f.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),d=this.a.Ra(b);if(c==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(c,d))break;a=!0;this.yk(d);this.yk(c);this.Ri(b,!0);this.a.Mi(b,!1);this.po(c,d);this.Ri(c,!0);this.a.Mi(c,
!0);if(c==d)break;b=d}return a};f.prototype.OO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var c=this.Me.getData(a);this.a.Aj(c,-1)}for(var d=0,g=this.a.Pb(this.Y);-1!=g;)if(a=this.a.cb(g),-1==a||-1!=this.a.ld(a))c=g,g=this.a.Sb(g),this.a.Sr(c);else{this.a.Aj(a,g);for(var f=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Aj(c,g),f++;this.a.Np(g,!1);this.a.nk(g,f);this.a.sh(g,this.a.Ra(a));d+=f;b++;g=this.a.Sb(g)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))c=this.Me.getData(a),
-1==this.a.ld(c)&&(g=this.a.BH(this.Y,c,c,null),d+=this.a.La(g),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,d);b=0;for(d=this.a.rd;-1!=d;d=this.a.Ue(d))b+=this.a.D(d);this.a.AC(b)};f.prototype.Pm=function(b){for(var a=0,c=this.Xe.size-1;a<c;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};f.prototype.po=function(b,a){var c=this.a.Sa(a,this.Gr),d=this.a.Sa(a,this.Ug);this.a.KC(b,a);this.a.Va(a,this.Gr,c);this.a.Va(a,this.Ug,d)};f.prototype.yk=function(b){var a=this.a.Sa(b,this.Ug);-1!=
a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};f.V=function(b,a,c,d,g){var e=new f;e.a=b;e.Y=a;e.eB=c;e.Vw=d;e.ke=g;return e.WO()};f.prototype.HO=function(b,a){var c=this.vi.get(b),e=new d.b;this.a.Nc(c,e);var c=new d.b,g=this.vi.get(a);this.a.Nc(g,c);if(e.ub(c))return 0;b=this.vt.get(b);g=new d.b;this.a.Nc(b,g);a=this.vt.get(a);b=new d.b;this.a.Nc(a,b);a=new d.b;a.yc(e,g);e=new d.b;e.yc(c,b);return d.b.vs(a,e)};return f}();d.lo=h})(h||(h={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=
1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.$N||(d.$N={}));(function(d){d[d.Integer32=0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.KN||(d.KN={}));var h=function(){function f(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}f.prototype.Cc=function(){return this.yg};f.prototype.Rs=function(){return 0};f.prototype.Ss=function(){return 0};f.prototype.Ts=function(){return 0};f.prototype.Qs=function(){return 0};
f.prototype.Uz=function(){return 5.7295779513082306E10};f.prototype.Vz=function(){return 1E3};f.prototype.Tz=function(){return 1E3};f.prototype.bt=function(){return 1};f.prototype.se=function(){var b=.001;0!=this.yg?b=d.us.vS(this.yg):null!=this.Uh&&(b=d.pE.wS(this.Uh));return b};f.prototype.mH=function(){return this.Uh};f.prototype.Vd=function(){if(0!=this.yg)return d.kc.pe(d.us.Cz(this.yg));if(null!=this.Uh)return d.pE.xS(this.Uh)};f.Fb=function(b){if(0!=b.yg){if(!0===d.us.TU(b.yg))return 1;if(!0===
d.us.VU(b.yg))return 2}return 4};f.prototype.$s=function(){var b=this.Cc();if(-1!=this.tp)return this.tp;this.tp=d.us.AL(b);return-1!=this.tp?this.tp:b};f.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new f;a.yg=b;return a};f.qR=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new f;a.Uh=b;return a};f.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||
0==this.yg&&this.Uh!==b.Uh?!1:!0};f.QS=function(b,a){var c=Math.PI/180,e=new d.ea;d.qM.TS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,e);return e.j};f.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.Cc()+"; wkt: "+this.mH()+"]"};f.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=
(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};f.prototype.Bo=function(){return this.se(0)};f.prototype.Ao=function(){return null!==this.bv?this.bv:this.bv=d.Ou.wR(this)};f.q_=!0;f.sv=2147483645;f.tv=9007199254740990;return f}();d.Rd=h})(h||(h={}));(function(d){var h=function(f){function b(){f.apply(this,arguments);this.ij=null;this.lp=new d.fE;this.Xw=this.Fr=null}B(b,f);b.wR=function(a){var c=new b;c.yg=a.yg;c.tp=a.tp;c.lJ=a.lJ;c.Uh=a.Uh;if(""!==c.Uh&&null!==c.Uh){a=b.QY(c.Uh);var e=b.mX(c.Uh);
c.lp.Ey(a,e,d.ts.Integer64);c.Ky(a);c.yg=a.$s()}else a=b.EX(c.yg),c.Ky(a),c.lp.Ey(a,null,d.ts.Integer64);return c};b.prototype.se=function(a){return this.lp.Bo(a)};b.mX=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.RD.fromString(a)}catch(e){c=null}return null==c?null:b.tD(c,!0)};b.prototype.Ky=function(a){this.Od=a;this.Fr=this.Od.Vd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Od.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Fk().Jc():
this.Od.Jc()};b.prototype.Kg=function(){return null!=this.Od?this.Od.uf:null};b.prototype.bn=function(){return this.Od.bn()};b.prototype.ee=function(){return this.Od.ee()};b.prototype.Ch=function(){return null!=this.Od?this.Od.fx:NaN};b.prototype.dn=function(){return this.Od.dn()};b.prototype.Ws=function(){return this.Od.Ws()};b.prototype.Sj=function(){return this.Od.Sj()};b.prototype.iU=function(a){return d.UD.zz(this.Od,a.Od)};b.prototype.Lk=function(){return this.Od.Lk()};b.prototype.Vs=function(){return this.Od.Vs()};
b.prototype.pi=function(){return 3==this.Fb()?this.ij.Fk().pi():this.Od.pi()};b.prototype.Bh=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Od.Bh(a);return a};b.prototype.re=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Od.gp};b.prototype.BT=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Od.AT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Od.bw()};b.prototype.aw=function(){if(!this.Jc())throw d.g.F("!isPannable()");
return this.Od.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Fk().Xs():this.Od.Xs()};b.prototype.ES=function(){return this.Od.Uv()};b.prototype.jX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.gA=function(a){return this.lp.gA(a)};b.prototype.lc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Fk().lc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;
a=this.Kg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.jG(a,this.lp.bt())};b.jG=function(a,c){if(null==a)throw d.g.F("null pointer.");var e=new b;a=b.Pu(a,!0);e.lp.Ey(a,null,c);e.Ky(a);e.yg=a.$s();return e};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case d.Vc.PE_TYPE_GEOGCS:return 1;case d.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.eA=function(a){var b=new d.b;this.Od.eA(a,b);return b};b.prototype.Uv=function(){return this.Od.Uv()};b.Pu=function(a,c){var e=
a.getCode();if(0>=e&&(e=d.Tf.getCode(a),0<e)){var g=d.Tf.coordsys(e);if(null==g)throw d.g.F("Text to wkid mapping had failed: "+e);return b.Pu(g,c)}if(c&&0<e&&(g=b.Mv[e]))return g;g=d.Ib.iw(a,e,!1);if(c=b.zH[g])return c;c=0>=e?a:d.Tf.coordsys(e);c=new d.UD(c);b.zH[g]=c;0<e&&(b.Mv[e]=c);return c};b.EX=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.Mv[a];if(null!=c)return c;c=d.Tf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.Pu(c,!1);c.$s()!=
a&&(b.Mv[a]=c);return c};b.QY=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_COORDSYS,a)}catch(e){throw d.g.F("Cannot create SpatialReference from text. "+e.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.Pu(c,!0)};b.tD=function(a,c){var e=a.getCode();if(0>=e&&(e=d.Tf.getCode(a),0<e)){e=d.Tf.vertcs(e);if(null===e)throw d.g.F();return b.tD(e,
c)}if(c&&0<e&&(c=b.xH[e]))return c;a=d.Ib.iw(a,e,!1);if(c=b.YH[a])return c;var g;0>=e||(g=d.Tf.vertcs(e));if(null===g)throw d.g.F();c=new d.GN(g);b.YH[a]=c;0<e&&(b.xH[e]=c);return c};b.jK=function(a,b){var c;if(null===b||b.u())return null;var g=new d.h,f;null!==b&&1!=a.Fb()?(c=a.lc(),f=c.Kg(),c=d.rs.Is(a,c,null,null),c=d.os.local().V(b,c,null),c.s(g)):(f=a.Kg(),b.s(g));c=f.getPrimem().getLongitude();f=f.getUnit().getUnitFactor();return new d.PD(g.o,g.A,g.v,g.B,c,f)};b.FE=function(a){var b={name:"",
steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var g=a[d],f={y_:!1,X_:"",W_:-1,geogtran:null};0===g.getDirection()?f.isInverse=!1:f.isInverse=!0;var h=g.getGeogtran().getCode();-1<h?f.wkid=h:f.wkt=g.getGeogtran().toString();b.steps.push(f)}return b};b.RT=function(a,c,e,g){void 0===e&&(e=null);e=b.jK(g,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,1);c=null;a&&0<a.length&&(c=this.FE(a[0]),d.wy.destroy(a));null!==e&&e.destroy();return c};b.ST=function(a,c,
e,g){var f;void 0===e&&(e=null);void 0===g&&(g=null);void 0===f&&(f=30);e=b.jK(g,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,f);c=[];if(a&&0<a.length){for(f=0;f<a.length;f++)c.push(this.FE(a[f]));d.wy.destroy(a)}null!==e&&e.destroy();return c};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(d.Rd);d.Ou=h})(h||(h={}));(function(d){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(d.ts||(d.ts={}));var h=d.ts,f=function(){function b(){this.kq()}
b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.il=a.il;this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Uz=function(){return this.uj};b.prototype.Vz=function(){return this.Jn};b.prototype.Tz=function(){return this.rx};b.prototype.bt=function(){return this.En};
b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.il=2.220446049250313E-14;this.En=h.FloatingPoint};b.prototype.Ey=function(a,b,e){this.kq();this.En=e;if(e!=h.FloatingPoint){var c=new d.h;a.$S(c);this.Xl=c.o;this.Yl=c.A}else this.Yl=this.Xl=-1.7976931348623157E308;c=a.uf.getType();c==d.Vc.PE_TYPE_GEOGCS?(c=(e==h.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/c):c==d.Vc.PE_TYPE_PROJCS&&(c=(e==h.Integer64?1E-4:.001)*a.bn(),this.uj=1/c);null!=
b?(c=(e==h.Integer32?.001:1E-4)*b.XI,this.Jn=1/c):this.Jn=1E4;this.rx=1E4;this.XO();this.il=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};b.prototype.XO=function(){if(this.En!=h.FloatingPoint){var a=this.En==h.Integer64?d.Rd.tv:d.Rd.sv,b=a/this.uj,e=this.Xl+b,g=d.J.truncate((e-this.Xl)*this.uj);g>a&&(this.uj=a/(e-this.Xl));b=this.Yl+b;g=d.J.truncate((b-this.Yl)*this.uj);g>a&&(this.uj=a/(b-this.Yl))}};b.prototype.zC=function(a,b){switch(a){case 0:this.il=b;case 1:this.Cr=b;case 2:this.Br=
b}};b.prototype.Bo=function(a){switch(a){case 0:return this.il;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.XT=function(){var a=new d.h;switch(this.bt()){case h.Integer32:var b=d.Rd.sv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case h.Integer64:b=d.Rd.tv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case h.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");
}return a};b.prototype.YT=function(){var a=new d.zc;switch(this.bt()){case h.Integer32:var b=d.Rd.sv/this.Vz();a.I(this.Ts(),this.Ts()+b);break;case h.Integer64:b=d.Rd.tv/this.Vz();a.I(this.Ts(),this.Ts()+b);break;case h.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.tT=function(){var a=new d.zc;switch(this.bt()){case h.Integer32:var b=d.Rd.sv/this.Tz();a.I(this.Qs(),this.Qs()+b);break;case h.Integer64:b=d.Rd.tv/
this.Tz();a.I(this.Qs(),this.Qs()+b);break;case h.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.gA=function(a){if(this.En==h.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.il.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+
this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();d.fE=f})(h||(h={}));(function(d){function h(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function f(a,b,c){a=a/6378137*
57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Vf();if(33===a.G()){var e=b(c.Be(),c.nf());c.rb(e[0],e[1])}else if(197===a.G())e=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),c.I(e[0],e[1],a[0],a[1]);else for(e=new d.b,a=0;a<c.D();a++){c.w(a,e);var g=b(e.x,e.y,!0);e.ka(g[0],g[1]);c.rb(a,e)}return c}function a(a){return b(a,
f)}function c(a){return b(a,h)}var e=Math.PI/180,g=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),c=Math.sin(a.y*e);return d.b.pa(6378137*a.x*e,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.EA=function(a,b,c,g){var f=1/298.257223563,k=Math.sin(c);c=Math.cos(c);var h=(1-f)*Math.tan(a);a=1/Math.sqrt(1+h*h);for(var l=h*a,n=Math.atan2(h,c),h=a*k,m=h*h,p=1-m,r=2.7233160610754688E11*p/4.040829998466145E13,u=1+r/16384*(4096+r*(-768+
r*(320-175*r))),q=r/1024*(256+r*(-128+r*(74-47*r))),r=g/(6356752.31424518*u),t=2*Math.PI,z,v,x,B;1E-12<Math.abs(r-t);)x=Math.cos(2*n+r),z=Math.sin(r),v=Math.cos(r),B=q*z*(x+q/4*(v*(-1+2*x*x)-q/6*x*(-3+4*z*z)*(-3+4*x*x))),t=r,r=g/(6356752.31424518*u)+B;g=l*z-a*v*c;p=f/16*p*(4+f*(4-3*p));return d.b.pa((b+(Math.atan2(z*k,a*v-l*z*c)-(1-p)*f*h*(r+p*z*(x+p*v*(-1+2*x*x)))))/e,Math.atan2(l*v+a*z*c,(1-f)*Math.sqrt(m+g*g))/e)};a.CM=function(a,b,c,d){var e=1/298.257223563,g=d-b,f=Math.atan((1-e)*Math.tan(a)),
k=Math.atan((1-e)*Math.tan(c)),h=Math.sin(f),f=Math.cos(f),l=Math.sin(k),k=Math.cos(k),n=g,m,p=1E3,r,u,q,t,z,v,x;do{q=Math.sin(n);t=Math.cos(n);u=Math.sqrt(k*q*k*q+(f*l-h*k*t)*(f*l-h*k*t));if(0===u)return 0;t=h*l+f*k*t;z=Math.atan2(u,t);v=f*k*q/u;r=1-v*v;q=t-2*h*l/r;isNaN(q)&&(q=0);x=e/16*r*(4+e*(4-3*r));m=n;n=g+(1-x)*e*v*(z+x*u*(q+x*t*(-1+2*q*q)))}while(1E-12<Math.abs(n-m)&&0<--p);if(0===p)return h=d-b,{azimuth:Math.atan2(Math.sin(h)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(h)),
geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*r/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(k*Math.sin(n),f*l-h*k*Math.cos(n)),PS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(z-b*u*(q+b/4*(t*(-1+2*q*q)-b/6*q*(-3+4*u*u)*(-3+4*q*q)))),P_:Math.atan2(f*Math.sin(n),f*l*Math.cos(n)-h*k)}};a.BR=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),e=[],g=a.aa(),f=
null,k=null;b&&(f=a.Pa(1));c&&(k=a.Pa(2));for(var h=new d.b,l=0;l<g;l++){for(var n=a.wa(l),m=a.La(l),p=0,u=0,q=NaN,t=NaN,v=NaN,x=NaN,B=a.Qb(l),y=[],A=n;A<n+m;A++){a.w(A,h);var x=v=NaN,C=[h.x,h.y];b&&(v=f.get(A),C.push(v));c&&(g=k.get(A),C.push(x));A==n&&B&&(p=h.x,u=h.y,q=v,t=x);y.push(C)}!B||p==h.x&&u==h.y&&(!b||isNaN(q)&&isNaN(v)||q==v)&&(!c||isNaN(t)&&isNaN(x)||t==x)||y.push(y[0].slice(0));e.push(y)}return e};a.Fz=function(b,c){b=a.BR(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],g,f=
0;f<b.length;f++){var k=b[f];d.push(g=[]);g.push([k[0][0],k[0][1]]);var h,l,n,m,p,r;h=k[0][0]*e;l=k[0][1]*e;for(p=0;p<k.length-1;p++)if(n=k[p+1][0]*e,m=k[p+1][1]*e,h!==n||l!==m){m=a.CM(l,h,m,n);n=m.azimuth;m=m.PS;var u=m/c;if(1<u){for(r=1;r<=u-1;r++){var q=a.EA(l,h,n,r*c);g.push([q.x,q.y])}r=a.EA(l,h,n,(m+Math.floor(u-1)*c)/2);g.push([r.x,r.y])}l=a.EA(l,h,n,m);g.push([l.x,l.y]);h=l.x*e;l=l.y*e}}return{gK:d}};a.OS=function(b){for(var c=[],e=0;e<b.length;e++){var g=b[e],g=a.Fz(g,1E4);c.push(g)}b=[];
for(var f=0;f<c.length;f++){for(var g=c[f],k=0,e=0;e<g.gK.length;e++){var h=g.gK[e],l=a.Ru(d.b.pa(h[0][0],h[0][1])),n=a.Ru(d.b.pa(h[h.length-1][0],h[h.length-1][1])),m=n.x*l.y-l.x*n.y,p;for(p=0;p<h.length-1;p++)l=a.Ru(d.b.pa(h[p+1][0],h[p+1][1])),n=a.Ru(d.b.pa(h[p][0],h[p][1])),m+=n.x*l.y-l.x*n.y;k+=m}k/=1;b.push(k/-2)}return b};return a}();d.rM=g;g=function(){function b(){}b.YB=function(a,c,d,e,g,f,k){b.vD[a.jc()]=c;0==isNaN(d)&&(b.xD[a.jc()]=d);0==isNaN(e)&&(b.YD[a.jc()]=e);0==isNaN(g)&&(b.pD[a.jc()]=
g);b.zD[a.jc()]=f;null!==k&&(b.BD[a.jc()]=k)};b.Ix=function(a,c,d){b.SD[a.jc()+"-"+c.jc()]=d};b.lc=function(a){a=b.vD[a.jc()];if(void 0==a)throw d.g.df();return a};b.ee=function(a){a=b.xD[a.jc()];if(void 0==a)throw d.g.df();return a};b.hw=function(a){a=b.YD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Sv=function(a){a=b.pD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Bh=function(a){a=b.BD[a.jc()];if(void 0==a)throw d.g.df();return d.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.zD[a.jc()];
if(void 0==a)throw d.g.df();return a};b.Xg=function(a,c,e){if(c.Eb(e))return a;var g=b.SD[c.jc()+"-"+e.jc()];if(void 0!==g)return g(a,c,e);throw d.g.df();};b.lu=function(){throw d.g.df();};b.US=function(){throw d.g.df();};b.VW=function(){throw d.g.df();};b.Lk=function(){throw d.g.df();};b.sX=function(){var b=d.Rd.create(102100),e=d.Rd.create(3857),g=d.Rd.create(4326);d.fb.YB(b,g,NaN,NaN,NaN,!1,null);d.fb.YB(g,g,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.YB(e,g,NaN,NaN,NaN,!1,null);
d.fb.Ix(b,g,a);d.fb.Ix(g,b,c);d.fb.Ix(e,g,a);d.fb.Ix(g,e,c)};b.vD=[];b.xD=[];b.YD=[];b.pD=[];b.zD=[];b.BD=[];b.SD=[];return b}();d.fb=g})(h||(h={}));h.fb.sX();(function(d){var h=function(){function f(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}f.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};f.prototype.S=function(b,a){return this.f[b*this.ed+a]};f.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};f.prototype.Pe=function(){var b=
this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,c=b*this.ed;c<a;c++)this.f[c]=-1;return b};f.prototype.ml=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=
this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=this.ed,g=0;g<e;g++)this.f[c+g]=b[g];return a};f.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};f.prototype.Qe=function(b){b>this.yd&&this.Co(b)};f.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};f.Im=function(){return-2};f.jo=function(){return-3};f.CA=function(b){return 0<=b};f.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};
return f}();d.ad=h;h=function(){function f(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}f.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};f.prototype.S=function(b,a){return this.f[b*this.ed+a]};f.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};f.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};f.prototype.ml=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=0;e<b.length;e++)this.f[c+e]=b[e];return a};f.prototype.Vi=function(b){this.kh=-1;this.size=
this.Jf=0;b&&(this.f=null,this.yd=0)};f.prototype.Qe=function(b){b>this.yd&&this.Co(b)};f.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};f.Im=function(){return-2};f.jo=function(){return-3};f.CA=function(b){return 0<=b};f.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return f}();d.aO=h;!0===d.Xh.Bm&&(d.ad=d.aO)})(h||(h={}));(function(d){var h;
(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(h||(h={}));var f=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new d.Cg;this.rI=new d.Cg;this.it=new d.zc;this.jt=new d.zc}a.prototype.compare=function(a,b,d){a=a.ja(d);this.bf.RB(b,this.qI);this.bf.RB(a,this.rI);b=
this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.pf(this.Wh,this.it.ca);c=a.pf(this.Wh,this.jt.ca);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Wh),c==this.Wh&&(c=d),d=b.pf(c,this.it.ca),c=a.pf(c,this.jt.ca));return d<c?-1:d>c?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),
b=function(){function a(a){this.bb=a;this.jJ=new d.Cg;this.cg=new d.b;this.dB=new d.zc}a.prototype.fY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.RB(a.ja(b),this.jJ);a=this.jJ.get();this.dB.I(a.ua,a.sa);if(this.cg.x<this.dB.ca)return-1;if(this.cg.x>this.dB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();h=function(){function a(){this.tI=this.cj=this.fj=this.UA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=
!0;this.YA=!1;this.VA=NaN;this.mj=new d.$d;this.dQ=2147483647;this.cQ=d.J.truncate(-2147483648);this.xg=this.ye=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=function(a){this.VA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new d.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.gW=function(){null==this.Rc&&(this.Rc=new d.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);
this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new d.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.RX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=function(a,b){this.De.P(a,2,b)};a.prototype.QX=function(a,b){this.De.P(a,1,b)};a.prototype.gY=function(a,b){this.De.P(a,3,b)};a.prototype.dY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.XS=function(a){return this.De.S(a,5)};a.prototype.PX=function(a,b){this.De.P(a,
6,b)};a.prototype.bP=function(a,b){this.PX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.WX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=
a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.NX(a,this.WS(b));this.MX(b,a)};a.prototype.MX=function(a,b){this.Ye.P(a,4,b)};a.prototype.NX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=
function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.UA.write(a,b)};a.prototype.iZ=function(a){var b=0,c=0,f=this.MG(a),h=new d.b,l=new d.b,m=new d.b;this.Ys(f,h);l.L(h);var p=f;do this.Zm(p,m),c+=d.b.Cb(l,m),this.Ef(this.Aa(p))!=a&&(b+=(m.x-h.x-(l.x-h.x))*(m.y-h.y+(l.y-h.y))*.5),l.L(m),p=this.qc(p);while(p!=f);this.No.write(a,b);this.UA.write(a,c)};a.prototype.DW=function(a){var c=new f(this),g=new d.uk;g.Qe(d.J.truncate(this.qa/2));g.Ep(c);for(var k=new d.ia(0),h=this.xh(),l=null,
m=0,p=new d.b,u=this.rf;-1!=u;u=this.og(u)){m++;var q=this.kf(u);if(-1!=q){k.yf(0);if(!this.bZ(g,h,k,q)){this.w(u,p);c.RK(p.y);var t=q;do{var v=this.Kb(t,h);-1!=v&&(g.Kd(v,-1),this.Ob(t,h,-2));t=this.qc(this.Aa(t))}while(q!=t);t=q;do v=this.Kb(t,h),-1==v&&(v=g.addElement(t,-1),k.add(v)),t=this.qc(this.Aa(t));while(q!=t)}for(q=k.size-1;0<=q;q--)v=k.get(q),t=g.ja(v),this.Ob(this.Aa(t),h,v),this.BW(g,v,a)}else-1==this.Lz(u)&&(null==l&&(l=new b(this)),this.w(u,p),l.fY(p),t=g.IX(l),q=this.km,-1!=t&&(v=
g.ja(t),this.Ef(v)==this.Ef(this.Aa(v))&&(v=this.YG(g,t)),-1!=v&&(q=this.Ef(v))),this.bP(q,u))}this.ni(h)};a.prototype.BW=function(a,b,d){var c=a.ja(b),e=this.Ef(c);if(-1==this.vo(e)){var g=this.YG(a,b),f=this.Aa(c),h=this.Ef(f);this.Dq(e);this.Dq(h);var l=this.vo(e),m=this.vo(h);-1==g&&-1==l&&(h==e?(this.Zn(h,this.km),l=m=this.km):(-1==m&&(this.Zn(h,this.km),m=this.km),this.Zn(e,h),l=h));if(-1!=g){var p=this.Ef(g);-1==m&&(0>=this.Dq(p)?(m=this.vo(p),this.Zn(h,m)):(this.Zn(h,p),m=p),h==e&&(l=m))}-1==
l&&this.cZ(e,h);0==d?this.aX(a,b,c,g,e,h):5==d?this.bX(a,b,c,f,e,h):4==d&&this.$W(c,g,e,h)}};a.prototype.aX=function(a,b,d,f,h,l){var c=this.Hk(h);if(-1!=f){var e=this.Hk(l),g=this.Hk(this.Ef(f));f=c&e&g;g^=g&this.Ah(d);g|=f;0!=g&&(this.rh(l,e|g),this.rh(h,g|c),c=c||g)}for(b=a.nb(b);-1!=b;b=a.nb(b)){f=a.ja(b);d=this.Ef(this.Aa(f));h=this.Hk(d);l=this.Ah(f);e=this.Ef(f);g=this.Hk(e);f=h&g&c;c^=c&l;c|=f;if(0==c)break;this.rh(d,h|c);this.rh(e,g|c)}};a.prototype.bX=function(a,b,g,f,h,l){if(h!=l){g=this.Kb(g,
this.xg);g+=this.Kb(f,this.xg);f=0;var c=new d.ia(0),e=new d.ia(0);e.add(0);for(var k=a.xc(-1);k!=b;k=a.nb(k)){var n=a.ja(k),m=this.Aa(n),p=this.Ef(n),r=this.Ef(m);if(p!=r){n=this.Kb(n,this.xg);n+=this.Kb(m,this.xg);f+=n;m=!1;0!=c.size&&c.Fc()==r&&(e.Pf(),c.Pf(),m=!0);if(-1==this.vo(r))throw d.g.za();m&&this.vo(r)==p||(e.add(f),c.add(p))}}f+=g;0!=c.size&&c.Fc()==l&&(e.Pf(),c.Pf());0!=f?0==e.Fc()&&(a=this.a.rd,a=this.Ia(a),this.rh(h,a)):0!=e.Fc()&&(a=this.a.rd,a=this.Ia(a),this.rh(h,a))}};a.prototype.$W=
function(a,b,d,f){var c=this.Ia(this.a.rd);if(-1==b)this.rh(f,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(d,c):this.rh(d,this.sp);else{var e=this.Hk(f);0==e&&(e=this.Hk(this.Ef(b)),this.rh(f,e));a=this.Kb(a,this.Tg);0!=(a&1)?this.rh(d,e==c?this.sp:c):this.rh(d,e)}};a.prototype.bZ=function(a,b,d,f){var c=f,e=-1,g=-1,k=0;do{if(2==k)return!1;var h=this.Kb(c,b);if(-1!=h){if(-1!=e)return!1;e=h}else{if(-1!=g)return!1;g=c}k++;c=this.qc(this.Aa(c))}while(f!=c);if(-1==g||-1==e)return!1;this.Ob(a.ja(e),
b,-2);a.kk(e,g);d.add(e);return!0};a.prototype.cZ=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.Zn(a,b):0>c&&0<d?this.Zn(a,b):(c=this.vo(b),-1!=c&&this.Zn(a,c))}};a.prototype.uR=function(a,b){this.rr=this.a.Ud();for(var c=0,e=b.size;c<e;c++){var f=b.get(c),h=this.a.Sa(f,this.qn),l=this.a.ng(this.a.ld(f)),m=this.a.hc(l);if(d.T.Ic(m)){var p=this.a.U(f);if(-1!=p){var u=this.a.Sa(p,this.qn);if(h!=u){var q=this.gW(),t=this.Aa(q),v=this.Eh.Pe();this.Eh.P(v,0,f);this.Eh.P(v,1,-1);
this.uu(q,v);this.yK(q,h);v=this.kf(h);-1==v?(this.bo(h,q),this.ym(q,t),this.xm(t,q)):(h=this.Te(v),this.ym(v,t),this.xm(t,v),this.xm(h,q),this.ym(q,h));this.yK(t,u);h=this.kf(u);-1==h?(this.bo(u,t),this.xm(q,t),this.ym(t,q)):(u=this.Te(h),this.ym(h,q),this.xm(q,h),this.xm(u,t),this.ym(t,u));l=this.Ia(l);0==a?(this.Ob(t,this.ye,0),this.Ob(q,this.ye,1736==m?l:0)):5==a?(u=new d.b,this.a.w(f,u),f=new d.b,this.a.w(p,f),h=p=0,0>u.compare(f)?p=1:h=-1,this.Ob(t,this.ye,0),this.Ob(q,this.ye,0),this.Ob(q,
this.xg,p),this.Ob(t,this.xg,h)):7==a?(this.Ob(t,this.ye,this.sp),this.Ob(q,this.ye,1736==m?l:0)):4==a&&(this.Ob(t,this.ye,0),this.Ob(q,this.ye,0),this.Ob(q,this.Tg,1),this.Ob(t,this.Tg,1));m=1736==m?this.cQ:0;this.Nx(q,l|m);this.Nx(t,l|m)}}}}};a.prototype.VV=function(a,b){var c=this.$m(b);if(-1!=c){var d=this.$m(a);this.Eh.P(c,1,d);this.uu(a,c);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.$m(b);-1!=c&&(d=this.$m(a),this.Eh.P(c,1,d),this.uu(a,c),this.uu(b,-1))};a.prototype.DY=function(a){function b(a,
b){return f.LQ(a,b)}var c=new d.ia(0);c.yb(10);for(var f=this,h=this.rf;-1!=h;h=this.og(h)){c.clear(!1);var l=this.kf(h);if(-1!=l){var m=l;do c.add(m),m=this.qc(this.Aa(m));while(m!=l);if(1<c.size){m=!0;if(2<c.size)c.Gd(0,c.size,b),c.add(c.get(0));else if(0<this.KQ(c.get(0),c.get(1))){var p=c.get(0);c.set(0,c.get(1));c.set(1,p)}else m=!1;for(var u=p=c.get(0),q=this.Xf(u),t=this.Aa(u),v=-1,x=1,B=c.size;x<B;x++){var y=c.get(x),A=this.Aa(y),C=this.Jk(A);if(C==q&&y!=u){if(0==a)v=this.WG(u)|this.WG(y),
this.Nx(u,v),this.Nx(t,v),this.Ob(u,this.ye,this.Kb(u,this.ye)|this.Kb(y,this.ye)),this.Ob(t,this.ye,this.Kb(t,this.ye)|this.Kb(A,this.ye));else if(-1!=this.xg)v=this.Kb(u,this.xg)+this.Kb(y,this.xg),A=this.Kb(t,this.xg)+this.Kb(A,this.xg),this.Ob(u,this.xg,v),this.Ob(t,this.xg,A);else{if(7==a){this.mj=new d.$d(5,h,-1);return}-1!=this.Tg&&(v=this.Kb(u,this.Tg)+this.Kb(y,this.Tg),A=this.Kb(t,this.Tg)+this.Kb(A,this.Tg),this.Ob(u,this.Tg,v),this.Ob(t,this.Tg,A))}this.VV(u,y);this.sz(y);v=u;c.set(x,
-1);y==p&&(c.set(0,-1),p=-1)}else this.ey(v,!1),v=-1,u=y,q=C,t=A}this.ey(v,!1);v=-1;if(m){p=-1;x=0;for(B=c.size;x<B;x++)if(y=c.get(x),-1!=y)if(-1==p)u=p=y,q=this.Xf(u),t=this.Aa(u);else if(y!=u&&(A=this.Aa(y),C=this.Jk(A),this.xm(t,y),this.ym(y,t),u=y,q=C,t=A,7==a&&(this.Kb(y,this.ye)|this.Kb(this.Te(y),this.ye))==(this.sp|1))){this.mj=new d.$d(5,h,-1);return}this.bo(h,p)}else{p=-1;x=0;for(B=c.size;x<B;x++)if(y=c.get(x),-1!=y){p=y;break}l!=p&&this.bo(h,p)}}}}};a.prototype.$P=function(){for(var a=
-1,b=this.xh(),g=this.rf;-1!=g;g=this.og(g)){var f=this.kf(g);if(-1!=f){var h=f;do{if(1!=this.Kb(h,b)){var l=this.vJ();this.su(l,h);this.rK(l,a);-1!=a&&this.tK(a,l);var a=l,m=0,p=h;do m|=this.Kb(p,this.ye),this.WX(p,l),this.Ob(p,b,1),p=this.qc(p);while(p!=h);this.rh(l,m)}h=this.qc(this.Aa(h))}while(h!=f)}}l=this.vJ();this.su(l,-1);this.rK(l,a);-1!=a&&this.tK(a,l);this.km=l;this.No=d.Qd.zd(this.Ye.size,NaN);this.UA=d.Qd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};
a.prototype.jT=function(a,b,d){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.wX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var d=-1;;){var f=this.jT(b,d,a);if(-1==f)break;for(var d=this.qc(this.Aa(f)),h=f;;){var l=this.qc(h),m=this.Te(h),p=this.Aa(h);if(m==p){this.FR(h);if(d==h||d==p)d=-1;if(h==f||m==f){f=l;if(h==f||m==f)break;h=l;continue}}else this.Ob(h,a,1);h=l;if(h==f)break}}};a.prototype.nC=
function(a,b,g,f){this.qh();this.sI=f;this.a=a;this.qr=this.a.iG();a=new d.ia(0);a.yb(null!=g?this.a.D(g.get(0)):this.a.vd);var c=0,e=1,k=null!=g?g.get(0):this.a.rd;for(f=1;-1!=k;){this.a.xK(k,this.qr,e);for(var e=e<<1,h=this.a.Pb(k);-1!=h;h=this.a.Sb(h))for(var l=this.a.cb(h),m=0,p=this.a.La(h);m<p;m++)a.add(l),l=this.a.U(l);d.T.Jo(this.a.hc(k))||(c+=this.a.aa(k));null!=g?(k=f<g.size?g.get(f):-1,f++):k=this.a.Ue(k)}this.sp=e;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new d.ad(2),
this.De=new d.ad(8),this.Rc=new d.ad(8),this.Ye=new d.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,c));this.qn=this.a.Ud();g=new d.b;f=0;c=new d.b;g.$c();for(e=0;e<=this.qa;e++)if(e<this.qa?(l=a.get(e),this.a.w(l,c)):c.$c(),!g.ub(c)){if(f<e){l=this.Mn();for(p=m=-1;f<e;f++)p=a.get(f),this.a.Va(p,this.qn,l),k=this.Eh.Pe(),this.Eh.P(k,0,p),this.Eh.P(k,1,m),m=k,h=this.a.ld(p),k=this.a.ng(h),k=this.Ia(k),this.QX(l,this.Md(l)|k);this.RX(l,m);this.Vr(l,
this.a.Za(p));-1!=this.Jt&&this.dY(this.Jt,l);this.gY(l,this.Jt);this.Jt=l;-1==this.rf&&(this.rf=l)}f=e;g.L(c)}this.ye=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.uR(b,a);0==this.mj.Ii&&(this.DY(b),0==this.mj.Ii&&(isNaN(this.VA)||this.BQ()?(this.$P(),0==this.mj.Ii&&(this.ni(this.ye),this.ye=-1,this.sI&&this.DW(b))):this.YA=!0))};a.prototype.sz=function(a){var b=this.qc(a),c=this.Te(a),d=this.Aa(a),f=this.qc(d),h=this.Te(d);b!=d&&(this.xm(h,b),this.ym(b,h));c!=d&&(this.xm(c,
f),this.ym(f,c));c=this.Jk(a);this.kf(c)==a&&(f!=a?this.bo(c,f):this.bo(c,-1));f=this.Jk(d);this.kf(f)==d&&(b!=d?this.bo(f,b):this.bo(f,-1));this.Rc.kd(a);this.Rc.kd(d)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var c=a.ja(b);if(this.Ef(c)!=this.Ef(this.Aa(c)))return c}else return-1};a.prototype.Wr=function(a,b,d){void 0===d&&(d=!0);this.nC(a,0,null,d)};a.prototype.mK=function(a,b){var c=new d.ia(0);c.add(b);this.nC(a,4,c,1736==a.hc(b))};a.prototype.nK=function(a,b){var c=new d.ia(0);
c.add(b);this.nC(a,5,c,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.vX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.ye&&(this.ni(this.ye),this.ye=-1),-1!=this.xg&&(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&
(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.XS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,4)};a.prototype.Lz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,
b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,d){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=d.ia.zd(this.De.yd,-1),b=0,g=this.cj.length;b<g;b++)if(null==this.cj[b])return this.cj[b]=a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Jk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Jk(this.Aa(a))};a.prototype.Aa=
function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Hk(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};a.prototype.Ys=function(a,b){this.w(this.Jk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.dQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=
a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=d.ia.zd(this.Rc.yd,-1),b=0,g=this.fj.length;b<g;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.FR=function(a){var b=this.Ef(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.MG(b)==a&&this.su(b,c);c=this.No.read(b);isNaN(c)||
(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.GR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),f=this.Ef(this.Aa(d));this.su(this.Ef(d),-1);this.su(f,-1);this.ey(d,!0);this.sz(d)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Hk=function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.WS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.iZ(a),b=this.No.read(a));
return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.mT=function(a){return this.a.Sa(a,this.rr)};a.prototype.lT=function(a,b){var c=this.kf(a);if(-1==c)return-1;var d=c,e=-1,f=-1;do{if(this.Xf(d)==b)return d;if(-1==e){e=this.kf(b);if(-1==e)break;f=e}if(this.Xf(f)==a)return d=this.Aa(f);d=this.qc(this.Aa(d));f=this.qc(this.Aa(f))}while(d!=c&&f!=e);return-1};a.prototype.RB=function(a,b){b.Js();b=b.get();var c=new d.b;this.Ys(a,
c);b.Mc(c);this.Zm(a,c);b.Zc(c)};a.prototype.LQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.yc(c,b);c=new d.b;c.yc(e,b);return d.b.vs(a,c)};a.prototype.KQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.yc(c,b);c=new d.b;c.yc(e,b);return 0<=c.y&&0<a.y?d.b.vs(a,c):0};a.prototype.BQ=function(){for(var a=d.Ub.Yx(this.VA),
b=new d.b,g=new d.b,f=new d.b,h=new d.b,l=new d.b,m=this.rf;-1!=m;m=this.og(m)){var p=this.kf(m);if(-1!=p){var u=p;this.Ys(u,b);this.Zm(u,g);l.yc(g,b);var q=l.qk();do{var t=u,u=this.qc(this.Aa(u));if(u!=t){this.Zm(u,f);h.yc(f,b);var t=h.qk(),v=h.Ui(l);if(v*v/(t*q)*Math.min(t,q)<=a)return!1;l.L(h);q=t;g.L(f)}}while(u!=p)}}return!0};return a}();d.Qu=h})(h||(h={}));(function(d){var h=function(){function f(){this.i=null;this.AI=new d.b;this.BI=new d.b;this.Mh=null;this.pt=!1;this.Wo=-1}f.prototype.Gf=
function(b){return b<this.Mh.length?this.Mh[b]:!1};f.prototype.Hl=function(b,a,c,e){var g=d.T.lf(this.i.a.hc(c));if(2==d.T.lf(this.i.a.hc(a))&&1==g)this.AR(b,a,c,e);else throw d.g.za();};f.prototype.Wr=function(b,a){null==this.i&&(this.i=new d.Qu);this.i.Wr(b,a)};f.prototype.Xr=function(b,a,c){d.sk.V(b,a,c,!0);for(a=b.rd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&d.lo.V(b,a,-1,this.pt,c);this.Wr(b,c)};f.prototype.TF=function(b,a,c,d,g){var e=this.i.a;if(1736==e.hc(b))for(b=e.Pb(b);-1!=b;b=e.Sb(b)){var f=e.cb(b);
this.i.jf(f);this.i.jf(e.U(f));var h=this.i.mT(f);if(-1!=h){var l=this.i.Kb(h,c);if(1!=l&&2!=l)if(this.Gf(this.i.Ff(h))){this.i.Ob(h,c,1);var l=e.Yf(a,-1),m=h,p=this.i.jf(f),u=1;do{var q=this.gn(f,g);e.Kj(l,q);-1!=d&&this.i.co(p,d,1);this.i.Ob(m,c,1);var m=this.i.qc(m),t;do q=1==u?e.U(f):e.Ra(f),t=-1!=q?this.i.jf(q):-1;while(t==p);var v=this.i.Jk(m);if(v!=t){do q=1==u?e.Ra(f):e.U(f),t=-1!=q?this.i.jf(q):-1;while(t==p);v!=t?(t=v,q=this.i.Uj(this.i.Ym(t))):u=-u}p=t;f=q}while(m!=h);e.$n(l,!0)}else this.i.Ob(h,
c,2)}}};f.prototype.oG=function(){for(var b=this.i.xh(),a=new d.ia(0),c=this.i.rf;-1!=c;c=this.i.og(c)){var e=this.i.kf(c),g=e;if(-1!=e){do{if(1!=this.i.Kb(g,b)){var f=this.i.Aa(g);this.i.Ob(f,b,1);this.i.Ob(g,b,1);this.Gf(this.i.Ff(g))&&this.Gf(this.i.Ff(f))&&a.add(g)}g=this.i.qc(this.i.Aa(g))}while(g!=e)}}this.i.ni(b);this.i.GR(a)};f.prototype.gn=function(b,a){return-1==a?b:this.WT(b,a)};f.prototype.WT=function(b,a){var c=this.i.a,d,g,f=this.i.Ym(this.i.jf(b));do{d=this.i.Uj(f);g=c.ng(c.ld(d));
if(g==a)return d;f=this.i.gt(f)}while(-1!=f);return b};f.prototype.es=function(b,a,c){this.oG();var e=this.i.a,g=e.bh(1736),f=this.i.xh();this.hL(b,a,g,c,f,-1);this.i.ni(f);d.lo.V(e,g,1,this.pt,null);return g};f.prototype.hL=function(b,a,c,d,g,f){this.TF(b,c,g,f,d);-1!=a&&this.TF(a,c,g,f,d);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var e=this.i.kf(a);if(-1!=e){var k=e;do{var h=this.i.Kb(k,g);if(1!=h&&2!=h)if(this.Gf(this.i.Ff(k))){var h=b.Yf(c,-1),l=k;do{var m=this.i.$m(l);-1!=m?m=this.i.Uj(m):
(m=this.i.Uj(this.i.$m(this.i.Aa(l))),m=this.i.a.U(m));m=this.gn(m,d);b.Kj(h,m);this.i.Ob(l,g,1);-1!=f&&(m=this.i.jf(m),this.i.co(m,f,1));l=this.i.qc(l)}while(l!=k);b.$n(h,!0)}else this.i.Ob(k,g,2);k=this.i.qc(this.i.Aa(k))}while(k!=e)}}};f.prototype.VY=function(b,a,c){var e=this.i.a,g=e.bh(1736),f=e.bh(1607),h=e.bh(550);this.oG();var l=-1,m=this.i.xh(),p=this.i.wq();this.hL(b,a,g,c,m,p);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var u=a;do{var q=this.i.Kb(u,m),t=this.i.Kb(this.i.Aa(u),
m),q=q|t;if(2==q)if(q=this.i.Ah(u),this.Gf(q)){var v=e.Yf(f,-1),x=u,q=this.Jx(b,e),q=this.gn(q,c);e.Kj(v,q);this.i.co(b,p,1);do{q=this.i.Xf(x);t=this.Jx(q,e);t=this.gn(t,c);e.Kj(v,t);this.i.Ob(x,m,1);this.i.Ob(this.i.Aa(x),m,1);this.i.co(q,p,1);x=this.i.qc(x);q=this.i.Kb(x,m);t=this.i.Kb(this.i.Aa(x),m);q|=t;if(2!=q)break;q=this.i.Ah(x);if(!this.Gf(q)){this.i.Ob(x,m,1);this.i.Ob(this.i.Aa(x),m,1);break}}while(x!=u)}else this.i.Ob(u,m,1),this.i.Ob(this.i.Aa(u),m,1);u=this.i.qc(this.i.Aa(u))}while(u!=
a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))q=this.i.Hg(b,p),1!=q&&(q=this.i.Md(b),this.Gf(q)&&(-1==l&&(l=e.Yf(h,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),q=this.gn(a,c),e.Kj(l,q))));this.i.xq(p);this.i.ni(m);d.lo.V(e,g,1,this.pt,null);c=[];c[0]=h;c[1]=f;c[2]=g;return c};f.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var d=this.i.Uj(b);-1==c&&(c=d);var g=this.i.Ia(a.ng(a.ld(d)));if(this.Gf(g)){c=d;break}}return c};f.prototype.OB=function(b,a){for(var c=this.i.Jk(a),e=
this.i.Xf(a),g=0,f=0,h=this.i.Ym(c);-1!=h;h=this.i.gt(h)){var l=this.i.Uj(h),m=b.ld(l),p=this.i.Ia(b.ng(m)),u=b.U(l),q=b.Ra(l),m=b.cb(m);m==l&&(this.Wo=a);-1!=u&&this.i.jf(u)==e?(g++,this.Gf(p)&&(m==u&&(this.Wo=this.i.qc(a)),f++)):-1!=q&&this.i.jf(q)==e&&(g--,this.Gf(p)&&(m==q&&(this.Wo=this.i.qc(a)),f--))}this.i.w(c,this.AI);this.i.w(e,this.BI);c=d.b.Cb(this.AI,this.BI);return(0!=f?f:g)*c};f.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};f.prototype.mL=function(b){for(var a=
this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};f.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};f.prototype.cK=function(b,a,c,e,g){var f=this.i.a,h=b,l=this.i.Aa(h);this.i.Ob(h,c,1);this.i.Ob(l,c,1);var m=this.OB(f,h);this.Wo=-1;for(var p=h,u=-1,q=!1,t=1;;){var v=this.i.Te(h);if(v==l)break;
l=this.i.qc(l);if(this.i.Aa(v)!=l)if(h=this.mL(h),-1==h)break;else q=!0,l=this.i.Aa(h);else h=v;if(h==b){u=b;break}v=this.Fq(h);if(!this.Gf(v))break;this.i.Ob(h,c,1);this.i.Ob(l,c,1);p=h;m+=this.OB(f,h);t++}if(-1==u)for(h=b,l=this.i.Aa(h),u=h;;){b=this.i.qc(h);if(b==l)break;l=this.i.Te(l);if(this.i.Aa(b)!=l)if(h=this.nL(h),-1==h){q=!0;break}else l=this.i.Aa(h);else h=b;v=this.Fq(h);if(!this.Gf(v))break;this.i.Ob(h,c,1);this.i.Ob(l,c,1);u=h;m+=this.OB(f,h);t++}else if(-1!=this.Wo&&(p=this.Wo,u=this.i.Te(this.Wo),
this.i.Aa(u)!=this.i.qc(this.i.Aa(p))&&(u=this.mL(p),-1==u)))throw d.g.za();0<=m||(h=u,u=this.i.Aa(p),p=this.i.Aa(h));c=f.Yf(a,-1);h=p;p=this.i.Jk(p);q=this.i.Xf(u)==p&&q;m=this.Jx(p,f);m=this.gn(m,g);f.Kj(c,m);-1!=e&&this.i.co(p,e,1);p=0;for(t=q?d.J.truncate((t+1)/2):-1;;){b=this.i.Xf(h);m=this.Jx(b,f);m=this.gn(m,g);f.Kj(c,m);p++;-1!=e&&this.i.co(b,e,1);q&&p==t&&(c=f.Yf(a,-1),f.Kj(c,m));if(h==u)break;b=this.i.qc(h);if(this.i.Te(this.i.Aa(h))!=this.i.Aa(b)){if(h=this.nL(h),-1==h)throw d.g.za();}else h=
b}};f.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),d=this.i.rf;-1!=d;d=this.i.og(d)){var g=this.i.kf(d),f=g;do 1!=this.i.Kb(f,c)&&this.Gf(this.Fq(f))&&this.cK(f,a,c,-1,b),f=this.i.qc(this.i.Aa(f));while(f!=g)}this.i.ni(c);return a};f.prototype.WY=function(b){for(var a=this.i.a,c=a.bh(1607),d=a.bh(550),g=this.i.xh(),f=this.i.wq(),h=-1,l=this.i.rf;-1!=l;l=this.i.og(l)){var m=this.i.kf(l),p=m;do{var u=this.i.Kb(p,g);1!=u&&(u=this.Fq(p),this.Gf(u)&&this.cK(p,c,g,f,b));p=this.i.qc(this.i.Aa(p))}while(p!=
m)}for(l=this.i.rf;-1!=l;l=this.i.og(l))u=this.i.Hg(l,f),1!=u&&(u=this.i.Md(l),this.Gf(u)&&(-1==h&&(h=a.Yf(d,-1)),m=this.i.Ym(l),-1!=m&&(m=this.i.Uj(m),m=this.gn(m,b),a.Kj(h,m))));this.i.ni(g);this.i.xq(f);b=[];b[0]=d;b[1]=c;return b};f.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),d=this.i.rf;-1!=d;d=this.i.og(d))if(this.Gf(this.i.Md(d))){for(var g=-1,f=this.i.Ym(d);-1!=f;f=this.i.gt(f)){var h=this.i.Uj(f);-1==g&&(g=h);var l=this.i.Ia(b.ng(b.ld(h)));if(this.Gf(l)){g=h;break}}b.Kj(c,
g)}return a};f.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};f.wD=function(b,a,c,e){var g=b.Ka(),f=Array(1E3);d.J.Nv(f,null);var h=d.J.gf(1E3,0),l=b.D(),m=!0,p=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();for(var u=0;u<l;){var q=d.J.truncate(b.fX(f,u)-u);p?d.gd.fL(a,f,q,c,h):d.gd.gL(a,f,q,c,h);for(var t=0,v=0;v<q;v++){var x=0==h[v];e||(x=!x);x&&(m&&(m=!1,g.Id(b,0,u)),t!=v&&g.Id(b,u+t,u+v),t=v+1)}m||t==q||g.Id(b,u+t,u+q);u+=q}return m?b:g};f.MH=function(b,a,c){return b instanceof
d.Ed?f.wD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.sk.yJ(c,b,a)?d.sk.GQ(b,a):b.Ka():f.yD(b,a,c,!0)};f.nw=function(b,a,c,e){var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.be(c,h,!0);h=new d.h;h.I(k);k=d.na.Cs(c);h.O(k,k);if(!g.Yb(h)){if(b.tb()<=a.tb())return f.bd(f.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return f.bd(f.Bb(a.Ka()),b,"\x26")}k=new f;g=new d.fd;h=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));k.Xr(g,c,e);e=k.nw(h,a);b=f.bd(g.Se(e),b,"\x26");d.T.Ic(b.G())&&(b.Zg(2,
c),1736==b.G()&&b.Al());return b};f.yD=function(b,a,c,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var g=[null],f=[0],h=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();g[0]=b.w();h?d.gd.fL(a,g,1,c,f):d.gd.gL(a,g,1,c,f);a=0==f[0];e||(a=!a);return a?b.Ka():b};f.TZ=function(b,a,c){return b instanceof d.Ed?f.wD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.sk.yJ(c,b,a)?b.Ka():b:f.yD(b,a,c,!1)};f.prototype.DJ=function(b,a,c,e,g){if(b.u())return b;var f=new d.fd;b=f.Jb(b);return this.nl(f,
b,a,c,e,g)};f.prototype.AW=function(b,a,c,e,g,f){if(g&&550!=b.hc(a)){var k=new d.XD;k.NY(b,c);k.ih?(d.sk.V(b,c,f,!0),g=!1):this.i.ez(c)}else d.sk.V(b,c,f,!0),g=!1;e&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,a);if(this.i.YA)return this.i.qh(),this.i=null,this.nl(b,a,c,e,!1,f);this.i.ez(NaN);f=this.i.Ia(a);this.Do(f+1);this.Mh[f]=!0;if(1736==b.hc(a)||e&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),g?b.Zg(1,0):(b.Zg(2,c),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),
g||b.Zg(2,c),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),g||b.Zg(2,c),b;throw d.g.za();};f.prototype.nl=function(b,a,c,e,g,f){this.i=new d.Qu;try{return this.AW(b,a,c,e,g,f)}finally{this.i.qh()}};f.nl=function(b,a,c,d,g){return(new f).DJ(b,a,c,d,g)};f.prototype.zW=function(b,a,c){this.pt=b;this.i=new d.Qu;b=a.xo(c);var e=a.hc(c);1!=b||550==e?this.i.mK(a,c):this.i.nK(a,c);if(!this.i.YA)if(this.i.ez(NaN),e=this.i.Ia(c),this.Do(e+1),this.Mh[e]=!0,1736==a.hc(c)||1==b&&550!=a.hc(c))a.Hp(c,0),b=this.es(c,
-1,-1),a.FC(b,c),a.bC(b);else if(1607==a.hc(c))b=this.fs(-1),a.FC(b,c),a.bC(b);else if(550==a.hc(c))b=this.Qp(),a.FC(b,c),a.bC(b);else throw d.g.X("internal error");};f.EC=function(b,a,c,d){var e=new f;e.pt=!0;return e.DJ(b,a,!1,c,d)};f.prototype.Vm=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;var g=this.i.Ia(b),f=this.i.Ia(a);this.Do((g|f)+1);this.Mh[this.i.Ia(b)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&2==e||1==c&&1==e)return this.fs(-1);if(0==c)return this.Qp();
throw d.g.za();};f.prototype.nG=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;if(c<e)return a;var g=this.i.Ia(b),f=this.i.Ia(a);this.Do((g|f)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};f.prototype.nw=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),f=this.i.Ia(a);
this.Do((g|f)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.es(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.fs(g);if(0==c||0==e)return this.Qp();throw d.g.za();};f.prototype.wA=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),f=this.i.Ia(a);this.Do((g|f)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.VY(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.WY(g);if(0==c||0==e)return c=
[],c[0]=this.Qp(),c;throw d.g.za();};f.prototype.Pp=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),f=this.i.Ia(a);this.Do((g|f)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};f.Bb=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new d.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),
b.u()||a.dc(b,!0),a):b};f.bd=function(b,a,c){var e=b.G();return 197==e?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33!=e||"|"!=c&&"^"!=c?322==e?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):33==e&&"-"==c&&33==a.G()||550==e&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new d.Ed(b.description),b.u()||a.add(b),a)};f.Vm=function(b,a,c,e){if(b.u()||a.u()||b.tb()>a.tb())return f.bd(f.Bb(b),b,"-");var g=new d.h;b.s(g);var k=new d.h;a.s(k);if(!g.Yb(k))return f.bd(f.Bb(b),
b,"-");var h=new d.h;h.I(g);h.Nb(k);c=d.na.be(c,h,!0);k=new f;g=new d.fd;h=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));k.Xr(g,c,e);e=k.Vm(h,a);e=g.Se(e);b=f.bd(e,b,"-");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.nG=function(b,a,c,e){if(b.tb()>a.tb())return f.bd(f.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return f.bd(f.Bb(a),b,"|");if(a.u())return f.bd(f.Bb(b),b,"|");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.be(c,h,!0);if(!g.Yb(k.oT(c,c)))switch(b=f.Bb(b),a=f.Bb(a),
b.G()){case 550:return b=d.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=d.T.oe(b),b.add(a,!1),b;case 1736:return b=d.T.oe(b),b.add(a,!1),b;default:throw d.g.za();}k=new f;g=new d.fd;h=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));k.Xr(g,c,e);a=k.nG(h,a);b=f.bd(g.Se(a),b,"|");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.SR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var e=0,g=0,k=b.length;g<k;g++)e=Math.max(b[g].tb(),e);var h=new d.h;h.Oa();for(var l=new d.fd,m=-1,
p=0,u=-1,g=0,k=b.length;g<k;g++)if(b[g].tb()==e)if(b[g].u())-1==u&&(u=g);else{u=g;-1==m?m=l.Jb(f.Bb(b[g])):l.xP(m,f.Bb(b[g]));var q=new d.h;b[g].ac(q);h.Nb(q);p++}if(2>p)return f.Bb(b[u]);b=2==e;a=d.na.be(0==e?a:null,h,!0);return(new f).nl(l,m,a,b,!0,c)};f.wA=function(b,a,c,e){var g=[null,null,null],k=new d.h;b.s(k);var h=new d.h;a.s(h);var l=new d.h;l.I(k);l.Nb(h);c=d.na.be(c,l,!0);l=new d.h;l.I(h);h=d.na.Cs(c);l.O(h,h);if(!k.Yb(l)){if(b.tb()<=a.tb())return b=f.bd(f.Bb(b.Ka()),b,"\x26"),g[b.tb()]=
b,g;if(b.tb()>a.tb())return b=f.bd(f.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}h=new f;k=new d.fd;l=k.Jb(f.Bb(b));a=k.Jb(f.Bb(a));h.Xr(k,c,e);e=h.wA(l,a);for(a=0;a<e.length;a++)h=f.bd(k.Se(e[a]),b,"\x26"),d.T.Ic(h.G())&&(h.Zg(2,c),1736==h.G()&&h.Al()),g[h.tb()]=h;return g};f.Pp=function(b,a,c,e){if(b.tb()>a.tb())return f.bd(f.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return f.bd(f.Bb(a),b,"^");if(a.u())return f.bd(f.Bb(b),b,"^");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var h=new d.h;h.I(g);h.Nb(k);c=d.na.be(c,
h,!0);k=new f;g=new d.fd;h=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));k.Xr(g,c,e);e=k.Pp(h,a);b=f.bd(g.Se(e),b,"^");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.M_=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.Ae(0,c),c):b};f.prototype.BS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var d=a.size,g=0;g<d;g++){var f=a.get(g);c.Kj(b,f)}c.$n(b,!0)};f.prototype.XX=function(b,a){for(var c=this.i.a,d=c.rd;-1!=d;d=c.Ue(d))if(d==a)for(var g=
c.Pb(d);-1!=g;g=c.Sb(g)){var f=c.cb(g);if(-1!=f)for(var h=c.U(f);-1!=h;){var f=this.i.jf(f),l=this.i.jf(h),f=this.i.lT(f,l);-1!=f&&(l=this.i.Aa(f),this.i.Ob(f,b,1),this.i.Ob(l,b,2));f=h;h=c.U(f)}}};f.prototype.UW=function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ia(0);f.yb(256);for(var k=this.i.a,h=this.i.xh(),l=this.i.rf;-1!=l;l=this.i.og(l)){var m=this.i.kf(l);if(-1!=m){var p=m;do{if(1!=this.i.Kb(p,h)){var u=p,q=p,t=!1,v=0;do{this.i.Ob(u,h,1);if(!t){var x=this.i.Ah(u);0!=(x&e)&&0!=(this.i.Ff(u)&
c)&&(q=u,t=!0)}t&&(f.add(this.i.Uj(this.i.Ym(this.i.Jk(u)))),-1!=b&&(x=this.i.Ah(u),0!=(x&e)&&(x=this.i.Kb(u,b),v|=x)));u=this.i.qc(u)}while(u!=q);t&&0<this.i.Dq(this.i.Ef(q))&&(u=k.bh(1736),this.BS(u,f),-1!=a&&k.xK(u,a,v));f.clear(!1)}p=this.i.qc(this.i.Aa(p))}while(p!=m)}}this.i.ni(h)};f.prototype.AR=function(b,a,c,d){this.i.wX();var e=-1;-1!=b&&(e=this.i.xh(),this.XX(e,c));this.UW(e,b,a,c);var f=this.i.a;b=0;for(e=f.rd;-1!=e;e=f.Ue(e))e!=a&&e!=c&&(d.add(e),b++);d.Gd(0,b,function(a,b){a=f.hA(f.Pb(a));
b=f.hA(f.Pb(b));return a<b?-1:a==b?0:1})};f.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return f}();d.Dg=h})(h||(h={}));(function(d){var h=function(){function f(b){void 0!==b?this.Op(b):this.qC()}f.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};f.prototype.Eb=function(b){return this==b?!0:b instanceof f?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};f.prototype.jc=function(){d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();
d.J.Zi();return d.J.Zi()};f.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};f.prototype.YY=function(b,a,c,d,f){var e=2*a;d*=2;for(a=2*(a+f);e<a;e+=2,d+=2){f=b[e];var g=b[e+1];c[d]=this.lb*f+this.sb*g+this.Wb;c[d+1]=this.zb*f+this.gb*g+this.bc}};f.prototype.$Y=function(b,a,c){for(var e=0;e<a;e++){var f=b[e].x,k=b[e].y,h=this.lb*f+this.sb*k+this.Wb,f=this.zb*f+this.gb*k+this.bc;null!=c[e]?c[e].ka(h,f):c[e]=d.b.pa(h,f)}};f.prototype.multiply=
function(b){f.multiply(this,b,this)};f.multiply=function(b,a,c){var d,f,k,h,l;d=b.lb*a.lb+b.zb*a.sb;f=b.sb*a.lb+b.gb*a.sb;k=b.Wb*a.lb+b.bc*a.sb+a.Wb;h=b.lb*a.zb+b.zb*a.gb;l=b.sb*a.zb+b.gb*a.gb;b=b.Wb*a.zb+b.bc*a.gb+a.bc;c.lb=d;c.sb=f;c.Wb=k;c.zb=h;c.gb=l;c.bc=b};f.prototype.Vf=function(){var b=new f;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};f.prototype.LC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.QB(a);this.aZ(a,a);b.Mx(a,4)}};f.prototype.aZ=
function(b,a){for(var c=0;c<b.length;c++){var e=new d.b,f=b[c];e.x=this.lb*f.x+this.sb*f.y+this.Wb;e.y=this.zb*f.x+this.gb*f.y+this.bc;a[c]=e}};f.prototype.lU=function(b,a){b.u()||a.u()||0==b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};f.prototype.ZY=function(b){var a=new d.b,c=new d.b;a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.add(c);
a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};f.prototype.qC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};f.prototype.Ho=function(b){if(void 0!==b){var a=d.b.pa(0,1);this.$h(a,a);a.sub(d.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(d.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};f.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*
this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};f.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};f.prototype.Op=function(b,a){void 0!==a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};f.prototype.yC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};f.prototype.kY=function(b){this.lY(Math.cos(b),Math.sin(b))};f.prototype.lY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=
0};f.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};f.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};f.prototype.rotate=function(b){var a=new f;a.kY(b);this.multiply(a)};f.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return f}();
d.Hd=h})(h||(h={}));(function(d){var h=function(){function f(){}f.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=0};f.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};f.prototype.LC=function(b){if(b.u())return b;for(var a=new d.pd[8],c=0;8>c;c++)a[c]=new d.pd;b.QB(a);this.transform(a,8,a);b.Mx(a);return b};f.prototype.transform=function(b,
a,c){for(var e=0;e<a;e++){var f=new d.pd,k=b[e];f.x=this.lb*k.x+this.sb*k.y+this.zf*k.z+this.Wb;f.y=this.zb*k.x+this.gb*k.y+this.Af*k.z+this.bc;f.z=this.Sf*k.x+this.Cf*k.y+this.Df*k.z+this.bi;c[e]=f}};f.prototype.Rp=function(b){var a=new d.pd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};f.prototype.Vg=function(b){f.multiply(this,b,this)};f.multiply=function(b,a,c){var d,f,k,h,l,m,p,u,q,t,v;
d=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;f=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;k=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;h=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;l=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;m=b.sb*a.Sf+b.gb*a.Cf+b.Cf*a.Df;p=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;u=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;q=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;t=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;v=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=d;c.zb=f;c.Sf=k;c.sb=h;c.gb=l;c.Cf=m;c.zf=p;c.Af=u;c.Df=q;c.Wb=t;c.bc=v;c.bi=b};f.inverse=function(b,
a){var c=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=c){var e,f,k,h,l,m,p,u,q,t;u=1/c;c=(b.gb*b.Df-b.Cf*b.Af)*u;k=-(b.sb*b.Df-b.Cf*b.zf)*u;m=(b.sb*b.Af-b.gb*b.zf)*u;e=-(b.zb*b.Df-b.Af*b.Sf)*u;h=(b.lb*b.Df-b.Sf*b.zf)*u;p=-(b.lb*b.Af-b.zb*b.zf)*u;f=(b.zb*b.Cf-b.Sf*b.gb)*u;l=-(b.lb*b.Cf-b.Sf*b.sb)*u;u*=b.lb*b.gb-b.zb*b.sb;q=-(b.Wb*c+b.bc*k+b.bi*m);t=-(b.Wb*e+b.bc*h+b.bi*p);b=-(b.Wb*f+b.bc*l+b.bi*u);a.lb=c;a.zb=e;a.Sf=f;a.sb=k;a.gb=h;a.Cf=l;a.zf=m;a.Af=p;a.Df=
u;a.Wb=q;a.bc=t;a.bi=b}else throw d.g.X("math singularity");};f.prototype.Vf=function(){var b=new f;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return f}();d.fO=h})(h||(h={}));(function(d){var h=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=
!0}B(a,b);a.prototype.Td=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.DE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");this.hasAttribute(a)&&(this.Sh[a]=-1,this.DE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Pz=function(){return f.zo().add(this)};a.Ig=function(){return f.zo().UT()};a.eq=function(){return f.zo().VT()};a.prototype.KO=
function(){var a=this.jc();return new d.ma(a,this)};a.prototype.DE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=function(){this.Zq&&(this.bm=this.zk(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;
for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.mg(a.qd(d));return c};a.vT=function(b,d){b=new a(b);b.Td(d);return b.Pz()};a.wT=function(b,d){for(var c=null,e=0;10>e;e++)!b.hasAttribute(e)&&d.hasAttribute(e)&&(null==c&&(c=new a(b)),c.Td(e));return null!=c?c.Pz():b};a.ss=function(b,d){b=new a(b);b.removeAttribute(d);return b.Pz()};return a}(d.ma);d.ze=h;var f=function(){function b(){this.map=
[];var a=new h;this.add(a);a=new h;a.Td(1);this.add(a)}b.zo=function(){return b.jV};b.prototype.UT=function(){return b.aq};b.prototype.VT=function(){return b.bq};b.prototype.add=function(a){var c=a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var d=null;void 0!==this.map[c]&&(d=this.map[c]);null==d&&(d=a.KO(),1==d.Ga?b.aq=d:2==d.Ga&&1==d.qd(1)?b.bq=d:this.map[c]=d);return d};b.jV=new b;return b}()})(h||(h={}));var S=0==t.version.indexOf("4."),
aa;(function(d){d[d.Linear=0]="Linear";d[d.Angular=1]="Angular";d[d.Area=2]="Area";d[d.LinearOrAngular=3]="LinearOrAngular"})(aa||(aa={}));var Z={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},da={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},T={degrees:9102,radians:9101};void 0===L.prototype.getCacheValue&&D.extend(L,{cache:null,getCacheValue:function(d){if(null===
this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,h){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=h}});var ea=h.Rd.create(4326),ca=h.Rd.create(102100);J=function(){function d(){}d.extendedSpatialReferenceInfo=function(d){if(null===d)return null;d=M(d);var f=d.Vd();return{tolerance:d.Bo(),unitType:null==f?-1:f.td,unitID:null==f?-1:f.Cc(),unitBaseFactor:null==f?0:f.Ai,unitSquareDerivative:null==f?0:h.kc.lH(f).Cc()}};d.clip=function(d,
f){if(null===d)return null;f=h.cc.clip(v(d),v(f),E(d));return C(f,d.spatialReference)};d.cut=function(d,f){f=v(f);f=h.cc.Hl(v(d),f,E(d));for(var b=[],a=0;a<f.length;a++)b.push(C(f[a],d.spatialReference));return b};d.contains=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.contains(v(d),v(f),E(d))};d.crosses=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.zR(v(d),v(f),E(d))};d.distance=function(d,f,b){if(null===d||
null===f)throw Error("Illegal Argument Exception");return h.cc.Cb(v(d),v(f),E(d),h.kc.pe(R(b,3)))};d.equals=function(d,f){return null===d&&null!==f||null===f&&null!==d?!1:h.cc.Eb(v(d),v(f),E(d))};d.intersects=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.OU(v(d),v(f),E(d))};d.touches=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.touches(v(d),v(f),E(d))};d.within=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");
return h.cc.sZ(v(d),v(f),E(d))};d.disjoint=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.RR(v(d),v(f),E(d))};d.overlaps=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.pW(v(d),v(f),E(d))};d.relate=function(d,f,b){if(null===d||null===f)throw Error("Illegal Argument Exception");return h.cc.ZB(v(d),v(f),E(d),b)};d.isSimple=function(d){if(null===d)throw Error("Illegal Argument Exception");return h.cc.ZU(v(d),E(d))};
d.simplify=function(d){if(null===d)throw Error("Illegal Argument Exception");var f=h.cc.DC(v(d),E(d));return C(f,d.spatialReference)};d.convexHull=function(l,f){void 0===f&&(f=!1);if(null===l)throw Error("Illegal Argument Exception");return!1===O(l)?(f=h.cc.iR(v(l),E(l)),C(f,l.spatialReference)):d.lZ(l,f)};d.lZ=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(v(d[a]));b=h.cc.jR(b,f);for(a=0;a<b.length;a++)b[a]=C(b[a],d[0].spatialReference);return b};d.difference=function(l,f){if(null===l||null===
f)throw Error("Illegal Argument Exception");return!1===O(l)?(f=h.cc.Vm(v(l),v(f),E(l)),C(f,l.spatialReference)):d.iM(l,f)};d.iM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(v(d[a]));b=h.cc.OR(b,v(f),E(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.symmetricDifference=function(l,f){if(null===l||null===f)throw Error("Illegal Argument Exception");return!1===O(l)?(f=h.cc.Pp(v(l),v(f),E(l)),C(f,l.spatialReference)):d.LM(l,f)};d.LM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(v(d[a]));
b=h.cc.PY(b,v(f),E(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.intersect=function(l,f){if(null===l||null===f)throw Error("Illegal Argument Exception");return!1===O(l)?(f=h.cc.Ma(v(l),v(f),E(l)),C(f,l.spatialReference)):d.xM(l,f)};d.xM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(v(d[a]));b=h.cc.MU(b,v(f),E(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.union=function(d,f){void 0===f&&(f=null);if(null===d)return null;!1===O(d)&&(d=[d],null!==
f&&d.push(f));if(0===d.length)return null;f=[];for(var b=0;b<d.length;b++)f.push(v(d[b]));return C(h.cc.hZ(f,E(d[0])),d[0].spatialReference)};d.offset=function(l,f,b,a,c,e){var g=0;if(null!=a&&void 0!=a)switch(a){case "round":g=0;break;case "bevel":g=1;break;case "miter":g=2;break;case "square":g=3}return!1===O(l)?(f=h.cc.offset(v(l),E(l),f,g,c,e,h.kc.pe(R(b,3))),C(f,l.spatialReference)):d.HM(l,f,b,g,c,e)};d.HM=function(d,f,b,a,c,e){if(null===d)return null;if(0===d.length)return[];for(var g=[],k=
0;k<d.length;k++)g.push(v(d[k]));f=h.cc.nW(g,E(d[0]),f,a,c,e,h.kc.pe(R(b,3)));for(k=0;k<f.length;k++)f[k]=C(f[k],d[0].spatialReference);return f};d.buffer=function(l,f,b,a){void 0===a&&(a=!1);if(!1===O(l))return f=h.cc.buffer(v(l),E(l),f,h.kc.pe(R(b,3)),!1,0,NaN),C(f,l.spatialReference);if("[object Array]"!==Object.prototype.toString.call(f)){for(var c=[],e=0;e<l.length;e++)c.push(f);f=c}if(f.length!=l.length){if(0==f.length)throw Error("Illegal Argument Exception");for(var c=[],g=0,e=0;e<l.length;e++)void 0===
f[e]?c.push(g):(c.push(f[e]),g=f[e]);f=c}return d.rD(l,f,b,!1,a,"geodesic",NaN)};d.geodesicBuffer=function(l,f,b,a,c,e){if(!1===O(l))return void 0===c&&(c=NaN),f=h.cc.buffer(v(l),E(l),f,h.kc.pe(R(b,0)),!0,y(a),c),C(f,l.spatialReference);if("[object Array]"!==Object.prototype.toString.call(f)){for(var g=[],k=0;k<l.length;k++)g.push(f);f=g}if(f.length!=l.length){if(0==f.length)throw Error("Illegal Argument Exception");for(var g=[],m=0,k=0;k<l.length;k++)void 0===f[k]?g.push(m):(g.push(f[k]),m=f[k]);
f=g}return d.rD(l,f,b,!0,a,c,e)};d.rD=function(d,f,b,a,c,e,g){if(null===d)return null;if(0===d.length)return[];void 0===g&&(g=NaN);for(var k=[],l=0;l<d.length;l++)k.push(v(d[l]));f=h.cc.RP(k,E(d[0]),f,h.kc.pe(R(b,0)),a,c,y(e),g);for(l=0;l<f.length;l++)f[l]=C(f[l],d[0].spatialReference);return f};d.nearestCoordinate=function(d,f,b){void 0===b&&(b=!0);f=h.cc.$z(v(d),v(f),b);return{coordinate:C(f.Oz(),d.spatialReference),distance:f.Rz(),isRightSide:f.AA(),vertexIndex:f.Za(),isEmpty:f.u()}};d.nearestVertex=
function(d,f){f=h.cc.aA(v(d),v(f));return{coordinate:C(f.Oz(),d.spatialReference),distance:f.Rz(),isRightSide:f.AA(),vertexIndex:f.Za(),isEmpty:f.u()}};d.nearestVertices=function(d,f,b,a){f=v(f);b=h.cc.bA(v(d),f,b,a);a=[];for(f=0;f<b.length;f++)!1===b[f].u()&&a.push({coordinate:C(b[f].Oz(),d.spatialReference),distance:b[f].Rz(),isRightSide:b[f].AA(),vertexIndex:b[f].Za(),isEmpty:b[f].u()});return a};d.generalize=function(d,f,b,a){f=h.cc.HS(v(d),E(d),f,b,h.kc.pe(R(a,3)));return C(f,d.spatialReference)};
d.densify=function(d,f,b){f=h.cc.Ls(v(d),E(d),f,h.kc.pe(R(b,3)));return C(f,d.spatialReference)};d.geodesicDensify=function(d,f,b,a){void 0===a&&(a=0);f=h.cc.Fz(v(d),E(d),f,h.kc.pe(R(b,3)),a);return C(f,d.spatialReference)};d.rotate=function(d,f,b){if(void 0===b||null===b)void 0!==d.x?b=d:void 0!==d.xmin?(!1===d instanceof L&&(d=S?A(d):m(d)),b=S?d.get("center"):d.getCenter()):(!1===d instanceof L&&(d=S?A(d):m(d)),b=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?h.Wp.rotate(d.toJSON?
d.toJSON():d,f,b.toJSON?b.toJSON():b):h.Wp.rotate(d.toJson?d.toJson():d,f,b.toJson?b.toJson():b);S?(f=A(f),f.set("spatialReference",d.spatialReference)):(f=m(f),f.setSpatialReference(d.spatialReference));return f};d.flipHorizontal=function(d,f){if(void 0===f||null===f)void 0!==d.x?f=d:void 0!==d.xmin?(!1===d instanceof L&&(d=S?A(d):m(d)),f=S?d.get("center"):d.getCenter()):(!1===d instanceof L&&(d=S?A(d):m(d)),f=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?h.Wp.zG(d.toJSON?d.toJSON():
d,f.toJSON?f.toJSON():f):h.Wp.zG(d.toJson?d.toJson():d,f.toJson?f.toJson():f);S?(f=A(f),f.set("spatialReference",d.spatialReference)):(f=m(f),f.setSpatialReference(d.spatialReference));return f};d.flipVertical=function(d,f){if(void 0===f||null===f)void 0!==d.x?f=d:void 0!==d.xmin?(!1===d instanceof L&&(d=S?A(d):m(d)),f=S?d.get("center"):d.getCenter()):(!1===d instanceof L&&(d=S?A(d):m(d)),f=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?h.Wp.AG(d.toJSON?d.toJSON():d,f.toJSON?f.toJSON():
f):h.Wp.AG(d.toJson?d.toJson():d,f.toJson?f.toJson():f);S?(f=A(f),f.set("spatialReference",d.spatialReference)):(f=m(f),f.setSpatialReference(d.spatialReference));return f};d.planarArea=function(d,f){if(null===d)throw Error("Illegal Argument Exception");return h.cc.xW(v(d),E(d),h.kc.pe(R(f,2)))};d.planarLength=function(d,f){if(null===d)throw Error("Illegal Argument Exception");return h.cc.yW(v(d),E(d),h.kc.pe(R(f,3)))};d.geodesicArea=function(d,f,b){if(null===d)throw Error("Illegal Argument Exception");
return h.cc.NS(v(d),E(d),h.kc.pe(R(f,2)),y(b))};d.geodesicLength=function(d,f,b){if(null===d)throw Error("Illegal Argument Exception");return h.cc.RS(v(d),E(d),h.kc.pe(R(f,0)),y(b))};d._enableProjection=function(l){d.GE=!0;h.BN.bind(l)};d.Mg=function(d){return M(d).Ao()};d._getTransformation=function(d,f,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw h.g.F("AOI missing Spatial Reference");a=v(b);c=M(b.spatialReference).Ao()}d=h.Ou.RT(M(d).Ao(),M(f).Ao(),a,c);return null!==
d?d:null};d._getTransformationBySuitability=function(d,f,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw h.g.F("AOI missing Spatial Reference");a=v(b);c=M(b.spatialReference).Ao()}return h.Ou.ST(M(d).Ao(),M(f).Ao(),a,c)};d.dZ=function(l,f,b){var a=null;if(b){var c=b.getGTListEntry();if(null!==c){for(var a=new h.ny(null),e=0,g=c.steps;e<g.length;e++){var c=g[e],k=new h.io(c.geogtran);c.isInverse&&k.kt();a.add(k)}a=h.rs.Is(d.Mg(l),d.Mg(f),a);b.assignCachedGe(l,f,a);return a}}if(null===
a&&b&&b.steps&&0<b.steps.length){a=new h.ny(null);e=0;for(g=b.steps;e<g.length;e++)c=g[e],-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?a.add(h.io.create(c.wkid,c.isInverse)):a.add(h.io.gG(c.wkt,c.isInverse));a=h.rs.Is(d.Mg(l),d.Mg(f),a);b.assignCachedGe(l,f,a);return a}return h.rs.Is(d.Mg(l),d.Mg(f),a)};d._project=function(l,f,b,a,c){void 0===a&&(a=null);void 0===c&&(c=!1);if(!1===this.GE)throw Error("Projection Engine must be enabled using enableProjection");if(0===l.length)return[];if(a){var e=a.getCachedGeTransformation(f,
b);e||(e=d.dZ(f,b,a));f=[];var g=0}else e=h.rs.Is(d.Mg(f),d.Mg(b),null),f=[],g=0;for(;g<l.length;g++)a=l[g],f.push(d.nD(a,b,e,c));return f};d.nD=function(d,f,b,a){d=h.cc.Xg(v(d),b);return a?Q(d):C(d,f)};d.GE=!1;return d}();void 0===L.prototype.getCacheValue&&D.extend(L,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,h){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=h}});return J})},
"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/tsSupport/assignHelper ../../../../../Color ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../support/elevationInfoUtils ../../Manipulator3D ../manipulatorDragUtils ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function q(h){var m=l.call(this)||this;m._handles=new p;m._snapToScene=new B.SnapToScene;m._discMaterial=m._createMaterial();m._discMaterialTransparent=m._createMaterial(.5);m._scale=1;m._radius=E.DISC_RADIUS;m._view=h.view;m._tool=h.tool;null!=h.snapToScene&&(m.snapToScene=h.snapToScene);null!=h.radius&&(m._radius=h.radius);m._createManipulator();m.forEachManipulator(function(h){return m._tool.manipulators.add(h)});
return m}L(q,l);q.prototype.destroy=function(){var h=this;this._handles.destroy();this.forEachManipulator(function(l){h._tool.manipulators.remove(l);l.destroy()});this._manipulator=this._view=this._tool=null};q.prototype.forEachManipulator=function(h){h(this._manipulator,1)};Object.defineProperty(q.prototype,"displayScale",{get:function(){return this._scale},set:function(h){this._scale=h;this._updateManipulatorTransform()},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"snapToScene",
{get:function(){return this._snapToScene.enabled},set:function(h){this._snapToScene.enabled=h},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"radius",{get:function(){return this._radius},set:function(h){h!==this._radius&&(this._radius=h,this._updateManipulator())},enumerable:!0,configurable:!0});q.prototype.createGraphicDragPipeline=function(h,l){var m=this,p=h.graphic,q=C.getGraphicEffectiveElevationInfo(p),t=D.expect(p.geometry).spatialReference;return Q.createGraphicMoveDragPipeline(h,
l,function(h){return m.createDragPipeline(h,q,t)})};q.prototype.createDragPipeline=function(h,l,m){var p=this,q=this._view;return M.createManipulatorDragEventPipeline(this._manipulator,function(t,v,d,u){v=v.next(M.dragAtLocation(q,t.elevationAlignedLocation)).next(M.screenToMapXYAtLocation(q,t.elevationAlignedLocation,l,m)).next(p._snapToScene.createDragEventPipelineStep(q,l),p._snapToScene.next).next(M.addScreenDelta());h(t,v,d,u)})};q.prototype._updateManipulatorTransform=function(){var l=m.mat4.fromScaling(h.sm4d.get(),
R.vec3.set(h.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=l};q.prototype._createManipulator=function(){this._manipulator=new H.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:y.vec3f64.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};q.prototype._updateManipulator=function(){var h=new x(V.createCylinderGeometry(E.DISC_HEIGHT,1,E.GEOMETRY_SEGMENTS,
y.vec3f64.fromValues(0,0,1),y.vec3f64.fromValues(0,0,0)),"graphic-transform-disc"),l=m.mat4.fromScaling(A.mat4f64.create(),y.vec3f64.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:h,material:this._discMaterial,transform:l,stateMask:2},{geometry:h,material:this._discMaterialTransparent,transform:l,stateMask:1}];this._manipulator.radius=this._radius/E.DISC_RADIUS*E.DISC_COLLISION_RADIUS};q.prototype._createMaterial=function(h){void 0===h&&(h=1);var l=
K.toUnitRGBA(v.colors.main);l[3]*=h;h=new N({color:l,transparent:1!==h,cullFace:2},"move-xy-disc");h.renderOccluded=2;return h};Object.defineProperty(q.prototype,"test",{get:function(){return{discManipulator:this._manipulator}},enumerable:!0,configurable:!0});return q}(O.Manipulation);l.MoveXYDiscManipulation=J})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/maybe ../../../../../support/elevationInfoUtils ../manipulatorDragUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new D.EventPipeline;this._enabled=!1}Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(l){if(this._enabled!==l&&K.isSome(this.lastDragEvent)){var m=this.lastDragEvent.mapEnd,p=this.snap(this.lastDragEvent.screenEnd);K.isSome(p)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,
mapEnd:!0===l?p:m,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=l},enumerable:!0,configurable:!0});l.prototype.snap=function(l){l=K.isSome(this.view)?this.view.toMap(l,{exclude:[]}):null;K.isSome(l)&&K.isSome(this.view)&&(l.z=p.getZForElevationMode(l,this.view,this.elevationInfo));return l};l.prototype.createDragEventPipelineStep=function(l,m){var p=this;this.view=l;this.elevationInfo=m;this.lastDragEvent=null;return function(l){p.lastDragEvent="end"!==
l.action?q({},l):null;if(p._enabled){var m=p.snap(l.screenEnd);return K.isSome(m)?{action:l.action,mapStart:l.mapStart,mapEnd:m,screenStart:l.screenStart,screenEnd:l.screenEnd}:null}return{action:l.action,mapStart:l.mapStart,mapEnd:l.mapEnd,screenStart:l.screenStart,screenEnd:l.screenEnd}}};return l}();l.SnapToScene=J})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/colorUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../Manipulator3D ../../manipulatorUtils ../manipulatorDragUtils ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function t(h){var m=l.call(this)||this;m._handles=new p;m._radius=O.DISC_RADIUS;m.events=new K;m._tool=h.tool;m._view=h.view;null!=h.radius&&(m._radius=h.radius);m.createManipulator();m.forEachManipulator(function(h){return m._tool.manipulators.add(h)});return m}L(t,l);t.prototype.destroy=function(){var h=this;this._handles.destroy();this.forEachManipulator(function(l){h._tool.manipulators.remove(l);
l.destroy()})};t.prototype.forEachManipulator=function(h){h(this._manipulator,0)};t.prototype.createGraphicDragPipeline=function(h,l){var p=this,q=m.expect(h.graphic.geometry).spatialReference;return B.createGraphicMoveDragPipeline(h,l,function(h){return p.createDragPipeline(h,q)})};t.prototype.createDragPipeline=function(h,l){var m=this._view;return v.createManipulatorDragEventPipeline(this._manipulator,function(p,q,t,d){q=q.next(v.screenToZConstrained(m,p.renderLocation,l)).next(v.addScreenDelta());
h(p,q,t,d)})};Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(h){h!==this._radius&&(this._radius=h,this.updateManipulator())},enumerable:!0,configurable:!0});t.prototype.updateManipulator=function(){var l=this._radius/O.DISC_RADIUS,m=E.settings.zManipulator.height*l,p=E.settings.zManipulator.coneHeight*l,t=E.settings.zManipulator.coneWidth*l,l=E.settings.zManipulator.width*l,v=[C.vec3f64.fromValues(0,0,0),C.vec3f64.fromValues(0,0,m)],v=new h(x.createTubeGeometry(v,
l/2,16,!1),"move-z"),B=x.createConeGeometry(p,t/2,16,!1),B=new h(B),p=[C.vec3f64.fromValues(0,0,0),C.vec3f64.fromValues(0,0,m+p)],d=function(a){var b=R.mat4f64.create();A.mat4.translate(b,b,[0,0,m]);A.mat4.rotateX(b,b,Math.PI/2);a&&(a=1+2*a/t,A.mat4.scale(b,b,[a,a,a]));return b}(0),u=function(a,b){b=q.darken(E.settings.zManipulator.color,b);return[b.r/255,b.g/255,b.b/255,E.settings.zManipulator.color.a*a]},f=M.createManipulatorMaterial(u(1,.25),1),b=M.createManipulatorMaterial(u(1,0),1),a=M.createManipulatorMaterial(u(.7,
0),E.settings.zManipulator.occludedFlag),u=M.createManipulatorMaterial(u(.85,0),E.settings.zManipulator.occludedFlag);this._manipulator.renderObjects=[{geometry:B,transform:d,material:f,stateMask:1},{geometry:v,material:f,stateMask:1},{geometry:B,transform:d,material:b,stateMask:2},{geometry:v,material:b,stateMask:2},{geometry:B,transform:d,material:a,stateMask:1},{geometry:v,material:a,stateMask:1},{geometry:B,transform:d,material:u,stateMask:2},{geometry:v,material:u,stateMask:2}];this._manipulator.radius=
l/2+2;this._manipulator.collisionType={type:"line",paths:[p]}};t.prototype.createManipulator=function(){var h=this,l=new H.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});l.applyObjectTransform=function(l){var m=h._view.state.camera,p=V;h._view.renderCoordsHelper.toRenderCoords(h._manipulator.elevationAlignedLocation,p);var q=y.vec3.dist(m.eye,p),d=m.computeRenderPixelSizeAtDist(q),
u=y.vec3.subtract(N,p,m.eye);y.vec3.normalize(u,u);var f=U;h._view.renderCoordsHelper.worldUpAtPosition(V,f);p=Math.abs(y.vec3.dot(u,f));u=y.vec3.cross(N,u,f);f=y.vec3.cross(N,u,f);p=D.clamp(p,.01,1);m=1-Math.sqrt(1-p*p)/p/m.fullWidth;p=h._radius/O.DISC_RADIUS*E.settings.zManipulator.width;y.vec3.scale(f,y.vec3.normalize(f,f),(1/m-1)*q+d*p);l[12]-=N[0];l[13]-=N[1];l[14]-=N[2]};this._manipulator=l;this.updateManipulator()};return t}(Q.Manipulation);l.MoveZManipulation=J;var V=C.vec3f64.create(),N=
C.vec3f64.create(),U=C.vec3f64.create()})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/Handles ../../../../../core/maybe ../manipulatorDragUtils ./Manipulation ./moveUtils ../../../../interactive/GraphicManipulator".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function m(m){var p=l.call(this)||this;p._handles=new K;p._view=m.view;p._tool=m.tool;p._graphicState=m.graphicState;p._createManipulator();p.forEachManipulator(function(l){return p._tool.manipulators.add(l)});return p}L(m,l);m.prototype.destroy=function(){var l=this;this._handles.destroy();this.forEachManipulator(function(m){l._tool.manipulators.remove(m);m.destroy()});this._graphicState=this._manipulator=
this._view=this._tool=null};m.prototype.forEachManipulator=function(l){l(this._manipulator,1)};m.prototype.createGraphicDragPipeline=function(l){var m=this;return A.createGraphicMoveDragPipeline(this._graphicState,l,function(l){return m.createDragPipeline(l)})};m.prototype.createDragPipeline=function(l){var m=this._view,q=this._graphicState.graphic,t=p.isSome(q.geometry)?q.geometry.spatialReference:null;return D.createManipulatorDragEventPipeline(this._manipulator,function(p,v,B,h){v=v.next(D.screenToMapXYForGraphic(h,
m,q,t)).next(D.addMapDelta()).next(D.addScreenDelta());l(p,v,B,h)})};m.prototype._createManipulator=function(){this._manipulator=new R.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return m}(m.Manipulation);l.MoveXYGraphicManipulation=J})},"esri/views/interactive/GraphicManipulator":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/Evented ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ../../core/libs/gl-matrix-2/vec2 ../../core/libs/gl-matrix-2/vec3 ../../core/libs/gl-matrix-2/vec3f64 ../../geometry/support/webMercatorUtils ../../support/elevationInfoUtils ../../symbols/support/defaults ../../symbols/support/ElevationInfo ../../views/support/drapedUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E){Object.defineProperty(l,"__esModule",{value:!0});var O=K.getLogger("esri.views.interactive.GraphicManipulator");J=function(l){function x(h){h=l.call(this,h)||this;h.layer=null;h.interactive=!0;h.selectable=!1;h.dragging=!1;h.cursor=null;h.events=new q({target:h});h._circleCollisionCache=null;h._graphicSymbolChangedHandle=null;h._originalSymbol=null;return h}L(x,l);Object.defineProperty(x.prototype,"graphic",{set:function(h){"mesh"===p.get(h.geometry,
"type")?O.error("Mesh geometries are not supported"):(this._circleCollisionCache=null,this._originalSymbol=h.symbol,this._set("graphic",h),this.attachSymbolChanged())},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"elevationInfo",{get:function(){var h="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,l=H.getGraphicEffectiveElevationMode(this.graphic);return new v({mode:l,offset:h?h.offset:0})},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,
"focusedSymbol",{set:function(h){h!==this._get("focusedSymbol")&&(this._set("focusedSymbol",h),this._updateGraphicSymbol(),this._circleCollisionCache=null)},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"grabbing",{set:function(h){h!==this._get("grabbing")&&(this._set("grabbing",h),this._updateGraphicSymbol())},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"hovering",{set:function(h){h!==this._get("hovering")&&(this._set("hovering",h),this._updateGraphicSymbol())},
enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"selected",{set:function(h){h!==this._get("selected")&&(this._set("selected",h),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:h?"select":"deselect"}))},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"_focused",{get:function(){return this._get("hovering")||this._get("grabbing")},enumerable:!0,configurable:!0});x.prototype.destroy=function(){this.detachSymbolChanged();this._resetGraphicSymbol();
this._set("view",null)};x.prototype.intersectionDistance=function(h){var l=this._get("graphic");if(!1===l.visible)return null;var m=this._get("focusedSymbol"),m=p.isSome(m)?m:l.symbol,q=l.geometry;if(p.isNone(q))return null;var t=this._get("view");return"2d"===t.type?this._intersectDistance2D(h,t,q,m):this._intersectDistance3D(h,t,l)};x.prototype.attach=function(){this.attachSymbolChanged();p.isSome(this.layer)&&this.layer.add(this.graphic)};x.prototype.detach=function(){this.detachSymbolChanged();
this._resetGraphicSymbol();p.isSome(this.layer)&&this.layer.remove(this.graphic)};x.prototype.attachSymbolChanged=function(){var h=this;this.detachSymbolChanged();this._graphicSymbolChangedHandle=this.graphic.watch("symbol",function(l){p.isSome(l)&&l!==h.focusedSymbol&&l!==h._originalSymbol&&(h._originalSymbol=l,h._focused&&p.isSome(h.focusedSymbol)&&(h.graphic.symbol=h.focusedSymbol))},!0)};x.prototype.detachSymbolChanged=function(){p.isSome(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),
this._graphicSymbolChangedHandle=null)};x.prototype._updateGraphicSymbol=function(){this.graphic.symbol=this._focused&&p.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};x.prototype._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};x.prototype._intersectDistance2D=function(l,m,q,t){t=t||M.getDefaultSymbol2D(q);if(p.isNone(t))return null;var v=this._circleCollisionCache;if("point"!==q.type||"simple-marker"!==t.type)return v=E.intersectsDrapedGeometry(l,q,m),
p.isSome(v)?1:null;if(p.isNone(v)||!v.originalPoint.equals(q)){var x=m.spatialReference;C.canProject(q,x)&&(v=C.project(q,x),this._circleCollisionCache=v={originalPoint:q.clone(),mapPoint:v,radiusPx:D.pt2px(t.size)})}return p.isSome(v)?(l=D.screenPointObjectToArray(l,B),m=m.state.toScreen(h,v.mapPoint.x,v.mapPoint.y),v=v.radiusPx,A.vec2.squaredDistance(l,m)<v*v?1:null):null};x.prototype._intersectDistance3D=function(h,l,m){h=l.toMap(h,{include:[m]});if(!h)return null;m=Q;return l.renderCoordsHelper.toRenderCoords(h,
m)?R.vec3.distance(m,l.state.camera.eye):null};t([m.property({constructOnly:!0,nonNullable:!0})],x.prototype,"graphic",null);t([m.property({readOnly:!0,dependsOn:["graphic"]})],x.prototype,"elevationInfo",null);t([m.property({constructOnly:!0,nonNullable:!0})],x.prototype,"view",void 0);t([m.property({value:null})],x.prototype,"focusedSymbol",null);t([m.property({constructOnly:!0})],x.prototype,"layer",void 0);t([m.property()],x.prototype,"interactive",void 0);t([m.property()],x.prototype,"selectable",
void 0);t([m.property({value:!1})],x.prototype,"grabbing",null);t([m.property()],x.prototype,"dragging",void 0);t([m.property()],x.prototype,"hovering",null);t([m.property({value:!1})],x.prototype,"selected",null);t([m.property()],x.prototype,"cursor",void 0);return x=t([m.subclass("esri.views.interactive.GraphicManipulator")],x)}(m.declared(F));l.GraphicManipulator=J;var Q=y.vec3f64.create(),B=D.createScreenPointArray(),h=D.createScreenPointArray()})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),
function(J,l,t,L,G,F){function q(l,q,m,A){void 0===A&&(A=new t.Extent);var p;if("2d"===m.type)p=q*m.resolution;else if("3d"===m.type){var y=m.basemapTerrain,C=y.overlayManager,C=C?C.overlayPixelSizeInMapUnits(l):1;p=y&&!y.spatialReference.equals(m.spatialReference)?G.getMetersPerUnitForSR(y.spatialReference)/G.getMetersPerUnitForSR(m.spatialReference):q*C}q=l.x-p;y=l.y-p;C=l.x+p;l=l.y+p;m=m.spatialReference;A.xmin=Math.min(q,C);A.ymin=Math.min(y,l);A.xmax=Math.max(q,C);A.ymax=Math.max(y,l);A.spatialReference=
m;return A}Object.defineProperty(l,"__esModule",{value:!0});l.createQueryGeometry=q;l.intersectsDrapedGeometry=function(l,t,m){l=m.toMap(l);if(L.isNone(l))return null;var p=F.calculateTolerance();return q(l,p,m,K).intersects(t)?l:null};var K=new t.Extent})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(J,l){function t(l,q){return q?"xoffset"in q&&q.xoffset?Math.max(l,Math.abs(q.xoffset)):"yoffset"in q&&q.yoffset?Math.max(l,Math.abs(q.yoffset||0)):l:
l}function L(l,q){if("number"===typeof l)return l;if(l&&l.stops&&l.stops.length){l=l.stops;for(var t=q=0,p=0;p<l.length;p++){var D=l[p].size;"number"===typeof D&&(q+=D,t++)}return q/t}return q}function G(l,q){if(!q)return l;q=q.filter(function(l){return"size"===l.type}).map(function(m){var p=m.minSize;return(L(m.maxSize,l)+L(p,l))/2});var t=0,p=q.length;if(0===p)return l;for(var D=0;D<p;D++)t+=q[D];return Math.max(Math.floor(t/p),l)}Object.defineProperty(l,"__esModule",{value:!0});l.calculateTolerance=
function(l){var q=l&&l.renderer;l="touch"===(l&&l.event&&l.event.pointerType)?9:6;if(!q)return l;l="visualVariables"in q?G(l,q.visualVariables):l;if("simple"===q.type)return t(l,q.symbol);if("unique-value"===q.type){var F=l;q.uniqueValueInfos.forEach(function(l){F=t(F,l.symbol)});return F}if("class-breaks"===q.type){var p=l;q.classBreakInfos.forEach(function(l){p=t(p,l.symbol)});return p}return l}})},"esri/views/interactive/InteractiveToolBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Handles ../../core/has ../../core/promiseUtils ../../core/scheduling ../../core/accessorSupport/decorators ./interactiveToolUtils ./ManipulatorCollection".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function y(m){m=l.call(this,m)||this;m.attached=!1;m.created=!1;m.completed=!1;m.manipulators=new A.ManipulatorCollection;m.deferCreation=!1;m._editableFlags=[];m._manipulatorHandles=new F;m._creationResolver=K.createResolver();return m}t(y,l);Object.defineProperty(y.prototype,"active",{get:function(){return null!=this.view&&this.view.activeTool===this},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,
"isSupported",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"visible",{set:function(l){this._set("visible",l);l||m.setActive(this,!1);this.attached&&(l?this._show():this._hide())},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"editable",{get:function(){return this.hasEditableFlag(0)},set:function(l){this.setEditableFlag(0,l)},enumerable:!0,configurable:!0});y.prototype.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();
this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};y.prototype.detach=function(){this.attached&&(this.onHide(),this.onDetach(),this.manipulators.detach(),this._manipulatorHandles.removeAll(),this._set("attached",!1))};y.prototype.handleInputEvent=function(l){if(this.attached)this.onInputEvent(l)};y.prototype.destroy=function(){this.manipulators.destroy();this._manipulatorHandles&&(this._manipulatorHandles.destroy(),this._manipulatorHandles=null);this._set("view",null)};y.prototype.setEditableFlag=
function(l,m){this._editableFlags[l]=m;this.manipulators.isToolEditable=this._editableFlags.every(function(l){return null==l||l});this._updateManipulatorAttachment();0===l&&this.notifyChange("editable");this.onEditableChange()};y.prototype.hasEditableFlag=function(l){l=this._editableFlags[l];return null==l?!0:l};y.prototype.when=function(){return this._creationResolver.promise};y.prototype.rejectCreation=function(l){this._creationResolver.reject(l)};y.prototype.initialize=function(){this.deferCreation||
this.complete()};y.prototype.onAttach=function(){};y.prototype.onDetach=function(){};y.prototype.onShow=function(){};y.prototype.onHide=function(){};y.prototype.onEditableChange=function(){};y.prototype.onInputEvent=function(l){};Object.defineProperty(y.prototype,"internallyEditable",{get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)},enumerable:!0,configurable:!0});y.prototype.create=function(){var l=this;this.created||(this._set("created",!0),q("esri-native-promise")?this._creationResolver(this):
p.schedule(function(){return l._creationResolver(l)}))};y.prototype.complete=function(){this.create();this._set("completed",!0)};y.prototype._show=function(){this._updateManipulatorAttachment();this.onShow()};y.prototype._hide=function(){this._updateManipulatorAttachment();this.onHide()};y.prototype._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};L([D.property({constructOnly:!0})],y.prototype,"view",void 0);L([D.property({dependsOn:["view.activeTool"],
readOnly:!0})],y.prototype,"active",null);L([D.property({value:!0})],y.prototype,"visible",null);L([D.property({value:!0})],y.prototype,"editable",null);L([D.property({readOnly:!0})],y.prototype,"attached",void 0);L([D.property({readOnly:!0})],y.prototype,"created",void 0);L([D.property({readOnly:!0})],y.prototype,"completed",void 0);L([D.property({readOnly:!0})],y.prototype,"manipulators",void 0);L([D.property({constructOnly:!0})],y.prototype,"deferCreation",void 0);return y=L([D.subclass("esri.views.interactive.InteractiveToolBase")],
y)}(D.declared(G));l.InteractiveToolBase=J})},"esri/views/interactive/ManipulatorCollection":function(){define(["require","exports","../../core/tsSupport/decorateHelper","../../core/Collection","../../core/maybe"],function(J,l,t,L,G){Object.defineProperty(l,"__esModule",{value:!0});J=function(){function l(){this._isToolEditable=!0;this._manipulators=new L;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}Object.defineProperty(l.prototype,"isToolEditable",{set:function(l){this._isToolEditable=
l},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"length",{get:function(){return this._manipulators.length},enumerable:!0,configurable:!0});l.prototype.add=function(l,t){void 0===t&&(t=0);return this.addMany([l],t)[0]};l.prototype.addMany=function(l,t){var p=this;void 0===t&&(t=0);return l.map(function(l){var m=p._nextManipulatorId++;l={id:m,manipulator:l,visibilityPredicate:t,attached:!1};p._manipulators.add(l);p._attached&&p._updateManipulatorAttachment(l);return m})};l.prototype.remove=
function(l){if("number"===typeof l){for(var q=0;q<this._manipulators.length;q++)if(this._manipulators.getItemAt(q).id===l)return l=this._manipulators.splice(q,1)[0],this._detachManipulator(l),l.id;return null}for(q=0;q<this._manipulators.length;q++)if(this._manipulators.getItemAt(q).manipulator===l)return l=this._manipulators.splice(q,1)[0],this._detachManipulator(l),l.id;return null};l.prototype.removeAll=function(){var l=this;this._manipulators.forEach(function(q){l._detachManipulator(q)});this._manipulators.removeAll()};
l.prototype.attach=function(){var l=this;this._manipulators.forEach(function(q){l._updateManipulatorAttachment(q)});this._attached=!0};l.prototype.detach=function(){var l=this;this._manipulators.forEach(function(q){l._detachManipulator(q)});this._attached=!1};l.prototype.destroy=function(){this._manipulators.forEach(function(l){l=l.manipulator;l.destroy&&l.destroy()});this._manipulators.destroy();this._resourceContexts=null};l.prototype.on=function(l,t){return this._manipulators.on(l,function(l){t(l)})};
l.prototype.forEach=function(l){for(var q=0,p=this._manipulators.items;q<p.length;q++)l(p[q])};l.prototype.toArray=function(){var l=[];this.forEach(function(q){return l.push(q.manipulator)});return l};l.prototype.intersect=function(l,t){var p=null,q=Number.MAX_VALUE;this._manipulators.forEach(function(m){var A=m.id,D=m.manipulator;m.attached&&D.interactive&&(m=D.intersectionDistance(l,t),G.isSome(m)&&m<q&&(q=m,p=A))});return p};l.prototype.findById=function(l){if(G.isNone(l))return null;for(var q=
0,p=this._manipulators.items;q<p.length;q++){var t=p[q];if(l===t.id)return t.manipulator}return null};l.prototype._updateManipulatorAttachment=function(l){this._isManipulatorItemVisible(l)?this._attachManipulator(l):this._detachManipulator(l)};l.prototype._attachManipulator=function(l){l.attached||(l.manipulator.attach(this._resourceContexts),l.attached=!0)};l.prototype._detachManipulator=function(l){if(l.attached){var q=l.manipulator;q.grabbing=!1;q.dragging=!1;q.hovering=!1;q.selected=!1;q.detach(this._resourceContexts);
l.attached=!1}};l.prototype._isManipulatorItemVisible=function(l){return 2===l.visibilityPredicate?!0:this._isToolEditable?0===l.visibilityPredicate:1===l.visibilityPredicate};return l}();l.ManipulatorCollection=J})},"esri/views/3d/interactive/editingTools/graphicReshape3D/GraphicReshape3DTool":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ./isSupportedGraphic ./ReshapeOperation ./reshapeUtils ../../../../interactive/InteractiveToolBase".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function y(m){m=l.call(this,m)||this;m._handles=new F;m._reshapeOperation=null;m._internalGeometryUpdate=!1;m.type="reshape-3d";m._emitter.target=null;return m}L(y,l);y.prototype.destroy=function(){this._handles.removeAll();this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(y.prototype,"selectionManagementDisabled",
{get:function(){return!0},enumerable:!0,configurable:!0});y.prototype._updateGeometry=function(){0===D.isSupportedGraphic(this.graphic)&&A.isReshapeGeometry(this.graphic.geometry)?this._reshapeOperation.inputGeometry=this.graphic.geometry.clone():this._reshapeOperation.inputGeometry=null};y.prototype._updateGraphic=function(){var l=this;this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(0===D.isSupportedGraphic(this.graphic)){var m=this.watch("graphic.geometry",function(){!1===
l._internalGeometryUpdate&&l._updateGeometry()},!0);this._handles.add(m,"onGraphicGeometryChange")}};y.prototype.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};y.prototype._onReshapeGeometryChanged=function(){q.isNone(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)};y.prototype.initialize=function(){var l=this;this._reshapeOperation=
new m.ReshapeOperation({tool:this});this._handles.add([this._reshapeOperation.on("reshape",function(m){"reshape"===m.type&&l._onReshapeGeometryChanged();l.emit("reshape",m)}),this._reshapeOperation.on("move",function(m){"move"===m.type&&l._onReshapeGeometryChanged();l.emit("move",m)}),this._reshapeOperation.on("vertex-add",function(m){l._onReshapeGeometryChanged();l.emit("vertex-add",m)}),this._reshapeOperation.on("vertex-remove",function(m){l._onReshapeGeometryChanged();l.emit("vertex-remove",m)}),
this._reshapeOperation.on("immediate-click",function(){return l.emit("immediate-click")}),K.init(this,"graphic",function(){l._updateGraphic()},!0)])};y.prototype.handleInputEvent=function(l){"key-down"!==l.type||"Delete"!==l.key&&"Backspace"!==l.key||this._reshapeOperation.removeSelectedVertices()};y.prototype.reset=function(){};t([p.property({constructOnly:!0,nonNullable:!0})],y.prototype,"view",void 0);t([p.property({constructOnly:!0})],y.prototype,"graphic",void 0);t([p.property({constructOnly:!0,
nonNullable:!0,value:!0})],y.prototype,"enableZ",void 0);t([p.property({readOnly:!0})],y.prototype,"type",void 0);return y=t([p.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshape3DTool")],y)}(p.declared(G.EventedMixin(R.InteractiveToolBase)));l.GraphicReshape3DTool=J})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils".split(" "),
function(J,l,t,L,G,F){Object.defineProperty(l,"__esModule",{value:!0});l.isSupportedGraphic=function(l){if("graphics"!==l.layer.type)return 1;var q=l.geometry;if(L.isNone(q))return 2;var p=q.type;switch(p){case "polygon":if(q instanceof G)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return t.neverReached(p),3}return"on-the-ground"!==F.getGraphicEffectiveElevationMode(l)&&F.hasGraphicFeatureExpressionInfo(l)?4:0}})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A){return function(l){function y(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];m=l.apply(this,m)||this;m.center=null;m.geodesic=!1;m.numberOfPoints=60;m.radius=1E3;m.radiusUnit="meters";return m}L(y,l);C=y;y.prototype.normalizeCtorArgs=function(l,m){var p;if(l&&l.center)p=l;else{if(l&&l.rings)return this.inherited(arguments);p={center:l}}return t({},this.inherited(arguments,[]),p,m)};y.prototype.initialize=function(){var l=this.center,p=this.numberOfPoints;
this.hasZ=l&&l.hasZ;if(0===this.rings.length&&l){var q=F.convertUnit(this.radius,this.radiusUnit,"meters"),t=l.spatialReference,y="geographic";if(t.isWebMercator)y="webMercator";else if(null!=A[t.wkid]||t.wkt&&0===t.wkt.indexOf("PROJCS"))y="projected";if(this.geodesic){t=void 0;switch(y){case "webMercator":t=m.webMercatorToGeographic(l);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":t=
l}l=this._createGeodesicCircle(t,q,p);"webMercator"===y&&(l=m.geographicToWebMercator(l))}else t=void 0,"webMercator"===y||"projected"===y?t=q/this._convert2Meters(1,l.spatialReference):"geographic"===y&&(t=F.lengthToDegrees(q,"meters")),l=this._createPlanarCircle(l,t,p);this.spatialReference=l.spatialReference;this.addRing(l.rings[0])}};y.prototype.clone=function(){var l=this.numberOfPoints,m=this.radius,p=this.radiusUnit,q=this.geodesic;return new C({center:this.center.clone(),numberOfPoints:l,
radius:m,radiusUnit:p,geodesic:q})};y.prototype._createGeodesicCircle=function(l,m,q){for(var t=0,v=[];360>t;){var y=[0,0];D.directGeodeticSolver(y,[l.x,l.y],t,m);this.hasZ&&y.push(l.z);v.push(y);t+=360/q}v.push(v[0]);return new p(v)};y.prototype._createPlanarCircle=function(l,m,q){for(var t=0,v=[];t<2*Math.PI;){var y=[l.x+Math.cos(-t)*m,l.y+Math.sin(-t)*m];this.hasZ&&y.push(l.z);v.push(y);t+=Math.PI/(q/2)}v.push(v[0]);return new p({spatialReference:l.spatialReference,rings:[v]})};y.prototype._convert2Meters=
function(l,m){if(null!=A[m.wkid])m=A.values[A[m.wkid]];else{m=m.wkt;var p=m.lastIndexOf(",")+1,q=m.lastIndexOf("]]");m=parseFloat(m.substring(p,q))}return l*m};var C;G([q.property({type:K})],y.prototype,"center",void 0);G([q.property()],y.prototype,"geodesic",void 0);G([q.property()],y.prototype,"numberOfPoints",void 0);G([q.property()],y.prototype,"radius",void 0);G([q.property()],y.prototype,"radiusUnit",void 0);return y=C=G([q.subclass("esri.geometry.Circle")],y)}(q.declared(p))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils".split(" "),
function(J,l,t,L,G,F){function q(l){if(!l||!l.isGeographic)return null;if(l.wkid){var m=M[l.wkid];if(m)return m}if(l.wkt){l=H.exec(l.wkt);if(!l||2!==l.length)return null;m=l[1].split(",");if(!m||3!==m.length)return null;l=parseFloat(m[1]);m=parseFloat(m[2]);return isNaN(l)||isNaN(m)?null:{a:l,f:0===m?0:1/m}}return null}function K(l){l=q(l||C);if("b"in l&&"eSq"in l&&"radius"in l)return l;var m=l.a*(1-l.f);return t.assign(l,{b:m,eSq:1-Math.pow(m/l.a,2),radius:(2*l.a+m)/3})}function p(l,m,p){var q=K(p);
p=q.a;var q=q.eSq,t=Math.sqrt(q),h=Math.sin(m[1]*y);m=p*m[0]*y;p=0<q?p*(1-q)*(h/(1-q*h*h)-1/(2*t)*Math.log((1-t*h)/(1+t*h)))*.5:p*h;l[0]=m;l[1]=p;return l}function D(l){return null!==q(l)}function m(l,m){if("polyline"!==l.type&&"polygon"!==l.type)throw new G("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var p=l.spatialReference;if(!D(p))throw new G("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var q=
K(p).radius/1E4;m<q&&(m=q);for(var q=[],t=[0,0],h={distance:null},v=0,y="polyline"===l.type?l.paths:l.rings;v<y.length;v++){var C=y[v],E=[];q.push(E);E.push([C[0][0],C[0][1]]);for(var F=C[0][0],H=C[0][1],J=void 0,M=void 0,da=0;da<C.length-1;da++)if(J=C[da+1][0],M=C[da+1][1],F!==J||H!==M){var T=[F,H];R(h,[F,H],[J,M],p);F=h.azimuth;H=h.distance;J=H/m;if(1<J){for(M=1;M<=J-1;M++)A(t,T,F,M*m,p),E.push(t.slice(0));A(t,T,F,(H+Math.floor(J-1)*m)/2,p);E.push(t.slice(0))}A(t,T,F,H,p);E.push(t.slice(0));F=t[0];
H=t[1]}}return"polyline"===l.type?new L.Polyline({paths:q,spatialReference:p}):new L.Polygon({rings:q,spatialReference:p})}function A(l,m,p,q,t){var h=m[0]*y,v=m[1]*y;m=p*y;t=K(t);var B=t.a,A=t.b;t=t.f;p=Math.sin(m);m=Math.cos(m);for(var C=(1-t)*Math.tan(v),v=1/Math.sqrt(1+C*C),E=C*v,D=Math.atan2(C,m),C=v*p,F=C*C,G=1-F,B=G*(B*B-A*A)/(A*A),H=1+B/16384*(4096+B*(-768+B*(320-175*B))),Q=B/1024*(256+B*(-128+B*(74-47*B))),B=q/(A*H),L=2*Math.PI,J,d,u,f;1E-12<Math.abs(B-L);)u=Math.cos(2*D+B),J=Math.sin(B),
d=Math.cos(B),f=Q*J*(u+Q/4*(d*(-1+2*u*u)-Q/6*u*(-3+4*J*J)*(-3+4*u*u))),L=B,B=q/(A*H)+f;q=E*J-v*d*m;A=t/16*G*(4+t*(4-3*G));q=Math.atan2(E*d+v*J*m,(1-t)*Math.sqrt(F+q*q))/y;h=(h+(Math.atan2(J*p,v*d-E*J*m)-(1-A)*t*C*(B+A*J*(u+A*d*(-1+2*u*u)))))/y;l.splice(0,l.length);l.push(h,q);return l}function R(l,m,p,q){var t=m[0]*y;m=m[1]*y;var h=p[0]*y;p=p[1]*y;var v=K(q),A=v.a;q=v.b;var C=v.f,E=v.radius,D=h-t,F=Math.atan((1-C)*Math.tan(m)),G=Math.atan((1-C)*Math.tan(p)),v=Math.sin(F),F=Math.cos(F),H=Math.sin(G),
G=Math.cos(G),Q=1E3,J=D,L,O,d,u,f,b,a,c;do{u=Math.sin(J);f=Math.cos(J);d=Math.sqrt(G*u*G*u+(F*H-v*G*f)*(F*H-v*G*f));if(0===d)return{distance:0};f=v*H+F*G*f;b=Math.atan2(d,f);a=F*G*u/d;O=1-a*a;u=f-2*v*H/O;isNaN(u)&&(u=0);c=C/16*O*(4+C*(4-3*O));L=J;J=D+(1-c)*C*a*(b+c*d*(u+c*f*(-1+2*u*u)))}while(1E-12<Math.abs(J-L)&&0<--Q);if(0===Q)return l=h-t,{azimuth:Math.atan2(Math.sin(l)*Math.cos(p),Math.cos(m)*Math.sin(p)-Math.sin(m)*Math.cos(p)*Math.cos(l))/y,distance:Math.acos(Math.sin(m)*Math.sin(p)+Math.cos(m)*
Math.cos(p)*Math.cos(h-t))*E};t=O*(A*A-q*q)/(q*q);m=t/1024*(256+t*(-128+t*(74-47*t)));h=Math.atan2(F*Math.sin(J),F*H*Math.cos(J)-v*G);l.azimuth=Math.atan2(G*Math.sin(J),F*H-v*G*Math.cos(J))/y;l.distance=q*(1+t/16384*(4096+t*(-768+t*(320-175*t))))*(b-m*d*(u+m/4*(f*(-1+2*u*u)-m/6*u*(-3+4*d*d)*(-3+4*u*u))));l.reverseAzimuth=h/y;return l}Object.defineProperty(l,"__esModule",{value:!0});var y=Math.PI/180,C=L.SpatialReference.WGS84,H=/SPHEROID\[([^\]]+)]/i,M={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,
f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},
104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},
104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,
f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};l.isSupported=D;l.geodesicAreas=function(l,q){void 0===q&&(q="square-meters");if(l.some(function(h){return!D(h.spatialReference)}))throw new G("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var t=[],v=0;v<l.length;v++){var B=l[v],h=B.spatialReference,h=.0015696101447650193*K(h).radius;
t.push(m(B,h))}l=[];for(var v=[0,0],B=[0,0],x=0;x<t.length;x++){for(var h=t[x],y=h.rings,h=h.spatialReference,A=0,C=0;C<y.length;C++){var E=y[C];p(v,E[0],h);p(B,E[E.length-1],h);for(var H=B[0]*v[1]-v[0]*B[1],J=0;J<E.length-1;J++)p(v,E[J+1],h),p(B,E[J],h),H+=B[0]*v[1]-v[0]*B[1];A+=H}A=F.convertUnit(A,"square-meters",q);l.push(A/-2)}return l};l.geodesicLengths=function(l,m){void 0===m&&(m="meters");if(!l&&!l)throw new G("geodesic-lengths:invalid-geometries","the input geometries type is not supported");
if(l.some(function(h){return!D(h.spatialReference)}))throw new G("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var p=[],q=0;q<l.length;q++){for(var t=l[q],h=t.spatialReference,t="polyline"===t.type?t.paths:t.rings,v=0,y=0;y<t.length;y++){for(var A=t[y],C=0,E=1;E<A.length;E++){var H=A[E-1][0],J=A[E][0],K=A[E-1][1],L=A[E][1];if(K!==L||H!==J){var M={distance:null};R(M,[H,K],[J,L],h);C+=M.distance}}v+=C}v=F.convertUnit(v,"meters",m);p.push(v)}return p};
l.geodesicDensify=m;l.directGeodeticSolver=A;l.inverseGeodeticSolver=R;l.geodesicDistance=function(l,m,p){void 0===p&&(p="meters");if(!l||!m)throw new G("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!l.spatialReference||!m.spatialReference)throw new G("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!l.spatialReference.equals(m.spatialReference))throw new G("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");
var q=l.spatialReference;if(!D(q))throw new G("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(l.equals(m))return{distance:0,azimuth:0,reverseAzimuth:0};var t={distance:null};R(t,[l.x,l.y],[m.x,m.y],q);t.distance=F.convertUnit(t.distance,"meters",p);return t};l.pointFromDistance=function(l,m,p){if(!l||null==m||null==p)throw new G("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>p||360<p)throw new G("point-from-distance:-of-bounds",
"azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!l.spatialReference)throw new G("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");var q=l.spatialReference;if(!D(q))throw new G("geodesic-distance:not-supported","input geometry spatial reference is not supported");var t=[0,0];A(t,[l.x,l.y],p,m,q);return new L.Point({x:t[0],y:t[1],spatialReference:q})}})},"@dojo/framework/shim/object":function(){(function(J){"object"===
typeof module&&"object"===typeof module.exports?(J=J(require,exports),void 0!==J&&(module.exports=J)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],J)})(function(J,l){Object.defineProperty(l,"__esModule",{value:!0});var t=J("./global"),L=J("../has/has"),G=J("./Symbol");L.default("es6-object")?(J=t.default.Object,l.assign=J.assign,l.getOwnPropertyDescriptor=J.getOwnPropertyDescriptor,l.getOwnPropertyNames=J.getOwnPropertyNames,l.getOwnPropertySymbols=
J.getOwnPropertySymbols,l.is=J.is,l.keys=J.keys):(l.keys=function(l){return Object.keys(l).filter(function(l){return!l.match(/^@@.+/)})},l.assign=function(t){for(var q=[],F=1;F<arguments.length;F++)q[F-1]=arguments[F];if(null==t)throw new TypeError("Cannot convert undefined or null to object");var p=Object(t);q.forEach(function(q){q&&l.keys(q).forEach(function(l){p[l]=q[l]})});return p},l.getOwnPropertyDescriptor=function(l,q){G.isSymbol(q);return Object.getOwnPropertyDescriptor(l,q)},l.getOwnPropertyNames=
function(l){return Object.getOwnPropertyNames(l).filter(function(l){return!l.match(/^@@.+/)})},l.getOwnPropertySymbols=function(l){return Object.getOwnPropertyNames(l).filter(function(l){return!!l.match(/^@@.+/)}).map(function(l){return Symbol.for(l.substring(2))})},l.is=function(l,q){return l===q?0!==l||1/l===1/q:l!==l&&q!==q});L.default("es2017-object")?(J=t.default.Object,l.getOwnPropertyDescriptors=J.getOwnPropertyDescriptors,l.entries=J.entries,l.values=J.values):(l.getOwnPropertyDescriptors=
function(t){return l.getOwnPropertyNames(t).reduce(function(q,F){q[F]=l.getOwnPropertyDescriptor(t,F);return q},{})},l.entries=function(t){return l.keys(t).map(function(l){return[l,t[l]]})},l.values=function(t){return l.keys(t).map(function(l){return t[l]})})})},"esri/views/3d/interactive/editingTools/graphicReshape3D/ReshapeOperation":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/compilerUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../manipulatorDragUtils ../manipulatorUtils ../settings ../visualElementUtils ./reshapeUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N,U,Y,S,aa,Z){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function q(d){d=l.call(this,d)||this;d._vertexManipulatorMaterial=M.createManipulatorMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.vertex.color),O.settings.reshapeManipulators.vertex.renderOccludedFlag);d._vertexManipulatorOutlineMaterial=M.createManipulatorOutlineMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.vertex.outlineColor),
O.settings.reshapeManipulators.vertex.renderOccludedFlag);d._vertexManipulatorHoverOutlineMaterial=M.createManipulatorOutlineMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.vertex.hoverOutlineColor),O.settings.reshapeManipulators.vertex.renderOccludedFlag);d._edgeManipulatorMaterial=M.createManipulatorMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.edge.color),O.settings.reshapeManipulators.edge.renderOccludedFlag);d._edgeManipulatorOutlineMaterial=M.createManipulatorOutlineMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.edge.outlineColor),
O.settings.reshapeManipulators.edge.renderOccludedFlag);d._selectedManipulatorMaterial=M.createManipulatorMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.selected.color),O.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedManipulatorOutlineMaterial=M.createManipulatorOutlineMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.selected.outlineColor),O.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedManipulatorHoverOutlineMaterial=M.createManipulatorOutlineMaterial(O.settings.colorToVec4(O.settings.reshapeManipulators.selected.hoverOutlineColor),
O.settings.reshapeManipulators.selected.renderOccludedFlag);d._selectedIndex=0;d._vertexManipulatorGeometry=null;d._vertexManipulatorOutlineGeometry=null;d._edgeManipulatorGeometry=null;d._edgeManipulatorOutlineGeometry=null;d._handles=new K;d._manipulatorHandles=new K;d._manipulatorInfos=[];d._reshapeHelper=null;d._graphicMoveManipulation=null;d._moveManipulation=null;d._numGrabbing=0;d._numDragging=0;d._reshapeEventState=0;d._outlineVisualElement=null;d.tool=null;d.outputGeometry=null;d._vertexLaserLineVisualElement=
null;d._emitter.target=null;return d}L(q,l);q.prototype.initialize=function(){var d=this,h=new Y.GraphicState({graphic:this.graphic});this._graphicState=h;this._handles.add([h.watch("displaying",function(f){for(var b=0,a=d._manipulatorInfos;b<a.length;b++)a[b].manipulator.available=f}),O.settings.zManipulator.watch(O.settings.zManipulator.keys(),function(){return d._recreateManipulators()}),O.settings.reshapeManipulators.vertex.watch(["size","outlineSize","collisionPadding"],function(){d._vertexManipulatorGeometry=
null;d._vertexManipulatorOutlineGeometry=null;d._recreateManipulators()}),O.settings.reshapeManipulators.edge.watch(["size","outlineSize","collisionPadding"],function(){d._edgeManipulatorGeometry=null;d._edgeManipulatorOutlineGeometry=null;d._recreateManipulators()}),O.settings.reshapeManipulators.watch("hoverSize",function(){return d._recreateManipulators()}),O.settings.reshapeManipulators.vertex.bindColorMaterial("color",this._vertexManipulatorMaterial),O.settings.reshapeManipulators.vertex.bindColorMaterial("outlineColor",
this._vertexManipulatorOutlineMaterial),O.settings.reshapeManipulators.vertex.bindColorMaterial("hoverOutlineColor",this._vertexManipulatorHoverOutlineMaterial),O.settings.reshapeManipulators.edge.bindColorMaterial("color",this._edgeManipulatorMaterial),O.settings.reshapeManipulators.edge.bindColorMaterial("outlineColor",this._edgeManipulatorOutlineMaterial),O.settings.reshapeManipulators.selected.bindColorMaterial("color",this._selectedManipulatorMaterial),O.settings.reshapeManipulators.selected.bindColorMaterial("outlineColor",
this._selectedManipulatorOutlineMaterial),O.settings.reshapeManipulators.selected.bindColorMaterial("hoverOutlineColor",this._selectedManipulatorHoverOutlineMaterial),this.view.trackGraphicState(h)])};q.prototype.destroy=function(){this._clear();this._handles.destroy()};Object.defineProperty(q.prototype,"inputGeometry",{get:function(){return D.isSome(this._reshapeHelper)?this._reshapeHelper.geometry:null},set:function(d){this._recreateManipulators(d)},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,
"manipulators",{get:function(){return this.tool.manipulators},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"view",{get:function(){return this.tool.view},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"graphic",{get:function(){return this.tool.graphic},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"enableZ",{get:function(){return this.tool.enableZ},enumerable:!0,configurable:!0});q.prototype.removeSelectedVertices=function(){var d=this._manipulatorInfos.filter(function(d){return d.manipulator.selected&&
"vertex"===d.handle.type});this._removeVertices(d)};q.prototype.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};q.prototype._clear=function(){this._moveManipulation&&this._moveManipulation.destroy();this._graphicMoveManipulation&&this._graphicMoveManipulation.destroy();this._manipulatorHandles.removeAll();this.manipulators.removeAll();this._manipulatorInfos=[];this._reshapeHelper=this._moveManipulation=this._graphicMoveManipulation=null;this._numDragging=this._numGrabbing=
0};q.prototype._recreateManipulators=function(d){void 0===d&&(d=this.inputGeometry);this._clear();this._reshapeHelper=B.createReshapeHelper(d,"global"===this.view.viewingMode);if(!D.isNone(this._reshapeHelper)){d=C.getGraphicEffectiveElevationInfo(this.graphic);for(var h=0,f=this._reshapeHelper.components;h<f.length;h++){for(var b=f[h],a=0,c=b.vertices;a<c.length;a++)this._createPerVertexManipulator(c[a],d);a=0;for(b=b.edges;a<b.length;a++)this._createPerVertexManipulator(b[a],d)}this._createGraphicMoveManipulators(d)}};
q.prototype._perGraphicManipulatorDragAction=function(d,h){if("end"!==h.action){var f=[],b=this._manipulatorInfos.some(function(a){return"vertex"===a.handle.type&&a.manipulator.selected}),a=1===d&&b;d=D.expect(this._reshapeHelper);for(var c=0,e=this._manipulatorInfos;c<e.length;c++)b=e[c],"vertex"!==b.handle.type||b.manipulator.grabbing||a&&!b.manipulator.selected||(D.expect(d).addDelta(b.handle,h.mapDeltaX,h.mapDeltaY,h.mapDeltaZ),f.push(b.handle.pos),this._updateManipulatorPosition(b));if(0!==f.length){c=
a=0;for(e=this._manipulatorInfos;c<e.length;c++)b=e[c],"vertex"===b.handle.type&&a++;this.outputGeometry=d.commit();f.length===a?(this._updateEventState(1),this.destroyed||this.emit("move",{type:"move",dx:h.screenDeltaX,dy:h.screenDeltaY,mover:this.graphic})):(this._updateEventState(2),this.destroyed||this.emit("reshape",{type:"reshape",mover:this.graphic}))}}};q.prototype._perVertexManipulatorDragAction=function(d,h){this._updateEventState(2);if(!this.destroyed){var f=h.mapDeltaX,b=h.mapDeltaY,a=
h.mapDeltaZ;if(f||b||a){h=[];for(var c=0,e=this._manipulatorInfos;c<e.length;c++){var g=e[c];"vertex"===g.handle.type&&(g.manipulator.selected&&!g.manipulator.grabbing||g===d)&&h.push(g)}c=D.expect(this._reshapeHelper);for(e=0;e<h.length;e++)d=h[e],c.addDelta(d.handle,f,b,a);this.outputGeometry=c.commit();for(f=0;f<h.length;f++)d=h[f],this._updateManipulatorPosition(d);this.emit("reshape",{type:"reshape",mover:this.graphic})}}};q.prototype._updateEventState=function(d){if(d===this._reshapeEventState)return!1;
switch(d){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,
dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;var h=this._reshapeEventState!==d;this._reshapeEventState=d;return h};q.prototype._createGraphicMoveManipulators=function(d){var h=this;this._graphicMoveManipulation=new N.MoveXYGraphicManipulation({tool:this.tool,
view:this.view,graphicState:this._graphicState});this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(function(b,a,c){a.next(function(a){return h._trackNumDragging(a)}).next(function(a){h._perGraphicManipulatorDragAction(0,a)});c.next(h._cancelDragOperation())}));this._graphicMoveManipulation.forEachManipulator(function(b){return h._manipulatorHandles.add([h._watchAndUpdateGrabState(b,!1),b.events.on("immediate-click",function(a){h._manipulatorInfos.some(function(a){return a.manipulator.selected})?
h._clearSelection():h.emit("immediate-click");a.stopPropagation()})])});this._moveManipulation=new x.MoveManipulation({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&E.canMoveZ(this.graphic),snapToScene:!1,radius:x.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this._moveManipulation.forEachManipulator(function(b){h._handles.add([h._watchAndUpdateGrabState(b,!1),b.events.on("immediate-click",function(a){h._moveManipulation.zManipulation.hasManipulator(b)||
h._manipulatorInfos.some(function(a){return a.manipulator.selected})||h.emit("immediate-click");a.stopPropagation()})])});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var f=D.expect(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(function(b,a,c){a.next(function(a){return h._trackNumDragging(a)}).next(v.addMapDelta()).next(function(a){h._perGraphicManipulatorDragAction(1,a)});c.next(h._cancelDragOperation())},d,f),m.init(this._graphicState,
"displaying",function(b){h._moveManipulation.xyManipulation.available=b;h._moveManipulation.xyAxisManipulation.available=!0;h._moveManipulation.zManipulation.available=b&&h.enableZ&&E.canMoveZ(h.graphic);h._updateMoveManipulationPosition()}),this._graphicState.on("changed",function(){return h._updateMoveManipulationPosition()})]);this._updateMoveManipulationPosition();d=Q.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:function(b){if(!h.destroyed){h._graphicMoveManipulation.forEachManipulator(b);
for(var a=0,c=h._manipulatorInfos;a<c.length;a++)b(c[a].manipulator,1);h._moveManipulation.forEachManipulator(b)}},onManipulatorsChanged:function(b){return h.on("manipulators-changed",b)}});this._outlineVisualElement=d.visualElement instanceof U.OutlineVisualElement?d.visualElement:null;D.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",function(){h._graphicState.isDraped||h._updateMoveManipulationPosition()}),this._graphicState.watch("isDraped",
function(){return h._updateMoveManipulationPosition()})]);this._manipulatorHandles.add(d)};q.prototype._createPerVertexManipulator=function(d,h){var f=this;void 0===h&&(h=C.getGraphicEffectiveElevationInfo(this.graphic));if(D.isNone(this._vertexManipulatorGeometry)||D.isNone(this._vertexManipulatorOutlineGeometry)){var b=O.settings.reshapeManipulators.vertex,a=b.size/2,c=a+b.collisionPadding;this._vertexManipulatorGeometry=new aa(Z.createSphereGeometry(a/c,16,16),"reshape-manipulator");a=(a+b.outlineSize)/
c;this._vertexManipulatorOutlineGeometry=new aa(Z.createSphereGeometry(a,16,16),"reshape-manipulator-outline")}if(D.isNone(this._edgeManipulatorGeometry)||D.isNone(this._edgeManipulatorOutlineGeometry))b=O.settings.reshapeManipulators.edge,a=b.size/2,c=a+b.collisionPadding,this._edgeManipulatorGeometry=new aa(Z.createSphereGeometry(a/c,16,16),"reshape-manipulator"),a=(a+b.outlineSize)/c,this._edgeManipulatorOutlineGeometry=new aa(Z.createSphereGeometry(a,16,16),"reshape-manipulator-outline");h=new H.Manipulator3D({view:this.view,
renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:T.Vertex|4},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:T.Vertex|5},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:T.Vertex|6},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:T.Edge|6},{geometry:this._vertexManipulatorOutlineGeometry,
material:this._vertexManipulatorHoverOutlineMaterial,stateMask:T.Edge|6},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:T.Edge|5},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:T.Edge|5},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,
material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:h,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(h,d);var e="edge"===d.type?{manipulator:h,handle:d,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:h,handle:d,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(e);this.manipulators.add(h);this._updateManipulatorPosition(e);"edge"===e.type&&(d=
this._getManipulatorInfoFromHandle(e.handle.v0).manipulator.events.on("location-update",function(){return f._updateManipulatorPosition(e)}),a=this._getManipulatorInfoFromHandle(e.handle.v1).manipulator.events.on("location-update",function(){return f._updateManipulatorPosition(e)}),e.locationUpdateHandle=p.handlesGroup([d,a]),this._manipulatorHandles.add(e.locationUpdateHandle,h));this._manipulatorHandles.add(this._watchAndUpdateGrabState(h,!0),h);d=v.createManipulatorDragEventPipeline(h,function(a,
b,c){b.next(function(a){return f._trackNumDragging(a)}).next(function(a){"edge"===e.handle.type&&f._splitEdgeManipulator(e);return a}).next(v.screenToMapXYForGraphicAtLocation(f.view,f.graphic,a.elevationAlignedLocation,a.location.spatialReference)).next(v.addMapDelta()).next(function(a){"vertex"===e.type?f._perVertexManipulatorDragAction(e,a):console.error("drag operation on non-vertex manipulator not allowed")});c.next(f._cancelDragOperation())});this._manipulatorHandles.add(d,h);this._manipulatorHandles.add([h.events.on("immediate-click",
function(a){return f._manipulatorClickCallback(a,e)}),h.events.on("select-changed",function(){e.selectedIndex=++f._selectedIndex;f._updateMoveManipulationPosition()})]);this.emit("manipulators-changed");return h};q.prototype._trackNumDragging=function(d){switch(d.action){case "start":this._numDragging++;break;case "end":this._numDragging--}return d};q.prototype._cancelDragOperation=function(){var d=this,h=D.isSome(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return function(){d._numDragging--;
d.inputGeometry=h;d.outputGeometry=h;switch(d._reshapeEventState){case 1:d.emit("move",{type:"move",dx:0,dy:0,mover:d.graphic});break;case 2:d.emit("reshape",{type:"reshape",mover:d.graphic})}d.destroyed||d._updateEventState(0)}};q.prototype._setTypeSpecificManipulatorSettings=function(d,h){switch(h.type){case "vertex":d.state=T.Vertex;d.selectable=!0;d.cursor="move";d.collisionPriority=2;d.radius=O.settings.reshapeManipulators.vertex.size/2+O.settings.reshapeManipulators.vertex.collisionPadding;
break;case "edge":d.state=T.Edge;d.selectable=!1;d.cursor="copy";d.collisionPriority=-1;d.radius=O.settings.reshapeManipulators.edge.size/2+O.settings.reshapeManipulators.edge.collisionPadding;break;default:F.neverReached(h)}};q.prototype._watchAndUpdateGrabState=function(d,h){var f=this;return d.events.on("grab-changed",function(b){if("start"===b.action)h&&f._updateSelection(d),f._numGrabbing++;else if(f._numGrabbing--,f._updateEventState(0),f.destroyed)return;f._moveManipulation.interactive=!f._numGrabbing})};
q.prototype._clearSelection=function(){for(var d=0,h=this._manipulatorInfos;d<h.length;d++){var f=h[d];f.manipulator.grabbing||(f.manipulator.selected=!1)}};q.prototype._updateSelection=function(d){d.grabbing&&!d.selected&&d.selectable&&(this._clearSelection(),d.selected=!0,this.emit("manipulators-changed"))};q.prototype._removeManipulator=function(d){d&&(this._manipulatorHandles.remove(d.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(d),1),this.manipulators.remove(d.manipulator),
this.emit("manipulators-changed"))};q.prototype._getManipulatorInfoFromHandle=function(d){if(d)for(var h=0,f=this._manipulatorInfos;h<f.length;h++){var b=f[h];if(d===b.handle)return b}return null};q.prototype._updateManipulatorPosition=function(d){if(d){var h=D.expect(this._reshapeHelper);if("vertex"===d.handle.type)d.manipulator.location=h.getVertexPositionAsPoint(d.handle,da),d.manipulator.grabbing&&D.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=
d.manipulator.renderLocation);else if("edge"===d.handle.type){var f=this._getManipulatorInfoFromHandle(d.handle.v0).manipulator.elevationAlignedLocation,b=this._getManipulatorInfoFromHandle(d.handle.v1).manipulator.elevationAlignedLocation;d.manipulator.elevationAlignedLocation=y.makeDehydratedPoint(f.x+.5*(b.x-f.x),f.y+.5*(b.y-f.y),f.hasZ&&b.hasZ?f.z+.5*(b.z-f.z):void 0,h.geometry.spatialReference)}}};q.prototype._splitEdgeManipulator=function(d){var h=D.expect(this._reshapeHelper),f=h.splitEdge(d.handle,
.5);d.locationUpdateHandle.remove();d.locationUpdateHandle=void 0;d.handle=f;d.type="vertex";this._setTypeSpecificManipulatorSettings(d.manipulator,d.handle);f.left&&this._createPerVertexManipulator(f.left);f.right&&this._createPerVertexManipulator(f.right);this.outputGeometry=h.commit();this._updateManipulatorPosition(d);this._updateSelection(d.manipulator);d=h.coordinateHelper.toArray(d.handle.unnormalizedPos);this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:d,componentIndex:D.expect(f.component.index),
vertexIndex:D.expect(f.index)}],added:d})};q.prototype._updateMoveManipulationPosition=function(){var d=this,l=S.sv3d.get();R.vec3.set(l,0,0,0);for(var f=0,b=!1,a=null,c=null,e=0,g=this._manipulatorInfos;e<g.length;e++){var k=g[e];if("vertex"===k.handle.type)if(k.manipulator.selected)if(f++,R.vec3.add(l,l,k.manipulator.renderLocation),D.isNone(a)||k.selectedIndex>a.selectedIndex)c=a,a=k;else{if(D.isNone(c)||k.selectedIndex>c.selectedIndex)c=k}else b=!0}this._moveManipulation.xyAxisManipulation.orthogonalAvailable=
!0;this._moveManipulation.xyAxisManipulation.available=!0;0!==f?(e=0,D.isSome(a)&&(g=a.handle.unnormalizedPos,k=D.isSome(c)?c.handle.unnormalizedPos:a.handle.left&&a.handle.left.v0?a.handle.left.v0.unnormalizedPos:null,a=!D.isSome(c)&&a.handle.right&&a.handle.right.v1?a.handle.right.v1.unnormalizedPos:null,k&&a?this._moveManipulation.xyAxisManipulation.available=!1:k?e=Math.atan2(g[1]-k[1],g[0]-k[0])+Math.PI/2:a&&(e=Math.atan2(a[1]-g[1],a[0]-g[0])+Math.PI/2)),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=
1!==f,this._moveManipulation.angle=e,this._moveManipulation.radius=h.DISC_RADIUS_SMALL):(this._moveManipulation.angleDeferred=function(){return V.primaryShapeOrientation(D.expect(d.graphic.geometry))},this._moveManipulation.radius=x.MoveManipulation.radiusForSymbol(this.graphic.symbol));0!==f&&b?(R.vec3.scale(l,l,1/f),da.spatialReference=D.expect(this._reshapeHelper).geometry.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(l,da),this._moveManipulation.elevationAlignedLocation=da):D.isSome(this._outlineVisualElement)&&
!this._graphicState.isDraped&&D.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:M.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};q.prototype._removeVertices=function(d){for(var h=[],f=D.expect(this._reshapeHelper),b=0;b<d.length;b++){var a=d[b];"vertex"===a.handle.type&&f.canRemoveVertex(a.handle)&&(h.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),
this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right)),(a=f.removeVertex(a.handle))&&this._createPerVertexManipulator(a))}if(0<h.length&&(d=h.map(function(a){return{coordinates:f.coordinateHelper.toArray(a.unnormalizedPos),componentIndex:D.expect(a.component.index),vertexIndex:D.expect(a.index)}}),this.outputGeometry=f.commit(),h=this._updateEventState(2),!this.destroyed&&(this.emit("vertex-remove",{type:"vertex-remove",removed:d.map(function(a){return a.coordinates}),vertices:d}),
!this.destroyed))){if(h&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}};q.prototype._manipulatorClickCallback=function(d,h){d.shiftKey||this._clearSelection();"vertex"===h.handle.type&&(h.manipulator.selected=!h.manipulator.selected);"vertex"===h.handle.type&&2===d.button&&this._removeVertices([h]);"edge"===h.handle.type&&0===d.button&&this._splitEdgeManipulator(h);d.stopPropagation()};t([A.property({constructOnly:!0})],q.prototype,"tool",void 0);t([A.property()],
q.prototype,"inputGeometry",null);t([A.property()],q.prototype,"outputGeometry",void 0);return q=t([A.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation")],q)}(A.declared(q.EventedAccessor));l.ReshapeOperation=J;var da=y.makeDehydratedPoint(0,0,null,null),T;(function(h){h.Vertex=16;h.Edge=32})(T||(T={}))})},"esri/views/3d/interactive/editingTools/graphicReshape3D/reshapeUtils":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/arrayUtils ../../../../../core/maybe ../../../../../core/libs/gl-matrix-2/vec2 ../../../../../core/libs/gl-matrix-2/vec2f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../core/libs/gl-matrix-2/vec4 ../../../../../core/libs/gl-matrix-2/vec4f64 ../../../../../geometry/support/coordsUtils ../../../../../geometry/support/spatialReferenceUtils".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y){Object.defineProperty(l,"__esModule",{value:!0});var C=function(){function l(){this.vertices=[];this.edges=[];this.index=null}l.prototype.makeVertex=function(l,h,m){void 0===h&&(h=null);void 0===m&&(m=null);l={pos:l,unnormalizedPos:l,left:h,right:m,type:"vertex",component:this,index:null};this.vertices.push(l);return l};l.prototype.makeEdge=function(l,h){var m={v0:l,v1:h,type:"edge",component:this};l.right=m;h.left=m;this.edges.push(m);return m};l.prototype.removeVertex=
function(l){this.vertices.splice(this.vertices.indexOf(l),1);l.left&&this.removeEdge(l.left);l.right&&this.removeEdge(l.right)};l.prototype.removeEdge=function(l){this.edges.splice(this.edges.indexOf(l),1);l.v0.right=null;l.v1.left=null};return l}();l.Component=C;var H=function(){function l(){}l.prototype.createNew=function(){return K.vec2f64.create()};l.prototype.fromArray=function(l){return K.vec2f64.fromValues(l[0],l[1])};l.prototype.toArray=function(l){return[l[0],l[1]]};l.prototype.toPoint=function(l,
h){h.x=l[0];h.y=l[1];h.hasZ=!1;h.hasM=!1;return h};l.prototype.lerp=function(l,h,m,p){return q.vec2.lerp(p,l,h,m)};l.prototype.addDelta=function(l,h,m){l[0]+=h;l[1]+=m};return l}();l.CoordinateHelper2D=H;var M=function(){function l(l){this.ztype=l}l.prototype.createNew=function(){return D.vec3f64.create()};l.prototype.fromArray=function(l){return D.vec3f64.fromValues(l[0],l[1],l[2]||0)};l.prototype.toArray=function(l){return[l[0],l[1],l[2]]};l.prototype.toPoint=function(l,h){h.x=l[0];h.y=l[1];0===
this.ztype?(h.z=l[2],h.hasZ=!0,h.hasM=!1):(h.m=l[2],h.hasZ=!1,h.hasM=!0);return h};l.prototype.lerp=function(l,h,m,q){return p.vec3.lerp(q,l,h,m)};l.prototype.addDelta=function(l,h,m,p){l[0]+=h;l[1]+=m;0===this.ztype&&(l[2]+=p)};return l}();l.CoordinateHelper3D=M;var v=function(){function l(){}l.prototype.createNew=function(){return A.vec4f64.create()};l.prototype.fromArray=function(l){return A.vec4f64.fromValues(l[0],l[1],l[2]||0,l[3]||0)};l.prototype.toArray=function(l){return[l[0],l[1],l[2],l[3]]};
l.prototype.toPoint=function(l,h){h.x=l[0];h.y=l[1];h.z=l[2];h.m=l[3];h.hasZ=!0;h.hasM=!0;return h};l.prototype.lerp=function(l,h,p,q){return m.vec4.lerp(q,l,h,p)};l.prototype.addDelta=function(l,h,m,p){l[0]+=h;l[1]+=m;l[2]+=p};return l}();l.CoordinateHelper4D=v;J=function(){function l(l,h,m){this.geometry=l;this.doUnnormalization=h;this.coordinateHelper=m;this.components=[];l=y.getInfo(this.geometry.spatialReference);this._tmpMapPoint=m.createNew();l?(this._spanMin=l.valid[0],this._spanMax=l.valid[1],
this._span=this._spanMax-this._spanMin):this.doUnnormalization=!1}l.prototype.addDelta=function(l,h,m,p){this.coordinateHelper.addDelta(l.pos,h,m,p)};l.prototype.getVertexPositionAsPoint=function(l,h){this.coordinateHelper.toPoint(l.pos,h);h.spatialReference=this.geometry.spatialReference;return h};l.prototype.getEdgePosition=function(l,h,m){void 0===m&&(m=this.coordinateHelper.createNew());return this.coordinateHelper.lerp(l.v0.unnormalizedPos,l.v1.unnormalizedPos,h,m)};l.prototype.getEdgePositionAsPoint=
function(l,h,m){l=this.getEdgePosition(l,h,this._tmpMapPoint);this.coordinateHelper.toPoint(l,m);m.spatialReference=this.geometry.spatialReference;return m};l.prototype.canRemoveVertex=function(l){return!0};l.prototype.removeVertex=function(l){var h=l.component,m=l.left,p=l.right;h.removeVertex(l);return m&&p?h.makeEdge(m.v0,p.v1):null};l.prototype.splitEdge=function(l,h){var m=l.component;h=m.makeVertex(this.getEdgePosition(l,h));var p=l.v0,q=l.v1;m.removeEdge(l);m.makeEdge(p,h);m.makeEdge(h,q);
return h};return l}();l.ReshapeHelper=J;var E=function(l){function m(h,m,p){m=l.call(this,h,m,p)||this;m.geometry=h;h=m.geometry.rings;for(var q=0;q<h.length;++q){for(var t=h[q],v=new C,x=t.length-1,y=0;y<x;++y){var A=p.fromArray(t[y]);v.makeVertex(A).index=y}t=v.vertices.length-1;for(x=0;x<t;++x)v.makeEdge(v.vertices[x],v.vertices[x+1]);v.makeEdge(v.vertices[v.vertices.length-1],v.vertices[0]);m.doUnnormalization&&R.computeUnnormalizedVertexPositionsOnDateLineCrossing(v.vertices,m._spanMin,m._spanMax,
m._span);v.index=q;m.components.push(v)}return m}L(m,l);m.prototype.canRemoveVertex=function(h){return 3<h.component.vertices.length};m.prototype.commit=function(){var h=this,l=[],m=this.coordinateHelper.toArray;this.components.forEach(function(p,q){p.index=q;q=[];h.doUnnormalization&&R.computeUnnormalizedVertexPositionsOnDateLineCrossing(p.vertices,h._spanMin,h._spanMax,h._span);var t=p=p.vertices[0],v=t,x=0;do t.index=x++,q.push(m(t.unnormalizedPos)),t=t.right.v1;while(t&&t!==v);q.push(m(p.unnormalizedPos));
l.push(q)});this.geometry.rings=l;return this.geometry};return m}(J),O=function(l){function m(h,m,p){m=l.call(this,h,m,p)||this;m.geometry=h;h=m.geometry.paths;for(var q=0;q<h.length;++q){for(var t=h[q],v=new C,x=t.length,y=0;y<x;++y){var A=p.fromArray(t[y]);v.makeVertex(A).index=y}t=v.vertices.length-1;for(x=0;x<t;++x)v.makeEdge(v.vertices[x],v.vertices[x+1]);m.doUnnormalization&&R.computeUnnormalizedVertexPositionsOnDateLineCrossing(v.vertices,m._spanMin,m._spanMax,m._span);v.index=q;m.components.push(v)}return m}
L(m,l);m.prototype.canRemoveVertex=function(h){return 2<h.component.vertices.length};m.prototype.commit=function(){var h=this,l=[],m=this.coordinateHelper.toArray;this.components.forEach(function(p,q){p.index=q;q=[];h.doUnnormalization&&R.computeUnnormalizedVertexPositionsOnDateLineCrossing(p.vertices,h._spanMin,h._spanMax,h._span);var t=p=G.find(p.vertices,function(h){return null==h.left}),v=0;do p.index=v++,q.push(m(p.unnormalizedPos)),p=p.right?p.right.v1:null;while(p&&p!==t);l.push(q)});this.geometry.paths=
l;return this.geometry};return m}(J);l.isReshapeGeometry=function(l){return F.isSome(l)&&("polygon"===l.type||"polyline"===l.type)};l.createReshapeHelper=function(l,m){if(F.isNone(l))return null;var h;h=l.hasZ&&l.hasM?new v:l.hasM?new M(1):l.hasZ?new M(0):new H;return"polygon"===l.type?new E(l,m,h):new O(l,m,h)}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/GraphicTransform3DTool":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../manipulatorUtils ../visualElementUtils ./GraphicScaleRotateTransform ../manipulations/config ../manipulations/MoveManipulation ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q){Object.defineProperty(l,"__esModule",{value:!0});J=function(l){function h(h){h=l.call(this,h)||this;h.enableZ=!0;h.enableRotation=!0;h.enableScaling=!0;h.type="transform-3d";h.handles=new K;h.scaleRotate=null;return h}L(h,l);h.prototype.initialize=function(){var h=this;this.graphicState=new O.GraphicState({graphic:this.graphic});this.moveManipulation=new E.MoveManipulation({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,
zAvailable:this.enableZ&&C.canMoveZ(this.graphic),radius:E.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this.moveManipulation.forEachManipulator(function(l){return h.handles.add(l.events.on("immediate-click",function(h){return h.stopPropagation()}))});this.moveManipulation.elevationInfo=R.getGraphicEffectiveElevationInfo(this.graphic);this.moveManipulation.createGraphicDragPipeline(this.graphicState,function(l){var m={graphic:l.graphic,dxScreen:l.dxScreen,dyScreen:l.dyScreen};switch(l.action){case "start":h.emit("graphic-translate-start",
m);break;case "update":h.emit("graphic-translate",m);break;case "end":h.emit("graphic-translate-stop",m)}});this.moveManipulation.angle=this.symbolRotationAngle;if(this.enableScaling||this.enableRotation)this.scaleRotate=new M.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate"}),this.handles.add(this.scaleRotate.events.on("scale-changed",function(){return h.onScaleChanged()}));this.handles.add([H.createVisualElements({view:this.view,
graphic:this.graphic,forEachManipulator:function(l){return h.forEachManipulator(l)},onManipulatorsChanged:function(){return p.makeHandle()}}),this.graphic.watch("symbol",function(){return h.updateMoveAngle()}),this.graphicState.on("changed",function(){return h.onGeometryChanged()}),this.hideManipulatorsForGraphicState(),this.view.watch("scale",function(){return h.updateMoveAngle()})]);this.handles.add(this.view.trackGraphicState(this.graphicState));this.onGeometryChanged()};h.prototype.forEachManipulator=
function(h){this.moveManipulation.forEachManipulator(h);D.isSome(this.scaleRotate)&&this.scaleRotate.forEachManipulator(h)};h.prototype.hideManipulatorsForGraphicState=function(){var h=this;return this.graphicState.watch("displaying",function(l){h.forEachManipulator(function(h){return h.available=l});h.moveManipulation.zManipulation.available=l&&h.enableZ&&C.canMoveZ(h.graphic)})};h.prototype.destroy=function(){this.handles.destroy();this.moveManipulation.destroy();D.isSome(this.scaleRotate)&&(this.scaleRotate.destroy(),
this.scaleRotate=null);this._set("view",null);this._set("graphic",null)};Object.defineProperty(h.prototype,"snapToScene",{set:function(h){this.moveManipulation&&(this.moveManipulation.snapToScene=h);this._set("snapToScene",h)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"symbolRotationAngle",{get:function(){var h=this.graphic.symbol;return h?(h=h.symbolLayers.find(function(h){return"object"===h.type}),A.toRadian(-(h&&h.heading||0))):0},enumerable:!0,configurable:!0});h.prototype.reset=
function(){};h.prototype.onDetach=function(){D.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};h.prototype.onHide=function(){D.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};h.prototype.onScaleChanged=function(){if(!D.isNone(this.scaleRotate)){var h=this.scaleRotate.getScale();this.moveManipulation.displayScale=h}};h.prototype.updateMoveAngle=function(){this.moveManipulation.angle="local"===this.view.viewingMode||this.view.scale<v.ALIGN_ARROWS_SCALE_THRESHOLD?
this.symbolRotationAngle:0};h.prototype.onGeometryChanged=function(){y.placeAtGraphic(this.view,this.moveManipulation,this.graphic)};Object.defineProperty(h.prototype,"test",{get:function(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:D.isSome(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}},enumerable:!0,configurable:!0});t([m.property({constructOnly:!0,
nonNullable:!0})],h.prototype,"view",void 0);t([m.property({constructOnly:!0,nonNullable:!0})],h.prototype,"graphic",void 0);t([m.property({constructOnly:!0,nonNullable:!0})],h.prototype,"enableZ",void 0);t([m.property()],h.prototype,"enableRotation",void 0);t([m.property()],h.prototype,"enableScaling",void 0);t([m.property({value:!1})],h.prototype,"snapToScene",null);t([m.property({readOnly:!0})],h.prototype,"type",void 0);return h=t([m.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransform3DTool")],
h)}(m.declared(q.EventedMixin(Q.InteractiveToolBase)));l.GraphicTransform3DTool=J})},"esri/views/3d/interactive/editingTools/graphicTransform3D/GraphicScaleRotateTransform":function(){define("require exports ../../../../../core/tsSupport/decorateHelper ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/tsSupport/awaiterHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/scheduling ../../../../../core/screenUtils ../../../../../core/watchUtils ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../core/libs/gl-matrix-2/math/common ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../manipulatorDragUtils ../manipulations/config ../../../support/geometryUtils ../../../support/mathUtils ../../../support/stack ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial".split(" "),
function(J,l,t,L,G,F,q,K,p,D,m,A,R,y,C,H,M,v,E,O,Q,B,h,x,V,N,U,Y,S,aa){function Z(a,b){var c=M.vec3.subtract(U.sv3d.get(),b.renderStart,a.origin);a=M.vec3.subtract(U.sv3d.get(),b.renderEnd,a.origin);c=M.vec3.length(c);a=M.vec3.length(a);return 0===c?0:a/c}function da(a,b){var c=a.allLayerViews.find(function(a){return a.layer===b.layer});if(m.isNone(b.symbol))return null;var d=b.symbol;return{symbolLayers:d.symbolLayers.map(function(a){var b=null,e=null;"object"===a.type&&(b=a.heading);e=c.getSymbolLayerSize(d,
a);return{heading:b,size:e}}).toArray()}}function T(a,b,d,f){var c=a.renderStart;a=a.renderEnd;var e=ea(c,f,U.sv3d.get());a=ea(a,f,U.sv3d.get());if(M.vec3.squaredDistance(e,a)<x.DRAG_THRESHOLD_PX*x.DRAG_THRESHOLD_PX)return null;var g=M.vec3.subtract(U.sv3d.get(),c,d);b=M.vec3.cross(U.sv3d.get(),g,b);c=M.vec3.add(U.sv3d.get(),c,b);d=ea(d,f,U.sv3d.get());f=ea(c,f,U.sv3d.get());c=M.vec3.subtract(U.sv3d.get(),f,e);f=M.vec3.subtract(U.sv3d.get(),e,d);e=V.ray.wrap(e,c);f=V.ray.wrap(d,f);return V.ray.distance2(e,
a)<V.ray.distance2(f,a)?"rotate":"scale"}function ea(a,c,d){a=c.projectPoint(a,R.castRenderScreenPointArray(f));c=c.renderToScreen(a,b);return M.vec3.set(d,c[0],c[1],0)}function ca(a,b){var c=null,d=1,f=function(){return d};return{start:function(){d=a.getScale();c=a.getScale;a.getScale=f;b()},update:function(a){d+=((d+1)/2-d)*Math.min(a*x.RING_RESET_ANIMATION_SPEED_FACTOR,1);b();return.01>Math.abs(d-1)?1:0},destroy:function(){a.getScale=c;b()}}}function d(a,b){var c=0,d=null,f=function(){return!1};
return{start:function(){d=a.getFocused;a.getFocused=f;c=0;b()},update:function(a){c+=a;return!d()||c>x.RING_INDICATOR_DELAY_MS?1:0},destroy:function(){a.getFocused=d;b()}}}Object.defineProperty(l,"__esModule",{value:!0});var u;(function(a){a.ScaleIn=32;a.ScaleOut=64;a.RotateLeft=128;a.RotateRight=256;a.Unlocked=1024;a.DelayedFocused=2048;a.TouchInput=32768})(u||(u={}));J=function(){function a(a){var b=this;this.mode=null;this._handles=new p;this._activeAnimation=this._scaleRotateDragData=null;this.events=
new K;this.getFocused=function(){return b.ringManipulator.focused};this.getScale=function(){return m.isSome(b._scaleRotateDragData)&&"scale"===b._scaleRotateDragData.mode?b._scaleRotateDragData.scale:1};this.tool=a.tool;this.mode=a.mode;this.createManipulator();this.updateDragState();this.updateManipulatorTransform()}a.prototype.destroy=function(){m.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null);this._handles.removeAll();this.tool.manipulators.remove(this.ringManipulator);
this.ringManipulator=null};a.prototype.startAnimation=function(a){var b=this;this.cancelActiveAnimation();a.start();var c=A.addFrameTask({update:function(c){a.update(c.deltaTime)&&b.cancelActiveAnimation()}});this._activeAnimation=q({},a,{frameTask:c})};a.prototype.cancelActiveAnimation=function(){m.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)};a.prototype.forEachManipulator=function(a){a(this.ringManipulator,
2)};a.prototype.createManipulator=function(){var a=this;this.ringManipulator=this.createRingManipulator();this.tool.manipulators.add(this.ringManipulator);var b=this.tool.graphicState.graphic,f=h.createManipulatorDragEventPipeline(this.ringManipulator,function(c,d,e){a._scaleRotateDragData=null;var f=da(a.tool.view,b);if(m.isNone(f))return a.updateDragState(),null;var g={mode:"none",origin:v.vec3f64.clone(c.renderLocation),angle:0,startAngle:a.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,
startSymbolData:f};a._scaleRotateDragData=g;a.updateDragState();f=U.sv3d.get();a.tool.view.renderCoordsHelper.worldUpAtPosition(c.renderLocation,f);d.next(h.screenToRenderPlane(a.tool.view,V.plane.fromPositionAndNormal(c.renderLocation,f))).next(function(c){var d=B.calculateInputRotationTransform(c.renderStart,c.renderEnd,g.origin,c.plane),e=N.cyclicalPI.shortestSignedDiff(g.angle,d);g.angleDir=D.clamp(g.angleDir+e,-x.ROTATE_INDICATOR_DIRECTION_BUFFER,x.ROTATE_INDICATOR_DIRECTION_BUFFER);g.angle=
d;d=Z(g,c);g.scaleDir=D.clamp(g.scaleDir+(d-g.scale),-x.SCALE_INDICATOR_DIRECTION_BUFFER,x.SCALE_INDICATOR_DIRECTION_BUFFER);g.scale=d;a.onScaleChanged();if("none"===g.mode&&(d=a.mode||T(c,c.plane,g.origin,a.tool.view.state.camera),m.isSome(d))){switch(d){case "rotate":a.tool.emit("graphic-rotate-start",{graphic:b,angle:g.angle});break;case "scale":a.tool.emit("graphic-scale-start",{graphic:b,scale:g.scale})}g.mode=d}a.updateDragState();if(m.isSome(b.symbol)){var d=b.symbol.clone(),e=0,f=1;switch(g.mode){default:case "none":break;
case "scale":f=g.scale;break;case "rotate":e=g.angle}a.applySymbolData(d,g.startSymbolData,e,f);b.symbol=d;a.updateManipulatorTransform()}switch(c.action){case "start":case "update":switch(g.mode){case "rotate":a.tool.emit("graphic-rotate",{graphic:b,angle:g.angle});break;case "scale":a.tool.emit("graphic-scale",{graphic:b,scale:g.scale})}break;case "end":switch(g.mode){case "rotate":a.tool.emit("graphic-rotate-stop",{graphic:b,angle:g.angle});break;case "scale":a.tool.emit("graphic-scale-stop",{graphic:b,
scale:g.scale})}}"end"===c.action&&(a.startAnimation(ca(a,function(){return a.onScaleChanged()})),a._scaleRotateDragData=null,a.updateDragState())});e.next(h.resetSymbol(b)).next(function(){if(m.isSome(a._scaleRotateDragData)){switch(a._scaleRotateDragData.mode){case "rotate":a.tool.emit("graphic-rotate-stop",{graphic:b,angle:a._scaleRotateDragData.startAngle});break;case "scale":a.tool.emit("graphic-scale-stop",{graphic:b,scale:1})}a.startAnimation(ca(a,function(){return a.onScaleChanged()}));a._scaleRotateDragData=
null}})});this._handles.add(f);this._handles.add([this.ringManipulator.events.on("focus-changed",function(b){"focus"===b.action?a.startAnimation(d(a,function(){return a.updateDelayedFocusedState()})):a.updateDelayedFocusedState()}),this.ringManipulator.events.on("immediate-click",function(a){a.stopPropagation()}),y.init(this.tool.graphicState,"displaying",function(b){return a.ringManipulator.available=b}),this.tool.graphicState.on("changed",function(){return B.placeAtGraphic(a.tool.view,a.ringManipulator,
b)})]);B.placeAtGraphic(this.tool.view,this.ringManipulator,b)};a.prototype.onScaleChanged=function(){this.events.emit("scale-changed");this.updateManipulatorTransform()};a.prototype.updateDelayedFocusedState=function(){this.ringManipulator.updateStateEnabled(u.DelayedFocused,this.getFocused())};a.prototype.updateDragState=function(){this.ringManipulator.updateStateEnabled(u.Unlocked,!(m.isSome(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode));if(m.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this.ringManipulator.updateStateEnabled(u.ScaleIn|
u.ScaleOut,!1);this.ringManipulator.updateStateEnabled(u.RotateLeft,0>this._scaleRotateDragData.angleDir);this.ringManipulator.updateStateEnabled(u.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this.ringManipulator.updateStateEnabled(u.RotateLeft|u.RotateRight,!1),this.ringManipulator.updateStateEnabled(u.ScaleIn,0>this._scaleRotateDragData.scaleDir),this.ringManipulator.updateStateEnabled(u.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this.ringManipulator.updateStateEnabled(u.ScaleIn|
u.ScaleOut|u.RotateLeft|u.RotateRight,!1)};a.prototype.updateManipulatorTransform=function(){var a=C.mat4.identity(U.sm4d.get());C.mat4.rotate(a,a,this.tool.symbolRotationAngle,v.vec3f64.fromValues(0,0,1));var b=this.getScale(),b=C.mat4.fromScaling(U.sm4d.get(),M.vec3.set(U.sv3d.get(),b,b,b)),d=C.mat4.identity(U.sm4d.get());C.mat4.multiply(d,b,a);this.ringManipulator.modelTransform=d};a.prototype.createRingManipulator=function(){for(var a=function(a,b,c){for(var d=[],e=Math.ceil(x.GEOMETRY_SEGMENTS*
(b-a)/(2*Math.PI)),f=0;f<e+1;f++){var g=a+f*(b-a)/e;d.push(v.vec3f64.fromValues(c*Math.cos(g),c*Math.sin(g),0))}return d},b=function(b){return a(0,2*Math.PI,b)},d=function(a,b){return new Y(S.createPathExtrusionGeometry([[-b/2,0],[b/2,0],[b/2,x.RING_HEIGHT/2],[-b/2,x.RING_HEIGHT/2]],a,[],[],!1),"graphic-transform-ring")},f=b(x.RING_RADIUS),h=d(f,x.RING_THICKNESS),l=[],m=[],p=[],q=0;2>q;q++){var t=q*Math.PI-Math.PI/4,y=Math.PI/2-x.ROTATE_INDICATOR_ARC_LENGTH,A=t+y,t=t+Math.PI/2-y,y=a(A,t,x.INNER_INDICATOR_RADIUS),
B=d(y,x.INDICATOR_THICKNESS);p.push(y);p.push(a(A,t,x.OUTER_INDICATOR_RADIUS-x.RING_THICKNESS/2));l.push(B);m.push(B);for(B=0;2>B;B++){var E=0===B,D=H.mat4f64.create();if(E){C.mat4.scale(D,D,[1,-1,1]);C.mat4.rotate(D,D,-A,[0,0,1]);var F=Math.round(x.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*(y.length-1))}else C.mat4.rotate(D,D,t,[0,0,1]),F=Math.round((1-x.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(y.length-1));D[12]=y[F][0];D[13]=y[F][1];D[14]=y[F][2];F=S.createExtrudedTriangle(x.ROTATE_INDICATOR_ARROW_TIP_LENGTH,
0,x.ROTATE_INDICATOR_ARROW_TIP_RADIUS,x.RING_HEIGHT);S.transformInPlace(F,D);D=new Y(F,"graphic-transform-ring-rotate");(E?l:m).push(D)}}B=[];for(q=0;2>q;q++)t=q*Math.PI-Math.PI/4,y=Math.PI/2-x.SCALE_INDICATOR_ARC_LENGTH,A=t+y,t=t+Math.PI/2-y,y=a(A,t,x.OUTER_INDICATOR_RADIUS),B.push(d(y,x.INDICATOR_THICKNESS));q=b(x.RING_RADIUS+x.SCALE_INDICATOR_OFFSET1);A=b(x.RING_RADIUS+x.SCALE_INDICATOR_OFFSET2);q=d(q,x.INDICATOR_THICKNESS);A=d(A,x.INDICATOR_THICKNESS);t=b(x.RING_RADIUS-x.SCALE_INDICATOR_OFFSET1);
y=b(x.RING_RADIUS-x.SCALE_INDICATOR_OFFSET2);b=d(t,x.INDICATOR_THICKNESS);d=d(y,x.INDICATOR_THICKNESS);t=this.createMaterial();y=this.createMaterial(.66);D=this.createMaterial(.5);E=this.createMaterial(.33);h=[{geometry:h,material:t,stateMask:u.DelayedFocused},{geometry:h,material:D,stateMask:0}];this.mode&&"scale"!==this.mode||(h=h.concat([{geometry:B,material:t,stateMask:u.DelayedFocused|u.Unlocked},{geometry:q,material:y,stateMask:u.DelayedFocused|u.ScaleIn},{geometry:A,material:E,stateMask:u.DelayedFocused|
u.ScaleIn},{geometry:b,material:y,stateMask:u.DelayedFocused|u.ScaleOut},{geometry:d,material:E,stateMask:u.DelayedFocused|u.ScaleOut}]));this.mode&&"rotate"!==this.mode||(h=h.concat([{geometry:m,material:t,stateMask:u.DelayedFocused|u.Unlocked},{geometry:l,material:t,stateMask:u.DelayedFocused|u.RotateLeft},{geometry:m,material:t,stateMask:u.DelayedFocused|u.RotateRight}]));f=[f].concat(p);return new Q.Manipulator3D({view:this.tool.view,renderObjects:h,autoScaleRenderObjects:!1,worldOriented:!0,
radius:x.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:O.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:f,direction:v.vec3f64.fromValues(0,0,1)}})};a.prototype.createMaterial=function(a){void 0===a&&(a=1);var b=x.HANDLE_COLOR.concat([a]);a=new aa({color:b,transparent:1!==a,cullFace:2},"graphic-transform");a.renderOccluded=2;return a};a.prototype.applySymbolData=function(a,b,d,f){var c=this;a.symbolLayers.forEach(function(a,
e){var g=b.symbolLayers[e];e=g.heading;g=g.size;"object"===a.type&&(a.heading=(m.isSome(e)?e:0)-E.toDegree(d),m.isSome(g)&&"width"in g&&(g.width=c.enforceNonZeroSize(g.width),g.height=c.enforceNonZeroSize(g.height),g.depth=c.enforceNonZeroSize(g.depth),a.width=g.width*f,a.depth=g.depth*f,a.height=g.height*f))})};a.prototype.enforceNonZeroSize=function(a){return a||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)};Object.defineProperty(a.prototype,"test",{get:function(){return{ringManipulator:this.ringManipulator}},
enumerable:!0,configurable:!0});return a}();l.GraphicScaleRotateTransform=J;var f=v.vec3f64.create(),b=R.createScreenPointArray()})},"*noref":1}});
define(["require","exports","./editingTools/graphicMove3D/GraphicMove3DTool","./editingTools/graphicReshape3D/GraphicReshape3DTool","./editingTools/graphicTransform3D/GraphicTransform3DTool"],function(J,l,t,L,G){Object.defineProperty(l,"__esModule",{value:!0});l.GraphicMove3DTool=t.GraphicMove3DTool;l.GraphicReshape3DTool=L.GraphicReshape3DTool;l.GraphicTransform3DTool=G.GraphicTransform3DTool});
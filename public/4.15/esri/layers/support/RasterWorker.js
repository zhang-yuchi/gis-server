// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/support/PixelBlock":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/compilerUtils ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m,d,h,c){var g=h.getLogger("esri.layers.support.PixelBlock");return function(a){function f(c){c=a.call(this,c)||this;c.width=null;c.height=null;c.pixelType="f32";c.validPixelCount=
null;c.mask=null;c.maskIsAlpha=!1;c.pixels=null;c.statistics=null;return c}q(f,a);h=f;f.createEmptyBand=function(a,c){return new (h.getPixelArrayConstructor(a))(c)};f.getPixelArrayConstructor=function(a){var c;switch(a){case "u1":case "u2":case "u4":case "u8":c=Uint8Array;break;case "u16":c=Uint16Array;break;case "u32":c=Uint32Array;break;case "s8":c=Int8Array;break;case "s16":c=Int16Array;break;case "s32":c=Int32Array;break;case "u32":c=Uint32Array;break;case "f32":c=Float32Array;break;case "f64":c=
Float64Array;break;case "c64":case "c128":case "unknown":c=Float32Array;break;default:p.neverReached(a)}return c};f.prototype.castPixelType=function(a){if(!a)return"f32";a=a.toLowerCase();-1<["u1","u2","u4"].indexOf(a)?a="u8":-1==="unknown u8 s8 u16 s16 u32 s32 f32 f64".split(" ").indexOf(a)&&(a="f32");return a};f.prototype.getPlaneCount=function(){return this.pixels&&this.pixels.length};f.prototype.addData=function(a){if(!a.pixels||a.pixels.length!==this.width*this.height)throw new k("pixelblock:invalid-or-missing-pixels",
"add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]);this.statistics||(this.statistics=[]);this.pixels.push(a.pixels);this.statistics.push(a.statistics||{minValue:null,maxValue:null})};f.prototype.getAsRGBA=function(){var a=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case "s8":case "s16":case "u16":case "s32":case "u32":case "f32":case "f64":this._fillFromNon8Bit(a);break;default:this._fillFrom8Bit(a)}return new Uint8ClampedArray(a)};
f.prototype.getAsRGBAFloat=function(){var a=new Float32Array(this.width*this.height*4);this._fillFrom32Bit(a);return a};f.prototype.updateStatistics=function(){var a=this;this.statistics=this.pixels.map(function(c){return a._calculateBandStatistics(c,a.mask)});var c=this.mask,d=0;if(c)for(var g=0;g<c.length;g++)c[g]&&d++;else d=this.width*this.height;this.validPixelCount=d};f.prototype.clamp=function(a){if(a&&"f64"!==a&&"f32"!==a){var c;switch(a){case "u8":c=[0,255];break;case "u16":c=[0,65535];break;
case "u32":c=[0,4294967295];break;case "s8":c=[-128,127];break;case "s16":c=[-32768,32767];break;case "s32":c=[-2147483648,2147483647];break;default:c=[-3.4*1E39,3.4*1E39]}var d=c[0];c=c[1];for(var g=this.pixels,f=this.width*this.height,l=g.length,n,e,b,w=[],m=0;m<l;m++){b=h.createEmptyBand(a,f);n=g[m];for(var p=0;p<f;p++)e=n[p],b[p]=e>c?c:e<d?d:e;w.push(b)}this.pixels=w;this.pixelType=a}};f.prototype.clone=function(){var a=new h({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,
validPixelCount:this.validPixelCount});this.mask&&(a.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));var c,g=h.getPixelArrayConstructor(this.pixelType);if(this.pixels&&0<this.pixels.length){a.pixels=[];var f=this.pixels[0].slice;for(c=0;c<this.pixels.length;c++)a.pixels[c]=f?this.pixels[c].slice(0,this.pixels[c].length):new g(this.pixels[c])}if(this.statistics)for(a.statistics=[],c=0;c<this.statistics.length;c++)a.statistics[c]=d.clone(this.statistics[c]);return a};
f.prototype._fillFrom8Bit=function(a){var c=this.mask,d=this.maskIsAlpha,f=this.pixels;if(a&&f&&f.length){var h,l,n;h=l=n=f[0];3<=f.length?(l=f[1],n=f[2]):2===f.length&&(l=f[1]);a=new Uint32Array(a);f=this.width*this.height;if(h.length!==f)g.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");else if(c&&c.length===f)if(d)for(d=0;d<f;d++)c[d]&&(a[d]=c[d]<<24|n[d]<<16|l[d]<<8|h[d]);else for(d=0;d<f;d++)c[d]&&(a[d]=-16777216|n[d]<<16|l[d]<<8|h[d]);else for(d=0;d<f;d++)a[d]=-16777216|
n[d]<<16|l[d]<<8|h[d]}else g.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFromNon8Bit=function(a){var c=this.pixels,d=this.mask,f=this.statistics;if(a&&c&&c.length){var h=this.pixelType,l=1,n=0,l=1;f&&0<f.length?(n=f.map(function(a){return a.minValue}).reduce(function(a,c){return Math.min(a,c)}),l=f.map(function(a){return a.maxValue-a.minValue}).reduce(function(a,c){return Math.max(a,c)}),l=255/l):(l=255,"s8"===h?(n=-128,l=127):"u16"===h?l=65535:
"s16"===h?(n=-32768,l=32767):"u32"===h?l=4294967295:"s32"===h?(n=-2147483648,l=2147483647):"f32"===h?(n=-3.4*1E39,l=3.4*1E39):"f64"===h&&(n=-Number.MAX_VALUE,l=Number.MAX_VALUE),l=255/(l-n));a=new Uint32Array(a);var h=this.width*this.height,e,b,f=e=b=c[0];if(f.length!==h)return g.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(2<=c.length)if(e=c[1],3<=c.length&&(b=c[2]),d&&d.length===h)for(c=0;c<h;c++)d[c]&&(a[c]=-16777216|(b[c]-n)*l<<16|(e[c]-n)*l<<8|(f[c]-n)*l);else for(c=
0;c<h;c++)a[c]=-16777216|(b[c]-n)*l<<16|(e[c]-n)*l<<8|(f[c]-n)*l;else if(d&&d.length===h)for(c=0;c<h;c++)e=(f[c]-n)*l,d[c]&&(a[c]=-16777216|e<<16|e<<8|e);else for(c=0;c<h;c++)e=(f[c]-n)*l,a[c]=-16777216|e<<16|e<<8|e}else g.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFrom32Bit=function(a){var c=this.pixels,d=this.mask;if(!a||!c||!c.length)return g.error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");var f,h,l;
f=h=l=c[0];3<=c.length?(h=c[1],l=c[2]):2===c.length&&(h=c[1]);var n=this.width*this.height;if(f.length!==n)return g.error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");var e=0;if(d&&d.length===n)for(c=0;c<n;c++)a[e++]=f[c],a[e++]=h[c],a[e++]=l[c],a[e++]=d[c]&1;else for(c=0;c<n;c++)a[e++]=f[c],a[e++]=h[c],a[e++]=l[c],a[e++]=1};f.prototype._calculateBandStatistics=function(a,c){var d=Infinity,f=-Infinity,g=a.length,h,l=0;if(c)for(h=0;h<g;h++)c[h]&&(l=a[h],d=l<d?l:d,f=l>
f?l:f);else for(h=0;h<g;h++)l=a[h],d=l<d?l:d,f=l>f?l:f;return{minValue:d,maxValue:f}};var h;e([c.property({json:{write:!0}})],f.prototype,"width",void 0);e([c.property({json:{write:!0}})],f.prototype,"height",void 0);e([c.property({json:{write:!0}})],f.prototype,"pixelType",void 0);e([c.cast("pixelType")],f.prototype,"castPixelType",null);e([c.property({json:{write:!0}})],f.prototype,"validPixelCount",void 0);e([c.property({json:{write:!0}})],f.prototype,"mask",void 0);e([c.property({json:{write:!0}})],
f.prototype,"maskIsAlpha",void 0);e([c.property({json:{write:!0}})],f.prototype,"pixels",void 0);e([c.property({json:{write:!0}})],f.prototype,"statistics",void 0);return f=h=e([c.subclass("esri.layers.support.PixelBlock")],f)}(c.declared(m.JSONSupport))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,b,q,
e,p,k,m,d,h){function c(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var d=new this;d.read(a,c);return d}function g(a){return a&&"read"in a&&"write"in a&&"toJSON"in a}Object.defineProperty(b,"__esModule",{value:!0});b.JSONSupportMixin=function(a){a=function(a){function f(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a.apply(this,c)||this}q(f,a);f.prototype.read=function(a,c){d.default(this,a,c)};f.prototype.write=function(a,c){return h.default(this,
a||{},c)};f.prototype.toJSON=function(a){return this.write(null,a)};f.fromJSON=function(a,d){return c.call(this,a,d)};return f=e([m.subclass("esri.core.JSONSupport")],f)}(m.declared(a));a.prototype.toJSON.isDefaultToJSON=!0;return a};b.isJSONSupport=g;k.after(function(a){for(var d=a.prototype;;){if(g(d)){a.fromJSON=c.bind(a);break}d=Object.getPrototypeOf(d);if(!d)break}});a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}q(c,a);return c=e([m.subclass("esri.core.JSONSupport")],
c)}(m.declared(b.JSONSupportMixin(p)));b.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,q,e,p,k){function m(a,c,g){void 0===g&&(g=d);if(c&&"object"===typeof c){for(var f=p.getProperties(a),h=f.metadatas,l={},n=0,b=Object.getOwnPropertyNames(c);n<b.length;n++){var r=l,t=h,u=b[n],m=c,y=g,D=k.originSpecificReadPropertyDefinition(t[u],y);D&&(!D.read||!1!==D.read.enabled&&
!D.read.source)&&(r[u]=!0);for(var B=0,x=Object.getOwnPropertyNames(t);B<x.length;B++){var z=x[B],D=k.originSpecificReadPropertyDefinition(t[z],y),q;a:{q=u;var C=m;if(D&&D.read&&!1!==D.read.enabled&&D.read.source)if(D=D.read.source,"string"===typeof D){if(D===q||-1<D.indexOf(".")&&0===D.indexOf(q)&&e.exists(D,C)){q=!0;break a}}else for(var E=0;E<D.length;E++){var H=D[E];if(H===q||-1<H.indexOf(".")&&0===H.indexOf(q)&&e.exists(H,C)){q=!0;break a}}q=!1}q&&(r[z]=!0)}}f.setDefaultOrigin(g.origin);b=0;
for(r=Object.getOwnPropertyNames(l);b<r.length;b++)n=r[b],u=(t=k.originSpecificReadPropertyDefinition(h[n],g).read)&&t.source,m=void 0,m=u&&"string"===typeof u?e.valueOf(c,u):c[n],t&&t.reader&&(m=t.reader.call(a,m,c,g)),void 0!==m&&f.set(n,m);if(!g||!g.ignoreDefaults)for(c=0,h=Object.getOwnPropertyNames(h);c<h.length;c++)n=h[c],l[n]||(b=a,r=f,t=g,u=(u=k.originSpecificPropertyDefinition(r.metadatas[n],"any",t))&&u.default,void 0!==u&&(b="function"===typeof u?u.call(b,n,t):u,void 0!==b&&r.set(n,b)));
f.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var d={origin:"service"};b.read=m;b.readLoadable=function(a,c,g,f){void 0===f&&(f=d);c=q({},f,{messages:[]});g(c);c.messages.forEach(function(c){"warning"!==c.type||a.loaded?f&&f.messages.push(c):a.loadWarnings.push(c)})};b.default=m})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,q,
e,p,k,m,d){function h(a,c,d,h,b,r){if(!h||!h.write)return!1;var f=a.get(d);if(!b&&h.write.overridePolicy){var l=h.write.overridePolicy.call(a,f,d,r);void 0!==l&&(b=l)}b||(b=h.write);if(!b||!1===b.enabled)return!1;if((null===f&&!b.allowNull||void 0===f)&&b.isRequired)return(c=new e("web-document-write:property-required","Missing value for required property '"+d+"' on '"+a.declaredClass+"'",{propertyName:d,target:a}),r)&&r.messages?r.messages.push(c):c&&!r&&g.error(c.name,c.message),!1;if(void 0===
f||null===f&&!b.allowNull)return!1;l=h.default;void 0===l?f=!1:"function"===typeof l?Array.isArray(f)?(a=l.call(a,d,r),f=q.equals(a,f)):f=!1:f=l===f;return f?!1:void 0!==h.default?!0:!b.ignoreOrigin&&r&&r.origin&&c.store.originOf(d)<k.nameToId(r.origin)?!1:!0}function c(a,c,g){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return m.merge(c,a.toJSON());var f=m.getProperties(a),l=f.metadatas,e;for(e in l){var b=d.originSpecificWritePropertyDefinition(l[e],g);if(h(a,f,e,b,
null,g)){var u=a.get(e),w={};b.write.writer.call(a,u,w,"string"===typeof b.write.target?b.write.target:e,g);b=w;0<Object.keys(b).length&&(c=m.merge(c,b),g&&g.writtenProperties&&g.writtenProperties.push({target:a,propName:e,oldOrigin:k.idToReadableName(f.store.originOf(e)),newOrigin:g.origin}))}}return c}Object.defineProperty(b,"__esModule",{value:!0});var g=p.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,c,g,e){var f=m.getProperties(a),l=d.originSpecificWritePropertyDefinition(f.metadatas[c],
e);return l?h(a,f,c,l,g,e):!1};b.write=c;b.default=c})},"esri/layers/support/rasterFormats/RasterCodec":function(){define("require exports ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../core/tsSupport/assignHelper ../../../core/Error ../PixelBlock ./ImageCanvasDecoder ./JpgPlus ./Lerc2Codec ./LercCodec ./Png ./Raw ./TiffDecoder".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){function n(a,c){if(!x)throw new k("rasterCoded:decode","lerc decoder is not supported on big endian platform");
var d=c.width,f=c.height,h=c.pixelType,l=B(h),e=l.pixelTypeCtor;c=null==c.noDataValue?l.noDataValue:c.noDataValue;for(var l=0,r,n=0,u,b=a.byteLength-10;n<b;){var t=g.decode(a,{inputOffset:n,encodedMaskData:r,returnMask:0===l?!0:!1,returnEncodedMask:0===l?!0:!1,returnFileInfo:!0,pixelType:e,noDataValue:c});if(d&&f&&(t.width!==d||t.height!==f))throw new k("rasterCoded:decode","lerc decoded result has width or height different from specified in options");n=t.fileInfo.eofOffset;0===l&&(r=t.encodedMaskData,
u=new m({width:t.width,height:t.height,pixels:[],pixelType:h,mask:t.maskData,statistics:[]}));l++;u.addData({pixels:t.pixelData,statistics:{minValue:t.minValue,maxValue:t.maxValue,noDataValue:t.noDataValue}});10<b-n&&(t=String.fromCharCode.apply(null,new Uint8Array(a,n,10)),n=-1<n+t.indexOf("CntZ")?t.indexOf("CntZ"):0)}return u}function v(a,d){if(!x)throw new k("rasterCoded:decode","lerc decoder is not supported on big endian platform");var f=0,g=0,h=0,l,e,r,n=a.byteLength-10,u=[],b=d.width;for(d=
d.height;g<n;){e=c.decode(a,{inputOffset:g,maskData:l,returnFileInfo:!0});if(b&&d&&(e.width!==b||e.height!==d))throw new k("rasterCoded:decode","lerc2 decoded result has width or height different from what's specified in options");g=e.fileInfo.eofOffset;0===f&&(h=e.fileInfo.numValidPixel,l=e.maskData,r=new m({width:e.width,height:e.height,pixels:[],pixelType:e.fileInfo.pixelType,mask:e.maskData,statistics:[]}));e.fileInfo.mask&&0<e.fileInfo.mask.numBytes&&u.push(e.maskData);f++;r.addData({pixels:e.pixelData,
statistics:{minValue:e.minValue,maxValue:e.maxValue}});10<n-g&&(e=String.fromCharCode.apply(null,new Uint8Array(a,g,10)),g+=-1<e.indexOf("Lerc")?e.indexOf("Lerc"):0)}g=f=a=0;if(1<u.length){g=r.width*r.height;l=new Uint8Array(g);l.set(u[0]);for(a=1;a<u.length;a++)for(h=u[a],f=0;f<g;f++)l[f]&=h[f];for(f=h=0;f<g;f++)h+=l[f];r.mask=l}r.validPixelCount=h;return r}function r(a){a=l.decode(a);a=new m({width:a.width,height:a.height,pixels:a.pixels,pixelType:a.pixelType.toLowerCase(),mask:a.mask,statistics:null});
a.updateStatistics();return a}function t(a){a=h.decode(a);a=new m({width:a.width,height:a.height,pixels:a.pixels,pixelType:"U8",mask:a.mask,statistics:null});a.updateStatistics();return a}function u(a,c){a=new Uint8Array(a);var d=new f(a);a=c.width;var g=c.height;c=a*g;for(var d=d.decode(),h=0,l=0,l=new Uint8Array(c),h=0;h<c;h++)l[h]=d[4*h+3];g=new m({width:a,height:g,pixels:[],pixelType:"U8",mask:l,statistics:[]});for(h=0;3>h;h++){a=new Uint8Array(c);for(l=0;l<c;l++)a[l]=d[4*l+h];g.addData({pixels:a})}g.updateStatistics();
return g}function A(a,c,f){return e(this,void 0,void 0,function(){var g,h,l,e;return q(this,function(r){switch(r.label){case 0:return g=new d,h=p({applyJpegMask:!1},c),[4,g.decode(a,h,f)];case 1:return l=r.sent(),e=new m(l),e.updateStatistics(),[2,e]}})})}function y(a){if(null==a)throw new k("rasterCodec:decode","parameter encodeddata is required.");a=new Uint8Array(a,0,10);var c="";255===a[0]&&216===a[1]?c="jpg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]?c="png":67===a[0]&&110===a[1]&&116===a[2]&&
90===a[3]&&73===a[4]&&109===a[5]&&97===a[6]&&103===a[7]&&101===a[8]&&32===a[9]?c="lerc":76===a[0]&&101===a[1]&&114===a[2]&&99===a[3]&&50===a[4]&&32===a[5]?c="lerc2":73===a[0]&&73===a[1]&&42===a[2]&&0===a[3]||77===a[0]&&77===a[1]&&0===a[2]&&42===a[3]?c="tiff":-1<String.fromCharCode.apply(null,a).toLowerCase().indexOf("error")&&(c="error");return c}function D(a){var c=null;switch(a){case "lerc":c=n;break;case "lerc2":c=v;break;case "jpg":c=t;break;case "png":c=u;break;case "bsq":case "bip":c=function(c,
d){var g=B(d.pixelType).pixelTypeCtor,f=w.decode;c=f(c,{width:d.width,height:d.height,pixelType:g,format:a});d=new m({width:d.width,height:d.height,pixels:c.pixels,pixelType:d.pixelType,mask:c.mask,statistics:null});d.updateStatistics();return d};break;case "tiff":c=r;break;case "error":c=function(){throw new k("rasterCodec:decode","input data contains error");};break;default:c=function(){throw new k("rasterCodec:decode","unsupported raster format");}}return c}function B(a){var c=null,d=null;switch(a?
a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":d=Math.pow(2,8)-1;c=Uint8Array;break;case "u16":d=d||Math.pow(2,16)-1;c=Uint16Array;break;case "u32":d=d||Math.pow(2,32)-1;c=Uint32Array;break;case "s8":d=d||0-Math.pow(2,7);c=Int8Array;break;case "s16":d=d||0-Math.pow(2,15);c=Int16Array;break;case "s32":d=d||0-Math.pow(2,31);c=Int32Array;break;default:c=Float32Array}return{pixelTypeCtor:c,noDataValue:d}}var x=function(){var a=new ArrayBuffer(4),c=new Uint8Array(a);(new Uint32Array(a))[0]=
1;return 1===c[0]}();return function(){function a(){}a.getFormat=function(a){a=y(a);"lerc2"===a?a="lerc":"error"===a&&(a="");return a};a.decode=function(a,c,d){return e(this,void 0,void 0,function(){var g,f,h;return q(this,function(e){switch(e.label){case 0:if(null==a)throw new k("rasterCodec:decode","missing encodeddata parameter.");if(null==c||null==c.width||null==c.height)throw new k("rasterCodec:decode","requires width and height in options parameter.");g=c.format&&c.format.toLowerCase();if("tiff"===
g&&c.customOptions)return e=l.decodeTileOrStrip(a,c.customOptions),e=new m({width:e.width,height:e.height,pixels:e.pixels,pixelType:e.pixelType.toLowerCase(),mask:e.mask,statistics:null}),e.updateStatistics(),[2,e];if(!g||"bsq"!==g&&"bip"!==g)g=y(a);return!c.useCanvas||"jpg"!==g&&"png"!==g?[3,2]:[4,A(a,c,d)];case 1:return h=e.sent(),[3,3];case 2:f=D(g);c.isPoint&&(c=p({},c),c.width++,c.height++);h=f(a,c);if(c.isPoint){var r=h,n=void 0;void 0===n&&(n=1);if(r){var u=r.pixels,b=r.width,t=r.mask;if(u&&
0!==u.length){var v=u.length,w=b-1,x=r.height-1,B=[],z,E,C,q,G,H,F=m.getPixelArrayConstructor(r.pixelType);if(0===n){for(n=0;n<v;n++){q=u[n];G=new F(w*x);for(z=0;z<x;z++)for(C=z*b,E=0;E<w;E++)G[z*w+E]=q[C+E];B.push(G)}if(t)for(H=new Uint8Array(w*x),z=0;z<x;z++)for(C=z*b,E=0;E<w;E++)H[z*w+E]=t[C+E]}else{for(n=0;n<v;n++){q=u[n];G=new F(w*x);for(z=0;z<x;z++)for(C=z*b,E=0;E<w;E++)G[z*w+E]=(q[C+E]+q[C+E+1]+q[C+b+E]+q[C+b+E+1])/4;B.push(G)}if(t)for(H=new Uint8Array(w*x),z=0;z<x;z++)for(C=z*b,E=0;E<w;E++)H[z*
w+E]=Math.min.apply(null,[t[C+E],t[C+E+1],t[C+b+E],t[C+b+E+1]])}r.width=w;r.height=x;r.mask=H;r.pixels=B}}}e.label=3;case 3:return[2,h]}})})};return a}()})},"esri/layers/support/rasterFormats/ImageCanvasDecoder":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../core/promiseUtils ./Zlib".split(" "),function(a,b,q,e,p,k){return function(){function a(a){a&&(this.canvas=a.canvas,this.ctx=a.ctx||a.canvas&&a.canvas.getContext("2d"))}a.getFormat=function(a){if(!a||
10>a.byteLength)return"";a=new Uint8Array(a,0,10);var d="";255===a[0]&&216===a[1]?d="jpeg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]&&(d="png");return d};a.prototype.decode=function(d,h,c){var g=this;if(!d||10>d.byteLength)throw new q("imagecanvasdecoder: decode","required a valid encoded data as input.");var f=a.getFormat(d);if(""===f)throw new q("imagecanvasdecoder: decode","encoded data format is not a supported format (jpeg or png).");var b=h.width,l=h.height,n=h.applyJpegMask;if(n&&(!b||!l))throw new q("imagecanvasdecoder: decode",
"image width and height are needed to apply jpeg mask directly to canvas");return e.create(function(v,r){var t=null;"jpeg"===f&&n&&(t=a.getMask(d,h));var u=new Blob([new Uint8Array(d)],{type:"image/"+f}),w=URL.createObjectURL(u),m=new Image,k;m.src=w;m.onload=function(){URL.revokeObjectURL(w);if(e.isAborted(c))r(p.createAbortError());else{b=m.width;l=m.height;if(g.canvas){if(g.canvas.width!==b||g.canvas.height!==l)g.canvas.width=b,g.canvas.height=l;g.ctx.clearRect(0,0,b,l)}else g.canvas=document.createElement("canvas"),
g.canvas.width=b,g.canvas.height=l,g.ctx=g.canvas.getContext("2d");g.ctx.drawImage(m,0,0);var a=g.ctx.getImageData(0,0,b,l);k=a.data;var d;if(h.renderOnCanvas){if(t)for(d=0;d<t.length;d++)k[4*d+3]=t[d]?255:0;g.ctx.putImageData(a,0,0);v(null)}else{var a=b*l,f=new Uint8Array(a),n=new Uint8Array(a),u=new Uint8Array(a);if(t)for(d=0;d<a;d++)f[d]=k[4*d],n[d]=k[4*d+1],u[d]=k[4*d+2];else for(t=new Uint8Array(a),d=0;d<a;d++)f[d]=k[4*d],n[d]=k[4*d+1],u[d]=k[4*d+2],t[d]=k[4*d+3];v({width:b,height:l,pixels:[f,
n,u],mask:t,pixelType:"u8"})}}};m.onerror=function(){URL.revokeObjectURL(w);r("cannot load image")}})};a.getMask=function(a,h){var c=null;try{var d=new Uint8Array(a);a=0;var f=d.length-2;for(a=Math.ceil(d.length/2);a<f&&(255!==d[a]||217!==d[a+1]);a++);a+=2;if(a<d.length-1)for(var e=(new k(d.subarray(a))).getBytes(),c=new Uint8Array(h.width*h.height),d=h=0;d<e.length;d++)for(f=7;0<=f;f--)c[h++]=e[d]>>f&1}catch(l){}return c};return a}()})},"esri/layers/support/rasterFormats/Zlib":function(){define([],
function(){var a=function(){function a(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}a.prototype={ensureBuffer:function(a){var e=this.buffer,b=e?e.byteLength:0;if(a<b)return e;for(var k=512;k<a;)k<<=1;a=new Uint8Array(k);for(k=0;k<b;++k)a[k]=e[k];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var e=this.pos;if(a){this.ensureBuffer(e+a);for(a=e+a;!this.eof&&
this.bufferLength<a;)this.readBlock();var b=this.bufferLength;a>b&&(a=b)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}this.pos=a;return this.buffer.subarray(e,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,
e,b){for(var p=a+e;this.bufferLength<=p&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,e,b)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}};return a}();return function(){function b(a){throw Error(a);}function q(d){var c=0,g=d[c++],f=d[c++];-1!=g&&-1!=f||b("Invalid header in flate stream");8!=(g&15)&&b("Unknown compression method in flate stream");0!=((g<<8)+f)%31&&b("Bad FCHECK in flate stream");f&32&&b("FDICT bit set in flate stream");this.bytes=d;this.bytesPos=
c;this.codeBuf=this.codeSize=0;a.call(this)}if(!self||!self.Uint32Array)return null;var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),k=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,
724993,727041,794625,798721,868353,876545]),m=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,
590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,
590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,
590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,
590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,
590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,
590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,
590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],d=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];q.prototype=Object.create(a.prototype);q.prototype.getBits=function(a){for(var c=this.codeSize,d=this.codeBuf,f=this.bytes,h=this.bytesPos,
l;c<a;)"undefined"==typeof(l=f[h++])&&b("Bad encoding in flate stream"),d|=l<<c,c+=8;this.codeBuf=d>>a;this.codeSize=c-=a;this.bytesPos=h;return d&(1<<a)-1};q.prototype.getCode=function(a){var c=a[0],d=a[1];a=this.codeSize;for(var f=this.codeBuf,h=this.bytes,l=this.bytesPos;a<d;){var e;"undefined"==typeof(e=h[l++])&&b("Bad encoding in flate stream");f|=e<<a;a+=8}d=c[f&(1<<d)-1];c=d>>16;d&=65535;(0==a||a<c||0==c)&&b("Bad encoding in flate stream");this.codeBuf=f>>c;this.codeSize=a-c;this.bytesPos=
l;return d};q.prototype.generateHuffmanTable=function(a){for(var c=a.length,d=0,f=0;f<c;++f)a[f]>d&&(d=a[f]);for(var h=1<<d,l=new Uint32Array(h),e=1,b=0,r=2;e<=d;++e,b<<=1,r<<=1)for(var t=0;t<c;++t)if(a[t]==e){for(var u=0,m=b,f=0;f<e;++f)u=u<<1|m&1,m>>=1;for(f=u;f<h;f+=r)l[f]=e<<16|t;++b}return[l,d]};q.prototype.readBlock=function(){function a(a,c,d,f,g){for(a=a.getBits(d)+f;0<a--;)c[v++]=g}var c=this.getBits(3);c&1&&(this.eof=!0);c>>=1;if(0==c){var g=this.bytes,f=this.bytesPos,w;"undefined"==typeof(w=
g[f++])&&b("Bad block header in flate stream");var l=w;"undefined"==typeof(w=g[f++])&&b("Bad block header in flate stream");l|=w<<8;"undefined"==typeof(w=g[f++])&&b("Bad block header in flate stream");c=w;"undefined"==typeof(w=g[f++])&&b("Bad block header in flate stream");(c|w<<8)!=(~l&65535)&&b("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;w=this.bufferLength;c=this.ensureBuffer(w+l);this.bufferLength=l=w+l;for(var n=w;n<l;++n){if("undefined"==typeof(w=g[f++])){this.eof=
!0;break}c[n]=w}this.bytesPos=f}else{if(1==c)f=m,w=d;else if(2==c){c=this.getBits(5)+257;w=this.getBits(5)+1;for(var g=this.getBits(4)+4,f=Array(e.length),v=0;v<g;)f[e[v++]]=this.getBits(3);f=this.generateHuffmanTable(f);v=g=0;w=c+w;for(l=Array(w);v<w;)n=this.getCode(f),16==n?a(this,l,2,3,g):17==n?a(this,l,3,3,g=0):18==n?a(this,l,7,11,g=0):l[v++]=g=n;f=this.generateHuffmanTable(l.slice(0,c));w=this.generateHuffmanTable(l.slice(c,w))}else b("Unknown block type in flate stream");l=(c=this.buffer)?c.length:
0;for(n=this.bufferLength;;){var r=this.getCode(f);if(256>r)n+1>=l&&(c=this.ensureBuffer(n+1),l=c.length),c[n++]=r;else{if(256==r){this.bufferLength=n;break}var r=r-257,r=p[r],t=r>>16;0<t&&(t=this.getBits(t));g=(r&65535)+t;r=this.getCode(w);r=k[r];t=r>>16;0<t&&(t=this.getBits(t));r=(r&65535)+t;n+g>=l&&(c=this.ensureBuffer(n+g),l=c.length);for(t=0;t<g;++t,++n)c[n]=c[n-r]}}}};return q}()})},"esri/layers/support/rasterFormats/JpgPlus":function(){define(["require","exports","./Jpg","./Zlib"],function(a,
b,q,e){return function(){function a(){}a.decode=function(a){var b=new Uint8Array(a),d=new q;d.parse(b);a=d.width;var h=d.height,c=d.numComponents,g=d.eof,d=d.getData(a,h,!0),f,w=a*h,l=0,n=0,v=0;if(g<b.length-1)for(b=(new e(b.subarray(g))).getBytes(),f=new Uint8Array(w),l=g=0;l<b.length;l++)for(v=7;0<=v;v--)f[g++]=b[l]>>v&1;b=null;if(1===c)b=[d,d,d];else{b=[];for(l=0;3>l;l++)c=new Uint8Array(w),b.push(c);for(n=v=0;n<w;n++)for(l=0;3>l;l++)b[l][n]=d[v++]}return{width:a,height:h,pixels:b,mask:f}};return a}()})},
"esri/layers/support/rasterFormats/Jpg":function(){define([],function(){var a=function(){function a(a){this.message="JPEG error: "+a}a.prototype=Error();a.prototype.name="JpegError";return a.constructor=a}();return function(){function b(){this.decodeTransform=null;this.colorTransform=-1}function q(a,h){for(var c=0,d=[],f,e,l=16;0<l&&!a[l-1];)l--;d.push({children:[],index:0});var n=d[0],b;for(f=0;f<l;f++){for(e=0;e<a[f];e++){n=d.pop();for(n.children[n.index]=h[c];0<n.index;)n=d.pop();n.index++;for(d.push(n);d.length<=
f;)d.push(b={children:[],index:0}),n.children[n.index]=b.children,n=b;c++}f+1<l&&(d.push(b={children:[],index:0}),n.children[n.index]=b.children,n=b)}return d[0].children}function e(d,h,c,g,f,e,l,n,b){function r(){if(0<H)return H--,E>>H&1;E=d[h++];if(255===E){var c=d[h++];if(c)throw new a("unexpected marker "+(E<<8|c).toString(16));}H=7;return E>>>7}function t(c){for(;;){c=c[r()];if("number"===typeof c)return c;if("object"!==typeof c)throw new a("invalid huffman sequence");}}function u(a){for(var c=
0;0<a;)c=c<<1|r(),a--;return c}function v(a){if(1===a)return 1===r()?1:-1;var c=u(a);return c>=1<<a-1?c:c+(-1<<a)+1}function w(a,c){var d=t(a.huffmanTableDC),d=0===d?0:v(d);a.blockData[c]=a.pred+=d;for(d=1;64>d;){var f=t(a.huffmanTableAC),g=f&15,f=f>>4;if(0===g){if(15>f)break;d+=16}else d+=f,a.blockData[c+m[d]]=v(g),d++}}function p(a,c){var d=t(a.huffmanTableDC),d=0===d?0:v(d)<<b;a.blockData[c]=a.pred+=d}function B(a,c){a.blockData[c]|=r()<<b}function x(a,c){if(0<G)G--;else for(var d=e;d<=l;){var f=
t(a.huffmanTableAC),g=f&15,f=f>>4;if(0===g){if(15>f){G=u(f)+(1<<f)-1;break}d+=16}else d+=f,a.blockData[c+m[d]]=v(g)*(1<<b),d++}}function z(c,d){for(var f=e,g=0,h;f<=l;){h=m[f];switch(K){case 0:g=t(c.huffmanTableAC);h=g&15;g>>=4;if(0===h)15>g?(G=u(g)+(1<<g),K=4):(g=16,K=1);else{if(1!==h)throw new a("invalid ACn encoding");L=v(h);K=g?2:3}continue;case 1:case 2:c.blockData[d+h]?c.blockData[d+h]+=r()<<b:(g--,0===g&&(K=2===K?3:0));break;case 3:c.blockData[d+h]?c.blockData[d+h]+=r()<<b:(c.blockData[d+h]=
L<<b,K=0);break;case 4:c.blockData[d+h]&&(c.blockData[d+h]+=r()<<b)}f++}4===K&&(G--,0===G&&(K=0))}var q=c.mcusPerLine,C=h,E=0,H=0,G=0,K=0,L,N=g.length,I,M,J,Q,S;n=c.progressive?0===e?0===n?p:B:0===n?x:z:w;var O=0;c=1===N?g[0].blocksPerLine*g[0].blocksPerColumn:q*c.mcusPerColumn;for(var V,U;O<c;){var R=f?Math.min(c-O,f):c;for(M=0;M<N;M++)g[M].pred=0;G=0;if(1===N)for(I=g[0],S=0;S<R;S++)n(I,64*((I.blocksPerLine+1)*(O/I.blocksPerLine|0)+O%I.blocksPerLine)),O++;else for(S=0;S<R;S++){for(M=0;M<N;M++)for(I=
g[M],V=I.h,U=I.v,J=0;J<U;J++)for(Q=0;Q<V;Q++)n(I,64*((I.blocksPerLine+1)*((O/q|0)*I.v+J)+(O%q*I.h+Q)));O++}H=0;(I=k(d,h))&&I.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+I.invalid),h=I.offset);I=I&&I.marker;if(!I||65280>=I)throw new a("marker was not found");if(65488<=I&&65495>=I)h+=2;else break}(I=k(d,h))&&I.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+I.invalid),h=I.offset);return h-C}function p(d,h){d=h.blocksPerLine;for(var c=h.blocksPerColumn,
g=new Int16Array(64),f=0;f<c;f++)for(var e=0;e<d;e++){var l=64*((h.blocksPerLine+1)*f+e),n=g,b=h.quantizationTable,r=h.blockData,t=void 0,u=void 0,m=void 0,p=void 0,k=void 0,B=void 0,x=void 0,z=void 0,q=void 0,C=z=void 0,E=x=u=B=void 0,H=void 0,q=void 0;if(!b)throw new a("missing required Quantization Table.");for(var G=0;64>G;G+=8)q=r[l+G],z=r[l+G+1],C=r[l+G+2],B=r[l+G+3],u=r[l+G+4],x=r[l+G+5],E=r[l+G+6],H=r[l+G+7],q*=b[G],0===(z|C|B|u|x|E|H)?(q=5793*q+512>>10,n[G]=q,n[G+1]=q,n[G+2]=q,n[G+3]=q,n[G+
4]=q,n[G+5]=q,n[G+6]=q,n[G+7]=q):(z*=b[G+1],C*=b[G+2],B*=b[G+3],u*=b[G+4],x*=b[G+5],E*=b[G+6],H*=b[G+7],t=5793*q+128>>8,u=5793*u+128>>8,m=C,p=E,k=2896*(z-H)+128>>8,z=2896*(z+H)+128>>8,B<<=4,x<<=4,t=t+u+1>>1,u=t-u,q=3784*m+1567*p+128>>8,m=1567*m-3784*p+128>>8,p=q,k=k+x+1>>1,x=k-x,z=z+B+1>>1,B=z-B,t=t+p+1>>1,p=t-p,u=u+m+1>>1,m=u-m,q=2276*k+3406*z+2048>>12,k=3406*k-2276*z+2048>>12,z=q,q=799*B+4017*x+2048>>12,B=4017*B-799*x+2048>>12,x=q,n[G]=t+z,n[G+7]=t-z,n[G+1]=u+x,n[G+6]=u-x,n[G+2]=m+B,n[G+5]=m-B,
n[G+3]=p+k,n[G+4]=p-k);for(b=0;8>b;++b)q=n[b],z=n[b+8],C=n[b+16],B=n[b+24],u=n[b+32],x=n[b+40],E=n[b+48],H=n[b+56],0===(z|C|B|u|x|E|H)?(q=5793*q+8192>>14,q=-2040>q?0:2024<=q?255:q+2056>>4,r[l+b]=q,r[l+b+8]=q,r[l+b+16]=q,r[l+b+24]=q,r[l+b+32]=q,r[l+b+40]=q,r[l+b+48]=q,r[l+b+56]=q):(t=5793*q+2048>>12,u=5793*u+2048>>12,m=C,p=E,k=2896*(z-H)+2048>>12,z=2896*(z+H)+2048>>12,t=(t+u+1>>1)+4112,u=t-u,q=3784*m+1567*p+2048>>12,m=1567*m-3784*p+2048>>12,p=q,k=k+x+1>>1,x=k-x,z=z+B+1>>1,B=z-B,t=t+p+1>>1,p=t-p,u=
u+m+1>>1,m=u-m,q=2276*k+3406*z+2048>>12,k=3406*k-2276*z+2048>>12,z=q,q=799*B+4017*x+2048>>12,B=4017*B-799*x+2048>>12,x=q,q=t+z,H=t-z,z=u+x,E=u-x,C=m+B,x=m-B,B=p+k,u=p-k,q=16>q?0:4080<=q?255:q>>4,z=16>z?0:4080<=z?255:z>>4,C=16>C?0:4080<=C?255:C>>4,B=16>B?0:4080<=B?255:B>>4,u=16>u?0:4080<=u?255:u>>4,x=16>x?0:4080<=x?255:x>>4,E=16>E?0:4080<=E?255:E>>4,H=16>H?0:4080<=H?255:H>>4,r[l+b]=q,r[l+b+8]=z,r[l+b+16]=C,r[l+b+24]=B,r[l+b+32]=u,r[l+b+40]=x,r[l+b+48]=E,r[l+b+56]=H)}return h.blockData}function k(a,
h,c){var d=a.length-1;c=c<h?c:h;if(h>=d)return null;var f=a[h]<<8|a[h+1];if(65472<=f&&65534>=f)return{invalid:null,marker:f,offset:h};for(h=a[c]<<8|a[c+1];!(65472<=h&&65534>=h);){if(++c>=d)return null;h=a[c]<<8|a[c+1]}return{invalid:f.toString(16),marker:h,offset:c}}if(!self||!self.Uint8ClampedArray)return null;var m=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,
54,47,55,62,63]);b.prototype={parse:function(d){function h(){var a=d[f]<<8|d[f+1];f+=2;return a}function c(){var a=h(),a=f+a-2,c=k(d,a,f);c&&c.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+c.invalid),a=c.offset);a=d.subarray(f,a);f+=a.length;return a}function g(a){for(var c=Math.ceil(a.samplesPerLine/8/a.maxH),d=Math.ceil(a.scanLines/8/a.maxV),f=0;f<a.components.length;f++){C=a.components[f];var g=Math.ceil(Math.ceil(a.samplesPerLine/8)*C.h/a.maxH),h=Math.ceil(Math.ceil(a.scanLines/
8)*C.v/a.maxV);C.blockData=new Int16Array(64*d*C.v*(c*C.h+1));C.blocksPerLine=g;C.blocksPerColumn=h}a.mcusPerLine=c;a.mcusPerColumn=d}var f=0,b=null,l=null,n,v,r=[],t=[],u=[],A=h();if(65496!==A)throw new a("SOI not found");for(A=h();65497!==A;){var y,D;switch(A){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:y=c();65504===A&&74===y[0]&&70===y[1]&&73===y[2]&&70===
y[3]&&0===y[4]&&(b={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])});65518===A&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&(l={version:y[5]<<8|y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:for(var A=h()+f-2,B;f<A;){var x=d[f++],z=new Uint16Array(64);if(0===x>>4)for(y=0;64>y;y++)B=m[y],z[B]=d[f++];else if(1===x>>4)for(y=
0;64>y;y++)B=m[y],z[B]=h();else throw new a("DQT - invalid table spec");r[x&15]=z}break;case 65472:case 65473:case 65474:if(n)throw new a("Only single frame JPEGs supported");h();n={};n.extended=65473===A;n.progressive=65474===A;n.precision=d[f++];n.scanLines=h();n.samplesPerLine=h();n.components=[];n.componentIds={};y=d[f++];for(A=z=x=0;A<y;A++){B=d[f];D=d[f+1]>>4;var F=d[f+1]&15;x<D&&(x=D);z<F&&(z=F);D=n.components.push({h:D,v:F,quantizationId:d[f+2],quantizationTable:null});n.componentIds[B]=D-
1;f+=3}n.maxH=x;n.maxV=z;g(n);break;case 65476:B=h();for(A=2;A<B;){x=d[f++];z=new Uint8Array(16);for(y=D=0;16>y;y++,f++)D+=z[y]=d[f];F=new Uint8Array(D);for(y=0;y<D;y++,f++)F[y]=d[f];A+=17+D;(0===x>>4?u:t)[x&15]=q(z,F)}break;case 65501:h();v=h();break;case 65498:h();B=d[f++];y=[];for(var C,A=0;A<B;A++)x=n.componentIds[d[f++]],C=n.components[x],x=d[f++],C.huffmanTableDC=u[x>>4],C.huffmanTableAC=t[x&15],y.push(C);A=d[f++];B=d[f++];x=d[f++];A=e(d,f,n,y,v,A,B,x>>4,x&15);f+=A;break;case 65535:255!==d[f]&&
f--;break;default:if(255===d[f-3]&&192<=d[f-2]&&254>=d[f-2])f-=3;else throw new a("unknown marker "+A.toString(16));}A=h()}this.width=n.samplesPerLine;this.height=n.scanLines;this.jfif=b;this.eof=f;this.adobe=l;this.components=[];for(A=0;A<n.components.length;A++){C=n.components[A];if(b=r[C.quantizationId])C.quantizationTable=b;this.components.push({output:p(n,C),scaleX:C.h/n.maxH,scaleY:C.v/n.maxV,blocksPerLine:C.blocksPerLine,blocksPerColumn:C.blocksPerColumn})}this.numComponents=this.components.length},
_getLinearizedBlockData:function(a,h){var c=this.width/a,d=this.height/h,f,e,l,b,m,r,t=0,u,p=this.components.length,k=a*h*p,D=new Uint8ClampedArray(k),B=new Uint32Array(a);for(r=0;r<p;r++){f=this.components[r];e=f.scaleX*c;l=f.scaleY*d;t=r;u=f.output;b=f.blocksPerLine+1<<3;for(m=0;m<a;m++)f=0|m*e,B[m]=(f&4294967288)<<3|f&7;for(e=0;e<h;e++)for(f=0|e*l,f=b*(f&4294967288)|(f&7)<<3,m=0;m<a;m++)D[t]=u[f+B[m]],t+=p}if(h=this.decodeTransform)for(r=0;r<k;)for(a=f=0;f<p;f++,r++,a+=2)D[r]=(D[r]*h[a]>>8)+h[a+
1];return D},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0===this.colorTransform?!1:!0:1===this.colorTransform?!0:!1},_convertYccToRgb:function(a){for(var d,c,g,f=0,e=a.length;f<e;f+=3)d=a[f],c=a[f+1],g=a[f+2],a[f]=d-179.456+1.402*g,a[f+1]=d+135.459-.344*c-.714*g,a[f+2]=d-226.816+1.772*c;return a},_convertYcckToRgb:function(a){for(var d,c,g,f,e=0,l=0,b=a.length;l<b;l+=4)d=a[l],c=a[l+1],g=a[l+2],f=a[l+3],a[e++]=-122.67195406894+c*(-6.60635669420364E-5*
c+4.37130475926232E-4*g-5.4080610064599E-5*d+4.8449797120281E-4*f-.154362151871126)+g*(-9.57964378445773E-4*g+8.17076911346625E-4*d-.00477271405408747*f+1.53380253221734)+d*(9.61250184130688E-4*d-.00266257332283933*f+.48357088451265)+f*(-3.36197177618394E-4*f+.484791561490776),a[e++]=107.268039397724+c*(2.19927104525741E-5*c-6.40992018297945E-4*g+6.59397001245577E-4*d+4.26105652938837E-4*f-.176491792462875)+g*(-7.78269941513683E-4*g+.00130872261408275*d+7.70482631801132E-4*f-.151051492775562)+d*(.00126935368114843*
d-.00265090189010898*f+.25802910206845)+f*(-3.18913117588328E-4*f-.213742400323665),a[e++]=-20.810012546947+c*(-5.70115196973677E-4*c-2.63409051004589E-5*g+.0020741088115012*d-.00288260236853442*f+.814272968359295)+g*(-1.53496057440975E-5*g-1.32689043961446E-4*d+5.60833691242812E-4*f-.195152027534049)+d*(.00174418132927582*d-.00255243321439347*f+.116935020465145)+f*(-3.43531996510555E-4*f+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var d,c,g,f=0,e=a.length;f<e;f+=4)d=a[f],c=a[f+
1],g=a[f+2],a[f]=434.456-d-1.402*g,a[f+1]=119.541-d+.344*c+.714*g,a[f+2]=481.816-d-1.772*c;return a},_convertCmykToRgb:function(a){for(var d,c,g,f,e=0,l=1/255,b=0,m=a.length;b<m;b+=4)d=a[b]*l,c=a[b+1]*l,g=a[b+2]*l,f=a[b+3]*l,a[e++]=255+d*(-4.387332384609988*d+54.48615194189176*c+18.82290502165302*g+212.25662451639585*f-285.2331026137004)+c*(1.7149763477362134*c-5.6096736904047315*g-17.873870861415444*f-5.497006427196366)+g*(-2.5217340131683033*g-21.248923337353073*f+17.5119270841813)-f*(21.86122147463605*
f+189.48180835922747),a[e++]=255+d*(8.841041422036149*d+60.118027045597366*c+6.871425592049007*g+31.159100130055922*f-79.2970844816548)+c*(-15.310361306967817*c+17.575251261109482*g+131.35250912493976*f-190.9453302588951)+g*(4.444339102852739*g+9.8632861493405*f-24.86741582555878)-f*(20.737325471181034*f+187.80453709719578),a[e++]=255+d*(.8842522430003296*d+8.078677503112928*c+30.89978309703729*g-.23883238689178934*f-14.183576799673286)+c*(10.49593273432072*c+63.02378494754052*g+50.606957656360734*
f-112.23884253719248)+g*(.03296041114873217*g+115.60384449646641*f-193.58209356861505)-f*(22.33816807309886*f+180.12613974708367);return a},getData:function(d,h,c){if(4<this.numComponents)throw new a("Unsupported color mode");d=this._getLinearizedBlockData(d,h);if(1===this.numComponents&&c){c=d.length;h=new Uint8ClampedArray(3*c);for(var g=0,f=0;f<c;f++){var e=d[f];h[g++]=e;h[g++]=e;h[g++]=e}return h}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(d);if(4===
this.numComponents){if(this._isColorConversionNeeded())return c?this._convertYcckToRgb(d):this._convertYcckToCmyk(d);if(c)return this._convertCmykToRgb(d)}return d}};return b}()})},"esri/layers/support/rasterFormats/Lerc2Codec":function(){define([],function(){var a={unstuff:function(a,b,k,m,d,h,c,g){var f=(1<<k)-1,e=0,l,n=0,v,r;a[a.length-1]<<=8*(4*a.length-Math.ceil(k*m/8));if(d)for(l=0;l<m;l++)0===n&&(r=a[e++],n=32),n>=k?(v=r>>>n-k&f,n-=k):(n=k-n,v=(r&f)<<n&f,r=a[e++],n=32-n,v+=r>>>n),b[l]=d[v];
else for(d=Math.ceil((g-h)/c),l=0;l<m;l++)0===n&&(r=a[e++],n=32),n>=k?(v=r>>>n-k&f,n-=k):(n=k-n,v=(r&f)<<n&f,r=a[e++],n=32-n,v+=r>>>n),b[l]=v<d?h+v*c:g},unstuffLUT:function(a,b,k,m,d,h){var c=(1<<b)-1,g=0,f=0,e=0,l=e=0,n,v=[];a[a.length-1]<<=8*(4*a.length-Math.ceil(b*k/8));for(var r=Math.ceil((h-m)/d),f=0;f<k;f++)0===e&&(n=a[g++],e=32),e>=b?(l=n>>>e-b&c,e-=b):(e=b-e,l=(n&c)<<e&c,n=a[g++],e=32-e,l+=n>>>e),v[f]=l<r?m+l*d:h;v.unshift(m);return v},unstuff2:function(a,b,k,m,d,h,c,g){var f=(1<<k)-1,e=0,
l,n=0,v=0,r,t,u;if(d)for(l=0;l<m;l++)0===n&&(t=a[e++],n=32,v=0),n>=k?(r=t>>>v&f,n-=k,v+=k):(u=k-n,r=t>>>v&f,t=a[e++],n=32-u,r|=(t&(1<<u)-1)<<k-u,v=u),b[l]=d[r];else for(d=Math.ceil((g-h)/c),l=0;l<m;l++)0===n&&(t=a[e++],n=32,v=0),n>=k?(r=t>>>v&f,n-=k,v+=k):(u=k-n,r=t>>>v&f,t=a[e++],n=32-u,r|=(t&(1<<u)-1)<<k-u,v=u),b[l]=r<d?h+r*c:g;return b},unstuffLUT2:function(a,b,k,m,d,h){for(var c=(1<<b)-1,g=0,f=0,e=0,l=0,n=0,v=0,r,t=[],u=Math.ceil((h-m)/d),f=0;f<k;f++)0===l&&(r=a[g++],l=32,v=0),l>=b?(n=r>>>v&c,
l-=b,v+=b):(e=b-l,n=r>>>v&c,r=a[g++],l=32-e,n|=(r&(1<<e)-1)<<b-e,v=e),t[f]=n<u?m+n*d:h;t.unshift(m);return t},originalUnstuff:function(a,b,k,m){var d=(1<<k)-1,h=0,c,g=0,f,e;a[a.length-1]<<=8*(4*a.length-Math.ceil(k*m/8));for(c=0;c<m;c++)0===g&&(e=a[h++],g=32),g>=k?(f=e>>>g-k&d,g-=k):(g=k-g,f=(e&d)<<g&d,e=a[h++],g=32-g,f+=e>>>g),b[c]=f;return b},originalUnstuff2:function(a,b,k,m){var d=(1<<k)-1,h=0,c,g=0,f=0,e,l,n;for(c=0;c<m;c++)0===g&&(l=a[h++],g=32,f=0),g>=k?(e=l>>>f&d,g-=k,f+=k):(n=k-g,e=l>>>f&
d,l=a[h++],g=32-n,e|=(l&(1<<n)-1)<<k-n,f=n),b[c]=e;return b}},b={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(a){for(var e=65535,b=65535,m=a.length,d=Math.floor(m/2),h=0;d;){var c=359<=d?359:d,d=d-c;do e+=a[h++]<<8,b+=e+=a[h++];while(--c);e=(e&65535)+(e>>>16);b=(b&65535)+(b>>>16)}m&1&&(b+=e+=a[h]<<8);return((b&65535)+(b>>>16)<<16|(e&65535)+(e>>>16))>>>0},readHeaderInfo:function(a,b){var e=b.ptr,m=new Uint8Array(a,e,6),d={};d.fileIdentifierString=String.fromCharCode.apply(null,m);if(0!==
d.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+d.fileIdentifierString;var e=e+6,m=new DataView(a,e,8),h=m.getInt32(0,!0);d.fileVersion=h;e+=4;3<=h&&(d.checksum=m.getUint32(4,!0),e+=4);m=new DataView(a,e,12);d.height=m.getUint32(0,!0);d.width=m.getUint32(4,!0);e+=8;4<=h?(d.numDims=m.getUint32(8,!0),e+=4):d.numDims=1;m=new DataView(a,e,40);d.numValidPixel=m.getUint32(0,!0);d.microBlockSize=m.getInt32(4,!0);d.blobSize=m.getInt32(8,!0);d.imageType=
m.getInt32(12,!0);d.maxZError=m.getFloat64(16,!0);d.zMin=m.getFloat64(24,!0);d.zMax=m.getFloat64(32,!0);e+=40;b.headerInfo=d;b.ptr=e;if(3<=h&&(a=this.computeChecksumFletcher32(new Uint8Array(a,e-(4<=h?52:48),d.blobSize-14)),a!==d.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(a,b){var e=b.headerInfo,m=this.getDataTypeArray(e.imageType),d=e.numDims*this.getDataTypeSize(e.imageType),h=this.readSubArray(a,b.ptr,m,d);a=this.readSubArray(a,b.ptr+d,m,d);b.ptr+=2*d;d=!0;for(b=0;b<
e.numDims;b++)if(h[b]!==a[b]){d=!1;break}e.minValues=h;e.maxValues=a;return d},readSubArray:function(a,b,k,m){if(k===Uint8Array)a=new Uint8Array(a,b,m);else{var d=new ArrayBuffer(m);(new Uint8Array(d)).set(new Uint8Array(a,b,m));a=new k(d)}return a},readMask:function(a,b){var e=b.ptr,m=b.headerInfo,d=m.width*m.height,h=m.numValidPixel,c=new DataView(a,e,4),m={};m.numBytes=c.getUint32(0,!0);e+=4;if((0===h||d===h)&&0!==m.numBytes)throw"invalid mask";if(0===h)h=new Uint8Array(Math.ceil(d/8)),m.bitset=
h,c=new Uint8Array(d),b.pixels.resultMask=c,e+=m.numBytes;else if(0<m.numBytes){h=new Uint8Array(Math.ceil(d/8));c=new DataView(a,e,m.numBytes);a=c.getInt16(0,!0);var g=2,f=0,w=0;do{if(0<a)for(;a--;)h[f++]=c.getUint8(g++);else for(w=c.getUint8(g++),a=-a;a--;)h[f++]=w;a=c.getInt16(g,!0);g+=2}while(g<m.numBytes);if(-32768!==a||f<h.length)throw"Unexpected end of mask RLE encoding";c=new Uint8Array(d);for(g=g=a=0;g<d;g++)g&7?(a=h[g>>3],a<<=g&7):a=h[g>>3],a&128&&(c[g]=1);b.pixels.resultMask=c;m.bitset=
h;e+=m.numBytes}b.ptr=e;b.mask=m;return!0},readDataOneSweep:function(a,p,k){var e=p.ptr,d=p.headerInfo,h=d.numDims,c=d.width*d.height,d=d.numValidPixel*b.getDataTypeSize(d.imageType)*h,g=p.pixels.resultMask;if(k===Uint8Array)a=new Uint8Array(a,e,d);else{var f=new ArrayBuffer(d);(new Uint8Array(f)).set(new Uint8Array(a,e,d));a=new k(f)}if(a.length===c*h)p.pixels.resultPixels=a;else{p.pixels.resultPixels=new k(c*h);var w=f=k=0,l=0;if(1<h)for(w=0;w<h;w++)for(l=w*c,f=0;f<c;f++)g[f]&&(p.pixels.resultPixels[l+
f]=a[k++]);else for(f=0;f<c;f++)g[f]&&(p.pixels.resultPixels[f]=a[k++])}p.ptr=e+d;return!0},readHuffmanTree:function(a,p){var e=this.HUFFMAN_LUT_BITS_MAX,m=new DataView(a,p.ptr,16);p.ptr+=16;if(2>m.getInt32(0,!0))throw"unsupported Huffman version";var d=m.getInt32(4,!0),h=m.getInt32(8,!0),m=m.getInt32(12,!0);if(h>=m)return!1;var c=new Uint32Array(m-h);b.decodeBits(a,p,c);var g=[],f,w,l;for(f=h;f<m;f++)w=f-(f<d?0:d),g[w]={first:c[f-h],second:null};f=a.byteLength-p.ptr;c=new ArrayBuffer(4*Math.ceil(f/
4));(new Uint8Array(c)).set(new Uint8Array(a,p.ptr,f));a=new Uint32Array(c);p=0;var n,c=0;n=a[0];for(f=h;f<m;f++)w=f-(f<d?0:d),l=g[w].first,0<l&&(g[w].second=n<<p>>>32-l,32-p>=l?(p+=l,32===p&&(p=0,c++,n=a[c])):(p+=l-32,c++,n=a[c],g[w].second|=n>>>32-p));var v=n=0,r=new q;for(f=0;f<g.length;f++)void 0!==g[f]&&(n=Math.max(n,g[f].first));var v=n>=e?e:n,e=[],t,u;for(f=h;f<m;f++)if(w=f-(f<d?0:d),l=g[w].first,0<l)if(h=[l,w],l<=v)for(w=g[w].second<<v-l,t=1<<v-l,l=0;l<t;l++)e[w|l]=h;else for(w=g[w].second,
t=r,--l;0<=l;l--)(u=w>>>l&1)?(t.right||(t.right=new q),t=t.right):(t.left||(t.left=new q),t=t.left),0!==l||t.val||(t.val=h[1]);return{decodeLut:e,numBitsLUTQick:v,numBitsLUT:n,tree:r,stuffedData:a,srcPtr:c,bitPos:p}},readHuffman:function(a,b,k){var e=b.headerInfo,d=e.numDims,h=b.headerInfo.height,c=b.headerInfo.width,g=c*h,f=this.readHuffmanTree(a,b);a=f.decodeLut;var w=f.tree,l=f.stuffedData,n=f.srcPtr,v=f.bitPos,r=f.numBitsLUTQick,f=f.numBitsLUT,t=0===b.headerInfo.imageType?128:0,u,p,y=b.pixels.resultMask,
D,B,x,z,q,C,E=0;0<v&&(n++,v=0);var H=l[n],G=1===b.encodeMode,K=new k(g*d),L=K,N;for(N=0;N<e.numDims;N++){1<d&&(L=new k(K.buffer,g*N,g),E=0);if(b.headerInfo.numValidPixel===c*h)for(x=q=0;x<h;x++)for(z=0;z<c;z++,q++){p=0;u=D=H<<v>>>32-r;32-v<r&&(u=D|=l[n+1]>>>64-v-r);if(a[u])p=a[u][1],v+=a[u][0];else for(u=D=H<<v>>>32-f,32-v<f&&(u=D|=l[n+1]>>>64-v-f),u=w,C=0;C<f;C++)if(u=(B=D>>>f-C-1&1)?u.right:u.left,!u.left&&!u.right){p=u.val;v=v+C+1;break}32<=v&&(v-=32,n++,H=l[n]);p-=t;G?(p=0<z?p+E:0<x?p+L[q-c]:
p+E,p&=255,E=L[q]=p):L[q]=p}else for(x=q=0;x<h;x++)for(z=0;z<c;z++,q++)if(y[q]){p=0;u=D=H<<v>>>32-r;32-v<r&&(u=D|=l[n+1]>>>64-v-r);if(a[u])p=a[u][1],v+=a[u][0];else for(u=D=H<<v>>>32-f,32-v<f&&(u=D|=l[n+1]>>>64-v-f),u=w,C=0;C<f;C++)if(u=(B=D>>>f-C-1&1)?u.right:u.left,!u.left&&!u.right){p=u.val;v=v+C+1;break}32<=v&&(v-=32,n++,H=l[n]);p-=t;G?(p=0<z&&y[q-1]?p+E:0<x&&y[q-c]?p+L[q-c]:p+E,p&=255,E=L[q]=p):L[q]=p}b.ptr=b.ptr+4*(n+1)+(0<v?4:0)}b.pixels.resultPixels=K},decodeBits:function(b,p,k,m,d){var h=
p.headerInfo,c=h.fileVersion,g=0,f=new DataView(b,p.ptr,5<=b.byteLength-p.ptr?5:b.byteLength-p.ptr),e=f.getUint8(0);g++;var l=e>>6,n=0===l?4:3-l,v=0<(e&32)?!0:!1,l=e&31,e=0;if(1===n)e=f.getUint8(g),g++;else if(2===n)e=f.getUint16(g,!0),g+=2;else if(4===n)e=f.getUint32(g,!0),g+=4;else throw"Invalid valid pixel count type";var n=2*h.maxZError,r,t;d=1<h.numDims?h.maxValues[d]:h.zMax;if(v){p.counter.lut++;v=f.getUint8(g);g++;h=Math.ceil((v-1)*l/8);r=Math.ceil(h/4);r=new ArrayBuffer(4*r);t=new Uint8Array(r);
p.ptr+=g;t.set(new Uint8Array(b,p.ptr,h));g=new Uint32Array(r);p.ptr+=h;for(f=0;v-1>>>f;)f++;h=Math.ceil(e*f/8);r=Math.ceil(h/4);r=new ArrayBuffer(4*r);t=new Uint8Array(r);t.set(new Uint8Array(b,p.ptr,h));b=new Uint32Array(r);p.ptr+=h;p=3<=c?a.unstuffLUT2(g,l,v-1,m,n,d):a.unstuffLUT(g,l,v-1,m,n,d);3<=c?a.unstuff2(b,k,f,e,p):a.unstuff(b,k,f,e,p)}else p.counter.bitstuffer++,f=l,p.ptr+=g,0<f&&(h=Math.ceil(e*f/8),r=Math.ceil(h/4),r=new ArrayBuffer(4*r),t=new Uint8Array(r),t.set(new Uint8Array(b,p.ptr,
h)),b=new Uint32Array(r),p.ptr+=h,3<=c?null==m?a.originalUnstuff2(b,k,f,e):a.unstuff2(b,k,f,e,!1,m,n,d):null==m?a.originalUnstuff(b,k,f,e):a.unstuff(b,k,f,e,!1,m,n,d))},readTiles:function(a,p,k){var e=p.headerInfo,d=e.width,h=e.height,c=e.microBlockSize,g=e.imageType,f=b.getDataTypeSize(g),w=Math.ceil(d/c),l=Math.ceil(h/c);p.pixels.numBlocksY=l;p.pixels.numBlocksX=w;for(var n=p.pixels.ptr=0,v=0,r=0,t=0,u=0,A=0,y=0,D=0,B=0,x=0,z=0,q=0,C=0,y=C=y=0,E,H=new k(c*c),G=h%c||c,K=d%c||c,L=e.numDims,N,I=p.pixels.resultMask,
M=p.pixels.resultPixels,J=5<=e.fileVersion?14:15,Q=e.zMax,r=0;r<l;r++)for(u=r!==l-1?c:G,t=0;t<w;t++)for(A=t!==w-1?c:K,z=r*d*c+t*c,q=d-A,N=0;N<L;N++){1<L?(C=M,z=r*d*c+t*c,M=new k(p.pixels.resultPixels.buffer,d*h*N*f,d*h),Q=e.maxValues[N]):C=null;y=a.byteLength-p.ptr;n=new DataView(a,p.ptr,Math.min(10,y));v={};y=0;D=n.getUint8(0);y++;E=5<=e.fileVersion?D&4:0;B=D>>6&255;x=D>>2&J;if(x!==(t*c>>3&J))throw"integrity issue";if(E&&0===N)throw"integrity issue";D&=3;if(3<D)throw p.ptr+=y,"Invalid block encoding ("+
D+")";if(2===D){if(E)if(I)for(n=0;n<u;n++)for(v=0;v<A;v++)I[z]&&(M[z]=C[z]),z++;else for(n=0;n<u;n++)for(v=0;v<A;v++)M[z]=C[z],z++;p.counter.constant++;p.ptr+=y}else if(0===D){if(E)throw"integrity issue";p.counter.uncompressed++;p.ptr+=y;C=u*A*f;y=a.byteLength-p.ptr;C=C<y?C:y;y=new ArrayBuffer(0===C%f?C:C+f-C%f);E=new Uint8Array(y);E.set(new Uint8Array(a,p.ptr,C));y=new k(y);C=0;if(I)for(n=0;n<u;n++){for(v=0;v<A;v++)I[z]&&(M[z]=y[C++]),z++;z+=q}else for(n=0;n<u;n++){for(v=0;v<A;v++)M[z++]=y[C++];
z+=q}p.ptr+=C*f}else if(B=b.getDataTypeUsed(E&&6>g?4:g,B),x=b.getOnePixel(v,y,B,n),y+=b.getDataTypeSize(B),3===D)if(p.ptr+=y,p.counter.constantoffset++,I)for(n=0;n<u;n++){for(v=0;v<A;v++)I[z]&&(M[z]=E?Math.min(Q,C[z]+x):x),z++;z+=q}else for(n=0;n<u;n++){for(v=0;v<A;v++)M[z]=E?Math.min(Q,C[z]+x):x,z++;z+=q}else if(p.ptr+=y,b.decodeBits(a,p,H,x,N),y=0,E)if(I)for(n=0;n<u;n++){for(v=0;v<A;v++)I[z]&&(M[z]=H[y++]+C[z]),z++;z+=q}else for(n=0;n<u;n++){for(v=0;v<A;v++)M[z]=H[y++]+C[z],z++;z+=q}else if(I)for(n=
0;n<u;n++){for(v=0;v<A;v++)I[z]&&(M[z]=H[y++]),z++;z+=q}else for(n=0;n<u;n++){for(v=0;v<A;v++)M[z++]=H[y++];z+=q}}},formatFileInfo:function(a){return{fileIdentifierString:a.headerInfo.fileIdentifierString,fileVersion:a.headerInfo.fileVersion,imageType:a.headerInfo.imageType,height:a.headerInfo.height,width:a.headerInfo.width,numValidPixel:a.headerInfo.numValidPixel,microBlockSize:a.headerInfo.microBlockSize,blobSize:a.headerInfo.blobSize,maxZError:a.headerInfo.maxZError,pixelType:b.getPixelType(a.headerInfo.imageType),
eofOffset:a.eofOffset,mask:a.mask?{numBytes:a.mask.numBytes}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,maxValue:a.headerInfo.zMax,minValue:a.headerInfo.zMin,noDataValue:a.noDataValue}}},constructConstantSurface:function(a){var b=a.headerInfo.zMax,e=a.headerInfo.numDims,m=a.headerInfo.height*a.headerInfo.width,d=0,h=0,c=0,g=a.pixels.resultMask,f=a.pixels.resultPixels;if(g)if(1<e)for(d=0;d<e;d++)for(c=d*m,b=a.headerInfo.maxValues[d],h=0;h<m;h++)g[h]&&(f[c+h]=b);else for(h=
0;h<m;h++)g[h]&&(f[h]=b);else if(1<e)for(d=0;d<e;d++)for(c=d*m,b=a.headerInfo.maxValues[d],h=0;h<m;h++)f[c+h]=b;else for(h=0;h<m;h++)f[h]=b},getDataTypeArray:function(a){switch(a){case 0:a=Int8Array;break;case 1:a=Uint8Array;break;case 2:a=Int16Array;break;case 3:a=Uint16Array;break;case 4:a=Int32Array;break;case 5:a=Uint32Array;break;case 6:a=Float32Array;break;case 7:a=Float64Array;break;default:a=Float32Array}return a},getPixelType:function(a){switch(a){case 0:a="S8";break;case 1:a="U8";break;
case 2:a="S16";break;case 3:a="U16";break;case 4:a="S32";break;case 5:a="U32";break;case 6:a="F32";break;case 7:a="F64";break;default:a="F32"}return a},isValidPixelValue:function(a,b){if(null==b)return!1;switch(a){case 0:a=-128<=b&&127>=b;break;case 1:a=0<=b&&255>=b;break;case 2:a=-32768<=b&&32767>=b;break;case 3:a=0<=b&&65536>=b;break;case 4:a=-2147483648<=b&&2147483647>=b;break;case 5:a=0<=b&&4294967296>=b;break;case 6:a=-3.4027999387901484E38<=b&&3.4027999387901484E38>=b;break;case 7:a=4.9E-324<=
b&&1.7976931348623157E308>=b;break;default:a=!1}return a},getDataTypeSize:function(a){var b=0;switch(a){case 0:case 1:b=1;break;case 2:case 3:b=2;break;case 4:case 5:case 6:b=4;break;case 7:b=8;break;default:b=a}return b},getDataTypeUsed:function(a,b){var e=a;switch(a){case 2:case 4:e=a-b;break;case 3:case 5:e=a-2*b;break;case 6:e=0===b?a:1===b?2:1;break;case 7:e=0===b?a:a-2*b+1;break;default:e=a}return e},getOnePixel:function(a,b,k,m){a=0;switch(k){case 0:a=m.getInt8(b);break;case 1:a=m.getUint8(b);
break;case 2:a=m.getInt16(b,!0);break;case 3:a=m.getUint16(b,!0);break;case 4:a=m.getInt32(b,!0);break;case 5:a=m.getUInt32(b,!0);break;case 6:a=m.getFloat32(b,!0);break;case 7:a=m.getFloat64(b,!0);break;default:throw"the decoder does not understand this pixel type";}return a}},q=function(a,b,k){this.val=a;this.left=b;this.right=k};return{decode:function(a,p){p=p||{};var e=p.noDataValue,m=0,d={};d.ptr=p.inputOffset||0;d.pixels={};if(b.readHeaderInfo(a,d)){var m=d.headerInfo,h=m.fileVersion,c=b.getDataTypeArray(m.imageType);
if(5<h)throw"unsupported lerc version 2."+h;b.readMask(a,d);m.numValidPixel===m.width*m.height||d.pixels.resultMask||(d.pixels.resultMask=p.maskData);var g=m.width*m.height;d.pixels.resultPixels=new c(g*m.numDims);d.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};if(0!==m.numValidPixel)if(m.zMax===m.zMin)b.constructConstantSurface(d);else if(4<=h&&b.checkMinMaxRanges(a,d))b.constructConstantSurface(d);else{var f=new DataView(a,d.ptr,2),w=f.getUint8(0);d.ptr++;if(w)b.readDataOneSweep(a,
d,c);else if(1<h&&1>=m.imageType&&1E-5>Math.abs(m.maxZError-.5)){f=f.getUint8(1);d.ptr++;d.encodeMode=f;if(2<f||4>h&&1<f)throw"Invalid Huffman flag "+f;f?b.readHuffman(a,d,c):b.readTiles(a,d,c)}else b.readTiles(a,d,c)}d.eofOffset=d.ptr;p.inputOffset?(a=d.headerInfo.blobSize+p.inputOffset-d.ptr,1<=Math.abs(a)&&(d.eofOffset=p.inputOffset+d.headerInfo.blobSize)):(a=d.headerInfo.blobSize-d.ptr,1<=Math.abs(a)&&(d.eofOffset=d.headerInfo.blobSize));a={width:m.width,height:m.height,pixelData:d.pixels.resultPixels,
minValue:m.zMin,maxValue:m.zMax,validPixelCount:m.numValidPixel,dimCount:m.numDims,dimStats:{minValues:m.minValues,maxValues:m.maxValues},maskData:d.pixels.resultMask};if(d.pixels.resultMask&&b.isValidPixelValue(m.imageType,e)){h=d.pixels.resultMask;for(m=0;m<g;m++)h[m]||(a.pixelData[m]=e);a.noDataValue=e}d.noDataValue=e;p.returnFileInfo&&(a.fileInfo=b.formatFileInfo(d));return a}},getBandCount:function(a){for(var e=0,k=0,m={ptr:0,pixels:{}};k<a.byteLength-58;)b.readHeaderInfo(a,m),k+=m.headerInfo.blobSize,
e++,m.ptr=k;return e}}})},"esri/layers/support/rasterFormats/LercCodec":function(){define(["../../../core/mathUtils"],function(a){var b={};b.defaultNoDataValue=a.clampFloat32(-Infinity);b.decode=function(e,p){var k;p=p||{};var m=p.inputOffset||0,d=p.encodedMaskData||null===p.encodedMaskData,h={},c=new Uint8Array(e,m,10);h.fileIdentifierString=String.fromCharCode.apply(null,c);if("CntZImage"!=h.fileIdentifierString.trim())throw"Unexpected file identifier string: "+h.fileIdentifierString;m+=10;c=new DataView(e,
m,24);h.fileVersion=c.getInt32(0,!0);h.imageType=c.getInt32(4,!0);h.height=c.getUint32(8,!0);h.width=c.getUint32(12,!0);h.maxZError=c.getFloat64(16,!0);m+=24;if(!d)if(c=new DataView(e,m,16),h.mask={},h.mask.numBlocksY=c.getUint32(0,!0),h.mask.numBlocksX=c.getUint32(4,!0),h.mask.numBytes=c.getUint32(8,!0),h.mask.maxValue=c.getFloat32(12,!0),m+=16,0<h.mask.numBytes){var d=new Uint8Array(Math.ceil(h.width*h.height/8)),c=new DataView(e,m,h.mask.numBytes),g=c.getInt16(0,!0),f=2,w=0;do{if(0<g)for(;g--;)d[w++]=
c.getUint8(f++);else for(var l=c.getUint8(f++),g=-g;g--;)d[w++]=l;g=c.getInt16(f,!0);f+=2}while(f<h.mask.numBytes);if(-32768!==g||w<d.length)throw"Unexpected end of mask RLE encoding";h.mask.bitset=d;m+=h.mask.numBytes}else 0===(h.mask.numBytes|h.mask.numBlocksY|h.mask.maxValue)&&(d=new Uint8Array(Math.ceil(h.width*h.height/8)),h.mask.bitset=d);c=new DataView(e,m,16);h.pixels={};h.pixels.numBlocksY=c.getUint32(0,!0);h.pixels.numBlocksX=c.getUint32(4,!0);h.pixels.numBytes=c.getUint32(8,!0);h.pixels.maxValue=
c.getFloat32(12,!0);m+=16;d=h.pixels.numBlocksX;c=h.pixels.numBlocksY;d+=0<h.width%d?1:0;g=c+(0<h.height%c?1:0);h.pixels.blocks=Array(d*g);f=1E9;for(l=w=0;l<g;l++)for(var n=0;n<d;n++){var v=0,c=new DataView(e,m,Math.min(10,e.byteLength-m)),r={};h.pixels.blocks[w++]=r;var t=c.getUint8(0);v++;r.encoding=t&63;if(3<r.encoding)throw"Invalid block encoding ("+r.encoding+")";if(2===r.encoding)m++,f=Math.min(f,0);else{if(0!==t&&2!==t){t>>=6;r.offsetType=t;if(2===t)r.offset=c.getInt8(1),v++;else if(1===t)r.offset=
c.getInt16(1,!0),v+=2;else if(0===t)r.offset=c.getFloat32(1,!0),v+=4;else throw"Invalid block offset type";f=Math.min(r.offset,f);if(1===r.encoding)if(t=c.getUint8(v),v++,r.bitsPerPixel=t&63,t>>=6,r.numValidPixelsType=t,2===t)r.numValidPixels=c.getUint8(v),v++;else if(1===t)r.numValidPixels=c.getUint16(v,!0),v+=2;else if(0===t)r.numValidPixels=c.getUint32(v,!0),v+=4;else throw"Invalid valid pixel count type";}m+=v;if(3!=r.encoding)if(0===r.encoding){c=(h.pixels.numBytes-1)/4;if(c!==Math.floor(c))throw"uncompressed block has invalid length";
v=new ArrayBuffer(4*c);t=new Uint8Array(v);t.set(new Uint8Array(e,m,4*c));v=new Float32Array(v);for(t=0;t<v.length;t++)f=Math.min(f,v[t]);r.rawData=v;m+=4*c}else 1===r.encoding&&(c=Math.ceil(r.numValidPixels*r.bitsPerPixel/8),v=new ArrayBuffer(4*Math.ceil(c/4)),t=new Uint8Array(v),t.set(new Uint8Array(e,m,c)),r.stuffedData=new Uint32Array(v),m+=c)}}h.pixels.minValue=f;h.eofOffset=m;e=null!=p.noDataValue?a.clampFloat32(p.noDataValue):b.defaultNoDataValue;var d=p.encodedMaskData,r=p.returnMask,c=0,
g=h.pixels.numBlocksX,f=h.pixels.numBlocksY,w=Math.floor(h.width/g),l=Math.floor(h.height/f),n=2*h.maxZError,d=d||(h.mask?h.mask.bitset:null),u,m=new (p.pixelType||Float32Array)(h.width*h.height);r&&d&&(u=new Uint8Array(h.width*h.height));for(var r=new Float32Array(w*l),A,y,v=0;v<=f;v++)if(t=v!==f?l:h.height%f,0!==t)for(var D=0;D<=g;D++){var B=D!==g?w:h.width%g;if(0!==B){var x=v*h.width*l+D*w,z=h.width-B,F=h.pixels.blocks[c],C,E;if(2>F.encoding){if(0===F.encoding)C=F.rawData;else{C=F.stuffedData;
E=F.bitsPerPixel;A=F.numValidPixels;y=F.offset;var H=n,G=r,K=h.pixels.maxValue,L=(1<<E)-1,N=0,I=void 0,M=0,J=void 0,Q=void 0,S=Math.ceil((K-y)/H);C[C.length-1]<<=8*(4*C.length-Math.ceil(E*A/8));for(I=0;I<A;I++)0===M&&(Q=C[N++],M=32),M>=E?(J=Q>>>M-E&L,M-=E):(M=E-M,J=(Q&L)<<M&L,Q=C[N++],M=32-M,J+=Q>>>M),G[I]=J<S?y+J*H:K;C=r}E=0}else k=2===F.encoding?0:F.offset;var O;if(d)for(y=0;y<t;y++){x&7&&(O=d[x>>3],O<<=x&7);for(A=0;A<B;A++)x&7||(O=d[x>>3]),O&128?(u&&(u[x]=1),m[x++]=2>F.encoding?C[E++]:k):(u&&(u[x]=
0),m[x++]=e),O<<=1;x+=z}else if(2>F.encoding)for(y=0;y<t;y++){for(A=0;A<B;A++)m[x++]=C[E++];x+=z}else for(y=0;y<t;y++)if(m.fill)m.fill(k,x,x+B),x+=B+z;else{for(A=0;A<B;A++)m[x++]=k;x+=z}if(1===F.encoding&&E!==F.numValidPixels)throw"Block and Mask do not match";c++}}k=u;u={width:h.width,height:h.height,pixelData:m,minValue:h.pixels.minValue,maxValue:h.pixels.maxValue,noDataValue:e};k&&(u.maskData=k);p.returnEncodedMask&&h.mask&&(u.encodedMaskData=h.mask.bitset?h.mask.bitset:null);if(p.returnFileInfo&&
(u.fileInfo=q(h),p.computeUsedBitDepths)){p=u.fileInfo;k=h.pixels.numBlocksX*h.pixels.numBlocksY;O={};for(C=0;C<k;C++)E=h.pixels.blocks[C],0===E.encoding?O.float32=!0:1===E.encoding?O[E.bitsPerPixel]=!0:O[0]=!0;h=Object.keys(O);p.bitDepths=h}return u};var q=function(a){return{fileIdentifierString:a.fileIdentifierString,fileVersion:a.fileVersion,imageType:a.imageType,height:a.height,width:a.width,maxZError:a.maxZError,eofOffset:a.eofOffset,mask:a.mask?{numBlocksX:a.mask.numBlocksX,numBlocksY:a.mask.numBlocksY,
numBytes:a.mask.numBytes,maxValue:a.mask.maxValue}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,numBytes:a.pixels.numBytes,maxValue:a.pixels.maxValue,minValue:a.pixels.minValue,noDataValue:this.noDataValue}}};return b})},"esri/layers/support/rasterFormats/Png":function(){define(["./Zlib"],function(a){return function(b){function q(a){var d,b,c,g;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(c=null;;){d=
this.readUInt32();g=a=void 0;g=[];for(a=0;4>a;++a)g.push(String.fromCharCode(this.data[this.pos++]));a=g.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};
break;case "PLTE":this.palette=this.read(d);break;case "fcTL":c&&this.animation.frames.push(c);this.pos+=4;c={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();d=this.readUInt16()||100;c.delay=1E3*a/d;c.disposeOp=this.data[this.pos++];c.blendOp=this.data[this.pos++];c.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,d-=4);a=(null!=c?c.data:void 0)||this.imgData;for(g=0;0<=d?g<d:g>d;0<=d?++g:--g)a.push(this.data[this.pos++]);
break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read(d);d=255-this.transparency.indexed.length;if(0<d)for(a=0;0<=d?a<d:a>d;0<=d?++a:--a)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case "tEXt":g=this.read(d);d=g.indexOf(0);a=String.fromCharCode.apply(String,g.slice(0,d));this.text[a]=String.fromCharCode.apply(String,g.slice(d+1));break;case "IEND":c&&
this.animation.frames.push(c);a:{switch(this.colorType){case 0:case 3:case 4:c=1;break a;case 2:case 6:c=3;break a}c=void 0}this.colors=c;this.hasAlphaChannel=4===(b=this.colorType)||6===b;b=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*b;a:{switch(this.colors){case 1:b="DeviceGray";break a;case 3:b="DeviceRGB";break a}b=void 0}this.colorSpace=b;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=d}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");
}}var e,p,k;q.load=function(a,d,b){var c;"function"===typeof d&&(b=d);c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){var a;a=new Uint8Array(c.response||c.mozResponseArrayBuffer);a=new q(a);"function"===typeof(null!=d?d.getContext:void 0)&&a.render(d);return"function"===typeof b?b(a):void 0};return c.send(null)};q.prototype.read=function(a){var d,b;b=[];for(d=0;0<=a?d<a:d>a;0<=a?++d:--d)b.push(this.data[this.pos++]);return b};q.prototype.readUInt32=function(){var a,
d,b,c;a=this.data[this.pos++]<<24;d=this.data[this.pos++]<<16;b=this.data[this.pos++]<<8;c=this.data[this.pos++];return a|d|b|c};q.prototype.readUInt16=function(){var a,d;a=this.data[this.pos++]<<8;d=this.data[this.pos++];return a|d};q.prototype.decodePixels=function(b){var d,h,c,g,f,e,l,n,v,r,t,u,m,p,k;null==b&&(b=this.imgData);if(0===b.length)return new Uint8Array(0);b=new a(b);b=b.getBytes();n=this.pixelBitlength/8;u=n*this.width;v=new Uint8Array(u*this.height);e=b.length;for(h=r=t=0;r<e;){switch(b[r++]){case 0:for(g=
d=0;d<u;g=d+=1)v[h++]=b[r++];break;case 1:for(g=m=0;m<u;g=m+=1)d=b[r++],f=g<n?0:v[h-n],v[h++]=(d+f)%256;break;case 2:for(g=f=0;f<u;g=f+=1)d=b[r++],c=(g-g%n)/n,m=t&&v[(t-1)*u+c*n+g%n],v[h++]=(m+d)%256;break;case 3:for(g=k=0;k<u;g=k+=1)d=b[r++],c=(g-g%n)/n,f=g<n?0:v[h-n],m=t&&v[(t-1)*u+c*n+g%n],v[h++]=(d+Math.floor((f+m)/2))%256;break;case 4:for(g=k=0;k<u;g=k+=1)d=b[r++],c=(g-g%n)/n,f=g<n?0:v[h-n],0===t?m=p=0:(m=v[(t-1)*u+c*n+g%n],p=c&&v[(t-1)*u+(c-1)*n+g%n]),l=f+m-p,g=Math.abs(l-f),c=Math.abs(l-m),
l=Math.abs(l-p),f=g<=c&&g<=l?f:c<=l?m:p,v[h++]=(d+f)%256;break;default:throw Error("Invalid filter algorithm: "+b[r-1]);}t++}return v};q.prototype.decodePalette=function(){var a,d,b,c,g,f,e,l,n;b=this.palette;f=this.transparency.indexed||[];g=new Uint8Array((f.length||0)+b.length);d=e=a=c=0;for(l=b.length;e<l;d=e+=3)g[c++]=b[d],g[c++]=b[d+1],g[c++]=b[d+2],g[c++]=null!=(n=f[a++])?n:255;return g};q.prototype.copyToImageData=function(a,d){var b,c,g,f,e,l,n;c=this.colors;n=null;b=this.hasAlphaChannel;
this.palette.length&&(n=null!=(g=this._decodedPalette)?g:this._decodedPalette=this.decodePalette(),c=4,b=!0);a=a.data||a;l=a.length;f=n||d;g=e=0;if(1===c)for(;g<l;)c=n?4*d[g/4]:e,e=f[c++],a[g++]=e,a[g++]=e,a[g++]=e,a[g++]=b?f[c++]:this.transparency.grayscale&&this.transparency.grayscale===e?0:255,e=c;else for(;g<l;)c=n?4*d[g/4]:e,a[g++]=f[c++],a[g++]=f[c++],a[g++]=f[c++],a[g++]=b?f[c++]:this.transparency.rgb&&this.transparency.rgb[1]===f[c-3]&&this.transparency.rgb[3]===f[c-2]&&this.transparency.rgb[5]===
f[c-1]?0:255,e=c};q.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};k=(p=b.document&&b.document.createElement("canvas"))&&p.getContext("2d");e=function(a){k.width=a.width;k.height=a.height;k.clearRect(0,0,a.width,a.height);k.putImageData(a,0,0);a=new Image;a.src=p.toDataURL();return a};q.prototype.decodeFrames=function(a){var d,b,c,g,f,m,l;if(this.animation){m=this.animation.frames;l=[];d=g=0;for(f=m.length;g<f;d=++g)d=
m[d],b=a.createImageData(d.width,d.height),c=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(b,c),d.imageData=b,l.push(d.image=e(b));return l}};q.prototype.renderFrame=function(a,d){var b,c;c=this.animation.frames;b=c[d];c=c[d-1];0===d&&a.clearRect(0,0,this.width,this.height);1===(null!=c?c.disposeOp:void 0)?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===(null!=c?c.disposeOp:void 0)&&a.putImageData(c.imageData,c.xOffset,c.yOffset);0===b.blendOp&&a.clearRect(b.xOffset,b.yOffset,
b.width,b.height);return a.drawImage(b.image,b.xOffset,b.yOffset)};q.prototype.animate=function(a){var d,b,c,g,f,e,l=this;b=0;e=this.animation;g=e.numFrames;c=e.frames;f=e.numPlays;return(d=function(){var h,e;h=b++%g;e=c[h];l.renderFrame(a,h);if(1<g&&b/g<f)return l.animation._timeout=setTimeout(d,e.delay)})()};q.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)};q.prototype.render=function(a){var d;a._png&&a._png.stopAnimation();a._png=this;a.width=
this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);d=a.createImageData(this.width,this.height);this.copyToImageData(d,this.decodePixels());return a.putImageData(d,0,0)};return q}(this)})},"esri/layers/support/rasterFormats/Raw":function(){define(["require","exports"],function(a,b){var q=function(a){var b=1;switch(a){case Uint8Array:case Int8Array:b=1;break;case Uint16Array:case Int16Array:b=2;break;case Uint32Array:case Int32Array:case Float32Array:b=
4;break;case Float64Array:b=8}return b};return function(){function a(){}a.decode=function(a,b){var e=b.pixelType,d=[],h=b.width*b.height,c=Math.floor(a.byteLength/(b.width*b.height*q(b.pixelType))),g=b.bandIds,f=b.format;b=g&&g.length||Math.floor(a.byteLength/(b.width*b.height*q(b.pixelType)));var w=a.byteLength-a.byteLength%(h*q(e)),l=new e(a,0,h*c),n,v,r,t;if("bip"===f)for(f=0;f<b;f++){r=new e(h);t=g?g[f]:f;for(n=0;n<h;n++)r[n]=l[n*c+t];d.push(r)}else if("bsq"===f)for(f=0;f<b;f++)t=g?g[f]:f,d.push(l.subarray(t*
h,(t+1)*h));if(w<a.byteLength-1)if(a=a.slice(w),8*a.byteLength<h)v=null;else{a=new Uint8Array(a,0,Math.ceil(h/8));e=new Uint8Array(h);for(v=b=v=g=c=0;v<a.length-1;v++)for(g=a[v],b=7;0<=b;b--)e[c++]=g>>b&1;for(b=7;c<h-1;)g=a[a.length-1],e[c++]=g>>b&1,b--;v=e}return{pixels:d,mask:v}};return a}()})},"esri/layers/support/rasterFormats/TiffDecoder":function(){define("require exports ../../../core/tsSupport/assignHelper ../rasterDatasets/byteStreamUtils ./Jpg ./TiffTags ./Zlib".split(" "),function(a,b,
q,e,p,k,m){function d(a,c){var d="unknown";3===a?d="f32":1===a?1===c?d="u1":2===c?d="u2":4===c?d="u4":8>=c?d="u8":16>=c?d="u16":32>=c&&(d="u32"):2===a&&(8>=c?d="s8":16>=c?d="s16":32>=c&&(d="s32"));return d}function h(a){var c=null;switch(a?a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":c=Uint8Array;break;case "u16":c=Uint16Array;break;case "u32":c=Uint32Array;break;case "s8":c=Int8Array;break;case "s16":c=Int16Array;break;case "s32":c=Int32Array;break;default:c=Float32Array}return c}
function c(a,c){return{x:c[0]*a.x+c[1]*a.y+c[2],y:c[3]*a.x+c[4]*a.y+c[5]}}function g(a,c){return(a=a.get(c))&&a.values}function f(a,c){return(a=a.get(c))&&a.values[0]}function w(a,c,d,f,b,g){void 0===f&&(f=0);void 0===b&&(b=k.TIFF_TAGS);void 0===g&&(g=4);var h=(new DataView(a,d,2)).getUint16(0,c),r=4+2*g,e=2+h*r;if(d+e>a.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:e};var n=d+e+4<=a.byteLength?(new DataView(a,d+e,4)).getUint32(0,c):null;d+=2;for(var u=new Map,t,v,m,w,p,A,
B=0;B<h;B++){t=new DataView(a,d+r*B,r);v=t.getUint16(0,c);w=t.getUint16(2,c);m=k.getTagName(v,b);if(2===g)p=t.getUint16(4,c),A=t.getUint16(6,c);else if(4===g)p=t.getUint32(4,c),A=t.getUint32(8,c);else if(8===g)if(A=p=0,c)for(var y=0;8>y;y++)p+=t.getUint8(4+y)*Math.pow(2,8*y),A+=t.getUint8(12+y)*Math.pow(2,8*y);else for(y=0;8>y;y++)p+=t.getUint8(4+y)*Math.pow(2,8*(7-y)),A+=t.getUint8(12+y)*Math.pow(2,8*(7-y));t={id:v,type:w,valueCount:p,valueOffset:A,values:null};l(a,c,t,f);u.set(m,t)}return{success:!0,
ifd:u,nextIFD:n,requiredBufferSize:e}}function l(a,c,d,f,b){void 0===f&&(f=0);if(d.values)return!0;var g=d.type,l=d.valueCount,h=d.valueOffset,r=[],e=u[g],n=8*e,t=l*e,v=l*u[g]*8;if(32<v&&t>(b?a.byteLength:a?a.byteLength-h+f:0))return d.offlineOffsetSize=[h,t],d.values=null,!1;if(32>=v)if(c||(h>>>=32-v),1===l)r=[h];else for(a=0;a<l;a++)r.push(h<<n*a>>>32-n);else for(h-=f,b&&(h=0),n=h;n<h+t;n+=e){switch(g){case 1:l=(new DataView(a,n,1)).getUint8(0);break;case 2:l=(new DataView(a,n,1)).getUint8(0);break;
case 3:l=(new DataView(a,n,2)).getUint16(0,c);break;case 4:l=(new DataView(a,n,4)).getUint32(0,c);break;case 5:l=(new DataView(a,n,4)).getUint32(0,c)/(new DataView(a,n+4,4)).getUint32(0,c);break;case 6:l=(new DataView(a,n,1)).getInt8(0);break;case 7:l=(new DataView(a,n,1)).getUint8(0);break;case 8:l=(new DataView(a,n,2)).getInt16(0,c);break;case 9:l=(new DataView(a,n,4)).getInt32(0,c);break;case 10:l=(new DataView(a,n,4)).getInt32(0,c)/(new DataView(a,n+4,4)).getInt32(0,c);break;case 11:l=(new DataView(a,
n,4)).getFloat32(0,c);break;case 12:l=(new DataView(a,n,8)).getFloat64(0,c);break;default:l=null}r.push(l)}if(2===g){g="";h=r;r=[];for(a=0;a<h.length;a++)0===h[a]&&""!==g?(r.push(g),g=""):g+=String.fromCharCode(h[a]);""===g&&0!==r.length||r.push(g)}d.values=r;return!0}function n(a){var b=a[0],l=f(b,"TILEWIDTH"),h=f(b,"TILELENGTH"),r=f(b,"IMAGEWIDTH"),e=f(b,"IMAGELENGTH"),n=f(b,"BITSPERSAMPLE"),u=f(b,"SAMPLESPERPIXEL"),t=f(b,"SAMPLEFORMAT")||1,v=d(t,n),m=g(b,"PLANARCONFIGURATION")?2===g(b,"PLANARCONFIGURATION")[0]:
!1,w=g(b,"GDAL_NODATA"),p;null!=w&&("string"===typeof w[0]?(p=w.map(function(a){return parseFloat(a)}),p.some(function(a){return isNaN(a)})&&(p=null)):"number"===typeof w[0]&&(p=w));var A=f(b,"COMPRESSION")||1;switch(A){case 1:w="NONE";break;case 2:case 3:case 4:case 32771:w="CCITT";break;case 5:w="LZW";break;case 6:case 7:w="JPEG";break;case 32773:w="PACKBITS";break;case 8:case 32946:w="DEFLATE";break;case 34712:w="JPEG2000";break;default:w=String(A)}var k=!0,y="";1!==A&&6!==A&&8!==A&&32946!==A&&
(k=!1,y+="unsupported tag compression "+A);3<t&&(k=!1,y+="unsupported tag sampleFormat "+t);0!==n%8&&(k=!1,y+="unsupported tag bitsPerSample "+n);var n=f(b,"GEOASCIIPARAMS"),B;n&&(B=(B=n.split("|").filter(function(a){return-1<a.indexOf("ESRI PE String \x3d ")})[0])?B.replace("ESRI PE String \x3d ",""):"",B=0===B.indexOf("PROJCS")||0===B.indexOf("GEOGCS")?{wkid:null,wkt:B}:null);var n=g(b,"GEOTIEPOINTS"),t=g(b,"GEOPIXELSCALE"),A=g(b,"GEOTRANSMATRIX"),q=b.has("GEOKEYDIRECTORY")?b.get("GEOKEYDIRECTORY").data:
null,b=!1;if(q){var b=2===f(q,"GTRasterTypeGeoKey"),U=f(q,"GTModelTypeGeoKey");2===U?(q=f(q,"GeographicTypeGeoKey"),1024<q&&32766>q&&(B={wkid:q})):1===U&&(q=f(q,"ProjectedCSTypeGeoKey"),1024<q&&32766>q&&(B={wkid:q}))}var R,X;t&&n&&6<=n.length?(R=[t[0],0,n[3]-n[0]*t[0],0,-Math.abs(t[1]),n[4]-n[1]*t[1]],b&&(R[2]-=.5*R[0]+.5*R[1],R[5]-=.5*R[3]+.5*R[4])):A&&16===A.length&&(R=[A[0],A[1],A[3],A[4],A[5],A[7]]);if(R){X=[{x:0,y:e},{x:0,y:0},{x:r,y:e},{x:r,y:0}];b=void 0;t=n=Number.POSITIVE_INFINITY;q=A=Number.NEGATIVE_INFINITY;
for(U=0;U<X.length;U++)b=c(X[U],R),n=b.x>n?n:b.x,A=b.x<A?A:b.x,t=b.y>t?t:b.y,q=b.y<q?q:b.y;X={xmin:n,xmax:A,ymin:t,ymax:q,spatialReference:B}}R=a.filter(function(a){return 1===f(a,"NEWSUBFILETYPE")});var P,T,W,aa;0<R.length&&(P=Math.round(Math.log(r/f(R[0],"IMAGEWIDTH"))/Math.LN2),T=Math.round(Math.log(r/f(R[R.length-1],"IMAGEWIDTH"))/Math.LN2),W=f(R[R.length-1],"TILEWIDTH"),aa=f(R[R.length-1],"TILEHEIGHT"));W=0<T?W||l:null;aa=0<T?aa||h:null;var Z;l&&(Z=[{maxCol:Math.ceil(r/l)-1,maxRow:Math.ceil(e/
h)-1,minRow:0,minCol:0}],R.forEach(function(a){Z.push({maxCol:Math.ceil(f(a,"IMAGEWIDTH")/f(a,"TILEWIDTH"))-1,maxRow:Math.ceil(f(a,"IMAGELENGTH")/f(a,"TILELENGTH"))-1,minRow:0,minCol:0})}));a=f(a[0],"GDAL_METADATA");a=D(a);return{width:r,height:e,tileWidth:l,tileHeight:h,planes:u,isBSQ:m,pixelType:v,compression:w,noData:p,isSupported:k,message:y,extent:X,firstPyramidLevel:P,maximumPyramidLevel:T,pyramidBlockWidth:W,pyramidBlockHeight:aa,tileBoundary:Z,metadata:a}}function v(a){var c=new DataView(a,
0,8),d=c.getUint16(0,!1),f=null;if(18761===d)f=!0;else if(19789===d)f=!1;else throw"unexpected endianess byte";if(42!==c.getUint16(2,f))throw"unexpected tiff identifier";d=c.getUint32(4,f);c=[];do if(d=r(a,f,d),d.success)c.push(d.ifd),d=d.nextIFD;else break;while(0<d);a=n(c);return q({},a,{littleEndian:f,ifds:c})}function r(a,c,d,f,b,g){void 0===f&&(f=0);void 0===b&&(b=k.TIFF_TAGS);void 0===g&&(g=4);d=w(a,c,d,f,b,g);var l,h=d.ifd;h&&(k.ifdTags.forEach(function(d,b){h.has(b)&&(l=h.get(b),l.data=w(a,
c,l.valueOffset-f,f,d).ifd)}),h.has("GEOKEYDIRECTORY")&&(l=h.get("GEOKEYDIRECTORY"),(b=l.values)&&4<b.length&&(b=b[0]+"."+b[1]+"."+b[2],l.data=w(a,c,l.valueOffset+6-f,f,k.GEO_KEYS,2).ifd,l.data&&l.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[b]}))),h.has("XMP")&&(l=h.get("XMP"),b=l.values,"number"===typeof b[0]&&7===l.type&&(l.values=[e.bytesToUTF8(new Uint8Array(b))])));return d}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){var a=new ArrayBuffer(4),
c=new Uint8Array(a);(new Uint32Array(a))[0]=1;return 1===c[0]}(),u=[0,1,1,2,4,8,1,1,2,4,8,4,8],A=function(a,c,b,g,l){c=t===c;var r=f(b,"BITSPERSAMPLE"),e=f(b,"SAMPLEFORMAT")||1,r=d(e,r),e=f(b,"COMPRESSION")[0]||1;b=h(r);var n,u;1===e?(n=a.slice(g,g+l),u=new Uint8Array(n)):8===e||32946===e?(u=new Uint8Array(a,g,l),u=new m(u),a=u.getBytes(),n=new ArrayBuffer(a.length),u=new Uint8Array(n),u.set(a)):6===e&&(u=new Uint8Array(a,g,l),n=new p,n.parse(u),a=n.getData(n.width,n.height,!0),n=new ArrayBuffer(a.length),
u=new Uint8Array(n),u.set(a));if("u8"!==r&&"s8"!==r&&!c)switch(n=new ArrayBuffer(u.length),c=new Uint8Array(n),r){case "u16":case "s16":for(r=0;r<u.length;r+=2)c[r]=u[r+1],c[r+1]=u[r];break;case "u32":case "s32":case "f32":for(r=0;r<u.length;r+=4)c[r]=u[r+3],c[r+1]=u[r+2],c[r+2]=u[r+1],c[r+3]=u[r]}return new b(n)},y=function(a,c,d){if(!(a&&0<a.length&&c&&d))return null;for(var f,b,g,l=a[0].length,h=a.length,r=new Uint8Array(l),e=0;e<h;e++)if(f=a[e],b=c[e],g=d[e],0===e)for(var n=0;n<l;n++)r[n]=f[n]<
b||f[n]>g?0:1;else for(n=0;n<l;n++)r[n]&&(r[n]=f[n]<b||f[n]>g?0:1);return r},D=function(a){if(!a)return null;var c=a.match(/<Item(.*?)Item>/gi);if(!c||0===c.length)return null;a=new Map;for(var d,f,b,g,l=0;l<c.length;l++)d=c[l],f=d.slice(6,d.indexOf("\x3e")),b=d.indexOf("sample\x3d"),-1<b&&(g=d.slice(b+8,d.indexOf('"',b+8))),b=d.indexOf("name\x3d"),-1<b&&(f=d.slice(b+6,d.indexOf('"',b+6))),f&&(d=d.slice(d.indexOf("\x3e")+1,d.indexOf("\x3c/Item\x3e")).trim(),null!=g?a.has(f)?a.get(f)[g]=d:a.set(f,
[d]):a.set(f,d)),g=null;c=a.get("STATISTICS_MINIMUM");f=a.get("STATISTICS_MAXIMUM");d=a.get("STATISTICS_MEAN");b=a.get("STATISTICS_STDDEV");g=null;if(c&&f)for(g=[],l=0;l<c.length;l++)g.push({min:parseFloat(c[l]),max:parseFloat(f[l]),avg:d&&parseFloat(d[l]),stddev:b&&parseFloat(b[l])});f=a.get("BandName");d=a.get("WavelengthMin");b=a.get("WavelengthMax");c=null;if(f)for(c=[],l=0;l<f.length;l++)c.push({BandName:f[l],WavelengthMin:d&&parseFloat(d[l]),WavelengthMax:b&&parseFloat(b[l])});l=a.get("DataType");
return{statistics:g,bandProperties:c,dataType:l,rawMetadata:a}};b.parseFieldValues=l;b.getImageInfo=n;b.parseHeader=v;b.parseSignature=function(a){var c=new DataView(a,0,8),d=c.getUint16(0,!1);a=null;if(18761===d)a=!0;else if(19789===d)a=!1;else throw"unexpected endianess byte";if(42!==c.getUint16(2,a))throw"unexpected tiff identifier";c=c.getUint32(4,a);return{littleEndian:a,firstIFD:c}};b.parseIFD=r;b.decodeTileOrStrip=function(a,c){var d=c.headerInfo,b=c.ifd,g=A(a,d.littleEndian,b,c.offset||0,
c.size||a.byteLength);a=d.pixelType;for(var l=d.isBSQ,r=d.planes,n=h(a),e=g.length/r,u,t=[],v=0;v<r;v++){u=new n(e);if(l)u=g.slice(e*v,e*(v+1));else for(var m=0;m<e;m++)u[m]=g[m*r+v];t.push(u)}var g=f(b,"TILEWIDTH"),b=f(b,"TILELENGTH"),l=d.noData?d.noData[0]:null,d=(r=d.metadata?d.metadata.statistics:null)?r.map(function(a){return a.min}):null,r=r?r.map(function(a){return a.max}):null,w;if(null!=l)if(w=new Uint8Array(e),1E24<Math.abs(l))for(c=0;c<e;c++)w[c]=1E-6>Math.abs((t[0][c]-l)/l)?0:1;else for(c=
0;c<e;c++)w[c]=t[0][c]===l?0:1;else d&&r&&c.applyMinMaxConstraint&&(w=y(t,d,r));return{pixelType:a,width:g,height:b,pixels:t,mask:w,noDataValue:l}};b.decode=function(a,c){c=c||v(a);var d=c.ifds,f=c.noData;if(0===d.length)throw"no valid image file directory";d=d[0];f=f?f[0]:null;if(c.tileWidth){var b=g(d,"TILEOFFSETS");if(void 0===b)d=null;else{for(var l=g(d,"TILEBYTECOUNTS"),r=c.tileWidth,e=c.tileHeight,n=c.width,u=c.height,w=c.pixelType,k=c.isBSQ,y=c.planes,D=n*u,q=g(d,"BITSPERSAMPLE")[0],B=h(w),
x=[],V=0;V<y;V++)x.push(new B(D));var U,R,X,P,T,W,aa,Z,D=Math.ceil(n/r);if(0===q%8)for(q=0;q<b.length;q++)for(U=Math.floor(q/D)*e,P=q%D*r,V=U*n+P,B=A(a,c.littleEndian,d,b[q],l[q]),W=0,T=V,P=Math.min(r,n-P),aa=Math.min(e,u-U),U=0;U<y;U++)if(Z=x[U],k)for(R=0;R<aa;R++)for(T=V+R*n,W=r*e*U+R*r,X=0;X<P;X++,T++,W++)Z[T]=B[W];else for(R=0;R<aa;R++)for(T=V+R*n,W=R*r*y+U,X=0;X<P;X++,T++,W+=y)Z[T]=B[W];d={width:n,height:u,pixelType:w,pixels:x}}}else if(e=c,x=t===e.littleEndian,D=g(d,"STRIPOFFSETS"),void 0===
D)d=null;else{c=e.width;b=e.height;l=e.pixelType;e=e.planes;n=c*b;q=g(d,"BITSPERSAMPLE")[0];u=h(l);w=new u(n*e);B=g(d,"STRIPBYTECOUNTS");V=g(d,"ROWSPERSTRIP")[0];T=g(d,"COMPRESSION")?g(d,"COMPRESSION")[0]:1;P=V;if(0===q%8)for(d=0;d<D.length;d++){W=d*V*c*e;P=(d+1)*V>b?b-d*V:V;if("u8"===l||"s8"===l||x)8===T||32946===T?(k=new Uint8Array(a,D[d],B[d]),k=new m(k),U=k.getBytes(),y=new ArrayBuffer(U.length),k=new Uint8Array(y),k.set(U),k.length!==P*c*e*q/8&&console.log("strip byte counts is different than expected")):
6===T?(k=new Uint8Array(a,D[d],B[d]),y=new p,y.parse(k),P=y.getData(y.width,y.height,!0),y=new ArrayBuffer(P.length),k=new Uint8Array(y),k.set(P)):1===T&&(B[d]!==P*c*e*q/8&&console.log("strip byte counts is different than expected"),y=a.slice(D[d],D[d]+B[d]));else switch(6===T||8===T||32946===T?(k=new Uint8Array(a,D[d],B[d]),k=new m(k),k=k.getBytes(),y=new ArrayBuffer(k.length),r=new Uint8Array(y),k.length!==P*c*e*q/8&&console.log("strip byte counts is different than expected")):1===T&&(B[d]!==P*
c*e*q/8&&console.log("strip byte counts is different than expected"),y=new ArrayBuffer(B[d]),k=new Uint8Array(a,D[d],B[d]),r=new Uint8Array(y)),l){case "u16":case "s16":for(P=0;P<k.length;P+=2)r[P]=k[P+1],r[P+1]=k[P];break;case "u32":case "s32":case "f32":for(P=0;P<k.length;P+=4)r[P]=k[P+3],r[P+1]=k[P+2],r[P+2]=k[P+1],r[P+3]=k[P]}P=new u(y);w.set(P,W)}k=[];if(1===e)k.push(w);else for(d=0;d<e;d++){r=new u(n);for(a=0;a<n;a++)r[a]=w[a*e+d];k.push(r)}d={width:c,height:b,pixelType:l,pixels:k}}if(null!==
f){d.mask=new Uint8Array(d.width*d.height);if(1E24<Math.abs(f))for(a=0;a<d.width*d.height;a++)d.mask[a]=1E-6>Math.abs((d.pixels[0][a]-f)/f)?0:1;else for(a=0;a<d.width*d.height;a++)d.mask[a]=d.pixels[0][a]===f?0:1;d.noDataValue=f}return d}})},"esri/layers/support/rasterDatasets/byteStreamUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.bytesToUTF8=function(a,b){for(var e=0,k="",m=0,d=0,h=a.length;e<h;)if(d=a[e++],m=d>>4,8>m?m=1:15===m?
(m=4,d=(d&7)<<18|(a[e++]&63)<<12|(a[e++]&63)<<6|a[e++]&63):14===m?(m=3,d=(d&15)<<12|(a[e++]&63)<<6|a[e++]&63):(m=2,d=(d&31)<<6|a[e++]&63),0!==d||b)k+=String.fromCharCode(d);return k}})},"esri/layers/support/rasterFormats/TiffTags":function(){define(["require","exports"],function(a,b){var q=function(){var a=[];a[254]="NEWSUBFILETYPE";a[255]="SUBFILETYPE";a[256]="IMAGEWIDTH";a[257]="IMAGELENGTH";a[258]="BITSPERSAMPLE";a[259]="COMPRESSION";a[262]="PHOTOMETRICINTERPRETATION";a[263]="THRESHHOLDING";a[264]=
"CELLWIDTH";a[265]="CELLLENGTH";a[266]="FILLORDER";a[269]="DOCUMENTNAME";a[270]="IMAGEDESCRIPTION";a[271]="MAKE";a[272]="MODEL";a[273]="STRIPOFFSETS";a[274]="ORIENTATION";a[277]="SAMPLESPERPIXEL";a[278]="ROWSPERSTRIP";a[279]="STRIPBYTECOUNTS";a[280]="MINSAMPLEVALUE";a[281]="MAXSAMPLEVALUE";a[282]="XRESOLUTION";a[283]="YRESOLUTION";a[284]="PLANARCONFIGURATION";a[285]="PAGENAME";a[286]="XPOSITION";a[287]="YPOSITION";a[288]="FREEOFFSETS";a[289]="FREEBYTECOUNTS";a[290]="GRAYRESPONSEUNIT";a[291]="GRAYRESPONSECURVE";
a[292]="T4OPTIONS";a[293]="T6OPTIONS";a[296]="RESOLUTIONUNIT";a[297]="PAGENUMBER";a[300]="COLORRESPONSEUNIT";a[301]="TRANSFERFUNCTION";a[305]="SOFTWARE";a[306]="DATETIME";a[315]="ARTIST";a[316]="HOSTCOMPUTER";a[317]="PREDICTOR";a[318]="WHITEPOINT";a[319]="PRIMARYCHROMATICITIES";a[320]="COLORMAP";a[321]="HALFTONEHINTS";a[322]="TILEWIDTH";a[323]="TILELENGTH";a[324]="TILEOFFSETS";a[325]="TILEBYTECOUNTS";a[326]="BADFAXLINES";a[327]="CLEANFAXDATA";a[328]="CONSECUTIVEBADFAXLINES";a[330]="SUBIFD";a[332]=
"INKSET";a[333]="INKNAMES";a[334]="NUMBEROFINKS";a[336]="DOTRANGE";a[337]="TARGETPRINTER";a[338]="EXTRASAMPLES";a[339]="SAMPLEFORMAT";a[340]="SMINSAMPLEVALUE";a[341]="SMAXSAMPLEVALUE";a[342]="TRANSFERRANGE";a[347]="JPEGTABLES";a[512]="JPEGPROC";a[513]="JPEGIFOFFSET";a[514]="JPEGIFBYTECOUNT";a[515]="JPEGRESTARTINTERVAL";a[517]="JPEGLOSSLESSPREDICTORS";a[518]="JPEGPOINTTRANSFORM";a[519]="JPEGQTABLES";a[520]="JPEGDCTABLES";a[521]="JPEGACTABLES";a[529]="YCBCRCOEFFICIENTS";a[530]="YCBCRSUBSAMPLING";a[531]=
"YCBCRPOSITIONING";a[532]="REFERENCEBLACKWHITE";a[700]="XMP";a[33550]="GEOPIXELSCALE";a[33922]="GEOTIEPOINTS";a[33432]="COPYRIGHT";a[42112]="GDAL_METADATA";a[42113]="GDAL_NODATA";a[50844]="RPCCOEFFICIENT";a[34264]="GEOTRANSMATRIX";a[34735]="GEOKEYDIRECTORY";a[34736]="GEODOUBLEPARAMS";a[34737]="GEOASCIIPARAMS";a[34665]="EXIFIFD";a[34853]="GPSIFD";a[40965]="INTEROPERABILITYIFD";return a}();a=function(){var a=[].concat(q);a[36864]="ExifVersion";a[40960]="FlashpixVersion";a[40961]="ColorSpace";a[42240]=
"Gamma";a[37121]="ComponentsConfiguration";a[37122]="CompressedBitsPerPixel";a[40962]="PixelXDimension";a[40963]="PixelYDimension";a[37500]="MakerNote";a[37510]="UserComment";a[40964]="RelatedSoundFile";a[36867]="DateTimeOriginal";a[36868]="DateTimeDigitized";a[36880]="OffsetTime";a[36881]="OffsetTimeOriginal";a[36882]="OffsetTimeDigitized";a[37520]="SubSecTime";a[37521]="SubSecTimeOriginal";a[37522]="SubSecTimeDigitized";a[37888]="Temperature";a[37889]="Humidity";a[37890]="Pressure";a[37891]="WaterDepth";
a[37892]="Acceleration";a[37893]="CameraElevationAngle";a[42016]="ImageUniqueID";a[42032]="CameraOwnerName";a[42033]="BodySerialNumber";a[42034]="LensSpecification";a[42035]="LensMake";a[42036]="LensModel";a[42037]="LensSerialNumber";a[33434]="ExposureTime";a[33437]="FNumber";a[34850]="ExposureProgram";a[34852]="SpectralSensitivity";a[34855]="PhotographicSensitivity";a[34856]="OECF";a[34864]="SensitivityType";a[34865]="StandardOutputSensitivity";a[34866]="RecommendedExposureIndex";a[34867]="ISOSpeed";
a[34868]="ISOSpeedLatitudeyyy";a[34869]="ISOSpeedLatitudezzz";a[37377]="ShutterSpeedValue";a[37378]="ApertureValue";a[37379]="BrightnessValue";a[37380]="ExposureBiasValue";a[37381]="MaxApertureValue";a[37382]="SubjectDistance";a[37383]="MeteringMode";a[37384]="LightSource";a[37385]="Flash";a[37386]="FocalLength";a[37396]="SubjectArea";a[41483]="FlashEnergy";a[41484]="SpatialFrequencyResponse";a[41486]="FocalPlaneXResolution";a[41487]="FocalPlaneYResolution";a[41488]="FocalPlaneResolutionUnit";a[41492]=
"SubjectLocation";a[41493]="ExposureIndex";a[41495]="SensingMethod";a[41728]="FileSource";a[41729]="SceneType";a[41730]="CFAPattern";a[41985]="CustomRendered";a[41986]="ExposureMode";a[41987]="WhiteBalance";a[41988]="DigitalZoomRatio";a[41989]="FocalLengthIn35mmFilm";a[41990]="SceneCaptureType";a[41991]="GainControl";a[41992]="Contrast";a[41993]="Saturation";a[41994]="Sharpness";a[41995]="DeviceSettingDescription";a[41996]="SubjectDistanceRange";return a}();b=function(){var a=[];a[1024]="GTModelTypeGeoKey";
a[1025]="GTRasterTypeGeoKey";a[1026]="GTCitationGeoKey";a[2048]="GeographicTypeGeoKey";a[2049]="GeogCitationGeoKey";a[2050]="GeogGeodeticDatumGeoKey";a[2051]="GeogPrimeMeridianGeoKey";a[2052]="GeogLinearUnitsGeoKey";a[2053]="GeogLinearUnitSizeGeoKey";a[2054]="GeogAngularUnitsGeoKey";a[2055]="GeogAngularUnitSizeGeoKey";a[2056]="GeogEllipsoidGeoKey";a[2057]="GeogSemiMajorAxisGeoKey";a[2058]="GeogSemiMinorAxisGeoKey";a[2059]="GeogInvFlatteningGeoKey";a[2061]="GeogPrimeMeridianLongGeoKey";a[2060]="GeogAzimuthUnitsGeoKey";
a[3072]="ProjectedCSTypeGeoKey";a[3073]="PCSCitationGeoKey";a[3074]="ProjectionGeoKey";a[3075]="ProjCoordTransGeoKey";a[3076]="ProjLinearUnitsGeoKey";a[3077]="ProjLinearUnitSizeGeoKey";a[3078]="ProjStdParallel1GeoKey";a[3079]="ProjStdParallel2GeoKey";a[3080]="ProjNatOriginLongGeoKey";a[3081]="ProjNatOriginLatGeoKey";a[3082]="ProjFalseEastingGeoKey";a[3083]="ProjFalseNorthingGeoKey";a[3084]="ProjFalseOriginLongGeoKey";a[3085]="ProjFalseOriginLatGeoKey";a[3086]="ProjFalseOriginEastingGeoKey";a[3087]=
"ProjFalseOriginNorthingGeoKey";a[3088]="ProjCenterLongGeoKey";a[3090]="ProjCenterEastingGeoKey";a[3091]="ProjCenterNorthingGeoKey";a[3092]="ProjScaleAtNatOriginGeoKey";a[3093]="ProjScaleAtCenterGeoKey";a[3094]="ProjAzimuthAngleGeoKey";a[3095]="ProjStraightVertPoleLongGeoKey";a[4096]="VerticalCSTypeGeoKey";a[4097]="VerticalCitationGeoKey";a[4098]="VerticalDatumGeoKey";a[4099]="VerticalUnitsGeoKey";return a}();var e=new Map;e.set("EXIFIFD",a);e.set("GPSIFD","GPSVersionID GPSLatitudeRef GPSLatitude GPSLongitudeRef GPSLongitude GPSAltitudeRef GPSAltitude GPSTimeStamp GPSSatellites GPSStatus GPSMeasureMode GPSDOP GPSSpeedRef GPSSpeed GPSTrackRef GPSTrack GPSImgDirectionRef GPSImgDirection GPSMapDatum GPSDestLatitudeRef GPSDestLatitude GPSDestLongitudeRef GPSDestLongitude GPSDestBearingRef GPSDestBearing GPSDestDistanceRef GPSDestDistance GPSProcessingMethod GPSAreaInformation GPSDateStamp GPSDifferential GPSHPositioningError".split(" "));
return{TIFF_TAGS:q,ifdTags:e,GEO_KEYS:b,getTagName:function(a,b){b=(b||q)[a];void 0===b&&(b="unknown"+String(a));return b}}})},"esri/layers/support/rasterFunctions/pixelUtils":function(){define(["require","exports","../PixelBlock"],function(a,b,q){function e(a,b){a=Math.min(Math.max(a,-100),100);b=Math.min(Math.max(b,-100),100);var c,d,f=new Uint8Array(256);for(c=0;256>c;c++)0<a&&100>a?d=(200*c-25500+510*b)/(2*(100-a))+128:0>=a&&-100<a?d=(200*c-25500+510*b)*(100+a)/2E4+128:100===a?(d=200*c-25500+
256*(100-a)+510*b,d=0<d?255:0):-100===a&&(d=128),f[c]=255<d?255:0>d?0:d;return f}function p(a,b,c,g,f,e,l,n){return{xmin:f<=c*a?0:f<c*a+a?f-c*a:a,ymin:e<=g*b?0:e<g*b+b?e-g*b:b,xmax:f+l<=c*a?0:f+l<c*a+a?f+l-c*a:a,ymax:e+n<=g*b?0:e+n<g*b+b?e+n-g*b:b}}function k(a,b,c,g){var d=a.filter(function(a){return m(a)})[0];if(null==d)return null;var e=g?g.width:b.width;g=g?g.height:b.height;var l=d.width,h=d.height,v=b.width/l;b=b.height/h;var r=c?c.x:0;c=c?c.y:0;var t=d.pixelType,u=q.getPixelArrayConstructor(t),
A=d.pixels.length,d=[],k,D,B,x,z,F,C,E,H,G;for(z=0;z<A;z++){D=new u(e*g);for(F=0;F<b;F++)for(C=0;C<v;C++)if(B=a[F*v+C])for(k=B.pixels[z],G=p(l,h,C,F,r,c,e,g),E=G.ymin;E<G.ymax;E++)for(B=(F*h+E-c)*e+(C*l-r),x=E*l,H=G.xmin;H<G.xmax;H++)D[B+H]=k[x+H];d.push(D)}var K;if(a.some(function(a){return null==a||a.mask&&0<a.mask.length}))for(K=new Uint8Array(e*g),F=0;F<b;F++)for(C=0;C<v;C++)if(u=(B=a[F*v+C])?B.mask:null,G=p(l,h,C,F,r,c,e,g),u)for(E=G.ymin;E<G.ymax;E++)for(B=(F*h+E-c)*e+(C*l-r),x=E*l,H=G.xmin;H<
G.xmax;H++)K[B+H]=u[x+H];else if(B)for(E=G.ymin;E<G.ymax;E++)for(B=(F*h+E-c)*e+(C*l-r),x=E*l,H=G.xmin;H<G.xmax;H++)K[B+H]=1;else for(E=G.ymin;E<G.ymax;E++)for(B=(F*h+E-c)*e+(C*l-r),x=E*l,H=G.xmin;H<G.xmax;H++)K[B+H]=0;a=new q({width:e,height:g,pixels:d,pixelType:t,mask:K});a.updateStatistics();return a}Object.defineProperty(b,"__esModule",{value:!0});var m=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};b.extractBands=function(a,b){if(!b||!m(a))return a;
var c=a.pixels.length;return b&&b.some(function(a){return a>=c})||1===c&&1===b.length&&0===b[0]||c===b.length&&!b.some(function(a,c){return a!==c})?a:new q({pixelType:a.pixelType,width:a.width,height:a.height,mask:a.mask,validPixelCount:a.validPixelCount,maskIsAlpha:a.maskIsAlpha,pixels:b.map(function(c){return a.pixels[c]}),statistics:a.statistics&&b.map(function(c){return a.statistics[c]})})};b.createColormapLUT=function(a){if(a){var d=a.colormap;if(d&&0!==d.length){var d=d.sort(function(a,c){return a[0]-
c[0]}),c=0;0>d[0][0]&&(c=d[0][0]);var b=Math.max(256,d[d.length-1][0]-c+1),f=new Uint8Array(4*b),e=[],l=0,n=0,v=5===d[0].length;if(65536<b)return d.forEach(function(a){e[a[0]-c]=v?a.slice(1):a.slice(1).concat([255])}),{indexed2DColormap:e,offset:c,alphaSpecified:v};if(a.fillUnspecified)for(a=d[n],l=a[0]-c;l<b;l++)f[4*l]=a[1],f[4*l+1]=a[2],f[4*l+2]=a[3],f[4*l+3]=v?a[4]:255,l===a[0]-c&&(a=n===d.length-1?a:d[++n]);else for(l=0;l<d.length;l++)a=d[l],n=4*(a[0]-c),f[n]=a[1],f[n+1]=a[2],f[n+2]=a[3],f[n+
3]=v?a[4]:255;return{indexedColormap:f,offset:c,alphaSpecified:v}}}};b.colorize=function(a,b){if(!m(a)||!b&&(b.indexedColormap||b.indexed2DColormap))return a;var c=a.clone(),d=c.pixels,f=c.mask,e=c.width*c.height;if(1!==d.length)return a;var l=b.indexedColormap;a=b.indexed2DColormap;var n=b.offset;b=b.alphaSpecified;var h=l.length-1,r=0,d=d[0],t=new Uint8Array(d.length),u=new Uint8Array(d.length),A=new Uint8Array(d.length),k=0;if(l)if(f)for(r=0;r<e;r++)f[r]&&(k=4*(d[r]-n),k<n||k>h?f[r]=0:(t[r]=l[k],
u[r]=l[k+1],A[r]=l[k+2],f[r]=l[k+3]));else{f=new Uint8Array(e);for(r=0;r<e;r++)k=4*(d[r]-n),k<n||k>h?f[r]=0:(t[r]=l[k],u[r]=l[k+1],A[r]=l[k+2],f[r]=l[k+3]);c.mask=f}else if(f)for(r=0;r<e;r++)f[r]&&(l=a[d[r]],t[r]=l[0],u[r]=l[1],A[r]=l[2],f[r]=l[3]);else{f=new Uint8Array(e);for(r=0;r<e;r++)l=a[d[r]],t[r]=l[0],u[r]=l[1],A[r]=l[2],f[r]=l[3];c.mask=f}c.pixels=[t,u,A];c.statistics=null;c.pixelType="u8";c.maskIsAlpha=b;return c};b.estimateStatisticsHistograms=function(a){if(!m(a))return null;a.statistics||
a.updateStatistics();var d=a.pixels,c=a.mask,b=a.pixelType,f=a.statistics;a=a.width*a.height;var e=d.length,l,n,v,r,t,u=[],A=[],k,p,q;for(r=0;r<e;r++){k=new Uint32Array(256);q=d[r];if("u8"===b)if(l=-.5,n=255.5,c)for(t=0;t<a;t++)c[t]&&k[q[t]]++;else for(t=0;t<a;t++)k[q[t]]++;else{l=f[r].minValue;n=f[r].maxValue;v=(n-l)/256;p=new Uint32Array(257);if(c)for(t=0;t<a;t++)c[t]&&p[Math.floor((q[t]-l)/v)]++;else for(t=0;t<a;t++)p[Math.floor((q[t]-l)/v)]++;for(t=0;255>t;t++)k[t]=p[t];k[255]=p[255]+p[256]}u.push({min:l,
max:n,size:256,counts:k});for(t=q=p=v=0;256>t;t++)v+=k[t],p+=t*k[t];p/=v;for(t=0;256>t;t++)q+=k[t]*Math.pow(t-p,2);k=Math.sqrt(q/(v-1));v=(n-l)/256;t=(p+.5)*v+l;k*=v;A.push({min:l,max:n,avg:t,stddev:k})}return{statistics:A,histograms:u}};b.createStretchLUT=function(a){var d=a.minCutOff,c=a.maxCutOff,b=a.gamma,f=a.pixelType,m=a.outMin||0,l=a.outMax||255;if(-1===["u8","u16","s8","s16"].indexOf(f))return null;var n=d.length,v,r=0;"s8"===f?r=-127:"s16"===f&&(r=-32767);var t=256;-1<["u16","s16"].indexOf(f)&&
(t=65536);for(var u=[],k=l-m,f=0;f<n;f++)u[f]=c[f]-d[f];v=b&&b.length>=n;var y=[];if(v)for(f=0;f<n;f++)y[f]=1<b[f]?2<b[f]?6.5+Math.pow(b[f]-2,2.5):6.5+100*Math.pow(2-b[f],4):1;var p,q=[],x,z,F;if(v)for(f=0;f<n;f++){F=[];for(v=0;v<t;v++)x=v+r,p=(x-d[f])/u[f],z=1,1<b[f]&&(z-=Math.pow(1/k,p*y[f])),F[v]=x<c[f]&&x>d[f]?Math.floor(z*k*Math.pow(p,1/b[f]))+m:x>=c[f]?l:m;q[f]=F}else for(f=0;f<n;f++){F=[];for(v=0;v<t;v++)x=v+r,F[v]=x<=d[f]?m:x>=c[f]?l:Math.floor((x-d[f])/u[f]*k)+m;q[f]=F}if(null!=a.contrastOffset)for(a=
e(a.contrastOffset,a.brightnessOffset),f=0;f<n;f++)for(F=q[f],v=0;v<t;v++)F[v]=a[F[v]];return{lut:q,offset:r}};b.createContrastBrightnessLUT=e;b.stretch=function(a,b){if(!m(a))return null;a=a.clone();var c=a.pixels,d=a.mask,f=b.minCutOff,e=b.maxCutOff,l=b.gamma,n=b.outMin||0;b=b.outMax||255;var h=a.width*a.height,r=c.length,t,u,k,y,p,q=b-n,x=[];for(t=0;t<r;t++)x[t]=e[t]-f[t];u=l&&l.length>=r;var z=[];if(u)for(t=0;t<r;t++)z[t]=1<l[t]?2<l[t]?6.5+Math.pow(l[t]-2,2.5):6.5+100*Math.pow(2-l[t],4):1;if(u)if(null!=
d)for(u=0;u<h;u++){if(d[u])for(t=0;t<r;t++)k=c[t][u],p=(k-f[t])/x[t],y=1,1<l[t]&&(y-=Math.pow(1/q,p*z[t])),c[t][u]=k<e[t]&&k>f[t]?Math.floor(y*q*Math.pow(p,1/l[t]))+n:k>=e[t]?b:n}else for(u=0;u<h;u++)for(t=0;t<r;t++)k=c[t][u],p=(k-f[t])/x[t],y=1,1<l[t]&&(y-=Math.pow(1/q,p*z[t])),c[t][u]=k<e[t]&&k>f[t]?Math.floor(y*q*Math.pow(p,1/l[t]))+n:k>=e[t]?b:n;else if(null!=d)for(u=0;u<h;u++){if(d[u])for(t=0;t<r;t++)k=c[t][u],c[t][u]=k<e[t]&&k>f[t]?Math.floor((k-f[t])/x[t]*q)+n:k>=e[t]?b:n}else for(u=0;u<h;u++)for(t=
0;t<r;t++)k=c[t][u],c[t][u]=k<e[t]&&k>f[t]?Math.floor((k-f[t])/x[t]*q)+n:k>=e[t]?b:n;a.pixelType="u8";a.updateStatistics();return a};b.lookupPixels=function(a,b){if(!m(a))return null;var c=a.pixels,d=a.mask,f=a.width*a.height,e=c.length,l=b.lut;b=b.offset;var n,h;l&&1===l[0].length&&(l=c.map(function(){return l}));var r=[],t,u,k;if(b)if(null==d)for(n=0;n<e;n++){t=c[n];u=l[n];k=new Uint8Array(f);for(h=0;h<f;h++)k[h]=u[t[h]-b];r.push(k)}else for(n=0;n<e;n++){t=c[n];u=l[n];k=new Uint8Array(f);for(h=
0;h<f;h++)d[h]&&(k[h]=u[t[h]-b]);r.push(k)}else if(null==d)for(n=0;n<e;n++){t=c[n];u=l[n];k=new Uint8Array(f);for(h=0;h<f;h++)k[h]=u[t[h]];r.push(k)}else for(n=0;n<e;n++){t=c[n];u=l[n];k=new Uint8Array(f);for(h=0;h<f;h++)d[h]&&(k[h]=u[t[h]]);r.push(k)}a=new q({width:a.width,height:a.height,pixels:r,mask:d,pixelType:"u8"});a.updateStatistics();return a};b.remapColor=function(a,b){if(!m(a))return null;a=a.clone();var c=a.width*a.height,d=b.length,f=Math.floor(d/2),e=b[Math.floor(f)],l=a.pixels[0],n,
h,r,t,u,k,y=!1,p=new Uint8Array(c),q=new Uint8Array(c),x=new Uint8Array(c),z=a.mask,F=4===b[0].mappedColor.length;z||(z=new Uint8Array(c),z.fill(F?255:1),a.mask=z);for(u=0;u<c;u++)if(z[u]){n=l[u];y=!1;k=f;h=e;r=0;for(t=d-1;1<t-r;){if(n===h.value){y=!0;break}n>h.value?r=k:t=k;k=Math.floor((r+t)/2);h=b[Math.floor(k)]}y||(n===b[r].value?(h=b[r],y=!0):n===b[t].value?(h=b[t],y=!0):n<b[r].value?(y=!1,h=null):n>b[r].value&&(n<b[t].value?(h=b[r],y=!0):t===d-1?(y=!1,h=null):(h=b[t],y=!0)));y?(p[u]=h.mappedColor[0],
q[u]=h.mappedColor[1],x[u]=h.mappedColor[2],z[u]=h.mappedColor[3]):p[u]=q[u]=x[u]=z[u]=0}a.pixels=[p,q,x];a.mask=z;a.pixelType="u8";a.maskIsAlpha=F;return a};b.getClipBounds=p;b.mosaicPixelData=function(a,b){if(!a||0===a.length)return null;var c=a.filter(function(a){return a.pixelBlock})[0];if(!c)return null;var d=(c.extent.xmax-c.extent.xmin)/c.pixelBlock.width,f=(c.extent.ymax-c.extent.ymin)/c.pixelBlock.height,e=.01*Math.min(d,f),l=a.sort(function(a,c){return Math.abs(a.extent.ymax-c.extent.ymax)>
e?c.extent.ymax-a.extent.ymax:Math.abs(a.extent.xmin-c.extent.xmin)>e?a.extent.xmin-c.extent.xmin:0}),n=Math.min.apply(null,l.map(function(a){return a.extent.xmin})),h=Math.min.apply(null,l.map(function(a){return a.extent.ymin})),r=Math.max.apply(null,l.map(function(a){return a.extent.xmax})),t=Math.max.apply(null,l.map(function(a){return a.extent.ymax}));a={x:Math.round((b.xmin-n)/d),y:Math.round((t-b.ymax)/f)};n={width:Math.round((r-n)/d),height:Math.round((t-h)/f)};d={width:Math.round((b.xmax-
b.xmin)/d),height:Math.round((b.ymax-b.ymin)/f)};if(Math.round(n.width/c.pixelBlock.width)*Math.round(n.height/c.pixelBlock.height)!==l.length||0>a.x||0>a.y||n.width<d.width||n.height<d.height)return null;c=l.map(function(a){return a.pixelBlock});c=k(c,n,a,d);return{extent:b,pixelBlock:c}};b.mosaic=k;b.setValidBoundary=function(a,b,c){if(!m(a))return null;var d=a.width,f=a.height,e=b.x;b=b.y;var l=c.width+e;c=c.height+b;if(0>e||0>b||l>d||c>f||0===e&&0===b&&l===d&&c===f)return a;a.mask||(a.mask=new Uint8Array(d*
f));for(var n=a.mask,h=0;h<f;h++)for(var r=h*d,t=0;t<d;t++)n[r+t]=h<b||h>=c||t<e||t>=l?0:1;a.updateStatistics();return a};b.clip=function(a,b,c){if(!m(a))return null;var d=b.x,f=b.y,e=b.x+c.width;b=b.x+c.height;if(b===a.height&&e===a.width)return a;for(var l=a.pixels,n=a.mask,h=a.width,r=h*a.height,t=l.length,u=[],k=0;k<t;k++){for(var p=l[k],D=q.createEmptyBand(a.pixelType,r),B=0,x=f;x<=b;x++)for(var z=x*h,F=d;F<=e;F++)D[B++]=p[z+F];u.push(D)}var C;if(n)for(C=new Uint8Array(c.width*c.height),B=0,
x=f;x<=b;x++)for(z=x*h,F=d;F<=e;F++)C[B++]=n[z+F];a=new q({width:c.width,height:c.height,pixels:u,mask:C});a.updateStatistics();return a};b.approximateTransform=function(a,b,c,g){if(!m(a))return null;var d=a.pixels,e=a.mask,l=a.pixelType,n=a.width,h=a.height;a=q.getPixelArrayConstructor(l);var r=d.length,t=b.width,u=b.height;b=g.cols;var k=g.rows,p=Math.ceil(t/b),D=Math.ceil(u/k),B=!1;for(g=0;g<c.length;g+=3)-1===c[g]&&-1===c[g+1]&&-1===c[g+2]&&(B=!0);var x,z,F,C,E,H,G,K=new Float32Array(t*u),L=new Float32Array(t*
u),N=0,I,M;for(g=0;g<D;g++)for(var J=0;J<p;J++){x=12*(g*p+J);z=c[x];F=c[x+1];C=c[x+2];E=c[x+3];H=c[x+4];G=c[x+5];for(var Q=0;Q<k;Q++){N=(g*k+Q)*t+J*b;M=(Q+.5)/k;for(var S=0;S<Q;S++)I=(S+.5)/b,K[N+S]=Math.round((z*I+F*M+C)*n-.5),L[N+S]=Math.round((E*I+H*M+G)*h-.5)}x+=6;z=c[x];F=c[x+1];C=c[x+2];E=c[x+3];H=c[x+4];G=c[x+5];for(Q=0;Q<k;Q++)for(N=(g*k+Q)*t+J*b,M=(Q+.5)/k,S=Q;S<b;S++)I=(S+.5)/b,K[N+S]=Math.round((z*I+F*M+C)*n-.5),L[N+S]=Math.round((E*I+H*M+G)*h-.5)}c=function(a,c){for(var b=0;b<u;b++){x=
b*t;for(var d=0;d<t;d++)a[x]=B&&(0>K[x]||0>L[x])?0:c[K[x]+L[x]*n],x++}};h=[];for(g=0;g<r;g++)b=new a(t*u),c(b,d[g]),h.push(b);d=new q({width:t,height:u,pixelType:l,pixels:h});if(e)d.mask=new Uint8Array(t*u),c(d.mask,e);else if(B)for(d.mask=new Uint8Array(t*u),g=0;g<t*u;g++)d.mask[g]=0>K[g]||0>L[g]?0:1;d.updateStatistics();return d}})},"esri/renderers/support/RasterSymbolizer":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../rasterRenderers ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../layers/support/RasterInfo ../../layers/support/rasterFunctions/pixelUtils ../support/colorRampUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){var n=c.getLogger("esri.renderers.support.RasterSymbolizer");return function(a){function c(c){return a.call(this,c)||this}e(c,a);c.prototype.readRenderer=function(a,c,b){return d.read(a,b)};c.prototype.bind=function(){this.lookup={};if(!this.renderer)return!1;var a;switch(this.renderer.type){case "unique-value":a=this._updateUVRenderer(this.renderer);break;case "raster-colormap":a=this._updateColormapRenderer(this.renderer);break;case "raster-stretch":a=this._updateStretchRenderer(this.renderer);
break;case "class-breaks":a=this._updateClassBreaksRenderer(this.renderer)}return a};c.prototype.symbolize=function(a){if(!this.isValidPixelBlock(a))return a;try{3<a.pixels.length&&(a=w.extractBands(a,[0,1,2]));var c=void 0;switch(this.renderer.type){case "unique-value":case "raster-colormap":c=this._symbolize_colormap(a);break;case "class-breaks":c=this._symbolize_classBreaks(a);break;case "raster-stretch":c=this._symbolize_stretch(a)}return c}catch(A){return n.error("symbolize",A.message),a}};c.prototype.simpleStretch=
function(a,c){if(!this.isValidPixelBlock(a))return a;try{return 3<a.pixels.length&&(a=w.extractBands(a,[0,1,2])),w.stretch(a,c)}catch(A){return n.error("symbolize",A.message),a}};c.prototype.generateWebGLParameters=function(a){if(-1<["unique-value","raster-colormap","class-breaks"].indexOf(this.renderer.type)){var c=this.lookup.lut;return{colormap:c.indexedColormap,colormapOffset:c.colormapOffset,type:"lut"}}var b=this.renderer,d=c=null,f=this.lookup&&this.lookup.colorRampLut;b.colorRamp&&f&&(c=f.indexedColormap,
d=f.offset);var f=b.gamma,g=b.useGamma,l=this.getStretchCutoff(b,a),b=l.minCutOff,e=l.maxCutOff,r=l.outMin,l=l.outMax;a&&a.pixels&&2===a.pixels.length&&(a=a.clone(),a.statistics=[a.statistics[0]],a.pixels=[a.pixels[0]]);a=Math.min(3,a&&a.getPlaneCount()||this.rasterInfo.bandCount);var n=new Float32Array(a),h=null==c?255:1,t;for(t=0;t<a;t++)n[t]=(l-r)/(e[t]-b[t])/h;var v=new Float32Array(a);if(g)for(t=0;t<a;t++)v[t]=1<f[t]?2<f[t]?6.5+Math.pow(f[t]-2,2.5):6.5+100*Math.pow(2-f[t],4):1;return{bandCount:a,
outMin:r/h,outMax:l/h,minCutOff:b,maxCutOff:e,factor:n,useGamma:g,gamma:g?f:[1,1,1],gammaCorrection:g?v:[1,1,1],colormap:c,colormapOffset:d,type:"stretch"}};c.prototype._isLUTChanged=function(a){if(!this.lookup)return!0;if("raster-stretch"===this.renderer.type){var c=this.renderer.colorRamp;if(a)return JSON.stringify(c.toJSON())!==JSON.stringify(this.lookup.rendererJson.colorRamp);a=q({},this.renderer.toJSON());c=q({},this.lookup.rendererJson);a.colorRamp=null;c.colorRamp=null}return JSON.stringify(this.renderer.toJSON())!==
JSON.stringify(this.lookup.rendererJson)};c.prototype._symbolize_colormap=function(a){return this._isLUTChanged()&&!this.bind()?a:w.colorize(a,this.lookup.lut)};c.prototype._symbolize_classBreaks=function(a){var c=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType);return this._isLUTChanged()&&!this.bind()?a:c?w.colorize(a,this.lookup.lut):w.remapColor(a,this.lookup.lut)};c.prototype._symbolize_stretch=function(a){var c=this.rasterInfo.pixelType,b=this.renderer,d=-1<["u8","u16","s8","s16"].indexOf(c),
f=b.gamma,g=b.useGamma;if(d){if(b.dynamicRangeAdjustment)d=this.getStretchCutoff(b,a),c=w.createStretchLUT(q({pixelType:c},d,{gamma:g?f:null}));else{if(this._isLUTChanged()&&(f=this.bind(),!f))return a;c=this.lookup?this.lookup.lut:null}if(!c)return a;c=w.lookupPixels(a,c)}else d=this.getStretchCutoff(b,a),c=w.stretch(a,q({},d,{gamma:g?f:null}));if(b.colorRamp){if(this._isLUTChanged(!0)&&(f=this.bind(),!f))return a;c=w.colorize(c,this.lookup.colorRampLut)}return c};c.prototype._updateUVRenderer=function(a){var c=
this.rasterInfo,b=c.bandCount,d=c.attributeTable,f=c.statistics,c=-1<["u8","s8"].indexOf(c.pixelType)&&f&&null!=f[0].min&&null!=f[0].max;if(1!==b||!d&&!c)return!1;var g=a.field;if(!g)return!1;var l=[];if(d){var e=d.fields.filter(function(a){return"value"===a.name.toLowerCase()})[0];if(!e)return!1;d.features.forEach(function(c){var b=a.uniqueValueInfos.filter(function(a){return String(a.value)===String(c.attributes[g])})[0];(b=b&&b.symbol&&b.symbol.color)&&l.push([c.attributes[e.name],b.r,b.g,b.b,
1<b.a?b.a:Math.round(255*b.a)])})}else{if("Value"!==g.toLowerCase())return!1;a.uniqueValueInfos.forEach(function(a){var c=a&&a.symbol&&a.symbol.color;c&&l.push([parseInt(a.value,10),c.r,c.g,c.b,1<c.a?c.a:Math.round(255*c.a)])})}if(0===l.length)return!1;b=w.createColormapLUT({colormap:l});this.lookup={rendererJson:a.toJSON(),lut:b};return this.canRenderInWebGL=!0};c.prototype._updateColormapRenderer=function(a){var c=a.extractColormap();if(!c||0===c.length)return!1;c=w.createColormapLUT({colormap:c});
this.lookup={rendererJson:a.toJSON(),lut:c};return this.canRenderInWebGL=!0};c.prototype._updateClassBreaksRenderer=function(a){var c=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType),b=a.classBreakInfos;if(!b||0===b.length)return!1;var d=b.sort(function(a,c){return a.minValue-c.minValue}),b=d[d.length-1];if(!c)return c=d.map(function(a){return{value:a.minValue,mappedColor:[a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)]}}),
c.push({value:b.maxValue,mappedColor:[b.symbol.color.g,b.symbol.color.b,1<b.symbol.color.a?b.symbol.color.a:Math.round(255*b.symbol.color.a)]}),this.lookup={rendererJson:a.toJSON(),lut:c},this.canRenderInWebGL=!1,!0;var f=[],g,l=0;d.forEach(function(a){g=Math.ceil(a.minValue);l=Math.floor(a.maxValue);for(var c=g;c<l;c++)f.push([c,a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)])});f.push([b.maxValue,b.symbol.color.r,b.symbol.color.g,
b.symbol.color.b,1<b.symbol.color.a?b.symbol.color.a:Math.round(255*b.symbol.color.a)]);c=w.createColormapLUT({colormap:f,fillUnspecified:!1});this.lookup={rendererJson:a.toJSON(),lut:c};return this.canRenderInWebGL=!0};c.prototype._updateStretchRenderer=function(a){if(!(a.statistics||this.rasterInfo.statistics||a.dynamicRangeAdjustment))return!1;var c=a.histograms||this.rasterInfo.histograms;if(!a.dynamicRangeAdjustment&&"percent-clip"===a.stretchType&&!c)return!1;var b=a.gamma,d=a.useGamma,c=a.colorRamp,
f=this.rasterInfo.pixelType;if(!a.dynamicRangeAdjustment&&-1<["u8","u16","s8","s16"].indexOf(f)){var g=this.getStretchCutoff(a),b=w.createStretchLUT(q({pixelType:f},g,{gamma:d?b:null}));this.lookup={rendererJson:a.toJSON(),lut:b}}c&&(c=l.convertColorRampToColormap(c,256),this.lookup.colorRampLut=w.createColormapLUT({colormap:c}),this.lookup.rendererJson=a.toJSON());return this.canRenderInWebGL=!0};c.prototype.getStretchCutoff=function(a,c){var b,d,f=a.stretchType;a.dynamicRangeAdjustment?"min-max"===
f&&c.statistics?b=c.statistics.map(function(a){return[a.minValue,a.maxValue,0,0]}):(d=w.estimateStatisticsHistograms(c),b=d.statistics,d=d.histograms):(b=a.statistics&&0<a.statistics.length?a.statistics:this.rasterInfo.statistics,d=a.histograms||this.rasterInfo.histograms);c=b||d?(b||d).length:this.rasterInfo.bandCount;var g=[],l=[],e,r,n,h,u,t;b[0]instanceof Array||(b=b.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));switch(f){case "min-max":for(f=0;f<c;f++)g[f]=b[f][0],l[f]=b[f][1];break;
case "standard-deviation":for(f=0;f<c;f++)g[f]=b[f][2]-a.numberOfStandardDeviations*b[f][3],l[f]=b[f][2]+a.numberOfStandardDeviations*b[f][3],g[f]<b[f][0]&&(g[f]=b[f][0]),l[f]>b[f][1]&&(l[f]=b[f][1]);break;case "percent-clip":for(f=0;f<c;f++){b=d[f];h=new Uint32Array(b.size);n=b.counts;r=0;e=(b.max-b.min)/b.size;u=-.5===b.min&&1===e?.5:0;for(t=0;t<b.size;t++)r+=n[t],h[t]=r;n=a.minPercent*r/100;for(t=0;t<b.size;t++)if(h[t]>n){g[f]=b.min+e*(t+u);break}n=(1-a.maxPercent/100)*r;for(t=b.size-2;0<=t;t--)if(h[t]<
n){l[f]=b.min+e*(t+2-u);break}}break;default:for(f=0;f<c;f++)g[f]=b[f][0],l[f]=b[f][1]}return{minCutOff:g,maxCutOff:l,outMax:a.outputMax||255,outMin:a.outputMin||0}};c.prototype.isValidPixelBlock=function(a){return!!(a&&a.pixels&&0<a.pixels.length&&0!==a.validPixelCount)};p([g.property({types:d.rasterRendererTypes,json:{write:!0}})],c.prototype,"renderer",void 0);p([g.reader("renderer")],c.prototype,"readRenderer",null);p([g.property({type:f,json:{write:!0}})],c.prototype,"rasterInfo",void 0);p([g.property({json:{write:!0}})],
c.prototype,"lookup",void 0);p([g.property({})],c.prototype,"canRenderInWebGL",void 0);return c=p([g.subclass("esri.renderers.support.RasterSymbolizer")],c)}(g.declared(h.JSONSupport))})},"esri/rasterRenderers":function(){define("require exports ./core/Warning ./renderers/ClassBreaksRenderer ./renderers/RasterColormapRenderer ./renderers/RasterStretchRenderer ./renderers/UniqueValueRenderer".split(" "),function(a,b,q,e,p,k,m){function d(a,b){if(!a)return null;var c;c=a?h[a.type]||null:null;if(c)return c=
new c,c.read(a,b),c;b&&b.messages&&a&&b.messages.push(new q("renderer:unsupported","Renderers of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:b}));return null}Object.defineProperty(b,"__esModule",{value:!0});b.ClassBreaksRenderer=e;b.RasterColormapRenderer=p;b.RasterStretchRenderer=k;b.UniqueValueRenderer=m;b.rasterRendererTypes={key:"type",base:null,typeMap:{"unique-value":m,"class-breaks":e,"raster-colormap":p,"raster-stretch":k}};var h={uniqueValue:m,classBreaks:e,rasterStretch:k,
rasterColormap:p};b.read=d;b.fromJSON=function(a,b){return d(a,b)}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(a,b,q,e,p){a=function(a){function b(d,e,c){var g=a.call(this,d,e,c)||this;return g instanceof b?g:new b(d,e,c)}q(b,a);return b}(p);a.prototype.type="warning";return a})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/LegendOptions ../support/arcadeOnDemand ../symbols/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x){var z=w.getLogger("esri.renderers.ClassBreaksRenderer"),F=new g.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),C=r.ensureType(y);return function(a){function b(c){c=a.call(this,c)||this;c.backgroundFillSymbol=null;c.classBreakInfos=null;c.defaultLabel=null;c.defaultSymbol=null;c.field=null;c.isMaxInclusive=!0;c.legendOptions=null;c.normalizationField=null;c.normalizationTotal=
null;c.type="class-breaks";c.valueExpression=null;c.valueExpressionTitle=null;c._set("classBreakInfos",[]);return c}q(b,a);g=b;Object.defineProperty(b.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.readClassBreakInfos=function(a,c,b){if(Array.isArray(a)){var d=c.minValue;return a.map(function(a){var c=new y;c.read(a,b);null==c.minValue&&(c.minValue=d);null==c.maxValue&&(c.maxValue=c.minValue);d=c.maxValue;return c})}};b.prototype.writeClassBreakInfos=
function(a,c,b,d){a=a.map(function(a){return a.write({},d)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});c[b]=a};b.prototype.readDefaultSymbol=function(a,c,b){return x.read(a,c,b)};b.prototype.writeDefaultSymbolWebScene=function(a,c,b,d){x.writeTarget(a,c,b,d)};b.prototype.writeDefaultSymbol=function(a,c,b,d){x.writeTarget(a,c,b,d)};b.prototype.castField=function(a){return null==a?a:"function"===typeof a?(z.error(".field: field must be a string value"),
null):r.ensureString(a)};Object.defineProperty(b.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),c=!!this.normalizationField,b=null!=this.normalizationTotal;if(c||b)a=c&&"field"||b&&"percent-of-total"||null,c&&b&&z.warn("warning: both normalizationField and normalizationTotal are set!");
else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!0,configurable:!0});b.prototype.addClassBreakInfo=function(a,b,d){var g=null,g="number"===typeof a?new y({minValue:a,maxValue:b,symbol:c.ensureType(d)}):C(f.clone(a));this.classBreakInfos.push(g);1===this.classBreakInfos.length&&this.notifyChange("minValue")};b.prototype.removeClassBreakInfo=function(a,c){for(var b=this.classBreakInfos.length,d=0;d<b;d++){var f=[this.classBreakInfos[d].minValue,
this.classBreakInfos[d].maxValue];if(f[0]===a&&f[1]===c){this.classBreakInfos.splice(d,1);break}}};b.prototype.getBreakIndex=function(a,c){this.valueExpression&&(l.isNone(c)||l.isNone(c.arcade))&&z.warn("");return this.valueExpression?this._getBreakIndexForExpression(a,c):this._getBreakIndexForField(a)};b.prototype.getClassBreakInfo=function(a,c){return m(this,void 0,void 0,function(){var b,f,g,e;return k(this,function(r){switch(r.label){case 0:b=c;if(!this.valueExpression||!l.isNone(c)&&!l.isNone(c.arcade))return[3,
2];f=[{},b];g={};return[4,B.loadArcade()];case 1:b=d.apply(void 0,f.concat([(g.arcade=r.sent(),g)])),r.label=2;case 2:return e=this.getBreakIndex(a,b),[2,-1!==e?this.classBreakInfos[e]:null]}})})};b.prototype.getSymbol=function(a,c){if(this.valueExpression&&(l.isNone(c)||l.isNone(c.arcade)))z.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,c),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol};b.prototype.getSymbolAsync=function(a,
c){return m(this,void 0,void 0,function(){var b,f,g,e;return k(this,function(r){switch(r.label){case 0:b=c;if(!this.valueExpression||!l.isNone(c)&&!l.isNone(c.arcade))return[3,2];f=[{},b];g={};return[4,B.loadArcade()];case 1:b=d.apply(void 0,f.concat([(g.arcade=r.sent(),g)])),r.label=2;case 2:return e=this.getBreakIndex(a,b),[2,-1<e?this.classBreakInfos[e].symbol:this.defaultSymbol]}})})};b.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(c){c.symbol&&a.push(c.symbol)});
this.defaultSymbol&&a.push(this.defaultSymbol);return a};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,c){return a+c.getAttributeHash()},"")};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),c=JSON.stringify(this.defaultSymbol),b=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,d=this.classBreakInfos.reduce(function(a,c){return a+c.getMeshHash()},"");return a+"."+c+"."+d+"."+
b+"."+this.field+"."+this.valueExpression};Object.defineProperty(b.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new g({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
classBreakInfos:f.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:f.clone(this.visualVariables),legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};b.prototype.collectRequiredFields=function(a,c){return m(this,void 0,void 0,function(){var b;return k(this,function(d){switch(d.label){case 0:return b=
[this.collectVVRequiredFields(a,c),this.collectSymbolFields(a,c)],[4,n.all(b)];case 1:return d.sent(),[2]}})})};b.prototype.collectSymbolFields=function(a,c){return m(this,void 0,void 0,function(){var b;return k(this,function(d){switch(d.label){case 0:return b=this.getSymbols().map(function(b){return b.collectRequiredFields(a,c)}).concat([t.collectArcadeFieldNames(a,c,this.valueExpression)]),t.collectField(a,c,this.field),t.collectField(a,c,this.normalizationField),[4,n.all(b)];case 1:return d.sent(),
[2]}})})};b.prototype._getBreakIndexForExpression=function(a,c){var b=l.unwrapOr(c,{});c=b.viewingMode;var d=b.scale,f=b.spatialReference,g=this._cache.compiledFunc,b=l.expect(b.arcade).arcadeUtils;g||(g=b.createSyntaxTree(this.valueExpression),g=b.createFunction(g),this._cache.compiledFunc=g);a=b.executeFunction(g,b.createExecContext(a,b.getViewInfo({viewingMode:c,scale:d,spatialReference:f})));return this._getBreakIndexfromInfos(a)};b.prototype._getBreakIndexForField=function(a){var c=a.attributes;
a=this.normalizationType;var b=parseFloat(c[this.field]);if(a){var d=this.normalizationTotal,c=parseFloat(c[this.normalizationField]);if("log"===a)b=Math.log(b)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(d))b=b/d*100;else if("field"===a&&!isNaN(c)){if(isNaN(b)||isNaN(c))return-1;b/=c}}return this._getBreakIndexfromInfos(b)};b.prototype._getBreakIndexfromInfos=function(a){var c=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var b=0;b<this.classBreakInfos.length;b++){var d=
[this.classBreakInfos[b].minValue,this.classBreakInfos[b].maxValue];if(d[0]<=a&&(c?a<=d[1]:a<d[1]))return b}return-1};b.prototype._areClassBreaksConsecutive=function(){for(var a=this.classBreakInfos,c=a.length,b=1;b<c;b++)if(a[b-1].maxValue!==a[b].minValue)return!1;return!0};var g;e([v.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"_cache",null);e([v.property({types:{base:h.BaseSymbol,key:"type",typeMap:{"simple-fill":c.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":c.symbolTypesRenderer.typeMap["picture-fill"],
"polygon-3d":c.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{origins:{"web-scene":{type:h.PolygonSymbol3D,read:x.read,write:x.writeTarget}},read:x.read,write:x.writeTarget}})],b.prototype,"backgroundFillSymbol",void 0);e([v.property({type:[y]})],b.prototype,"classBreakInfos",void 0);e([v.reader("classBreakInfos")],b.prototype,"readClassBreakInfos",null);e([v.writer("classBreakInfos")],b.prototype,"writeClassBreakInfos",null);e([v.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",
void 0);e([v.property({types:c.symbolTypesRenderer})],b.prototype,"defaultSymbol",void 0);e([v.reader("defaultSymbol")],b.prototype,"readDefaultSymbol",null);e([v.writer("web-scene","defaultSymbol",{defaultSymbol:{types:c.symbolTypesRenderer3D}})],b.prototype,"writeDefaultSymbolWebScene",null);e([v.writer("defaultSymbol")],b.prototype,"writeDefaultSymbol",null);e([v.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([v.cast("field")],b.prototype,"castField",null);e([v.property({type:Boolean})],
b.prototype,"isMaxInclusive",void 0);e([v.property({type:D.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);e([v.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],b.prototype,"minValue",null);e([v.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([v.property({type:Number,cast:function(a){return r.ensureNumber(a)},
json:{write:!0}})],b.prototype,"normalizationTotal",void 0);e([v.property({type:F.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:F.jsonValues,read:F.read,write:F.write}})],b.prototype,"normalizationType",null);e([v.enumeration.serializable()({classBreaks:"class-breaks"})],b.prototype,"type",void 0);e([v.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([v.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",
void 0);return b=g=e([v.subclass("esri.renderers.ClassBreaksRenderer")],b)}(v.declared(A.VisualVariablesMixin(u)))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(q,e){b(q,e,a)}}})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x,z,F,C,E,H,G,K,L,N,I){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=e;b.ExtrudeSymbol3DLayer=p;b.BaseFillSymbol=k;b.FillSymbol3DLayer=m;b.Font=d;b.IconSymbol3DLayer=h;b.LabelSymbol3D=c;b.LineSymbol3D=g;b.LineSymbol3DLayer=f;b.BaseMarkerSymbol=w;b.MeshSymbol3D=l;b.ObjectSymbol3DLayer=n;b.PathSymbol3DLayer=v;b.PictureFillSymbol=r;b.PictureMarkerSymbol=t;b.PointSymbol3D=u;b.PolygonSymbol3D=A;b.SimpleFillSymbol=y;b.SimpleLineSymbol=
D;b.SimpleMarkerSymbol=B;b.BaseSymbol=x;b.BaseSymbol3D=z;b.BaseSymbol3DLayer=F;b.TextSymbol=C;b.TextSymbol3DLayer=E;b.WaterSymbol3DLayer=H;b.WebStyleSymbol=G;b.LineCallout3D=K;b.LineCallout3DBorder=L;b.Symbol3DVerticalOffset=N.Symbol3DVerticalOffset;b.fromJSON=I.fromJSON;b.isSymbol=function(a){return a instanceof x};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:x,key:"type",typeMap:{"simple-fill":y,"picture-fill":r,"picture-marker":t,"simple-line":D,"simple-marker":B,text:C,"label-3d":c,"line-3d":g,"mesh-3d":l,"point-3d":u,"polygon-3d":A,"web-style":G,cim:e}};b.symbolTypesRenderer={base:x,key:"type",typeMap:{"simple-fill":y,"picture-fill":r,"picture-marker":t,
"simple-line":D,"simple-marker":B,text:C,"line-3d":g,"mesh-3d":l,"point-3d":u,"polygon-3d":A,"web-style":G,cim:e}};b.symbolTypesLabel={base:x,key:"type",typeMap:{text:C,"label-3d":c}};b.symbolTypes3D={base:x,key:"type",typeMap:{"label-3d":c,"line-3d":g,"mesh-3d":l,"point-3d":u,"polygon-3d":A,"web-style":G}};b.symbolTypesRenderer3D={base:x,key:"type",typeMap:{"line-3d":g,"mesh-3d":l,"point-3d":u,"polygon-3d":A,"web-style":G}};b.symbolTypesLabel3D={base:x,key:"type",typeMap:{"label-3d":c}};b.ensureType=
q.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f,w){return function(a){function b(c){c=a.call(this,c)||this;c.data=null;c.portal=
null;c.styleUrl="";c.type="cim";return c}q(b,a);f=b;b.prototype.readData=function(a,c){return c.symbol};b.prototype.writeData=function(a,c){a&&(c.symbol=a)};b.prototype.readStyleUrl=function(a,c){return c.symbolUrl?c.symbolUrl:a};b.prototype.writeStyleUrl=function(a,c){a&&(c.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){var f,g,l,e,r,n,h;return p(this,function(u){switch(u.label){case 0:return[4,w.fetchSymbol(this)];case 1:u.sent(),g=(f="object"===
typeof this.data&&this.data.length)?this.data:[this.data],l=0,e=g,u.label=2;case 2:if(!(l<e.length))return[3,5];r=e[l];n=r.primitiveOverrides;if(!n)return[3,4];h=n.map(function(d){return c.collectArcadeFieldNames(a,b,d.valueExpressionInfo.expression)});return[4,d.all(h)];case 3:u.sent(),u.label=4;case 4:return l++,[3,2];case 5:return[2]}})})};b.prototype.clone=function(){return new f({color:this.color.clone(),data:m.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};
b.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var f;e([h.property({json:{write:!1}})],b.prototype,"color",void 0);e([h.property({json:{write:!0}})],b.prototype,"data",void 0);e([h.reader("data",["data","symbol"])],b.prototype,"readData",null);e([h.writer("data")],b.prototype,"writeData",null);e([h.property({type:g,json:{write:!1}})],b.prototype,"portal",void 0);e([h.property({json:{write:!0}})],b.prototype,"styleName",void 0);
e([h.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);e([h.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);e([h.writer("styleUrl")],b.prototype,"writeStyleUrl",null);e([h.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=f=e([h.subclass("esri.symbols.CIMSymbol")],b)}(h.declared(f))})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w){function l(a,c,b){if(a)for(var d=0;d<a.length;d++){var f=a[d],g=h.getDeepValue(f,c);(g=g&&"function"!==typeof g&&t(b,g))&&h.setDeepValue(f,g.name,c)}}function n(a,c){if(!a||!c)return[];J.clear();v(J,a,c);return g.valuesOfSet(J).sort()}function v(a,c,b){if(b)if(c&&c.length)if(k.includes(b,"*"))for(b=0;b<c.length;b++)a.add(c[b].name);else for(var d=0;d<b.length;d++)f=b[d],r(a,c,f);else if(k.includes(b,"*"))a.clear(),a.add("*");else for(c=0;c<b.length;c++){var f=b[c];
a.add(f)}}function r(a,c,b){c&&c.length?(c=t(c,b))&&a.add(c.name):"string"===typeof b&&a.add(b)}function t(a,c){if("string"!==typeof c)return null;if(null!=a){c=c.toLowerCase();for(var b=0;b<a.length;b++){var d=a[b];if(d&&d.name.toLowerCase()===c)return d}}return null}function u(a,c,b){return p(this,void 0,void 0,function(){var d,f,g,l,n;return e(this,function(e){switch(e.label){case 0:return b?[4,w.loadArcade()]:[2];case 1:d=e.sent().arcadeUtils;f=d.extractFieldNames(b);g=0;for(l=f;g<l.length;g++)n=
l[g],r(a,c,n);return[2]}})})}function A(a,c){for(var b=0;b<a.length;b++){var d=a[b];if(d&&d.valueType&&d.valueType===c)return d.name}return null}function y(a,c){return p(this,void 0,void 0,function(){var b,d;return e(this,function(f){if(!c)return[2];b=c.fields;return(d=h.getDeepValue("elevationInfo.featureExpressionInfo",c))?[2,d.collectRequiredFields(a,b)]:[2]})})}function D(a,b){return p(this,void 0,void 0,function(){var d,f;return e(this,function(g){switch(g.label){case 0:return d=b.labelingInfo,
f=b.fields,d&&d.length?[4,c.all(d.map(function(c){return B(a,f,c)}))]:[2];case 1:return g.sent(),[2]}})})}function B(a,c,b){return p(this,void 0,void 0,function(){var d,f,g,l,n;return e(this,function(e){switch(e.label){case 0:if(!b)return[2];d=b.getLabelExpression();f=b.where;return"arcade"!==d.type?[3,2]:[4,u(a,c,d.expression)];case 1:return e.sent(),[3,3];case 2:(g=d.expression.match(/{[^}]*}/g))&&g.forEach(function(b){r(a,c,b.slice(1,-1))}),e.label=3;case 3:return l=/['"]+/g,f&&(n=f.split(" "),
3===n.length&&r(a,c,n[0].replace(l,"")),7===n.length&&(r(a,c,n[0].replace(l,"")),r(a,c,n[4].replace(l,"")))),[2]}})})}function x(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function z(a){return null===a||x(a)}function F(a){return null===a||Q(a)}function C(a){return null!=a&&"string"===typeof a}function E(a){return null===a||C(a)}function H(){return!0}function G(a,c){var b;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":b=
a.nullable?F:Q;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":b=a.nullable?z:x;break;case "string":case "esriFieldTypeString":b=a.nullable?E:C;break;default:b=H}return 1===arguments.length?b:b(c)}function K(a){return null!=a&&S.has(a.type)}function L(a,c){return a.nullable&&null===c?null:K(a)&&!N(a.type,Number(c))?O.OUT_OF_RANGE:G(a,c)?a.domain?f.validateDomainValue(a.domain,c):null:V.INVALID_TYPE}function N(a,c){return(a="string"===typeof a?I(a):a)?a.isInteger?
Q(c)&&c>=a.min&&c<=a.max:c>=a.min&&c<=a.max:!1}function I(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}function M(a,c,b){if(!c||!c.attributes||!a){if(d.isSome(b))for(var f=0;f<a.length;f++)c=a[f],b.add(c);return!0}for(var f=c.attributes,g=!1,l=0;l<a.length;l++)if(c=
a[l],!(c in f))if(g=!0,d.isSome(b))b.add(c);else break;return g}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=function(a,c){if(null!=a&&null!=c){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var f=a[d];l(b.rendererFields,
f,c);if("visualVariables"in f&&f.visualVariables)for(var g=0,f=f.visualVariables;g<f.length;g++)l(b.visualVariableFields,f[g],c)}}};b.fixTimeInfoFields=function(a,c){if(null!=a&&null!=c)if("startField"in a){var b=t(c,a.startField);c=t(c,a.endField);a.startField=b&&b.name||null;a.endField=c&&c.name||null}else b=t(c,a.startTimeField),c=t(c,a.endTimeField),a.startTimeField=b&&b.name||null,a.endTimeField=c&&c.name||null};var J=new Set;b.fixFields=n;b.collectFields=v;b.collectField=r;b.unpackFieldNames=
function(a,c){return c&&a?k.includes(c,"*")?a.map(function(a){return a.name}):c:[]};b.packFields=function(a,c,b){void 0===b&&(b=1);if(!c||!a)return[];if(k.includes(c,"*"))return["*"];c=n(a,c);return c.length/a.length>=b?["*"]:c};b.getField=t;b.hasField=function(a,c){if(!a||!c||"string"!==typeof c)return!1;c=c.toLowerCase();for(var b=0;b<a.length;b++){var d=a[b];if(d&&d.name.toLowerCase()===c)return!0}return!1};b.collectArcadeFieldNames=u;b.getDisplayFieldName=function(a){var c=a.displayField;a=a.fields;
if(c)return c;if(!a||!a.length)return null;if(!(c=A(a,"name-or-title")||A(a,"unique-identifier")||A(a,"type-or-category")))a:{for(c=0;c<a.length;c++){var b=a[c];if(b&&b.name){var d=b.name.toLowerCase();if(-1<d.indexOf("name")||-1<d.indexOf("title")){c=b.name;break a}}}c=null}return c};b.getElevationFields=function(a){return p(this,void 0,void 0,function(){var c;return e(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];c=new Set;return[4,y(c,a)];case 1:return b.sent(),[2,g.valuesOfSet(c).sort()]}})})};
b.collectElevationFields=y;b.collectFilterFields=function(b,d,f){return p(this,void 0,void 0,function(){var g,l;return e(this,function(e){switch(e.label){case 0:if(!d||!f||!(f.where&&"1\x3d1"!==f.where||f.timeExtent))return[2];d.timeInfo&&f.timeExtent&&v(b,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return f.where?[4,c.create(function(c){a(["../../core/sql/WhereClause"],c)})]:[3,2];case 1:g=e.sent();l=g.WhereClause.create(f.where,d.fieldsIndex);if(!l.isStandardized)throw new m("fieldUtils:collectFilterFields",
"Where clause is not standardized");v(b,d.fields,l.fieldNames);e.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return p(this,void 0,void 0,function(){var c;return e(this,function(b){return a?(c="timeInfo"in a&&a.timeInfo)?[2,n(a.fields,[a.trackIdField,c.startField,c.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var c="editFieldsInfo"in a&&a.editFieldsInfo;return c?n(a.fields,[c&&c.creatorField,c&&c.creationDateField,c&&c.editorField,c&&c.editDateField]):
[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var c="geometryProperties"in a&&a.geometryProperties;return c?n(a.fields,[c&&c.shapeAreaFieldName,c&&c.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return p(this,void 0,void 0,function(){var c;return e(this,function(b){switch(b.label){case 0:if(!a)return[2,[]];c=new Set;return[4,D(c,a)];case 1:return b.sent(),[2,g.valuesOfSet(c).sort()]}})})};b.collectLabelingFields=D;b.getFieldDefaultValue=function(a){var c=a.defaultValue;if(void 0!==
c&&G(a,c))return c;if(a.nullable)return null};var Q=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=G;b.numericTypes=["integer","small-integer","single","double"];var S=g.createSetFromValues(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=K;b.isStringField=function(a){return null!=a&&("string"===a.type||
"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,c){return null===L(a,c)};var O;(O=b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var V;(V=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&
isNaN(a)?null:a};b.validateFieldValue=L;b.isNumberInRange=N;b.getFieldRange=function(a){var c=f.getDomainRange(a.domain);if(c)return c;if(K(a))return I(a.type)};b.getNumericTypeForValue=function(a){if(!x(a))return null;if(Q(a)){if(a>=b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange=
{min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,c,b){switch(a){case f.DomainValidationError.INVALID_CODED_VALUE:return"Value "+b+" is not in the coded domain - field: "+c.name+", domain: "+JSON.stringify(c.domain);case f.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+b+" is out of the range of valid values - field: "+
c.name+", domain: "+JSON.stringify(c.domain);case V.INVALID_TYPE:return"Value "+b+" is not a valid value for the field type - field: "+c.name+", type: "+c.type+", nullable: "+c.nullable;case O.OUT_OF_RANGE:return a=I(c.type),"Value "+b+" is out of range for the number type - field: "+c.name+", type: "+c.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,c){return!M(a,c,null)};b.populateMissingFields=M;b.getExpressionFields=function(a,c){return p(this,void 0,void 0,function(){var b,
d,f,l;return e(this,function(e){switch(e.label){case 0:b=new Set,d=0,f=c,e.label=1;case 1:if(!(d<f.length))return[3,4];l=f[d];return[4,u(b,a.fields,l)];case 2:e.sent(),e.label=3;case 3:return d++,[3,1];case 4:return[2,g.valuesOfSet(b).sort()]}})})}})},"esri/core/SetUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(a,b,q){function e(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function p(a){if(0===a.size)throw Error("Set is empty");
var b,d=!1;a.forEach(function(a){d||(b=a,d=!0)});return b}Object.defineProperty(b,"__esModule",{value:!0});b.someSet=Set.prototype.entries?function(a,b){a=a.entries();for(var d=a.next();!d.done;d=a.next())if(b(d.value[0]))return!0;return!1}:function(a,b){var d=!0;a.forEach(function(a){d&&(d=!b(a))});return!d};a=!!Set.prototype.values;b.valuesOfSet=a?function(a){return q.from(a.values())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};b.createSetFromValues=a?
function(a){return new Set(a)}:function(a){for(var b=new Set,d=0;d<a.length;d++)b.add(a[d]);return b};b.firstOfSet=a?e:p;b.reduceSet=function(a,b,d){var e=d;a.forEach(function(a){return e=b(a,e)});return e}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,b,q,e,p,k,m){function d(a,b){switch(a.type){case "range":var c="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:
a.minValue)||+b>c)return h.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return h.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=e;b.DomainBase=p;b.InheritedDomain=k;b.RangeDomain=m;var h;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(h=b.DomainValidationError||
(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===d(a,b)};b.validateDomainValue=d;b.types={key:"type",base:p,typeMap:{range:m,"coded-value":e,inherited:k}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return m.fromJSON(a);case "codedValue":return e.fromJSON(a);case "inherited":return k.fromJSON(a);default:q.neverReached(a)}return null}})},
"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(a,b,q,e,p,k,m,d){return function(a){function c(c){c=a.call(this,c)||this;c.codedValues=null;c.type="coded-value";return c}q(c,a);b=c;c.prototype.getName=function(a){var c=null;if(this.codedValues){var b=String(a);this.codedValues.some(function(a){String(a.code)===
b&&(c=a.name);return!!c})}return c};c.prototype.clone=function(){return new b({codedValues:p.clone(this.codedValues),name:this.name})};var b;e([k.property({type:[m.default],json:{write:!0}})],c.prototype,"codedValues",void 0);e([k.enumeration.serializable()({codedValue:"coded-value"})],c.prototype,"type",void 0);return c=b=e([k.subclass("esri.layers.support.CodedValueDomain")],c)}(k.declared(d))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(c){c=a.call(this,c)||this;c.name=null;c.code=null;return c}e(b,a);h=b;b.prototype.clone=function(){return new h({name:this.name,code:this.code})};var h;q([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);q([k.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=h=q([k.subclass("esri.layers.support.CodedValue")],b)}(k.declared(p.JSONSupport));b.CodedValue=
a;b.default=a})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m){var d=new p.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function c(c){c=a.call(this,c)||this;c.name=null;c.type=null;return c}q(c,a);e([m.property({type:String,json:{write:!0}})],
c.prototype,"name",void 0);e([m.enumeration.serializable()(d)],c.prototype,"type",void 0);return c=e([m.subclass("esri.layers.support.Domain")],c)}(m.declared(k.JSONSupport))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(a,b,q,e,p,k){return function(a){function b(c){c=a.call(this,c)||this;c.type="inherited";return c}q(b,a);
h=b;b.prototype.clone=function(){return new h};var h;e([p.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.layers.support.InheritedDomain")],b)}(p.declared(k))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(a,b,q,e,p,k){return function(a){function b(c){c=a.call(this,c)||
this;c.maxValue=null;c.minValue=null;c.type="range";return c}q(b,a);h=b;b.prototype.clone=function(){return new h({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var h;e([p.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,b,d){b[d]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);
e([p.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);e([p.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.layers.support.RangeDomain")],b)}(p.declared(k))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,q,e,p,k,m,d){function h(){return e(this,void 0,void 0,function(){var b=this;return q(this,function(d){c||(c=function(){return e(b,void 0,void 0,function(){var c;return q(this,function(b){switch(b.label){case 0:return[4,new Promise(function(c,b){a(["./arcadeUtils"],c,b)})];case 1:return c=b.sent(),[4,c.arcade.load()];case 2:return b.sent(),[2,{arcade:c.arcade,arcadeUtils:c,Dictionary:c.Dictionary,Feature:c.arcadeFeature}]}})})}());return[2,c]})})}Object.defineProperty(b,"__esModule",{value:!0});
var c;b.loadArcade=h;b.createLabelExpression=function(a,c,b){return g.create(a,c,b,null,["$feature"])};b.createVVExpression=function(a,c,b){return g.create(a,c,b,null,["$feature","$view"])};b.createRendererExpression=function(a,c,b){return g.create(a,c,b,null,["$feature","$view"])};b.createDictionaryExpression=function(a,c,b,d){return g.create(a,c,b,d,["$feature","$view"])};var g=function(){function a(a,c,b,d,f,g,e){this.evaluate=d;this._syntaxTree=b;this._arcade=a;this._arcadeDictionary=c;this._arcadeFeature=
f;this._fields=g;this._spatialReference=e;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}a.create=function(c,b,f,g,r,t){return e(this,void 0,void 0,function(){var l,e,n,v,w,x,z,F,C,E,H,G,K,L,N;return q(this,function(u){switch(u.label){case 0:return[4,h()];case 1:return l=u.sent(),e=l.arcade,n=l.Feature,v=l.Dictionary,w=k.SpatialReference.fromJSON(b),x=e.parseScript(c,t),z=r.reduce(function(a,c){var b;
return p({},a,(b={},b[c]=null,b))},{}),F=null,m.isSome(g)&&(F=new v(g),F.immutable=!0,z.$config=null),C=e.scriptUsesGeometryEngine(x)&&e.enableGeometrySupport(),E=e.scriptUsesFeatureSet(x)&&e.enableFeatureSetSupport(),H=e.scriptIsAsync(x)&&e.enableAsyncSupport(),G={vars:z,spatialReference:w,useAsync:!!H},K=new v,K.immutable=!1,K.setField("scale",0),L=e.compileScript(x,G),N=function(a){"$view"in a&&a.$view&&(K.setField("scale",a.$view.scale),a.$view=K);F&&(a.$config=F);return L({vars:a,spatialReference:w})},
[4,d.all([C,E,H])];case 2:return u.sent(),[2,new a(e,v,x,N,new n,f,w)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,
a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();b.ArcadeExpression=g;b.default=g})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=p;b.BaseGeometry=k;b.Multipoint=m;b.Point=d;b.Polygon=h;b.Polyline=c;b.SpatialReference=g;b.isGeometry=function(a){return a instanceof k};b.fromJSON=f.fromJSON;b.typeKebabDictionary=q.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=q.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:k,key:"type",typeMap:{extent:p,multipoint:m,point:d,polyline:c,polygon:h}};b.ensureType=e.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){function n(a,c,b){return null==c?b:null==b?c:a(c,b)}a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.type="extent";c.xmin=0;c.ymin=0;c.mmin=void 0;c.zmin=void 0;c.xmax=0;c.ymax=0;c.mmax=void 0;c.zmax=void 0;return c}q(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,d,f,g){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?
c.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:d,ymax:f,spatialReference:null==g?c.WGS84:g}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,c){return new d({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new h({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var c=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-c.x,a.y-c.y,a.z-c.z):this.offset(a.x-c.x,a.y-c.y)};b.prototype.clone=function(){var a=new d;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);
null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&l.canProject(c,b)&&(a=c.isWebMercator?l.geographicToWebMercator(a):l.webMercatorToGeographic(a,!0));return"point"===a.type?g.extentContainsPoint(this,a):"extent"===a.type?g.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&
l.canProject(c,b)&&(a=c.isWebMercator?l.geographicToWebMercator(a):l.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var c=this.width*a,b=this.height*a;this.xmin+=c;this.ymin+=b;this.xmax-=c;this.ymax-=b;this.hasZ&&(c=(this.zmax-this.zmin)*a,this.zmin+=c,this.zmax-=c);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=
a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(p.isNone(a))return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&l.canProject(c,b)&&(a=c.isWebMercator?l.geographicToWebMercator(a):l.webMercatorToGeographic(a,!0));c=f.getExtentIntersector(a.type);return"mesh"!==a.type?c(this,a):c(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,c,b){this.xmin+=a;this.ymin+=c;this.xmax+=
a;this.ymax+=c;null!=b&&(this.zmin+=b,this.zmax+=b);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.min,this.zmin,a.zmin),this.zmax=n(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.min,this.mmin,a.mmin),this.mmax=n(Math.max,this.mmax,
a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.max,this.zmin,a.zmin),this.zmax=n(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.max,this.mmin,a.mmin),this.mmax=n(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,
a)};b.prototype._shiftCM=function(a){void 0===a&&(a=w.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,d=this._getCM(a);if(d){var f=b.isWebMercator?l.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(f.x=this._normalizeX(f.x,a).x);this.spatialReference=new c(k.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:f.x}))}return this};b.prototype._getCM=function(a){var c=null,b=a.valid;a=b[0];var b=b[1],d=this.xmin,
f=this.xmax;d>=a&&d<=b&&f>=a&&f<=b||(c=this.center);return c};b.prototype._normalize=function(a,c,b){var d=this.spatialReference;if(!d)return this;b=b||w.getInfo(d);if(!b)return this;var f=this._getParts(b).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(b):this.set({xmin:b.valid[0],xmax:b.valid[1]});if(a)return this._shiftCM(b);if(c)return f;var g=!0,l=!0;f.forEach(function(a){a.hasZ||(g=!1);a.hasM||(l=!1)});return{rings:f.map(function(a){var c=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g)for(var b=(a.zmax-a.zmin)/2,d=0;d<c.length;d++)c[d].push(b);if(l)for(a=(a.mmax-a.mmin)/2,d=0;d<c.length;d++)c[d].push(a);return c}),hasZ:g,hasM:l,spatialReference:d}};b.prototype._getParts=function(a){var c=this.cache._parts;if(!c){var c=[],b=this.ymin,f=this.ymax,g=this.spatialReference,l=this.width,e=this.xmin,n=this.xmax,h=void 0;a=a||w.getInfo(g);var r=a.valid,t=r[0],u=r[1],h=this._normalizeX(this.xmin,a),v=
h.x,r=h.frameId,h=this._normalizeX(this.xmax,a),m=h.x;a=h.frameId;h=v===m&&0<l;if(l>2*u){l=new d(e<n?v:m,b,u,f,g);e=new d(t,b,e<n?m:v,f,g);n=new d(0,b,u,f,g);b=new d(t,b,0,f,g);f=[];g=[];l.contains(n)&&f.push(r);l.contains(b)&&g.push(r);e.contains(n)&&f.push(a);e.contains(b)&&g.push(a);for(t=r+1;t<a;t++)f.push(t),g.push(t);c.push({extent:l,frameIds:[r]},{extent:e,frameIds:[a]},{extent:n,frameIds:f},{extent:b,frameIds:g})}else v>m||h?c.push({extent:new d(v,b,u,f,g),frameIds:[r]},{extent:new d(t,b,
m,f,g),frameIds:[a]}):c.push({extent:new d(v,b,m,f,g),frameIds:[r]});this.cache._parts=c}a=this.hasZ;b=this.hasM;if(a||b)for(r={},a&&(r.zmin=this.zmin,r.zmax=this.zmax),b&&(r.mmin=this.mmin,r.mmax=this.mmax),a=0;a<c.length;a++)c[a].extent.set(r);return c};b.prototype._normalizeX=function(a,c){var b=c.valid;c=b[0];var d=b[1],b=2*d,f=0;a>d?(c=Math.ceil(Math.abs(a-d)/b),a-=c*b,f=c):a<c&&(c=Math.ceil(Math.abs(a-c)/b),a+=c*b,f=-c);return{x:a,frameId:f}};var d;e([m.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);e([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);e([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);e([m.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([m.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([m.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
"height",null);e([m.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);e([m.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);e([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);e([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);e([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);e([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"zmax",void 0);return b=d=e([m.subclass("esri.geometry.Extent")],b)}(m.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,q,e,p,k,m){return function(a){function b(c){c=a.call(this,c)||this;c.type=null;c.extent=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=
m.WGS84;return c}q(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof m)return a;if(null!=a){var c=new m;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=
function(a,b){this.cache[a]=b};e([k.property()],b.prototype,"type",void 0);e([k.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);e([k.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);e([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);e([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);e([k.property({type:m,
json:{write:!0}})],b.prototype,"spatialReference",void 0);e([k.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=e([k.subclass("esri.geometry.Geometry")],b)}(k.declared(p.JSONSupport))})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,
b,q,e,p,k,m,d,h){a=function(a){function c(c){c=a.call(this,c)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;c.imageCoordinateSystem=null;return c}e(c,a);b=c;c.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return b.WebMercator;if(4326===a.wkid)return b.WGS84}var c=new b;c.read(a);return c};c.prototype.normalizeCtorArgs=function(a){var c;return a&&"object"===typeof a?a:(c={},c["string"===typeof a?"wkt":"wkid"]=a,c)};Object.defineProperty(c.prototype,"isWGS84",{get:function(){return h.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isWebMercator",{get:function(){return h.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isGeographic",{get:function(){return h.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isWrappable",{get:function(){return h.isWrappable(this)},enumerable:!0,configurable:!0});c.prototype.writeWkt=function(a,c){this.wkid||(c.wkt=a)};c.prototype.clone=function(){if(this===
b.WGS84)return b.WGS84;if(this===b.WebMercator)return b.WebMercator;var a=new b;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=m.clone(this.imageCoordinateSystem));return a};c.prototype.equals=function(a){if(null==a)return!1;if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var c=a.imageCoordinateSystem,b=c.id,c=c.referenceServiceName,d=a.imageCoordinateSystem.geodataXform,f=this.imageCoordinateSystem;return null==b||d?JSON.stringify(f)===JSON.stringify(a.imageCoordinateSystem):c?f.id===b&&f.referenceServiceName===c:f.id===b}return h.equals(this,a)};c.prototype.toJSON=function(a){return this.write(null,a)};var b;c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;p([d.property({dependsOn:["wkid"],readOnly:!0})],
c.prototype,"isWGS84",null);p([d.property({dependsOn:["wkid"],readOnly:!0})],c.prototype,"isWebMercator",null);p([d.property({dependsOn:["wkid","wkt"],readOnly:!0})],c.prototype,"isGeographic",null);p([d.property({dependsOn:["wkid"],readOnly:!0})],c.prototype,"isWrappable",null);p([d.property({type:Number,json:{write:!0}})],c.prototype,"latestWkid",void 0);p([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],
c.prototype,"wkid",void 0);p([d.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],c.prototype,"wkt",void 0);p([d.writer("wkt"),d.writer("web-scene","wkt")],c.prototype,"writeWkt",null);p([d.property({type:Number,json:{write:!0}})],c.prototype,"vcsWkid",void 0);p([d.property({type:Number,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);p([d.property()],c.prototype,"imageCoordinateSystem",void 0);return c=b=p([d.subclass("esri.geometry.SpatialReference")],
c)}(d.declared(k.JSONSupport));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(h.WGS84);a.WebMercator=new a(h.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/string","./WKIDUnitConversion"],function(a,b,q,e){function p(a){return m(a)&&a.wkid?g[a.wkid]:null}function k(a){return m(a)&&!0===d[a.wkid]}function m(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var d={102113:!0,102100:!0,3857:!0,3785:!0},h={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,c){return a&&c?a===c?!0:null!=a.wkid||null!=c.wkid?a.wkid===c.wkid||k(a)&&k(c)||null!=c.latestWkid&&a.wkid===c.latestWkid||null!=a.latestWkid&&c.wkid===a.latestWkid:a.wkt&&c.wkt?a.wkt.toUpperCase()===c.wkt.toUpperCase():!1:!1};b.getInfo=p;b.isGeographic=function(a){return m(a)?a.wkid?null==e[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return m(a)&&4326===a.wkid};b.isWebMercator=k;b.isWrappable=function(a){return m(a)&&
!0===h[a.wkid]};b.isValid=m;b.WGS84={wkid:4326,wkt:q.replace(p({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=
0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=
2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=
0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=
0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=
0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=
0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=
0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=
0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=
0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=
0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=
102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=
0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=
2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=
0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=
0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=
0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=
2;for(a=103595;103597>=a;a++)b[a]=0;for(a=103600;103694>=a;a++)b[a]=0;for(a=103696;103698>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f){function w(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var l=[0,0],n=p.getLogger("esri.geometry.Point");a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.x=0;c.y=0;c.z=void 0;c.m=void 0;c.type="point";return c}q(b,a);d=b;b.copy=function(a,c){c._set("x",a._get("x"));c._set("y",a._get("y"));c._set("z",a._get("z"));c._set("m",a._get("m"));a=a._get("spatialReference");c._set("spatialReference",
Object.isFrozen(a)?a:a.clone())};b.distance=function(a,c){var b=a.x-c.x,d=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,c,b,d,g){var e;if(Array.isArray(a))e=a,g=c,a=e[0],c=e[1],b=e[2],d=e[3];else if(a&&"object"===typeof a){if(e=a,a=null!=e.x?e.x:e.longitude,c=null!=e.y?e.y:e.latitude,b=null!=e.z?e.z:e.altitude,d=e.m,(g=e.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new h(g)),null!=e.longitude||null!=e.latitude)null==
e.longitude?n.warn(".longitude\x3d","Latitude was defined without longitude"):null==e.latitude?n.warn(".latitude\x3d","Longitude was defined without latitude"):!e.declaredClass&&g&&g.isWebMercator&&(c=f.lngLatToXY(e.longitude,e.latitude,l),a=c[0],c=c[1])}else w(b)?(g=b,b=null):w(d)&&(g=d,d=null);a={x:a,y:c};null==a.x&&null!=a.y?n.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&n.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=g&&(a.spatialReference=
g);null!=b&&(a.z=b);null!=d&&(a.m=d);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return f.xyToLngLat(this.x,this.y,l)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("y",f.lngLatToXY(this.x,a,l)[1]):c.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this._get("x"),this._get("y"),l)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",f.lngLatToXY(a,this._get("y"),l)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,c,b){c[b]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new d;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){d.copy(a,this);return this};b.prototype.equals=function(a){var c;if(!a)return!1;var b=this.x,d=this.y,g=this.z,e=this.m,l=this.spatialReference,n=a.z,h=a.m,r=a.x;c=a.y;a=a.spatialReference;if(!l.equals(a))if(l.isWebMercator&&a.isWGS84)c=f.lngLatToXY(r,c),r=c[0],c=c[1],a=l;else if(l.isWGS84&&a.isWebMercator)c=f.xyToLngLat(r,c),r=c[0],c=c[1],a=l;else return!1;return b===r&&d===c&&g===n&&e===h&&l.wkid===a.wkid};b.prototype.offset=function(a,b,d){return c.offsetPoint(this,
a,b,d)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=g.getInfo(this.spatialReference);if(!a)return this;var c=this.x,b=a.valid,a=b[0],d=b[1],b=2*d;c>d?(a=Math.ceil(Math.abs(c-d)/b),c-=a*b):c<a&&(a=Math.ceil(Math.abs(c-a)/b),c+=a*b);this._set("x",c);return this};b.prototype.distance=function(a){return d.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var d;e([k.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);e([k.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([k.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([k.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
e([k.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);e([k.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),k.cast(function(a){return isNaN(a)?a:m.ensureNumber(a)})],b.prototype,"x",void 0);e([k.writer("x")],b.prototype,"writeX",null);e([k.reader("x")],b.prototype,"readX",null);e([k.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);e([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);e([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=d=e([k.subclass("esri.geometry.Point")],b)}(k.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(a,b,p,k){a.x+=b;a.y+=p;null!=k&&null!=a.z&&(a.z+=k);return a};b.offsetCoordsX=function(a,
b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,b,q,e,p,k){function m(a,c,b,d,f){var g;if("x"in a&&"x"in f)c=c(a.x,a.y,w,d),f.x=c[0],f.y=c[1];else if("xmin"in a&&"xmin"in f)g=c(a.xmin,a.ymin,w,d),f.xmin=g[0],f.ymin=g[1],c=c(a.xmax,a.ymax,w,d),f.xmax=c[0],f.ymax=c[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){g="paths"in a?
a.paths:a.rings;var e=[],l=void 0;for(a=0;a<g.length;a++){var n=g[a],l=[];e.push(l);for(var h=0;h<n.length;h++)l.push(c(n[h][0],n[h][1],[0,0],d)),2<n[h].length&&l[h].push(n[h][2]),3<n[h].length&&l[h].push(n[h][3])}"paths"in f?f.paths=e:f.rings=e}else if("points"in a&&"points"in f){g=a.points;e=[];for(a=0;a<g.length;a++)e[a]=c(g[a][0],g[a][1],[0,0],d),2<g[a].length&&e[a].push(g[a][2]),3<g[a].length&&e[a].push(g[a][3]);f.points=e}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(g=
a.vertexAttributes&&a.vertexAttributes.position,e=f.vertexAttributes&&f.vertexAttributes.position,g))for(l=[0,0],a=0;a<g.length;a+=3)c(g[a],g[a+1],l,d),e[a]=l[0],e[a+1]=l[1];f.spatialReference=b;return f}function d(a,c){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return a&&c?k.equals(c,a)?!0:k.isWebMercator(c)&&k.isWGS84(a)||k.isWebMercator(a)&&k.isWGS84(c):!1}function h(a,c,b){void 0===b&&(b=[0,0]);89.99999<c?c=89.99999:-89.99999>c&&
(c=-89.99999);c*=.017453292519943;b[0]=.017453292519943*a*g;b[1]=f*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return b}function c(a,c,b,d){void 0===b&&(b=[0,0]);void 0===d&&(d=!1);a=a/g*57.29577951308232;b[0]=d?a:a-360*Math.floor((a+180)/360);b[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*c/g)));return b}Object.defineProperty(b,"__esModule",{value:!0});var g=e.wgs84Radius,f=g/2,w=[0,0];b.canProject=d;b.project=function(a,b){var f=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);
return d(f,b)?k.equals(f,b)?q.clone(a):k.isWebMercator(b)?m(a,h,p.WebMercator,!1,q.clone(a)):k.isWGS84(b)?m(a,c,p.WGS84,!1,q.clone(a)):null:null};b.lngLatToXY=h;b.xyToLngLat=c;b.geographicToWebMercator=function(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=q.clone(a));return m(a,h,p.WebMercator,c,b)};b.webMercatorToGeographic=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=q.clone(a));return m(a,c,p.WGS84,b,d)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function q(a,b){return e(a,b[0],b[1])}function e(a,b,c,g){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=g&&a.hasZ?g>=a.zmin&&g<=a.zmax:!0:!1}function p(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=
!1,d=0,f=a.length;d<f;d++)c=k(c,a[d],b);b=c}else b=k(!1,a,b);else b=!1;return b}function k(a,b,c){var d=c[0];c=c[1];for(var f=0,e=0,l=b.length;e<l;e++){f++;f===l&&(f=0);var h=b[e],v=h[0],h=h[1],r=b[f],t=r[0],r=r[1];(h<c&&r>=c||r<c&&h>=c)&&v+(c-h)/(r-h)*(t-v)<d&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});var m=[0,0];b.extentContainsPoint=function(a,b){return e(a,b.x,b.y,b.z)};b.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var c=0;for(b=b.points;c<
b.length;c++)if(!q(a,b[c]))return!1;return!0};b.extentContainsExtent=function(a,b){var c=b.xmin,d=b.ymin,f=b.zmin,h=b.xmax,l=b.ymax,n=b.zmax;return a.hasZ&&b.hasZ?e(a,c,d,f)&&e(a,c,l,f)&&e(a,h,l,f)&&e(a,h,d,f)&&e(a,c,d,n)&&e(a,c,l,n)&&e(a,h,l,n)&&e(a,h,d,n):e(a,c,d)&&e(a,c,l)&&e(a,h,l)&&e(a,h,d)};b.extentContainsCoords2D=q;b.extentContainsCoords3D=function(a,b){return e(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){m[1]=b.y;m[0]=b.x;return p(a,m)};b.polygonContainsCoords=p})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(a,b,q){function e(a,c){return q.extentContainsPoint(a,c)}function p(a,c){var b=a.hasZ&&c.hasZ,d;if(a.xmin<=c.xmin){if(d=c.xmin,a.xmax<d)return!1}else if(d=a.xmin,c.xmax<d)return!1;if(a.ymin<=c.ymin){if(d=c.ymin,a.ymax<d)return!1}else if(d=a.ymin,c.ymax<d)return!1;if(b&&c.hasZ)if(a.zmin<=c.zmin){if(b=c.zmin,a.zmax<b)return!1}else if(b=a.zmin,c.zmax<b)return!1;return!0}function k(a,c){var b=c.hasZ?q.extentContainsCoords3D:q.extentContainsCoords2D,d=0;for(c=c.points;d<
c.length;d++)if(b(a,c[d]))return!0;return!1}function m(a,c){g[0]=a.xmin;g[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;w[0]=a.xmin;w[1]=a.ymin;l[0]=a.xmax;l[1]=a.ymin;for(var b=0,d=n;b<d.length;b++)if(q.polygonContainsCoords(c,d[b]))return!0;b=0;for(c=c.rings;b<c.length;b++)if(d=c[b],d.length){var e=d[0];if(q.extentContainsCoords2D(a,e))return!0;for(var r=1;r<d.length;r++){var t=d[r];if(q.extentContainsCoords2D(a,t)||h(e,t,v))return!0;e=t}}return!1}function d(a,c){g[0]=a.xmin;g[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;
w[0]=a.xmin;w[1]=a.ymin;l[0]=a.xmax;l[1]=a.ymin;c=c.paths;for(var b=0;b<c.length;b++){var d=c[b];if(c.length){var e=d[0];if(q.extentContainsCoords2D(a,e))return!0;for(var n=1;n<d.length;n++){var r=d[n];if(q.extentContainsCoords2D(a,r)||h(e,r,v))return!0;e=r}}}return!1}function h(a,b,d){for(var f=0;f<d.length;f++)if(c(a,b,d[f][0],d[f][1]))return!0;return!1}function c(a,c,b,d,f){var g=a[0];a=a[1];var e=c[0];c=c[1];var l=b[0],h=b[1];b=d[0]-l;var l=g-l,n=e-g;d=d[1]-h;var h=a-h,r=c-a,t=d*n-b*r;if(0===
t)return!1;b=(b*h-d*l)/t;l=(n*h-r*l)/t;return 0<=b&&1>=b&&0<=l&&1>=l?(f&&(f[0]=g+b*(e-g),f[1]=a+b*(c-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=e;b.extentIntersectsExtent=p;b.extentIntersectsMultipoint=k;var g=[0,0],f=[0,0],w=[0,0],l=[0,0],n=[g,f,w,l],v=[[w,g],[g,f],[f,l],[l,w]];b.extentIntersectsPolygon=m;b.extentIntersectsPolyline=d;var r=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],f=0;f<d.length-1;f++)for(var g=d[f],
e=d[f+1],l=b+1;l<a.length;l++)for(var h=0;h<a[l].length-1;h++){var n=a[l][h],t=a[l][h+1],v=c(g,e,n,t,r);if(v&&!(r[0]===g[0]&&r[1]===g[1]||r[0]===n[0]&&r[1]===n[1]||r[0]===e[0]&&r[1]===e[1]||r[0]===t[0]&&r[1]===t[1]))return!0}h=d.length;if(!(4>=h))for(f=0;f<h-3;f++){var m=h-1;0===f&&(m=h-2);g=d[f];e=d[f+1];for(l=f+2;l<m;l++)if(n=d[l],t=d[l+1],(v=c(g,e,n,t,r))&&!(r[0]===g[0]&&r[1]===g[1]||r[0]===n[0]&&r[1]===n[1]||r[0]===e[0]&&r[1]===e[1]||r[0]===t[0]&&r[1]===t[1]))return!0}}return!1};b.segmentIntersects=
c;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return p;case "esriGeometryMultipoint":case "multipoint":return k;case "esriGeometryPoint":case "point":return e;case "esriGeometryPolygon":case "polygon":return m;case "esriGeometryPolyline":case "polyline":return d;case "mesh":return p}}})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c){function g(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.points=[];c.type="multipoint";return c}q(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,c){if(!a&&!c)return null;var b={};Array.isArray(a)?(b.points=a,b.spatialReference=c):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(b.points=a.points),a.spatialReference&&
(b.spatialReference=a.spatialReference),a.hasZ&&(b.hasZ=a.hasZ),a.hasM&&(b.hasM=a.hasM)):b.spatialReference=a;if(a=b.points&&b.points[0])void 0===b.hasZ&&void 0===b.hasM?(b.hasZ=2<a.length,b.hasM=!1):void 0===b.hasZ?b.hasZ=3<a.length:void 0===b.hasM&&(b.hasM=3<a.length);return b};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var c=new m,b=this.hasZ,d=this.hasM,f=b?3:2,e=a[0],l=g(Math.min),h=g(Math.max),k=e[0],w=e[1],p=e[0],e=e[1],q,C,E,H,
G=0,K=a.length;G<K;G++){var L=a[G],N=L[0],I=L[1],k=l(k,N),w=l(w,I),p=h(p,N),e=h(e,I);b&&2<L.length&&(N=L[2],q=l(q,N),E=h(E,N));d&&L.length>f&&(L=L[f],C=l(C,L),H=h(H,L))}c.xmin=k;c.ymin=w;c.xmax=p;c.ymax=e;c.spatialReference=this.spatialReference;b?(c.zmin=q,c.zmax=E):(c.zmin=null,c.zmax=null);d?(c.mmin=C,c.mmax=H):(c.mmin=null,c.mmax=null);return c},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,c){c.points=p.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
c.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:p.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new d(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var c={x:a[0],y:a[1],spatialReference:this.spatialReference},b=2;this.hasZ&&(c.z=a[2],b=3);this.hasM&&(c.m=a[b]);return new h(c)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new h(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.points[a]=b;return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var d;e([k.property({dependsOn:["points",
"hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);e([k.property({dependsOn:["cache"]})],b.prototype,"extent",null);e([k.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);e([k.writer("points")],b.prototype,"writePoints",null);return b=d=e([k.subclass("esri.geometry.Multipoint")],b)}(k.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,p){void 0===p&&(p=!1);var e=a.hasM,m=a.hasZ;Array.isArray(b)?4!==b.length||e||m?3===b.length&&p&&!e?(m=!0,e=!1):3===b.length&&e&&m&&(m=e=!1):m=e=!0:(m=!m&&b.hasZ&&(!e||b.hasM),e=!e&&b.hasM&&(!m||b.hasZ));a.hasZ=m;a.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r){a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.rings=[];c.type="polygon";return c}q(b,a);d=b;b.fromExtent=function(a){var c=a.clone().normalize();a=a.spatialReference;var b=!1,f=!1;c.map(function(a){a.hasZ&&(b=!0);a.hasM&&(f=!0)});c={rings:c.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(b&&a.hasZ)for(var d=a.zmin+.5*(a.zmax-a.zmin),
g=0;g<c.length;g++)c[g].push(d);if(f&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),g=0;g<c.length;g++)c[g].push(a);return c}),spatialReference:a};b&&(c.hasZ=!0);f&&(c.hasM=!0);return new d(c)};b.prototype.normalizeCtorArgs=function(a,b){var d=null,f,g,e=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),f=a.hasZ,g=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(e=d[0]&&d[0][0])void 0===f&&void 0===
g?(f=2<e.length,g=!1):void 0===f?f=!g&&3<e.length:void 0===g&&(g=!f&&3<e.length);return{rings:d,spatialReference:b,hasZ:f,hasM:g}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=g.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var c=new h;c.x=a[0];c.y=a[1];c.spatialReference=this.spatialReference;this.hasZ&&(c.z=a[2]);return c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,
c=l.getPolygonExtent(this);if(!c)return null;c=new m(c);c.spatialReference=a;return c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return n.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,c){c.rings=p.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var c=this.rings,b=c.length;if(Array.isArray(a[0]))c[b]=a.concat();else{for(var d=[],f=0,g=a.length;f<g;f++)d[f]=a[f].toArray();
c[b]=d}return this}};b.prototype.clone=function(){var a=new d;a.spatialReference=this.spatialReference;a.rings=p.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;v.canProject(a,this.spatialReference)&&(a=v.project(a,this.spatialReference));return f.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var c=this;a=Array.isArray(a[0])?a:a.map(function(a){return c.hasZ?c.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return w.isClockwise(a,
this.hasM,this.hasZ)};b.prototype.getPoint=function(a,c){if(!this._validateInputs(a,c))return null;a=this.rings[a][c];c=this.hasZ;var b=this.hasM;return c&&!b?new h(a[0],a[1],a[2],void 0,this.spatialReference):b&&!c?new h(a[0],a[1],void 0,a[2],this.spatialReference):c&&b?new h(a[0],a[1],a[2],a[3],this.spatialReference):new h(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,c,b){if(!this._validateInputs(a,c,!0))return this;this.clearCache();r.updateSupportFromPoint(this,b);Array.isArray(b)||
(b=b.toArray());this.rings[a].splice(c,0,b);return this};b.prototype.removePoint=function(a,c){if(!this._validateInputs(a,c))return null;this.clearCache();return new h(this.rings[a].splice(c,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var c=this.spatialReference;return a.map(function(a){return new h(a,c)})};b.prototype.setPoint=function(a,c,b){if(!this._validateInputs(a,c))return this;this.clearCache();
r.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a][c]=b;return this};b.prototype._validateInputs=function(a,c,b){void 0===b&&(b=!1);return null==a||0>a||a>=this.rings.length||null!=c&&(a=this.rings[a],b&&(0>c||c>a.length)||!b&&(0>c||c>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var d;e([k.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);e([k.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",
null);e([k.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([k.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);e([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);e([k.writer("rings")],b.prototype,"writePaths",null);return b=d=e([k.subclass("esri.geometry.Polygon")],b)}(k.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(a,b,q){function e(a,b){if(!a||!a.length)return null;for(var d=[],c=[],g=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],f=0,e=a.length;f<e;f++){var l=p(a[f],b,g);l&&c.push(l)}c.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});c.length&&(f=6*c[0][2],d[0]=c[0][0]/f,d[1]=c[0][1]/f,b&&(f=6*c[0][4],d[2]=0!==f?c[0][3]/f:0),d[0]<g[0]||d[0]>g[1]||d[1]<g[2]||d[1]>g[3]||b&&(d[2]<g[4]||d[2]>g[5]))&&(d.length=
0);if(!d.length)if(a=a[0]&&a[0].length?k(a[0],b):null)d[0]=a[0],d[1]=a[1],b&&2<a.length&&(d[2]=a[2]);else return null;return d}function p(a,b,e){for(var c=0,d=0,f=0,h=0,l=0,n=0;n<a.length;n++){var m=a[n],r=m[0],t=m[1],k=m[2],p=a[(n+1)%a.length],q=p[0],D=p[1],B=p[2],x=r*D-q*t,h=h+x,c=c+(r+q)*x,d=d+(t+D)*x;b&&2<m.length&&2<p.length&&(x=r*B-q*k,f+=(k+B)*x,l+=x);r<e[0]&&(e[0]=r);r>e[1]&&(e[1]=r);t<e[2]&&(e[2]=t);t>e[3]&&(e[3]=t);b&&(k<e[4]&&(e[4]=k),k>e[5]&&(e[5]=k))}0<h&&(h*=-1);0<l&&(l*=-1);if(!h)return null;
a=[c,d,.5*h];b&&(a[3]=f,a[4]=.5*l);return a}function k(a,b){for(var d=b?[0,0,0]:[0,0],c=b?[0,0,0]:[0,0],g=0,f=0,e=0,l=0,n=0,m=a.length;n<m-1;n++){var r=a[n],t=a[n+1];if(r&&t){d[0]=r[0];d[1]=r[1];c[0]=t[0];c[1]=t[1];b&&2<r.length&&2<t.length&&(d[2]=r[2],c[2]=t[2]);var k=q.getLength(d,c);k&&(g+=k,r=q.getMidpoint(r,t),f+=k*r[0],e+=k*r[1],b&&2<r.length&&(l+=k*r[2]))}}return 0<g?b?[f/g,e/g,l/g]:[f/g,e/g]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?e(a.rings,a.hasZ):null};b.ringsCentroid=e;b.lineCentroid=k})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,b,q){function e(a,b){var c=b[0]-a[0],d=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(c*c+d*d+a*a)):Math.sqrt(c*c+d*d)}function p(a,b,c){var d=a[0]+c*(b[0]-a[0]),f=a[1]+c*(b[1]-
a[1]);return 2<a.length&&2<b.length?[d,f,a[2]+c*(b[2]-a[2])]:[d,f]}function k(a,b,c){for(var d=a.length,f=0,e=0,l=0,h=0;h<d;h++){var m=a[h],r=a[(h+1)%d],t=2,f=f+(m[0]*r[1]-r[0]*m[1]);2<m.length&&2<r.length&&c&&(e+=m[0]*r[2]-r[0]*m[2],t=3);m.length>t&&r.length>t&&b&&(l+=m[0]*r[t]-r[0]*m[t])}return 0>=f&&0>=e&&0>=l}function m(a,b){if(b=q.getInfo(b)){var c=b.valid[0],d=b.valid[1],f=d-c;b=function(a){var b=Infinity,e=-Infinity;a.forEach(function(a){for(var g=a[0];g<c;)g+=f;for(;g>d;)g-=f;b=Math.min(b,
g);e=Math.max(e,g);a[0]=g});var g=e-b;f-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=f)})};for(var e=0;e<a.length;e++)b(a[e])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,c=a.hasM;if("point"===a.type)return c&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:c?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);
if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var d=!1,f=!1;a.forEach(function(a){a.hasZ&&(d=!0);a.hasM&&(f=!0)});return a.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var b=.5*(a.zmax-a.zmin),g=0;g<c.length;g++)c[g].push(b);if(f&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<c.length;g++)c[g].push(a);return c})}return null};b.getLength=e;b.getMidpoint=function(a,b){return p(a,b,.5)};b.getPathLength=function(a){for(var b=
a.length,c=0,d=0;d<b-1;++d)c+=e(a[d],a[d+1]);return c};b.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var c=a.length,d=0,f=0;f<c-1;++f){var h=e(a[f],a[f+1]);if(b-d<h)return p(a[f],a[f+1],(b-d)/h);d+=h}return a[c-1]};b.isClockwise=k;b.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,c=a.rings;b<c.length;b++){var d=c[b];3>d.length||d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push([d[0][0],d[0][1]])}if(0<a.rings.length&&!k(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=
a.rings[b].reverse()}};b.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}}};b.getRingArea=function(a){for(var b=a.length,c=0,d=0;d<b;d++)var f=a[d],e=a[(d+1)%b],c=c+(f[0]*e[1]-e[0]*f[1]);return c};b.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;m("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};
b.unnormalizeVerticesOnDatelineCrossing=m;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,c,e){var d=Infinity,g=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<b;)f+=e;for(;f>c;)f-=e;d=Math.min(d,f);g=Math.max(g,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var l=g-d;e-l<l&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=e)})}})},"esri/geometry/support/extentUtils":function(){define(["require",
"exports","./boundsUtils"],function(a,b,q){function e(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function p(a){var b=a.hasZ,c=a.hasM;return e(q.getPointsBounds(h,a.points,b,c),b,c)}function k(a){var b=a.x,c=a.y,d=a.z;a=a.m;var e=null!=a;return null!=
d?e?{xmin:b,ymin:c,zmin:d,mmin:a,xmax:b,ymax:c,zmax:d,mmax:a}:{xmin:b,ymin:c,zmin:d,xmax:b,ymax:c,zmax:d}:e?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,ymax:c}}function m(a){var b=a.hasZ,c=a.hasM;return(a=q.getRingsOrPathsBounds(h,a.rings,b,c))?e(a,b,c):null}function d(a){var b=a.hasZ,c=a.hasM;return(a=q.getRingsOrPathsBounds(h,a.paths,b,c))?e(a,b,c):null}Object.defineProperty(b,"__esModule",{value:!0});var h=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?k(a):void 0!==a.rings?m(a):void 0!==a.paths?d(a):void 0!==a.points?p(a):null:null};b.getMultipointExtent=p;b.getPointExtent=k;b.getPolygonExtent=m;b.getPolylineExtent=d})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(a,b){function q(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function e(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function p(a,
b,f,e){var c=f?3:2;if(!b.length||!b[0].length)return null;for(var g=b[0][0],m=g[0],g=g[1],r=b[0][0],t=r[0],r=r[1],k=void 0,w=void 0,p=void 0,q=void 0,B=0;B<b.length;B++)for(var x=b[B],z=0;z<x.length;z++){var F=x[z],C=F[0],E=F[1],m=d(m,C),g=d(g,E),t=h(t,C),r=h(r,E);f&&2<F.length&&(C=F[2],k=d(k,C),w=h(w,C));e&&F.length>c&&(q=F[c],p=d(k,q),q=h(w,q))}if(f){if(e)return a[0]=m,a[1]=g,a[2]=k,a[3]=p,a[4]=t,a[5]=r,a[6]=w,a[7]=q,a.length=8,a;a[0]=m;a[1]=g;a[2]=k;a[3]=t;a[4]=r;a[5]=w;a.length=6;return a}if(e)return a[0]=
m,a[1]=g,a[2]=p,a[3]=t,a[4]=r,a[5]=q,a.length=6,a;a[0]=m;a[1]=g;a[2]=t;a[3]=r;a.length=4;return a}function k(a,b,d,e,l,h){d=b.xmin;e=b.xmax;var c=b.ymin,f=b.ymax,g=b.zmin,n=b.zmax,m=b.mmin;b=b.mmax;if(l){g=g||0;n=n||0;if(h)return a[0]=d,a[1]=c,a[2]=g,a[3]=m||0,a[4]=e,a[5]=f,a[6]=n,a[7]=b||0,a;a[0]=d;a[1]=c;a[2]=g;a[3]=e;a[4]=f;a[5]=n;return a}if(h)return a[0]=d,a[1]=c,a[2]=m||0,a[3]=e,a[4]=f,a[5]=b||0,a;a[0]=d;a[1]=c;a[2]=e;a[3]=f;return a}function m(a,b,f,e,l,n){var c=f?3:2;e=e&&n;f=f&&l;if(!b.length||
!b[0].length)return null;for(var g=b[0],t=g[0],g=g[1],m=b[0],k=m[0],m=m[1],p=void 0,w=void 0,q=void 0,x=void 0,z=0;z<b.length;z++){var F=b[z],C=F[0],E=F[1],t=d(t,C),g=d(g,E),k=h(k,C),m=h(m,E);f&&2<F.length&&(C=F[2],p=d(p,C),w=h(w,C));e&&F.length>c&&(x=F[c],q=d(p,x),x=h(w,x))}if(l){p=p||0;w=w||0;if(n)return a[0]=t,a[1]=g,a[2]=p,a[3]=q||0,a[4]=k,a[5]=m,a[6]=w,a[7]=x||0,a;a[0]=t;a[1]=g;a[2]=p;a[3]=k;a[4]=m;a[5]=w;return a}if(n)return a[0]=t,a[1]=g,a[2]=q||0,a[3]=k,a[4]=m,a[5]=x||0,a;a[0]=t;a[1]=g;a[2]=
k;a[3]=m;return a}Object.defineProperty(b,"__esModule",{value:!0});var d=e(Math.min),h=e(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!1,!1);if(void 0!==b.rings)return p(a,b.rings,!1,!1);if(void 0!==b.points)return m(a,b.points,!1,!1,!1,!1);if(q(b))return k(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!0,!1);if(void 0!==b.rings)return p(a,b.rings,!0,!1);if(void 0!==
b.points)return m(a,b.points,!0,!1,!0,!1);if(q(b))return k(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=b.z);return a};b.getRingsOrPathsBounds=p;b.getExtentBounds=k;b.getPointsBounds=m;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],e=0;e<a.length;e++)var l=a[e][0],b=d(b,l),c=h(c,l);return c-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],
e=0;e<a.length;e++)var l=a[e][0],b=d(b,l),c=h(c,l);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.paths=
[];b.type="polyline";return b}q(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b){var d=null,f,e,g=null;a&&!Array.isArray(a)?(d=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),f=a.hasZ,e=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(g=d[0]&&d[0][0])void 0===f&&void 0===e?(f=2<g.length,e=!1):void 0===f?f=!e&&3<g.length:void 0===e&&(e=!f&&3<g.length);return{paths:d,spatialReference:b,hasZ:f,hasM:e}};Object.defineProperty(b.prototype,
"extent",{get:function(){var a=this.spatialReference,b=g.getPolylineExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b){b.paths=p.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],f=0,e=a.length;f<e;f++)d[f]=a[f].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new d;a.spatialReference=
this.spatialReference;a.paths=p.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new h(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new h(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new h(a[0],a[1],a[2],a[3],this.spatialReference):new h(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,
!0))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new h(a,b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new h(this.paths[a].splice(b,1)[0],this.spatialReference)};
b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var d;e([k.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,
"cache",void 0);e([k.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);e([k.writer("paths")],b.prototype,"writePaths",null);return b=d=e([k.subclass("esri.geometry.Polyline")],b)}(k.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,b,q,e,p,k,m,d){function h(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function c(a){return void 0!==a.points}function g(a){return void 0!==a.x&&void 0!==a.y}function f(a){return void 0!==a.paths}function w(a){return void 0!==a.rings}function l(a){return a?a instanceof e?a:g(a)?k.fromJSON(a):f(a)?d.fromJSON(a):w(a)?m.fromJSON(a):c(a)?p.fromJSON(a):h(a)?q.fromJSON(a):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(r){console.warn(r.stack)}return l(a)};b.isExtent=h;b.isMultipoint=c;b.isPoint=g;b.isPolyline=f;b.isPolygon=w;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=l;b.getJsonType=function(a){return a?g(a)?"esriGeometryPoint":f(a)?"esriGeometryPolyline":w(a)?"esriGeometryPolygon":h(a)?"esriGeometryEnvelope":c(a)?"esriGeometryMultipoint":null:null};var n={esriGeometryPoint:k,esriGeometryPolyline:d,esriGeometryPolygon:m,esriGeometryEnvelope:q,esriGeometryMultipoint:p};b.getGeometryType=
function(a){return a&&n[a]||null}})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x){var z,F={PortalGroup:function(){return t.create(function(b){return a(["./PortalGroup"],b)})},PortalItem:function(){return t.create(function(b){return a(["./PortalItem"],b)})},PortalUser:function(){return t.create(function(b){return a(["./PortalUser"],b)})}};return function(b){function d(a){a=b.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=null;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=c.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}p(d,b);l=d;d.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};d.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};d.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<
a.length;b++){var d=a[b];-1===c.request.trustedServers.indexOf(d)&&c.request.trustedServers.push(d)}return a};d.prototype.readDefaultBasemap=function(a){return a?(a=z.fromJSON(a),a.portalItem={portal:this},a):null};d.prototype.readDefaultVectorBasemap=function(a){return a?(a=z.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(d.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(d.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!0,configurable:!0});d.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};d.prototype.readUser=function(a){var b=null;a&&(b=x.fromJSON(a),b.portal=this);return b};d.prototype.load=function(b){var c=this,d=t.create(function(b){return a(["../Basemap"],b)}).then(function(a){t.throwIfAborted(b);z=a}).then(function(){return c.sourceJSON?c.sourceJSON:c._fetchSelf(c.authMode,!1,b)}).then(function(a){if(g.id){var b=g.id;c.credential=b.findCredential(c.restUrl);c.credential||
c.authMode!==l.AUTH_MODE_AUTO||(c._esriId_credentialCreateHandle=b.on("credential-create",function(){b.findCredential(c.restUrl)&&c._signIn()}))}c.sourceJSON=a;c.read(a)});this.addResolvingPromise(d);return t.resolve(this)};d.prototype.createClosestFacilityTask=function(){return e(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(b,c){a(["../tasks/ClosestFacilityTask"],
b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};d.prototype.createElevationLayers=function(){return e(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(b,c){a(["../layers/ElevationLayer"],b,c)})];case 2:return c=d.sent(),[2,b?b.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};d.prototype.createGeometryService=function(){return e(this,
void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(b,c){a(["../tasks/GeometryService"],b,c)})];case 2:return c=d.sent(),[2,new c({url:b})]}})})};d.prototype.createPrintTask=function(){return e(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("printTask"),
[4,new Promise(function(b,c){a(["../tasks/PrintTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};d.prototype.createRouteTask=function(){return e(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(b,c){a(["../tasks/RouteTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};d.prototype.createServiceAreaTask=function(){return e(this,void 0,void 0,
function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(b,c){a(["../tasks/ServiceAreaTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};d.prototype.fetchBasemaps=function(a,b){var c=new D;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;
c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new z({portalItem:a})}):[]})};d.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):t.isAborted(a)?
t.reject(t.createAbortError()):t.resolve([])};d.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=new D;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],f=0;f<b.length;f++){var e=b[f];d.push('(title:"'+e.title+'" AND owner:'+e.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return t.isAborted(a)?t.reject(t.createAbortError()):t.resolve([])};d.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",
q({},a,{query:{culture:this.user&&this.user.culture||this.culture||h.locale}}))};d.getDefault=function(){if(!l._default||l._default.destroyed)l._default=new l;return l._default};d.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};d.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};d.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",
b)};d.prototype.toJSON=function(){throw new w("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new l({sourceJSON:a})};d.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new w("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};d.prototype._getHelperServiceUrl=function(a){var b=
this._getHelperService(a);if(!b.url)throw new w("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};d.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";a=q({authMode:a,query:{culture:h.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};d.prototype._queryPortal=function(a,b,c,d){var f=this,e=A.ensureType(D,b),
g=function(b){return f._request(f.restUrl+a,q({},e.toRequestOptions(f),d)).then(function(a){var c=e.clone();c.start=a.nextStart;return new B({nextQueryParams:c,queryParams:e,total:a.total,results:l._resultsToTypedArray(b,{portal:f},a,d)})}).then(function(a){return t.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(b){t.throwIfAbortError(b);return a})})};return c&&F[c]?F[c]().then(function(a){t.throwIfAborted(d);return g(a)}):g()};d.prototype._signIn=
function(){var a=this;if(this.authMode===l.AUTH_MODE_ANONYMOUS)return t.reject(new w("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return t.reject(this.loadError);var b=function(b){return t.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});
if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return g.id?g.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};d.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};d.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};d.prototype._requestToTypedArray=
function(b,c,d){var f=this,e=function(a){return f._request(b,c).then(function(b){var c=l._resultsToTypedArray(a,{portal:f},b);return t.all(c.map(function(a){return"function"===typeof a.when?a.when():b})).then(function(){return c},function(){return c})})};return d?t.create(function(b){return a(["./"+d],b)}).then(function(a){return e(a)}):e()};d.prototype._request=function(a,b){void 0===b&&(b={});var c=q({f:"json"},b.query),d=b.authMode,e=b.body,g=b.cacheBust,h=b.method,n=b.responseType;b={authMode:void 0===
d?this.authMode===l.AUTH_MODE_ANONYMOUS?"anonymous":"auto":d,body:void 0===e?null:e,cacheBust:void 0===g?!1:g,method:void 0===h?"auto":h,query:c,responseType:void 0===n?"json":n,timeout:0,signal:b.signal};return f(this._normalizeSSL(a),b).then(function(a){return a.data})};d._resultsToTypedArray=function(a,b,c,d){if(c){var f=r.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=
n.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(f);return c})}else c=[];return c};var l;d.AUTH_MODE_ANONYMOUS="anonymous";d.AUTH_MODE_AUTO="auto";d.AUTH_MODE_IMMEDIATE="immediate";k([u.property()],d.prototype,"access",void 0);k([u.property()],d.prototype,"allSSL",void 0);k([u.property()],d.prototype,"authMode",void 0);k([u.property()],d.prototype,"authorizedCrossOriginDomains",void 0);k([u.reader("authorizedCrossOriginDomains")],d.prototype,"readAuthorizedCrossOriginDomains",null);
k([u.property()],d.prototype,"basemapGalleryGroupQuery",void 0);k([u.property()],d.prototype,"bingKey",void 0);k([u.property()],d.prototype,"canListApps",void 0);k([u.property()],d.prototype,"canListData",void 0);k([u.property()],d.prototype,"canListPreProvisionedItems",void 0);k([u.property()],d.prototype,"canProvisionDirectPurchase",void 0);k([u.property()],d.prototype,"canSearchPublic",void 0);k([u.property()],d.prototype,"canShareBingPublic",void 0);k([u.property()],d.prototype,"canSharePublic",
void 0);k([u.property()],d.prototype,"canSignInArcGIS",void 0);k([u.property()],d.prototype,"canSignInIDP",void 0);k([u.property()],d.prototype,"colorSetsGroupQuery",void 0);k([u.property()],d.prototype,"commentsEnabled",void 0);k([u.property({type:Date})],d.prototype,"created",void 0);k([u.property()],d.prototype,"credential",void 0);k([u.property()],d.prototype,"culture",void 0);k([u.property()],d.prototype,"currentVersion",void 0);k([u.property()],d.prototype,"customBaseUrl",void 0);k([u.property()],
d.prototype,"defaultBasemap",void 0);k([u.reader("defaultBasemap")],d.prototype,"readDefaultBasemap",null);k([u.property({type:y})],d.prototype,"defaultExtent",void 0);k([u.property()],d.prototype,"defaultVectorBasemap",void 0);k([u.reader("defaultVectorBasemap")],d.prototype,"readDefaultVectorBasemap",null);k([u.property()],d.prototype,"description",void 0);k([u.property()],d.prototype,"eueiEnabled",void 0);k([u.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],d.prototype,"extraQuery",
null);k([u.property()],d.prototype,"featuredGroups",void 0);k([u.property()],d.prototype,"featuredItemsGroupQuery",void 0);k([u.property()],d.prototype,"galleryTemplatesGroupQuery",void 0);k([u.property()],d.prototype,"livingAtlasGroupQuery",void 0);k([u.property()],d.prototype,"hasCategorySchema",void 0);k([u.property()],d.prototype,"helpBase",void 0);k([u.property()],d.prototype,"helperServices",void 0);k([u.property()],d.prototype,"helpMap",void 0);k([u.property()],d.prototype,"homePageFeaturedContent",
void 0);k([u.property()],d.prototype,"homePageFeaturedContentCount",void 0);k([u.property()],d.prototype,"httpPort",void 0);k([u.property()],d.prototype,"httpsPort",void 0);k([u.property()],d.prototype,"id",void 0);k([u.property()],d.prototype,"ipCntryCode",void 0);k([u.property({dependsOn:["access"],readOnly:!0})],d.prototype,"isOrganization",null);k([u.property()],d.prototype,"isPortal",void 0);k([u.property()],d.prototype,"isReadOnly",void 0);k([u.property()],d.prototype,"layerTemplatesGroupQuery",
void 0);k([u.property()],d.prototype,"maxTokenExpirationMinutes",void 0);k([u.property({type:Date})],d.prototype,"modified",void 0);k([u.property()],d.prototype,"name",void 0);k([u.property()],d.prototype,"portalHostname",void 0);k([u.property()],d.prototype,"portalMode",void 0);k([u.property()],d.prototype,"portalProperties",void 0);k([u.property()],d.prototype,"region",void 0);k([u.property({dependsOn:["url"],readOnly:!0})],d.prototype,"restUrl",null);k([u.property()],d.prototype,"rotatorPanels",
void 0);k([u.property()],d.prototype,"showHomePageDescription",void 0);k([u.property()],d.prototype,"sourceJSON",void 0);k([u.property()],d.prototype,"staticImagesUrl",void 0);k([u.property()],d.prototype,"stylesGroupQuery",void 0);k([u.property()],d.prototype,"supportsHostedServices",void 0);k([u.property()],d.prototype,"symbolSetsGroupQuery",void 0);k([u.property()],d.prototype,"templatesGroupQuery",void 0);k([u.property()],d.prototype,"thumbnail",void 0);k([u.property({dependsOn:["restUrl","thumbnail"],
readOnly:!0})],d.prototype,"thumbnailUrl",null);k([u.property()],d.prototype,"units",void 0);k([u.property()],d.prototype,"url",void 0);k([u.property()],d.prototype,"urlKey",void 0);k([u.reader("urlKey")],d.prototype,"readUrlKey",null);k([u.property()],d.prototype,"user",void 0);k([u.reader("user")],d.prototype,"readUser",null);k([u.property()],d.prototype,"useStandardizedQuery",void 0);k([u.property()],d.prototype,"useVectorBasemaps",void 0);k([u.property()],d.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return d=l=k([u.subclass("esri.portal.Portal")],d)}(u.declared(l.JSONSupportMixin(v)))})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n){function v(a,b){var c=f.createAbortController();
return f.create(function(d,f){r(c.signal,a,b).then(d).catch(f)},function(){c.abort()})}function r(a,b,d){return e(this,void 0,void 0,function(){var e,g,h,n,r,t,m,u;return p(this,function(v){switch(v.label){case 0:return e=l.isDataProtocol(b),(g=l.isBlobProtocol(b))||e||(b=l.normalize(b)),h={url:b,requestOptions:q({},d)},(n=l.getInterceptor(b))?[4,F(n,h)]:[3,2];case 1:r=v.sent();if(null!=r)return[2,{data:r,getHeader:Q,requestOptions:h.requestOptions,url:h.url}];n.after||n.error||(n=null);v.label=2;
case 2:b=h.url;d=h.requestOptions;if("image"===d.responseType){if(c("host-webworker"))throw A("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),h);}else if(e)throw A("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+d.responseType),h);if("head"===d.method){if(d.body)throw A("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),h);if(e||g)throw A("request:invalid-parameters",
Error("data and blob URLs are not supported for method 'head'"),h);}return[4,y()];case 3:v.sent();if(L)return[2,L.execute(b,d)];t=f.createAbortController();f.onAbort(a,function(){return t.abort()});f.onAbort(d,function(){return t.abort()});m={controller:t,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:n,params:h,redoRequest:!1,useIdentity:k.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,H(m)];case 4:return u=v.sent(),n&&n.after&&n.after(u),[2,
u]}})})}function t(a){l.isBlobProtocol(a)||l.isDataProtocol(a)||(a=l.getOrigin(a))&&-1===v._corsServers.indexOf(a)&&v._corsServers.push(a)}function u(a){a=l.getOrigin(a);return!a||w.endsWith(a,".arcgis.com")||-1!==v._corsServers.indexOf(a)||l.isTrustedServer(a)}function A(a,b,c,f){var e="Error",l={url:c.url,requestOptions:c.requestOptions,getHeader:Q,ssl:!1};if(b instanceof d)return b.details?(b.details=g.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=l,
b;if(b){c=f&&function(a){return f.headers.get(a)};var h=f&&f.status,n=b.message;n&&(e=n);c&&(l.getHeader=c);l.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||h||0;l.subCode=b.subcode;l.messageCode=b.messageCode;l.messages="string"===typeof b.details?[b.details]:b.details}a=new d(a,e,l);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function y(){return e(this,void 0,void 0,function(){var b;return p(this,function(d){switch(d.label){case 0:return c("host-webworker")?L?[3,2]:[4,new Promise(function(b,
c){a(["./core/workers/request"],b,c)})]:[3,3];case 1:L=d.sent(),d.label=2;case 2:return[3,6];case 3:if(v._abortableFetch)return[3,6];if(!c("esri-abortable-fetch")||!c("esri-native-promise")&&(13>c("safari")||13>c("ios")))return[3,4];v._abortableFetch=h.fetch.bind(h);return[3,6];case 4:return b=v,[4,new Promise(function(b,c){a(["whatwg-fetch"],b,c)})];case 5:b._abortableFetch=d.sent().fetch,d.label=6;case 6:return[2]}})})}function D(){return e(this,void 0,void 0,function(){return p(this,function(b){switch(b.label){case 0:return m.id?
[3,2]:[4,new Promise(function(b,c){a(["./identity/IdentityManager"],b,c)})];case 1:b.sent(),b.label=2;case 2:return[2]}})})}function B(a){return e(this,void 0,void 0,function(){var b,c,d,e,g,l,n,r;return p(this,function(t){switch(t.label){case 0:b=a.params.url;c=a.params.requestOptions;d=a.controller.signal;e=c.body;n=l=g=null;N&&"HTMLFormElement"in h&&(e instanceof FormData?g=e:e instanceof HTMLFormElement&&(l=e,g=new FormData(l)));"string"===typeof e&&(n=e);a.fetchOptions={cache:c.cacheBust&&!v._abortableFetch.polyfill?
"no-cache":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:d};if(g||n)a.fetchOptions.body=g||n;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||g&&g.get&&g.get("token")||l&&l.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||x(b)||f.isAborted(d))return[3,11];r=void 0;return"immediate"!==c.authMode?[3,3]:[4,D()];case 1:return t.sent(),[4,m.id.getCredential(b,
{signal:d})];case 2:return r=t.sent(),a.credential=r,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,D()];case 4:t.sent(),t.label=5;case 5:return t.trys.push([5,7,,8]),[4,m.id.getCredential(b,{prompt:!1,signal:d})];case 6:return r=t.sent(),a.credential=r,[3,8];case 7:return t.sent(),[3,8];case 8:return[3,10];case 9:m.id&&(r=m.id.findCredential(b)),t.label=10;case 10:r&&(a.credentialToken=r.token,a.useSSL=!!r.ssl),t.label=11;case 11:return[2]}})})}function x(a){return J.some(function(b){return b.test(a)})}
function z(a){return e(this,void 0,void 0,function(){var b,d,e,g,h,n,r,w,x,z,B,y,D,H,G,F,J,S,Y,ha,M,ga,L;return p(this,function(p){switch(p.label){case 0:b=a.params.url;d=a.params.requestOptions;e=a.fetchOptions;g=l.isBlobProtocol(b)||l.isDataProtocol(b);h=d.responseType||"json";n=g?0:null!=d.timeout?d.timeout:k.request.timeout;r=!1;if(!g){a.useSSL&&(b=l.toHTTPS(b));d.cacheBust&&"default"===e.cache&&(b=l.addQueryParameter(b,"request.preventCache",Date.now()));w=q({},d.query);a.credentialToken&&(w.token=
a.credentialToken);x=l.objectToQuery(w);c("esri-url-encodes-apostrophe")&&(x=x.replace(/'/g,"%27"));z=b.length+1+x.length;B=void 0;r="post"===d.method||!!d.body||z>k.request.maxUrlLength;if(y=d.useProxy||!!l.getProxyRule(b))D=l.getProxyUrl(b),B=D.path,!r&&B.length+1+z>k.request.maxUrlLength&&(r=!0),D.query&&(w=q({},D.query,w));if("HEAD"===e.method&&(r||y)){if(r){if(z>k.request.maxUrlLength)throw A("request:invalid-parameters",Error("URL exceeds maximum length"),a.params);throw A("request:invalid-parameters",
Error("cannot use POST request when method is 'head'"),a.params);}if(y)throw A("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}r?(e.method="POST",d.body?b=l.addQueryParameters(b,w):(e.body=l.objectToQuery(w),e.headers["Content-Type"]="application/x-www-form-urlencoded")):b=l.addQueryParameters(b,w);y&&(a.useProxy=!0,b=B+"?"+b);w.token&&N&&e.body instanceof FormData&&(H=e.body,H.set?H.set("token",w.token):H.append("token",w.token));d.hasOwnProperty("withCredentials")?
a.withCredentials=d.withCredentials:l.isTrustedServer(b)?a.withCredentials=!0:m.id&&(G=m.id.findServerInfo(b))&&G.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(e.credentials="include")}F=0;J=!1;0<n&&(F=setTimeout(function(){J=!0;a.controller.abort()},n));p.label=1;case 1:return p.trys.push([1,18,19,20]),"image"!==d.responseType||"default"!==e.cache||"GET"!==e.method||r||C(d.headers)||!g&&!a.useProxy&&k.request.proxyUrl&&!u(b)?[3,3]:[4,K(b,a)];case 2:return Y=p.sent(),[3,17];case 3:return[4,
v._abortableFetch(b,e)];case 4:S=p.sent();a.useProxy||t(b);if(!S.ok||"HEAD"===e.method)return[3,17];ha=h;switch(ha){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,S.arrayBuffer()];case 6:return Y=p.sent(),[3,11];case 7:return[4,S.blob()];case 8:return Y=p.sent(),[3,11];case 9:return[4,S.text()];case 10:return Y=p.sent(),[3,11];case 11:F&&(clearTimeout(F),F=0);if("json"===h||"xml"===h||"document"===h)if(Y)switch(h){case "json":Y=JSON.parse(Y);
break;case "xml":Y=E(Y,"application/xml");break;case "document":Y=E(Y,"text/html")}else Y=null;M=S.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(M)||!(Y instanceof ArrayBuffer&&750>=Y.byteLength||Y instanceof Blob&&750>=Y.size))return[3,15];p.label=12;case 12:return p.trys.push([12,14,,15]),[4,(new Response(Y)).json()];case 13:return ga=p.sent(),ga.error&&(Y=ga),[3,15];case 14:return p.sent(),[3,15];case 15:return"image"===h&&Y instanceof Blob?[4,K(URL.createObjectURL(Y),a,
!0)]:[3,17];case 16:Y=p.sent(),p.label=17;case 17:return[3,20];case 18:L=p.sent();if("AbortError"===L.name){if(J)throw Error("Timeout exceeded");throw f.createAbortError("Request canceled");}if(!S&&L instanceof TypeError&&k.request.proxyUrl&&!d.body&&"post"!==d.method&&"head"!==d.method&&!a.useProxy)a.redoRequest=!0,l.addProxyRule({proxyUrl:k.request.proxyUrl,urlPrefix:l.removeFile(l.urlToObject(b).path)});else throw L;return[3,20];case 19:return F&&clearTimeout(F),[7];case 20:return[2,[S,Y]]}})})}
function F(a,b){return e(this,void 0,void 0,function(){var c,f,e;return p(this,function(g){switch(g.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=q({},b.requestOptions.headers,a.headers));a.query&&(b.requestOptions.query=q({},b.requestOptions.query,a.query));if(!a.before)return[3,5];f=c=void 0;g.label=1;case 1:return g.trys.push([1,3,,4]),[4,a.before(b)];case 2:return f=g.sent(),[3,4];case 3:return e=g.sent(),c=A("request:interceptor",e,b),[3,
4];case 4:if(f instanceof Error||f instanceof d)c=A("request:interceptor",f,b);if(c)throw a.error&&a.error(c),c;return[2,f];case 5:return[2]}})})}function C(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;return!1}function E(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(U){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function H(a){return e(this,void 0,void 0,function(){var b,c,d,f,e,g,h,
n,r,t,u;return p(this,function(v){switch(v.label){case 0:return[4,B(a)];case 1:v.sent(),v.label=2;case 2:v.trys.push([2,8,,9]),v.label=3;case 3:return[4,z(a)];case 4:b=v.sent(),c=b[0],d=b[1],v.label=5;case 5:return[4,G(a,c,d)];case 6:if(!v.sent())return[3,3];v.label=7;case 7:return[3,9];case 8:throw f=v.sent(),e=A("request:server",f,a.params,c),e.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(e),e;case 9:return g=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(g)&&
!a.hasToken&&!a.credentialToken&&d&&d.user&&d.user.username&&!l.isTrustedServer(g)&&(h=l.getOrigin(g,!0))&&k.request.trustedServers.push(h),(n=a.credential)&&m.id&&(t=(r=m.id.findServerInfo(n.server))&&r.owningSystemUrl)&&(t=t.replace(/\/?$/,"/sharing"),(u=m.id.findCredential(t,n.userId))&&-1===m.id._getIdenticalSvcIdx(t,u)&&u.resources.unshift(t)),[2,{data:d,getHeader:c?function(a){return c.headers.get(a)}:Q,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function G(a,
b,c){return e(this,void 0,void 0,function(){var d,f,e,l,h,n,r;return p(this,function(t){switch(t.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);c&&c.error&&(d=g.mixin(Error(),c.error));d&&(f=Number(d.code),e=d.hasOwnProperty("subcode")?Number(d.subcode):null,l=(l=d.messageCode)&&l.toUpperCase());h=a.params.requestOptions.authMode;return 403===f&&(4===e||d.message&&-1<d.message.toLowerCase().indexOf("ssl")&&
-1===d.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===h&&498!==f||-1===I.indexOf(f)||x(a.params.url)||!(403!==f||-1===M.indexOf(l)&&(null==e||2===e&&a.credentialToken))?[3,6]:[4,D()];case 2:t.sent(),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,m.id.getCredential(a.params.url,{error:A("request:server",d,a.params),prompt:"no-prompt"!==h,signal:a.controller.signal,token:a.credentialToken})];case 4:return n=t.sent(),
a.credential=n,a.credentialToken=n.token,a.useSSL=a.useSSL||n.ssl,[2,!1];case 5:r=t.sent();if("no-prompt"===h)return a.credential=null,a.credentialToken=null,[2,!1];d=r;return[3,6];case 6:if(d)throw d;return[2,!0]}})})}function K(a,b,c){void 0===c&&(c=!1);var d=b.controller.signal,f=new Image;f.crossOrigin=b.withCredentials?"use-credentials":"anonymous";f.alt="";f.src=a;return n.loadImageAsync(f,a,c,d)}var L,N="FormData"in h,I=[499,498,403,401],M=["COM_0056","COM_0057","SB_0008"],J=[/\/arcgis\/tokens/i,
/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Q=function(){return null};v._abortableFetch=null;v._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return v})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(a,b,q,e,p,k,m,d,h){function c(a){var b={path:null,query:null},c=new ba(a),d=a.indexOf("?");null===c.query?b.path=a:(b.path=a.substring(0,d),b.query=
g(c.query));c.fragment&&(b.hash=c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b}function g(a){var b={},c=0;for(a=a.split("\x26");c<a.length;c++){var d=a[c];if(d){var f=d.indexOf("\x3d"),e=void 0,g=void 0;0>f?(e=decodeURIComponent(d),g=""):(e=decodeURIComponent(d.slice(0,f)),g=decodeURIComponent(d.slice(f+1)));d=b[e];"string"===typeof d&&(d=b[e]=[d]);Array.isArray(d)?d.push(g):b[e]=g}}return b}function f(a){return a&&"object"===typeof a&&"toJSON"in
a&&"function"===typeof a.toJSON}function w(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):Object.keys(a).map(function(c){var d=a[c];if(null==d)return"";var e=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?e+encodeURIComponent(c(d)):Array.isArray(d)?d.map(function(a){return f(a)?e+encodeURIComponent(JSON.stringify(a)):e+encodeURIComponent(a)}).join("\x26"):f(d)?e+encodeURIComponent(JSON.stringify(d)):
e+encodeURIComponent(d)}).filter(function(a){return a}).join("\x26"):""}function l(a){var b=a.indexOf("?");-1!==b?(ea.path=a.slice(0,b),ea.query=a.slice(b+1)):(ea.path=a,ea.query=null);return ea}function n(a){a=l(a).path;a&&"/"===a[a.length-1]||(a+="/");a=M(a,!0);return a=a.toLowerCase()}function v(a){var b=P.proxyRules;a=n(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function r(a){a=y(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function t(a,
b,c){void 0===c&&(c=!1);a=S(a);b=S(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function u(a,c,d){void 0===c&&(c=b.appBaseUrl);if(G(a))return d&&d.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===B(a).slice(2)?"http:"+a:"https:"+a;if(!K(a)){d=D;if("/"===a[0]){var f=c.indexOf("//"),f=c.indexOf("/",f+2);c=-1===f?c:c.slice(0,f)}return d(c,a)}return a}function A(a,c,d){void 0===c&&(c=b.appBaseUrl);if(!x(a))return a;var f=y(a),
e=f.toLowerCase();c=y(c).toLowerCase().replace(/\/+$/,"");if((d=d?y(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return a;for(var g=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},l=g(e,"/",e.indexOf("//")+2),h=-1;e.slice(0,l+1)===c.slice(0,l)+"/";){h=l+1;if(l===e.length)break;l=g(e,"/",l+1)}if(-1===h||d&&h<d.length)return a;a=f.slice(h);f=c.slice(h-1).replace(/[^/]+/g,"").length;if(0<f)for(e=0;e<f;e++)a="../"+a;else a="./"+a;return a}function y(a){a=a.trim();a=u(a);if(/^https?:\/\//i.test(a)){var b=
l(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=J(a)}function D(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(x(a[0])){var c=a[0],d=c.indexOf("//");-1!==d&&(b.push(c.slice(0,d+1)),Z.test(a[0])&&(b[0]+="/"),a[0]=c.slice(d+2))}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)d=a[c],".."===d&&0<b.length&&
".."!==b[b.length-1]?b.pop():(!d&&c===a.length-1||d&&("."!==d||0===b.length))&&b.push(d);return b.join("/")}}function B(a,b){void 0===b&&(b=!1);if(z(a)||F(a))return null;var c=a.indexOf("://");if(-1===c&&G(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=M(a,!0));return a}function x(a){return G(a)||K(a)}function z(a){return"blob:"===a.slice(0,5)}function F(a){return"data:"===a.slice(0,5)}function C(a){a=E(a);if(!a||!a.isBase64)return null;a=atob(a.data);
for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function E(a){return(a=a.match(ja))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function H(a){var b=C(a);if(!b)return null;a=E(a);return new Blob([b],{type:a.mediaType})}function G(a){return a&&"/"===a[0]&&"/"===a[1]}function K(a){return T.test(a)}function L(a){return W.test(a)||"http"===b.appUrl.scheme&&G(a)}function N(a){return G(a)?"https:"+a:a.replace(W,"https:")}function I(){return"https"===b.appUrl.scheme}
function M(a,b){void 0===b&&(b=!1);if(G(a))return a.slice(2);a=a.replace(T,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function J(a){var c=P.httpsDomains;if(!L(a))return a;var d=a.indexOf("/",7),f;f=-1===d?a:a.slice(0,d);f=f.toLowerCase().slice(7);if(da.test(f))if(h.endsWith(f,":80"))f=f.slice(0,-3),a=a.replace(":80","");else return a;if("http"===b.appUrl.scheme&&f===b.appUrl.authority&&!fa.test(a))return a;if(I()&&f===b.appUrl.authority||c&&c.some(function(a){return f===a||
h.endsWith(f,"."+a)})||I()&&!v(a))a=N(a);return a}function Q(a,b,c){if(!(b&&c&&a&&x(a)))return a;var d=a.indexOf("//"),f=a.indexOf("/",d+2),e=a.indexOf(":",d+2),f=Math.min(0>f?a.length:f,0>e?a.length:e);if(a.slice(d+2,f).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,d+2);a=a.slice(f);return""+b+c+a}function S(a){if("string"===typeof a)return new ba(u(a));a.scheme||(a.scheme=b.appUrl.scheme);return a}function O(a,c){if(!c||c.isPortal||!c.urlKey||!c.customBaseUrl)return a;var d=c.urlKey+"."+
c.customBaseUrl;return t(b.appUrl,b.appUrl.scheme+"://"+d)?Q(a,c.portalHostname,d):Q(a,d,c.portalHostname)}function V(a,b){var c=b&&b.url&&b.url.path;a&&c&&(a=u(a,c,{preserveProtocolRelative:!0}));return O(a,b&&b.portal)}function U(a,b){if(!a)return a;!x(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=u(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;d&&(d=O(d,b.portal),c=A(O(c,b.portal),d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=
c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?Q(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;x(c)&&(c=y(c));return c}function R(a,b,d){a=c(a);var f=a.query||{};f[b]=String(d);return a.path+"?"+w(f)}Object.defineProperty(b,"__esModule",{value:!0});var X=d.getLogger("esri.core.urlUtils"),P=e.request,T=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W=/^\s*http:/i,aa=/^\s*https:/i,Z=/^\s*file:/i,da=/:\d+$/,fa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ca=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
ia=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,ba=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(ca);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(ia),this.user=a[3]||null,this.password=a[4]||null,
this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();b.Url=ba;b.appUrl=new ba(e.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=c;b.queryToObject=g;b.objectToQuery=w;b.getProxyUrl=function(a){void 0===a&&(a=!1);var d,f=P.proxyUrl;if("string"===
typeof a){if(d=a,d=aa.test(d)||"https"===b.appUrl.scheme&&G(d),a=v(a))f=a.proxyUrl}else d=!!a;if(!f)throw X.warn("esri/config: esriConfig.request.proxyUrl is not set."),new k("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&I()&&(f=N(f));return c(f)};b.addProxy=function(a){var b=v(a),d,f;b&&(f=l(b.proxyUrl),d=f.path,f=f.query?g(f.query):null);d&&(b=c(a),a=d+"?"+b.path,(d=w(q({},f,b.query)))&&(a=a+"?"+d));return a};var ea={path:"",query:""};b.addProxyRule=function(a){a=
{proxyUrl:a.proxyUrl,urlPrefix:n(a.urlPrefix)};for(var b=P.proxyRules,c=a.urlPrefix,d=b.length,f=0;f<b.length;f++){var e=b[f].urlPrefix;if(0===c.indexOf(e)){if(c.length===e.length)return-1;d=f;break}0===e.indexOf(c)&&(d=f+1)}b.splice(d,0,a);return d};b.getProxyRule=v;b.hasSamePortal=function(a,b){a=r(a);b=r(b);return M(a)===M(b)};b.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&h.startsWith(a,b)},c=P.interceptors;if(c)for(var d=0;d<
c.length;d++){var f=c[d];if(Array.isArray(f.urls)){if(f.urls.some(b))return f}else if(b(f.urls))return f}return null};b.hasSameOrigin=t;b.isTrustedServer=function(a){if("string"===typeof a)if(x(a))a=S(a);else return!0;if(t(a,b.appUrl))return!0;for(var c=P.trustedServers||[],d=0;d<c.length;d++){var f;f=c[d];b.trustedServersUrlCache[f]||(K(f)||G(f)?b.trustedServersUrlCache[f]=[new ba(u(f))]:b.trustedServersUrlCache[f]=[new ba("http://"+f),new ba("https://"+f)]);f=b.trustedServersUrlCache[f];for(var e=
0;e<f.length;e++)if(t(a,f[e]))return!0}return!1};b.makeAbsolute=u;b.makeRelative=A;b.normalize=y;b.join=D;b.getOrigin=B;b.isAbsolute=x;b.isBlobProtocol=z;b.isDataProtocol=F;b.dataToArrayBuffer=C;var ja=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=E;b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};b.dataToBlob=H;b.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var d=null;if(m.URL&&m.URL.createObjectURL){d=
H(a);if(!d){c=!1;break a}d=m.URL.createObjectURL(d)}c.download=b;c.href=d||a;c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);d&&m.URL.revokeObjectURL(d);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(a),b)};b.isProtocolRelative=G;b.hasProtocol=K;b.toHTTP=function(a){return G(a)?"http:"+a:a.replace(aa,"http:")};b.toHTTPS=N;b.isAppHTTPS=I;b.removeFile=function(a){var b=0;if(x(a)){var c=a.indexOf("//");-1!==c&&(b=
c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};b.changeDomain=Q;b.fromJSON=V;b.read=function(a,b,c){return V(a,c)};b.toJSON=U;b.write=function(a,b,c,d){(a=U(a,d))&&(b[c]=a)};b.isSVG=function(a){return ka.test(a)};b.removeQueryParameters=function(a,b){a=c(a);var d=Object.keys(a.query||{});0<d.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+d.join(", ")+
".");return a.path};b.addQueryParameter=R;b.addQueryParameters=function(a,b){a=c(a);var d=a.query||{},f;for(f in b)d[f]=b[f];return(b=w(d))?a.path+"?"+b:a.path};b.removeQueryParameter=function(a,b){var d=c(a),f=d.path,d=d.query;if(!d)return a;delete d[b];return(a=w(d))?f+"?"+a:f};b.addTokenParameter=function(a){var b=p.id&&p.id.findCredential(a);return b&&b.token?R(a,"token",b.token):a};var ka=/(^data:image\/svg|\.svg$)/i})},"esri/support/requestUtils":function(){define(["require","exports","../core/has",
"../core/maybe","../core/promiseUtils"],function(a,b,q,e,p){function k(){try{return new DOMException("Aborted","AbortError")}catch(d){var a=Error();a.name="AbortError";return a}}Object.defineProperty(b,"__esModule",{value:!0});b.loadImageAsync=function(a,b,h,c){void 0===h&&(h=!1);return p.create(function(d,f){if(p.isAborted(c))f(k());else{var g=function(){m();f(Error("Unable to load "+b))},l=function(){var b=a;m();d(b)},n=function(){if(a){var b=a;m();b.src="";f(k())}},m=function(){q("esri-image-decode")||
(a.removeEventListener("error",g),a.removeEventListener("load",l));a=l=g=null;e.isSome(c)&&c.removeEventListener("abort",n);n=null;h&&URL.revokeObjectURL(b)};e.isSome(c)&&c.addEventListener("abort",n);q("esri-image-decode")?a.decode().then(l,g):(a.addEventListener("error",g),a.addEventListener("load",l))}})}})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g){var f=function(a){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=a.apply(this,b)||this;d.loadError=null;d.loadStatus="not-loaded";d.loadWarnings=null;d._set("loadWarnings",[]);d.addResolvingPromise(h.create(function(a){var b=d.load.bind(d);d.load=function(c){var f=h.create(function(a,b){h.onAbortOrThrow(c,b);d.destroyed&&b(new k("load:instance-destroyed","Instance is destroyed",{instance:d}));d._promiseProps.when(a,b)});if("not-loaded"===
d.loadStatus){d._set("loadStatus","loading");var e=d._loadController=h.createAbortController();b({signal:e.signal});h.onAbort(e.signal,function(){d._promiseProps.abort()})}a();return f}}));d.when(function(){d._set("loadStatus","loaded");d._loadController=null},function(a){d._set("loadStatus","failed");d._set("loadError",a);d._loadController=null});return d}q(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=
function(){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new k("load:cancelled","Cancelled"));this._loadController.abort();return this};e([g.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);e([g.property({readOnly:!0})],b.prototype,"loadError",void 0);e([g.property()],b.prototype,"loadStatus",void 0);e([g.property({type:[c],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=e([g.subclass("esri.core.Loadable")],
b)}(g.declared(a));a.prototype["-chains-"]=m.mixin({},p._meta.chains,{load:"after"});return a};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);return b=e([g.subclass("esri.core.Loadable")],b)}(g.declared(f(d.EsriPromise)));(function(a){a.LoadableMixin=f;a.isLoadable=function(a){return!(!a||!a.load)}})(a||(a={}));return a})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./has ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m,d,h){Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a){var b=this;this.instance=a;this._resolver=m.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===
this._status};a.prototype.isFulfilled=function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(m.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=m.createDeferred(),c=this._resolvingPromises.concat([b.promise]),e=this._allPromise=m.all(c);e.then(function(){a.isFulfilled()||
a._allPromise!==e||a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==e||m.isAbortError(b)||a._resolver.reject(b)});k("esri-native-promise")?b.resolve():d.schedule(function(){return b.resolve()})}};return a}();b.EsriPromiseMixin=function(a){return function(a){function b(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];b=a.apply(this,b)||this;b._promiseProps=new c(b);b.addResolvingPromise(k("esri-native-promise")?m.resolve():m.create(function(a){return d.schedule(a)}));
return b}q(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return m.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in
a?a.when():a)};return b=e([h.subclass("esri.core.Promise")],b)}(h.declared(a))};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);return b=e([h.subclass("esri.core.Promise")],b)}(h.declared(b.EsriPromiseMixin(p)));b.EsriPromise=a})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f){var w=new m.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this,b)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}e(b,a);l=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});b.prototype.clone=function(){return new l({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var d;if(this.extent){var e=f.project(this.extent,
g.WGS84);e&&(d=e.xmin+","+e.ymin+","+e.xmax+","+e.ymax)}e=this.query;!this.disableExtraQuery&&a.extraQuery&&(e="("+e+")"+a.extraQuery);a={categories:c,bbox:d,q:e,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=w.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:q({},b,a)}};var l;p([h.property()],b.prototype,"categories",void 0);p([h.property()],b.prototype,"disableExtraQuery",void 0);p([h.property({type:c})],b.prototype,"extent",void 0);p([h.property()],
b.prototype,"num",void 0);p([h.property()],b.prototype,"query",void 0);p([h.property()],b.prototype,"sortField",void 0);p([h.property()],b.prototype,"sortOrder",null);p([h.property()],b.prototype,"start",void 0);return b=l=p([h.subclass("esri.portal.PortalQueryParams")],b)}(h.declared(k))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,
b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}q(b,a);e([k.property()],b.prototype,"nextQueryParams",void 0);e([k.property()],b.prototype,"queryParams",void 0);e([k.property()],b.prototype,"results",void 0);e([k.property()],b.prototype,"total",void 0);return b=e([k.subclass("esri.portal.PortalQueryResult")],b)}(k.declared(p))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(a,b,q,e,p,k,m,d,h,c){return function(b){function f(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}q(f,b);g=f;Object.defineProperty(f.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});f.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var f=
{method:"post"};c&&(f.query=c.createPostQuery(),null!=d&&("string"===typeof d?f.query.text=d:"object"===typeof d&&(f.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",f).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c.reload():c.load()})};f.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};f.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};f.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=h.fromJSON(b);b.portal=
a.portal;return b}):[]})};f.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};f.prototype.fetchItems=function(b){var c=this;b||(b={});var d=this.userContentUrl;b.folder&&(d+="/"+b.folder.id);var f;return m.create(function(b){return a(["./PortalItem"],b)}).then(function(a){f=a;return c.portal._request(d,{query:{folders:!1,num:b.num||10,start:b.start||1,sortField:b.sortField||
"created",sortOrder:b.sortOrder||"asc"}})}).then(function(a){var b;return a&&a.items?(b=a.items.map(function(a){a=f.fromJSON(a);a.portal=c.portal;return a}),m.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};f.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};f.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;
b&&a&&(b+="\x26w\x3d"+a);return b};f.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):m.reject(new p("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.prototype.toJSON=function(){throw new p("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};f.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");
var b=new g;b.sourceJSON=a;b.read(a);return b};var g;e([d.property()],f.prototype,"access",void 0);e([d.property({type:Date})],f.prototype,"created",void 0);e([d.property()],f.prototype,"culture",void 0);e([d.property()],f.prototype,"description",void 0);e([d.property()],f.prototype,"email",void 0);e([d.property()],f.prototype,"favGroupId",void 0);e([d.property()],f.prototype,"fullName",void 0);e([d.property({type:Date})],f.prototype,"modified",void 0);e([d.property()],f.prototype,"orgId",void 0);
e([d.property()],f.prototype,"portal",void 0);e([d.property()],f.prototype,"preferredView",void 0);e([d.property()],f.prototype,"privileges",void 0);e([d.property()],f.prototype,"region",void 0);e([d.property()],f.prototype,"role",void 0);e([d.property()],f.prototype,"roleId",void 0);e([d.property()],f.prototype,"sourceJSON",void 0);e([d.property()],f.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],f.prototype,"thumbnailUrl",null);
e([d.property()],f.prototype,"units",void 0);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"userContentUrl",null);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"url",null);e([d.property()],f.prototype,"username",void 0);e([d.property()],f.prototype,"userType",void 0);return f=g=e([d.subclass("esri.portal.PortalUser")],f)}(d.declared(k.JSONSupport))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}q(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new p("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};e([m.property({type:Date})],b.prototype,
"created",void 0);e([m.property()],b.prototype,"id",void 0);e([m.property()],b.prototype,"portal",void 0);e([m.property()],b.prototype,"title",void 0);e([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);e([m.property()],b.prototype,"username",void 0);return b=e([m.subclass("esri.portal.PortalFolder")],b)}(m.declared(k.JSONSupport))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
function(a,b,q,e,p,k,m,d,h,c){return function(a){function b(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}q(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",
a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){a=h.ensureType(c,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new c,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new c;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,
b)};b.prototype._fetchCategorySchemaSet=function(a,b){var d=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var f=new c;f.disableExtraQuery=!0;f.num=1;f.query=a;return d.portal.queryGroups(f,b)}throw new k("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(d){if(d.total){d=d.results[0];var f=new c;f.num=1;f.query='typekeywords:"'+a+'"';return d.queryItems(f,b)}throw new k("portal-group:fetchCategorySchema",
"contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};e([d.property()],b.prototype,"access",void 0);e([d.property({type:Date})],b.prototype,"created",void 0);e([d.property()],b.prototype,"description",void 0);e([d.property()],b.prototype,"id",void 0);e([d.property()],b.prototype,"isInvitationOnly",void 0);e([d.property({type:Date})],b.prototype,"modified",void 0);e([d.property()],
b.prototype,"owner",void 0);e([d.property()],b.prototype,"portal",void 0);e([d.property()],b.prototype,"snippet",void 0);e([d.property()],b.prototype,"sortField",void 0);e([d.property()],b.prototype,"sortOrder",void 0);e([d.property()],b.prototype,"tags",void 0);e([d.property()],b.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);e([d.property()],b.prototype,"title",void 0);e([d.property({dependsOn:["portal.restUrl"],
readOnly:!0})],b.prototype,"url",null);return b=e([d.subclass("esri.portal.PortalGroup")],b)}(d.declared(m.JSONSupport))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m,d,h,c){var g=new d.default({esriSMS:"simple-marker",esriPMS:"picture-marker",
esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),f=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+f++;b.type=null;return b}q(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});
b.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){return p(this,function(a){return[2]})})};b.prototype.hash=function(){return JSON.stringify(this.toJSON())};b.prototype.clone=function(){};e([c.property({type:g.apiValues,json:{read:g.read,write:{ignoreOrigin:!0,writer:g.write}}})],b.prototype,"type",void 0);e([c.property({type:m,value:new m([0,0,0,1]),json:{write:{allowNull:!0}}})],
b.prototype,"color",null);e([c.reader("color")],b.prototype,"readColor",null);return b=e([c.subclass("esri.symbols.Symbol")],b)}(c.declared(h.JSONSupport))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/Logger ../../core/promiseUtils ../cim/cimAnalyzer".split(" "),function(a,b,q,e,p,k,m,d,h){function c(a,b){return q(this,void 0,void 0,function(){var c,
d;return e(this,function(f){switch(f.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];c=a.styleName;d=a;return[4,g(c,a.styleUrl,b)];case 1:return d.data=f.sent(),[2,a]}})})}function g(a,c,d){return q(this,void 0,void 0,function(){var f,g;return e(this,function(e){if(v.has(a))return[2,v.get(a).then(function(a){return b.makeSymbolRef(a.data)})];try{return f=c+"/resources/styles/cim/"+a+".json",g=k(f,p({responseType:"json",query:{f:"json"}},d)),v.set(a,g),[2,g.then(function(a){return b.makeSymbolRef(a.data)})]}catch(B){return w.error("error requesting "+
a+", reason is "+B.message),v.has(a)&&v.delete(a),[2,null]}})})}var f=this;Object.defineProperty(b,"__esModule",{value:!0});var w=m.getLogger("esri/symbols/support/cimSymbolUtils"),l=function(){function a(a,b){this.layers=a;this.data=b}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});a.prototype.hash=function(){for(var a="",b=0,c=this.layers;b<c.length;b++)a+=c[b].templateHash;return a};return a}();b.expandSymbols=function(a,c,g,l){return q(f,
void 0,void 0,function(){return e(this,function(f){return[2,d.all(a.map(function(a){return b.expandSymbol(a,c,g,l)}))]})})};var n=function(a,b,c){return q(f,void 0,void 0,function(){var d;return e(this,function(f){switch(f.label){case 0:return d=l.bind,[4,h.analyzeCIMSymbol(a.data,b&&"dictionary"===b.type?b.fieldMap:null,c)];case 1:return[2,new (d.apply(l,[void 0,f.sent(),a.data]))]}})})};b.expandSymbol=function(a,b,d,g){return q(f,void 0,void 0,function(){var f,l;return e(this,function(e){switch(e.label){case 0:if(!a)return[2,
null];if("cim"!==a.type)return[3,2];f=n;return[4,c(a,g)];case 1:return[2,f.apply(void 0,[e.sent(),b,d])];case 2:if("web-style"!==a.type)return[3,4];l=n;return[4,a.fetchCIMSymbol(g)];case 3:return[2,l.apply(void 0,[e.sent(),b,d])];case 4:return[2,a]}})})};b.fetchSymbol=function(a,b){return q(this,void 0,void 0,function(){return e(this,function(d){return a?"cim"===a.type?[2,c(a,b)]:"web-style"===a.type?[2,a.fetchCIMSymbol(b)]:[2,a]:[2,null]})})};b.fetchCIMData=c;b.makeSymbolRef=function(a,b){return null===
a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var v=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Color ../../core/Logger ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./enums ./SDFHelper ../../views/2d/arcade/utils".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f,w,
l){function n(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function v(a){switch(a){case "Butt":return f.CapType.BUTT;case "Square":return f.CapType.SQUARE;default:return f.CapType.ROUND}}function r(a){switch(a){case "Bevel":return f.JoinType.BEVEL;case "Miter":return f.JoinType.MITER;default:return f.JoinType.ROUND}}function t(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}function u(a){switch(a){default:return"top";
case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function A(a){var b="normal",c="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?b="italic":-1!==a.indexOf("oblique")&&(b="oblique"),-1!==a.indexOf("bold")?c="bold":-1!==a.indexOf("light")&&(c="lighter"));return{style:b,weight:c}}function y(a,b,c,d,l,h){return e(this,void 0,void 0,function(){var e,n,r,t,m,k,u;return q(this,function(p){switch(p.label){case 0:if(!a)return[2];e=a.symbolLayers;if(!e)return[2];
r=g.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(n=f.Alignment.MAP);t=e.length;p.label=1;case 1:if(!t--)return[3,23];m=e[t];if(!m||!1===m.enable)return[3,1];k=[];g.OverrideHelper.findApplicableOverrides(m,b,k);u=m.type;switch(u){case "CIMSolidFill":return[3,2];case "CIMPictureFill":return[3,4];case "CIMHatchFill":return[3,6];case "CIMGradientFill":return[3,8];case "CIMSolidStroke":return[3,10];case "CIMPictureStroke":return[3,12];case "CIMGradientStroke":return[3,
14];case "CIMCharacterMarker":return[3,16];case "CIMPictureMarker":return[3,17];case "CIMVectorMarker":return[3,19]}return[3,21];case 2:return[4,D(m,k,d,l)];case 3:return p.sent(),[3,22];case 4:return[4,B(m,k,d,l)];case 5:return p.sent(),[3,22];case 6:return[4,x(m,k,d,l)];case 7:return p.sent(),[3,22];case 8:return[4,z(m,k,d,l)];case 9:return p.sent(),[3,22];case 10:return[4,F(m,k,d,l,"CIMPolygonSymbol"===a.type,r)];case 11:return p.sent(),[3,22];case 12:return[4,C(m,k,d,l,"CIMPolygonSymbol"===a.type,
r)];case 13:return p.sent(),[3,22];case 14:return[4,E(m,k,d,l,"CIMPolygonSymbol"===a.type,r)];case 15:return p.sent(),[3,22];case 16:return[3,22];case 17:return[4,H(m,k,d,l,n,r)];case 18:return p.sent(),[3,22];case 19:return[4,G(m,k,c,d,l,n,r,h)];case 20:return p.sent(),[3,22];case 21:V.error("Cannot analyze CIM layer",m.type),p.label=22;case 22:return[3,1];case 23:return[2]}})})}function D(a,b,c,d){return e(this,void 0,void 0,function(){var f,e,g,l,r,t;return q(this,function(m){switch(m.label){case 0:return f=
a.primitiveName,e=n(a.color),g=h.numericHash(JSON.stringify(a)).toString(),r=(l=d).push,t={type:"fill",templateHash:g,materialHash:0===b.length?g:function(){return g},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,J(f,"Color",b,c,e,M)];case 1:return r.apply(l,[(t.color=m.sent(),t.height=0,t.angle=0,t.offsetX=0,t.offsetY=0,t.scaleX=1,t)]),[2]}})})}function B(a,b,c,d){return e(this,void 0,void 0,function(){var f,e,g,l,r,t,m;return q(this,function(k){switch(k.label){case 0:return f=a.primitiveName,
e=n(a.tintColor),g=h.numericHash(JSON.stringify(a)).toString(),l=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),t=(r=d).push,m={type:"fill",templateHash:g,materialHash:0===b.length?l:function(){return l},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,J(f,"TintColor",b,c,e,M)];case 1:return m.color=k.sent(),[4,J(f,"Height",b,c,a.height)];case 2:return m.height=k.sent(),[4,J(f,"ScaleX",b,c,a.scaleX)];case 3:return m.scaleX=k.sent(),[4,J(f,"Rotation",b,c,a.rotation)];
case 4:return m.angle=k.sent(),[4,J(f,"OffsetX",b,c,a.offsetX)];case 5:return m.offsetX=k.sent(),[4,J(f,"OffsetY",b,c,a.offsetY)];case 6:return t.apply(r,[(m.offsetY=k.sent(),m)]),[2]}})})}function x(a,b,c,d){return e(this,void 0,void 0,function(){var f,e,g,l,n,r,t,m;return q(this,function(k){switch(k.label){case 0:f=["Rotation","OffsetX","OffsetY"];e=b.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===f.indexOf(b.propertyName)});g=a.primitiveName;l=h.numericHash(JSON.stringify(a)).toString();
r=(n=d).push;t={type:"fill",templateHash:l};if(0!==b.length)return[3,1];m=l;return[3,3];case 1:return[4,O(l,e,c)];case 2:m=k.sent(),k.label=3;case 3:return t.materialHash=m,t.cim=a,t.materialOverrides=e,t.colorLocked=a.colorLocked,t.color={r:128,g:128,b:128,a:1},t.height=0,t.scaleX=1,[4,J(g,"Rotation",b,c,a.rotation)];case 4:return t.angle=k.sent(),[4,J(g,"OffsetX",b,c,a.offsetX)];case 5:return t.offsetX=k.sent(),[4,J(g,"OffsetY",b,c,a.offsetY)];case 6:return r.apply(n,[(t.offsetY=k.sent(),t)]),[2]}})})}
function z(a,b,c,d){return e(this,void 0,void 0,function(){var f,e,g,l,n;return q(this,function(r){switch(r.label){case 0:f=h.numericHash(JSON.stringify(a)).toString();g=(e=d).push;l={type:"fill",templateHash:f};if(0!==b.length)return[3,1];n=f;return[3,3];case 1:return[4,O(f,b,c)];case 2:n=r.sent(),r.label=3;case 3:return g.apply(e,[(l.materialHash=n,l.cim=a,l.materialOverrides=null,l.colorLocked=a.colorLocked,l.color={r:128,g:128,b:128,a:1},l.height=0,l.angle=0,l.offsetX=0,l.offsetY=0,l.scaleX=1,
l)]),[2]}})})}function F(a,b,c,d,f,g){return e(this,void 0,void 0,function(){var e,l,t,m,k,u,p,w,C,x;return q(this,function(q){switch(q.label){case 0:return e=h.numericHash(JSON.stringify(a)).toString(),l=a.primitiveName,t=n(a.color),m=void 0!==a.width?a.width:4,k=v(a.capStyle),u=r(a.joinStyle),p=a.miterLimit,C=(w=d).push,x={type:"line",templateHash:e,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked},[4,J(l,"Color",b,c,t,M)];case 1:return x.color=
q.sent(),[4,J(l,"Width",b,c,m)];case 2:return x.width=q.sent(),[4,J(l,"CapStyle",b,c,k)];case 3:return x.cap=q.sent(),[4,J(l,"JoinStyle",b,c,u)];case 4:return x.join=q.sent(),[4,J(l,"MiterLimit",b,c,p)];case 5:return C.apply(w,[(x.miterLimit=q.sent(),x.referenceWidth=g,x.zOrder=I(a.name),x.isDashed=!1,x)]),[2]}})})}function C(a,b,c,d,f,g){return e(this,void 0,void 0,function(){var e,l,t,m,k,u,p,w,C,x,A;return q(this,function(q){switch(q.label){case 0:return e=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
l=a.primitiveName,t=n(a.tintColor),m=void 0!==a.width?a.width:4,k=v(a.capStyle),u=r(a.joinStyle),p=a.miterLimit,w=h.numericHash(JSON.stringify(a)).toString(),x=(C=d).push,A={type:"line",templateHash:w,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked},[4,J(l,"TintColor",b,c,t,M)];case 1:return A.color=q.sent(),[4,J(l,"Width",b,c,m)];case 2:return A.width=q.sent(),[4,J(l,"CapStyle",b,c,k)];case 3:return A.cap=q.sent(),[4,J(l,"JoinStyle",
b,c,u)];case 4:return A.join=q.sent(),[4,J(l,"MiterLimit",b,c,p)];case 5:return x.apply(C,[(A.miterLimit=q.sent(),A.referenceWidth=g,A.zOrder=I(a.name),A.isDashed=!1,A)]),[2]}})})}function E(a,b,c,d,f,g){return e(this,void 0,void 0,function(){var e,l,n,t,m,k,u,p,w,C;return q(this,function(q){switch(q.label){case 0:e=a.primitiveName;l=void 0!==a.width?a.width:4;n=v(a.capStyle);t=r(a.joinStyle);m=a.miterLimit;k=h.numericHash(JSON.stringify(a)).toString();p=(u=d).push;w={type:"line",templateHash:k};
if(0!==b.length)return[3,1];C=k;return[3,3];case 1:return[4,O(k,b,c)];case 2:C=q.sent(),q.label=3;case 3:return w.materialHash=C,w.cim=a,w.materialOverrides=null,w.isOutline=f,w.colorLocked=a.colorLocked,w.color={r:128,g:128,b:128,a:1},[4,J(e,"Width",b,c,l)];case 4:return w.width=q.sent(),[4,J(e,"CapStyle",b,c,n)];case 5:return w.cap=q.sent(),[4,J(e,"JoinStyle",b,c,t)];case 6:return w.join=q.sent(),[4,J(e,"MiterLimit",b,c,m)];case 7:return p.apply(u,[(w.miterLimit=q.sent(),w.referenceWidth=g,w.zOrder=
I(a.name),w.isDashed=!1,w)]),[2]}})})}function H(a,b,c,d,f,g){return e(this,void 0,void 0,function(){var e,l,r,t,m,k,u,p,v,w,C,x,A,z,B,E;return q(this,function(q){switch(q.label){case 0:e=a.primitiveName;l=a.size;r=a.scaleX;t=a.rotation;m=a.offsetX;k=a.offsetY;u=n(a.tintColor);p=h.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();v=!1;w="";C=0;for(x=b;C<x.length;C++)A=x[C],A.primitiveName===e&&(void 0!==A.value?w+="|"+A.primitiveName+"|"+A.propertyName+"|"+JSON.stringify(A.value):
A.valueExpressionInfo&&(v=!0));B=(z=d).push;E={type:"marker",templateHash:h.numericHash(JSON.stringify(a)+w).toString(),materialHash:v?function(){return p}:p,cim:a,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:!1,alignment:f,anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits};return[4,J(e,"Size",b,c,l)];case 1:return E.size=q.sent(),[4,J(e,"ScaleX",b,c,r)];case 2:return E.scaleX=q.sent(),[4,J(e,"Rotation",b,c,t)];case 3:return E.rotation=
q.sent(),[4,J(e,"OffsetX",b,c,m)];case 4:return E.offsetX=q.sent(),[4,J(e,"OffsetY",b,c,k)];case 5:return E.offsetY=q.sent(),[4,J(e,"TintColor",b,c,u,M)];case 6:return B.apply(z,[(E.color=q.sent(),E.outlineColor={r:0,g:0,b:0,a:0},E.outlineWidth=0,E.frameHeight=0,E.rotateClockwise=a.rotateClockwise,E.referenceSize=g,E.sizeRatio=1,E)]),[2]}})})}function G(a,b,c,f,g,l,h,n){return e(this,void 0,void 0,function(){var e,r,t,m,k,u,p,v;return q(this,function(q){switch(q.label){case 0:e=a.markerGraphics;if(!e)return[2];
r=0;a.scaleSymbolsProportionally&&(t=a.frame)&&(r=t.ymax-t.ymin);m=[];k=0;for(u=e;k<u.length;k++)if(p=u[k])if(v=p.symbol)switch(v.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":m.push(L(a,p,b,f,g,l,h,r,n));break;case "CIMTextSymbol":m.push(K(a,p,b,c,f,g,l,h,r))}return[4,d.all(m)];case 1:return q.sent(),[2]}})})}function K(a,b,c,d,f,l,r,m,k){return e(this,void 0,void 0,function(){var e,v,w,C,x,z,B,E,y,D,P,H,G,F,M,T,K,W,N,aa,Z,L,Q,O;return q(this,function(q){switch(q.label){case 0:e=
[];g.OverrideHelper.findApplicableOverrides(b,c,e);v=b.geometry;if(!("x"in v&&"y"in v))return[2];w=b.symbol;C=w.underline?"underline":w.strikethrough?"line-through":"none";x=A(w.fontStyleName);w.font=p({family:w.fontFamilyName,decoration:C},x);z=a.frame;B=v.x-.5*(z.xmin+z.xmax);E=v.y-.5*(z.ymin+z.ymax);y=a.size/k;D=a.primitiveName;P=(w.height||0)*y;H=w.angle||0;G=((w.offsetX||0)+B)*y;F=((w.offsetY||0)+E)*y;M=n(g.CIMSymbolHelper.getFillColor(w));T=n(g.CIMSymbolHelper.getStrokeColor(w));K=g.CIMSymbolHelper.getStrokeWidth(w);
K||(T=n(g.CIMSymbolHelper.getFillColor(w.haloSymbol)),K=w.haloSize*y);W="";N=0;for(aa=c;N<aa.length;N++)Z=aa[N],Z.primitiveName===D&&void 0!==Z.value&&(W+="|"+Z.primitiveName+"|"+Z.propertyName+"|"+JSON.stringify(Z.value));Q=(L=l).push;O={type:"text",templateHash:h.numericHash(JSON.stringify(b)+W).toString(),materialHash:function(){return h.numericHash(JSON.stringify(w.font)).toString()},cim:w,materialOverrides:null,colorLocked:a.colorLocked,alignment:r,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:
0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:w.fontFamilyName,decoration:"none",weight:"normal",style:"normal"};return[4,J(D,"Height",c,f,P)];case 1:return O.size=q.sent(),[4,J(D,"Rotation",c,f,H)];case 2:return O.angle=q.sent(),[4,J(D,"OffsetX",c,f,G)];case 3:return O.offsetX=q.sent(),[4,J(D,"OffsetY",c,f,F)];case 4:return Q.apply(L,[(O.offsetY=q.sent(),O.horizontalAlignment=t(w.horizontalAlignment),O.verticalAlignment=u(w.verticalAlignment),
O.text=S(d,b.textString,w.textCase),O.color=M,O.outlineColor=T,O.outlineSize=K,O.referenceSize=m,O.sizeRatio=1,O)]),[2]}})})}function L(a,b,c,f,l,r,t,m,k){return e(this,void 0,void 0,function(){var e,u,p,v,C,x;return q(this,function(A){switch(A.label){case 0:e=b.symbol;u=b.geometry;if(!u)return[2];p=w.getExtent(u);if("CIMTextSymbol"===e.type)return[2];v=e.symbolLayers;if(!v)return[2];C=v.length;x=function(){var e,x,A,z,B,E,y,D,P,H,G,F,K,T,S,W,aa,Z,L,O,Q,I,da,fa,ca,X,V;return q(this,function(q){switch(q.label){case 0:return(e=
v[C])&&!1!==e.enable?k?[4,N(a,b,c,f,l,r,t,m)]:[3,2]:[2,"continue"];case 1:return q.sent(),[2,"continue"];case 2:x=e.type;switch(x){case "CIMSolidFill":return[3,3];case "CIMSolidStroke":return[3,3]}return[3,5];case 3:A=w.getSDFMetrics(p,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits);z=A[0];B=A[1];E=A[2];y="CIMSolidFill"===e.type;D={type:"sdf",geom:u,asFill:y};P=a.primitiveName;H=a.size;G=a.rotation;F=a.offsetX;K=a.offsetY;T=e.primitiveName;S=y?n(g.CIMSymbolHelper.getFillColor(e)):n(g.CIMSymbolHelper.getStrokeColor(e));
W=y?{r:0,g:0,b:0,a:0}:n(g.CIMSymbolHelper.getStrokeColor(e));aa=g.CIMSymbolHelper.getStrokeWidth(e);if(!y&&!aa)return[3,6];Z=!1;L="";O=0;for(Q=c;O<Q.length;O++)if(I=Q[O],I.primitiveName===T||I.primitiveName===P)void 0!==I.value?L+="|"+I.primitiveName+"|"+I.propertyName+"|"+JSON.stringify(I.value):I.valueExpressionInfo&&(Z=!0);da=h.numericHash(JSON.stringify(D)).toString();fa=h.numericHash(JSON.stringify(e)+JSON.stringify(b)+L).toString();ca={type:"marker",templateHash:fa,materialHash:Z?function(){return da}:
da,cim:D,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:r,anchorPoint:{x:B,y:E},isAbsoluteAnchorPoint:!1,size:null,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:null,outlineColor:y?{r:0,g:0,b:0,a:0}:null,outlineWidth:y?0:null,frameHeight:m,rotateClockwise:a.rotateClockwise,referenceSize:t,sizeRatio:z};X=[J(P,"Size",c,f,H),J(P,"Rotation",c,f,G),J(P,"OffsetX",c,f,F),J(P,"OffsetY",c,f,K),J(T,"Color",c,f,S,M),J(T,"Color",c,f,
W,M),J(T,"Width",c,f,aa)];return[4,d.all(X)];case 4:return V=q.sent(),U.forEach(function(a,b){null===ca[a]&&(ca[a]=V[b])}),l.push(ca),[3,6];case 5:return N(a,b,c,f,l,r,t,m),[3,6];case 6:return[2]}})};A.label=1;case 1:return C--?[5,x()]:[3,3];case 2:return A.sent(),[3,1];case 3:return[2]}})})}function N(a,b,c,f,l,n,r,t){return e(this,void 0,void 0,function(){var e,m,k,u,p,v,w,C,x,A,z,B,E,y,D;return q(this,function(q){switch(q.label){case 0:return e={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,
primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,frame:a.frame,markerGraphics:[b],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath},m=[],k=["Rotation","OffsetX","OffsetY"],m=c.filter(function(b){return b.primitiveName!==a.primitiveName||-1===k.indexOf(b.propertyName)}),
u=g.CIMSymbolHelper.getTextureAnchor(e),p=u[0],v=u[1],w=JSON.stringify(e),C=a.primitiveName,x=a.rotation,A=a.offsetX,z=a.offsetY,B=h.numericHash(JSON.stringify(e)).toString(),E={type:"marker",templateHash:B,materialHash:0===m.length?B:null,cim:e,materialOverrides:m,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:n,anchorPoint:{x:p,y:v},isAbsoluteAnchorPoint:!1,size:a.size,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,
g:0,b:0,a:0},outlineWidth:0,frameHeight:t,rotateClockwise:a.rotateClockwise,referenceSize:r,sizeRatio:1},y=[O(w,m,f),J(C,"Rotation",c,f,x),J(C,"OffsetX",c,f,A),J(C,"OffsetY",c,f,z)],[4,d.all(y)];case 1:return D=q.sent(),R.forEach(function(a,b){null===E[a]&&(E[a]=D[b])}),l.push(E),[2]}})})}function I(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function M(a){if(!a||0===a.length)return null;a=(new k(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function J(a,b,d,f,g,h){return e(this,
void 0,void 0,function(){var e,n,r,t,m;return q(this,function(k){switch(k.label){case 0:if(!a)return[3,4];e=function(d){var e,n,r;return q(this,function(t){switch(t.label){case 0:if(d.primitiveName!==a||d.propertyName!==b)return[3,2];if(void 0!==d.value)return[2,{value:h?h(d.value):d.value}];e=d.valueExpressionInfo;if(!e)return[3,2];n=e.expression;return[4,c.createRendererExpression(n,f.spatialReference,f.fields)];case 1:return r=t.sent(),[2,{value:function(a,b,c){a=l.callWithFeature(r,a,{$view:c},
f.geometryType,b);null!==a&&h&&(a=h(a));return null!==a?a:g}}];case 2:return[2]}})};n=0;r=d;k.label=1;case 1:if(!(n<r.length))return[3,4];t=r[n];return[5,e(t)];case 2:m=k.sent();if("object"===typeof m)return[2,m.value];k.label=3;case 3:return n++,[3,1];case 4:return[2,g]}})})}function Q(a,b){switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}function S(a,b,c){if(!a||-1===b.indexOf("["))return Q(b,c);var d=function(a){for(var b=a.length;b--;)if(-1===
" /-,\n".indexOf(a.charAt(b)))return!1;return!0},f=[],e=0,g=-1;do g=b.indexOf("[",e),g>=e&&(g>e&&(e=b.substr(e,g-e),f.push([e,null,d(e)])),e=g+1,g=b.indexOf("]",e),g>=e&&(g>e&&(e=b.substr(e,g-e),(e=a[e])&&f.push([null,e,!1])),e=g+1));while(-1!==g);e<b.length-1&&(e=b.substr(e),f.push([e,null,d(e)]));return function(a){for(var b="",d=null,e=0;e<f.length;e++){var g=f[e],l=g[0],h=g[1],g=g[2];if(l)g?d=l:(d&&(b+=d,d=null),b+=l);else if(l=a.attributes[h])d&&(b+=d,d=null),b+=l}return Q(b,c)}}function O(a,
b,d){return e(this,void 0,void 0,function(){var f,e,n,r;return q(this,function(t){switch(t.label){case 0:f=function(a){var b,f,e;return q(this,function(g){switch(g.label){case 0:b=a.valueExpressionInfo;if(!b)return[3,2];f=b.expression;return[4,c.createRendererExpression(f,d.spatialReference,d.fields)];case 1:e=g.sent(),a.fn=function(a,b,c){return l.callWithFeature(e,a,{$view:c},d.geometryType,b)},g.label=2;case 2:return[2]}})},e=0,n=b,t.label=1;case 1:if(!(e<n.length))return[3,4];r=n[e];return[5,
f(r)];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2,function(c,d,f){for(var e=0;e<b.length;e++){var l=b[e];l.fn&&(l.value=l.fn(c,d,f))}return h.numericHash(a+g.OverrideHelper.buildOverrideKey(b)).toString()}]}})})}Object.defineProperty(b,"__esModule",{value:!0});var V=m.getLogger("esri.symbols.cim.cimAnalyzer"),U="size rotation offsetX offsetY color outlineColor outlineWidth".split(" "),R=["materialHash","rotation","offsetX","offsetY"];b.analyzeCIMSymbol=function(a,b,c,d,f){return e(this,
void 0,void 0,function(){var e,g,l,h;return q(this,function(n){switch(n.label){case 0:e=d?d:[];if(!a)return[2,e];"CIMSymbolReference"===a.type?(g=a.symbol,l=a.primitiveOverrides):(g=a,l=null);h=g.type;switch(h){case "CIMPointSymbol":return[3,1];case "CIMLineSymbol":return[3,1];case "CIMPolygonSymbol":return[3,1];case "CIMTextSymbol":return[3,3]}return[3,4];case 1:return[4,y(g,l,b,c,e,f)];case 2:return n.sent(),[3,4];case 3:return[3,4];case 4:return[2,e]}})})};b.analyzeCIMResource=function(a,b){if(!b||
0===b.length)return a;a=JSON.parse(JSON.stringify(a));g.OverrideHelper.applyOverrides(a,b);return a}})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports ../../Color ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMCursor ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c,g){function f(a,b){switch(b.type){case "CIMSymbolReference":var c={type:"point",x:0,y:0};a.drawSymbol(b.symbol,
c);break;case "CIMPointSymbol":c={type:"point",x:0,y:0};a.drawSymbol(b,c);break;case "CIMVectorMarker":c=new h.Placement,a.drawMarker(b,c)}return a.envelope()}Object.defineProperty(b,"__esModule",{value:!0});var w=Math.PI,l=w/2,n=e.getLogger("esri.symbols.cim.CIMSymbolHelper");a=function(){function a(){}a.getEnvelope=function(a){var b=new c.EnvDrawHelper;if(Array.isArray(a)){for(var d=void 0,e=0;e<a.length;e++){var g=a[e];d?d.union(f(b,g)):d=f(b,g)}return d}return f(b,a)};a.getTextureAnchor=function(a){a=
this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,0];var b=96/72;return[(a.x+.5*a.width)*b/(a.width*b+2),-(a.y+.5*a.height)*b/(a.height*b+2)]};a.rasterize=function(a,b,d){void 0===d&&(d=!0);var f=this.getEnvelope(b);if(!f||0>=f.width||0>=f.height)return[null,0,0,0,0];var e=96/72,g=(f.x+.5*f.width)*e,l=(f.y+.5*f.height)*e;a.width=f.width*e+2;a.height=f.height*e+2;f=a.getContext("2d");e=c.Transformation.createScale(e,-e);e.translate(.5*a.width-g,.5*a.height+l);e=new c.CanvasDrawHelper(f,e);
switch(b.type){case "CIMPointSymbol":e.drawSymbol(b,{type:"point",x:0,y:0});break;case "CIMVectorMarker":var n=new h.Placement;e.drawMarker(b,n)}b=f.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);if(d)for(d=void 0,f=0;f<b.length;f+=4)d=b[f+3]/255,b[f]*=d,b[f+1]*=d,b[f+2]*=d;return[b,a.width,a.height,-g/a.width,-l/a.height]};a.fromSimpleMarker=function(a){var b,c,d=a.style;if("circle"===d||"esriSMSCircle"===d){b=Math.acos(.995);c=Math.ceil(w/b/4);0===c&&(c=1);b=l/c;c*=4;d=[];d.push([50,
0]);for(var f=1;f<c;f++)d.push([50*Math.cos(f*b),-50*Math.sin(f*b)]);d.push([50,0]);b={rings:[d]};c={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===d||"esriSMSCross"===d)b=0,b={rings:[[[b,50],[b,b],[50,b],[50,-b],[b,-b],[b,-50],[-b,-50],[-b,-b],[-50,-b],[-50,b],[-b,b],[-b,50],[b,50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===d||"esriSMSDiamond"===d)b={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===d||"esriSMSSquare"===
d)b={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===d||"esriSMSX"===d)b=0,b={rings:[[[0,b],[50-b,50],[50,50-b],[b,0],[50,b-50],[50-b,-50],[0,-b],[b-50,-50],[-50,b-50],[-b,0],[-50,50-b],[b-50,50],[0,b]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===d||"esriSMSTriangle"===d)c=2/3*100,d=c-100,b={rings:[[[-57.735026918962575,d],[0,c],[57.735026918962575,d],[-57.735026918962575,d]]]},c={xmin:-57.735026918962575,ymin:d,xmax:57.735026918962575,
ymax:c};var e;b&&c&&(e=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&e.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),e={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:c,markerGraphics:[{type:"CIMMarkerGraphic",geometry:b,symbol:{type:"CIMPolygonSymbol",symbolLayers:e}}]}]});return e};a.getFillColor=function(b){if(!b)return null;switch(b.type){case "CIMPolygonSymbol":if(b.symbolLayers){var c=
0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getFillColor(b[c]);if(null!=d)return d}}break;case "CIMTextSymbol":return a.getFillColor(b.symbol);case "CIMSolidFill":return b.color}};a.getStrokeColor=function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeColor(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeColor(b.symbol);case "CIMSolidStroke":return b.color}};a.getStrokeWidth=
function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeWidth(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeWidth(b.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return b.width}};a.getSize=function(b){if(b)switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var c=0;if(b.symbolLayers){var d=0;for(b=b.symbolLayers;d<
b.length;d++){var f=a.getSize(b[d]);f>c&&(c=f)}}return c;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return b.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return b.size}};a.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};a.executeEffects=function(a,b,c){void 0===c&&(c=!1);var f=96/72,e=a?a.length:0;e&&c&&--e;for(c=
0;c<e;++c){var g=a[c];if(g){var l=d.getEffectOperator(g);l&&(b=l.execute(b,g,f))}}return b};a.processEffects=function(b,c,d){var f;b.effects&&0<b.effects.length&&(f=k.deltaEncodeGeometry(d),f=new m.SimpleGeometryCursor(f),f=a.executeEffects(b.effects,f));b=b.symbolLayers[c];b.effects&&0<b.effects.length&&(c=!1,"CIMGeometricEffectDashes"===b.effects[b.effects.length-1].type&&(c=!0),f||(f=k.deltaEncodeGeometry(d),f=new m.SimpleGeometryCursor(f)),f=a.executeEffects(b.effects,f,c));if(!f)return d;d=[];
for(b=f.next();b;)d.push(b),b=f.next();f=d.length;switch(f){case 0:return null;case 1:return k.deltaEncodeGeometry(d[0]);default:b=d[0];for(c=1;c<f;++c){var e=d[c];p.isPolygon(b)&&p.isPolygon(e)&&Array.prototype.push.apply(b.rings,e.rings);p.isPolyline(b)&&p.isPolyline(e)&&Array.prototype.push.apply(b.paths,e.paths)}return k.deltaEncodeGeometry(b)}};return a}();b.CIMSymbolHelper=a;a=function(){function a(){}a.rasterizeSimpleFill=function(a,b){"solid"!==b&&"none"!==b&&"esriSFSSolid"!==b&&"esriSFSNull"!==
b||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=8;var c=a.getContext("2d");c.strokeStyle="#FFFFFF";c.lineWidth=1;c.beginPath();if("vertical"===b||"cross"===b||"esriSFSCross"===b||"esriSFSVertical"===b)c.moveTo(0,0),c.lineTo(0,8);if("horizontal"===b||"cross"===b||"esriSFSCross"===b||"esriSFSHorizontal"===b)c.moveTo(0,0),c.lineTo(8,0);if("forward-diagonal"===b||"diagonal-cross"===b||"esriSFSDiagonalCross"===b||"esriSFSForwardDiagonal"===b)c.moveTo(0,0),c.lineTo(8,
8);if("backward-diagonal"===b||"diagonal-cross"===b||"esriSFSBackwardDiagonal"===b||"esriSFSDiagonalCross"===b)c.moveTo(8,0),c.lineTo(0,8);c.stroke();b=c.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);for(var d=0;d<b.length;d+=4)c=b[d+3]/255,b[d]*=c,b[d+1]*=c,b[d+2]*=c;return[b,a.width,a.height]};a.rasterizeSimpleLine=function(a,b){switch(b){case "butt":b="Butt";break;case "square":b="Square";break;default:b="Round"}var c="Butt"===b;switch(a){case "dash":case "esriSLSDash":a=c?[4,3]:
[3,4];break;case "dash-dot":case "esriSLSDashDot":a=c?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=c?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=c?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=c?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=c?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=c?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=c?[4,1,1,1]:[3,2,0,2];break;
case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=c?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=c?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":n.error("Unexpected: style does not require rasterization");a=[0,0];break;default:n.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,b)};a.rasterizeDash=function(a,b){var c="Butt"===b,d="Square"===b;b=!c&&!d;for(var f=0,e=0;e<a.length;e++)var l=
a[e],f=f+l;for(var f=15*f,h=31*f,e=new Float32Array(h),n=b?225:15,l=0;l<h;++l)e[l]=n;for(var n=h=0,r=!0,m=0;m<a.length;m++){for(var l=a[m],h=n,n=n+15*l,k=h;k<n;){for(var t=0;31>t;){var l=t*f+k,p=b?(t-15)*(t-15):Math.abs(t-15);e[l]=r?c?Math.max(Math.max(h+7.5-k,p),Math.max(k-n+7.5,p)):p:b?Math.min((k-h)*(k-h)+p,(k-n)*(k-n)+p):d?Math.min(Math.max(k-h,p),Math.max(n-k,p)):Math.min(Math.max(k-h+7.5,p),Math.max(n+7.5-k,p));t++}k++}r=!r}a=e.length;c=new Uint8Array(4*a);for(l=0;l<a;++l)g.packFloatRGBA((b?
Math.sqrt(e[l]):e[l])/15,c,4*l);return[c,f,31]};return a}();b.SymbolHelper=a;a=function(){function a(){}a.findApplicableOverrides=function(b,c,d){if(c){if(b.primitiveName){for(var f=!1,e=0;e<d.length;e++){var g=d[e];if(g.primitiveName===b.primitiveName){f=!0;break}}if(!f)for(f=0;f<c.length;f++)g=c[f],g.primitiveName===b.primitiveName&&d.push(g)}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(f=0,e=b.effects;f<e.length;f++)g=e[f],a.findApplicableOverrides(g,
c,d);if(b.symbolLayers)for(g=0,b=b.symbolLayers;g<b.length;g++)a.findApplicableOverrides(b[g],c,d);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(b.effects)for(f=0,e=b.effects;f<e.length;f++)g=e[f],a.findApplicableOverrides(g,c,d);b.markerPlacement&&a.findApplicableOverrides(b.markerPlacement,c,d);if("CIMVectorMarker"===
b.type){if(b.markerGraphics)for(g=0,b=b.markerGraphics;g<b.length;g++)f=b[g],a.findApplicableOverrides(f,c,d),a.findApplicableOverrides(f.symbol,c,d)}else"CIMCharacterMarker"===b.type?a.findApplicableOverrides(b.symbol,c,d):"CIMHatchFill"===b.type&&a.findApplicableOverrides(b.lineSymbol,c,d)}}};a.applyOverrides=function(b,c,d,f){if(c){if(b.primitiveName)for(var e=0;e<c.length;e++){var g=c[e];if(g.primitiveName===b.primitiveName){var l;l=(l=g.propertyName)?l.charAt(0).toLowerCase()+l.substr(1):l;f&&
f.push({cim:b,nocapPropertyName:l,value:b[l]});g.expression&&(g.value=a.toValue(g.propertyName,g.expression));if(d){for(var h=!1,n=0,m=d;n<m.length;n++)m[n].primitiveName===b.primitiveName&&(h=!0);h||d.push(g)}b[l]=g.value}}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(g=0,l=b.effects;g<l.length;g++)e=l[g],a.applyOverrides(e,c,d,f);if(b.symbolLayers)for(e=0,b=b.symbolLayers;e<b.length;e++)a.applyOverrides(b[e],c,d,f);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(b.effects)for(g=
0,l=b.effects;g<l.length;g++)e=l[g],a.applyOverrides(e,c,d,f);if("CIMVectorMarker"===b.type&&b.markerGraphics)for(e=0,b=b.markerGraphics;e<b.length;e++)g=b[e],a.applyOverrides(g,c,d,f),a.applyOverrides(g.symbol,c,d,f)}}};a.restoreOverrides=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.cim[c.nocapPropertyName]=c.value}};a.buildOverrideKey=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];void 0!==d.value&&(b+=""+d.primitiveName+d.propertyName+JSON.stringify(d.value))}return b};a.toValue=
function(a,b){return"DashTemplate"===a?b.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new q(b)).toRgba(),a[3]*=255,a):b};return a}();b.OverrideHelper=a})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../geometry/support/jsonUtils","./CIMPlacements"],function(a,b,q,e){function p(a){if(a)for(var b=a.length-1;0<b;--b)a[b][0]-=a[b-1][0],a[b][1]-=a[b-1][1]}function k(a){if(a)for(var b=0;b<a.length;b++)p(a[b])}function m(a){if(a)for(var b=a.length,c=1;c<b;++c)a[c][0]+=
a[c-1][0],a[c][1]+=a[c-1][1]}function d(a){if(a)for(var b=0;b<a.length;b++)m(a[b])}function h(a){a&&a.reverse()}function c(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(b,"__esModule",{value:!0});b.deltaEncodePath=p;b.deltaEncodeMultipath=k;b.deltaDecodeGeometry=function(a){q.isPolygon(a)?d(a.rings):q.isPolyline(a)?d(a.paths):q.isMultipoint(a)&&m(a.points);return a};b.deltaEncodeGeometry=function(a){q.isPolygon(a)?k(a.rings):
q.isPolyline(a)?k(a.paths):q.isMultipoint(a)&&p(a.points);return a};b.reverseMultipath=function(a){if(a)for(var b=0;b<a.length;b++)h(a[b])};b.reversePath=h;b.getCoord2D=function(a,b,c){return[a[0]+(b[0]-a[0])*c,a[1]+(b[1]-a[1])*c]};b.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};b.getId=function(a){return a[4]};b.setId=function(a,b){a[4]=b};a=function(){function a(a,b,d,g){this.acceptPolygon=b;this.acceptPolyline=d;this.geomUnitsPerPoint=
g;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;a&&(q.isPolygon(a)?b&&(this.multiPath=a.rings,this.isClosed=!0):q.isPolyline(a)?d&&(this.multiPath=a.paths,this.isClosed=!1):q.isExtent(a)&&b&&(this.multiPath=c(a).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new e.Placement}a.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);
if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};return a}();b.PathTransformationCursor=a;a=function(){function a(a,b,c,d){this.inputGeometries=a;this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=d;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}a.prototype.next=function(){for(;;){if(!this.multiPath){for(var a=this.inputGeometries.next();a;)if(q.isPolygon(a)?this.acceptPolygon&&(this.multiPath=a.rings,this.isClosed=!0):q.isPolyline(a)?this.acceptPolyline&&
(this.multiPath=a.paths,this.isClosed=!1):q.isExtent(a)&&this.acceptPolygon&&(this.multiPath=c(a).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else a=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,a=this.processPath(this.multiPath[this.pathIndex]))return a;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return a}();b.PathGeometryCursor=
a})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this.setIdentity()}a.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};a.prototype.setTranslate=function(a,b){this.tx=a;this.ty=b};a.prototype.setTranslateZ=function(a){this.tz=a};a.prototype.setRotateCS=function(a,b){this.rz=void 0;this.rz_c=a;this.rz_s=b};a.prototype.setRotate=
function(a){this.rz=a;this.rz_s=this.rz_c=void 0};a.prototype.setRotateY=function(a){this.ry=a};a.prototype.setScale=function(a){this.s=a};a.prototype.setMeasure=function(a){this.m=a};return a}();b.Placement=a;a=function(){function a(){}a.prototype.next=function(){return null};return a}();b.EmptyPlacementCursor=a})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a){this._geometry=
a}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a};return a}();b.SimpleGeometryCursor=a;b.clone=function(a){return q.clone(a)}})},"esri/symbols/cim/CIMOperators":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.getEffectOperator=function(a){return null};b.getPlacementOperator=function(a){return null}})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),
function(a,b,q,e,p,k,m,d,h,c){Object.defineProperty(b,"__esModule",{value:!0});b.C_DEG_TO_RAD=Math.PI/180;var g=p.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),f=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var b=this._t;return[b[0]*a[0]+b[1]*a[1]+b[2],b[3]*a[0]+b[4]*a[1]+b[5]]};a.createScale=function(b,c){return new a([b,0,0,0,c,0])};a.prototype.scale=function(a,
b){var c=this._t;c[0]*=a;c[1]*=a;c[2]*=a;c[3]*=b;c[4]*=b;c[5]*=b;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};a.createTranslate=function(b,c){return new a([0,0,b,0,0,c])};a.prototype.translate=function(a,b){var c=this._t;c[2]+=a;c[5]+=b;return this};a.createRotate=function(b){var c=Math.cos(b);b=Math.sin(b);return new a([c,-b,0,b,c,0])};a.prototype.rotate=function(b){return this.multiply(a.createRotate(b))};a.prototype.multiply=function(a){var b=
this._t;a=a._t;var c=b[1]*a[0]+b[4]*a[1],d=b[2]*a[0]+b[5]*a[1]+a[2],f=b[0]*a[3]+b[3]*a[4],e=b[1]*a[3]+b[4]*a[4],g=b[2]*a[3]+b[5]*a[4]+a[5];b[0]=b[0]*a[0]+b[3]*a[1];b[1]=c;b[2]=d;b[3]=f;b[4]=e;b[5]=g;return this};return a}();b.Transformation=f;a=function(){function a(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||f.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}a.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};a.prototype.transformSize=
function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};a.prototype.back=function(){return this._transfos[this._transfos.length-1]};a.prototype.push=function(a){var b=a.scaleRatio();a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*b)};a.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};a.prototype.drawSymbol=function(a,b){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,
b)}};a.prototype.drawMultiLayerSymbol=function(a,b){if(a){var c=a.symbolLayers;if(c)if(a=a.effects){if(b=this.executeEffects(a,b))for(a=b.next();a;)this.drawSymbolLayers(c,a),a=b.next()}else this.drawSymbolLayers(c,b)}};a.prototype.executeEffects=function(a,b){var c=96/72;b=new m.SimpleGeometryCursor(b);for(var f=a?a.length:0,e=0;e<f;++e){var g=a[e];if(g){var l=d.getEffectOperator(g);l&&(b=l.execute(b,g,c))}}return b};a.prototype.drawSymbolLayers=function(a,b){for(var c=a.length;c--;){var d=a[c];
if(d&&!1!==d.enable){var f=d.effects;if(f){if(f=this.executeEffects(f,b))for(var e=f.next();e;)this.drawSymbolLayer(d,e),e=f.next()}else this.drawSymbolLayer(d,b)}}};a.prototype.drawSymbolLayer=function(a,b){switch(a.type){case "CIMSolidFill":this.drawSolidFill(b,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(b,a.color,a.width);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,b)}};a.prototype.drawMarkerLayer=function(a,b){var c=a.markerPlacement;
if(c){var f=96/72,e=d.getPlacementOperator(c);if(e&&(b=e.execute(b,c,f)))for(c=b.next();c;)this.drawMarker(a,c),c=b.next()}else c=new h.Placement,c.tx=b.x,c.ty=b.y,this.drawMarker(a,c)};a.prototype.drawMarker=function(a,b){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,b);break;case "CIMVectorMarker":this.drawVectorMarker(a,b)}};a.prototype.drawPictureMarker=function(a,b){};a.prototype.drawVectorMarker=function(a,c){if(a){var d=a.markerGraphics;if(d){var e=
a.size,l=a.frame,h=l?l.ymax-l.ymin:0,e=e&&h?e/h:1,h=f.createIdentity();l&&h.translate(.5*-(l.xmax+l.xmin),.5*-(l.ymax+l.ymin));var n=a.anchorPoint;if(n){var m=n.x,n=n.y;"Absolute"!==a.anchorPointUnits&&l&&(m*=l.xmax-l.xmin,n*=l.ymax-l.ymin);h.translate(-m,-n)}1!==e&&h.scale(e,e);a.rotation&&h.rotate(a.rotation*b.C_DEG_TO_RAD);h.translate(a.offsetX||0,a.offsetY||0);h.translate(c.tx,c.ty);this.push(h);for(a=0;a<d.length;a++)(c=d[a])&&c.symbol&&c.geometry||g.error("Invalid marker graphic",c),this.drawSymbol(c.symbol,
c.geometry);this.pop()}}};return a}();b.CIMSymbolDrawHelper=a;e=function(a){function b(){var b=a.call(this)||this;b.reset();return b}q(b,a);b.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};b.prototype.envelope=function(){return new c.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};b.prototype._merge=function(a,b){a[0]-b<this._xmin&&(this._xmin=a[0]-b);a[0]+b>this._xmax&&(this._xmax=a[0]+b);a[1]-b<this._ymin&&(this._ymin=a[1]-
b);a[1]+b>this._ymax&&(this._ymax=a[1]+b)};b.prototype.drawSolidFill=function(a){if(a&&a.rings){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b],d=c?c.length:0;if(2<d){this._merge(this.transformPt(c[0]),0);for(var f=1;f<d;++f)this._merge(this.transformPt(c[f]),0)}}}};b.prototype.drawSolidStroke=function(a,b,c){b=.5*this.transformSize(c);if(a=k.isPolygon(a)?a.rings:a.paths)for(c=0;c<a.length;c++){var d=a[c],f=d?d.length:0;if(1<f){this._merge(this.transformPt(d[0]),b);for(var e=1;e<f;++e)this._merge(this.transformPt(d[e]),
b)}}};return b}(a);b.EnvDrawHelper=e;a=function(a){function b(b,c){c=a.call(this,c)||this;c._ctx=b;return c}q(b,a);b.prototype.drawSolidFill=function(a,b){if(a&&a.rings){var c=this._ctx;c.fillStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";c.beginPath();b=0;for(a=a.rings;b<a.length;b++){var d=a[b],f=d?d.length:0;if(2<f){var e=this.transformPt(d[0]);c.moveTo(e[0],e[1]);for(var g=1;g<f;++g)e=this.transformPt(d[g]),c.lineTo(e[0],e[1]);c.closePath()}}c.fill("evenodd")}};
b.prototype.drawSolidStroke=function(a,b,c){var d=this._ctx;d.strokeStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";d.lineWidth=this.transformSize(c)+.5;d.beginPath();b=!1;k.isPolygon(a)?(c=a.rings,b=!0):c=a.paths;for(a=0;a<c.length;a++){var f=c[a],e=f?f.length:0;if(1<e){var g=this.transformPt(f[0]);d.moveTo(g[0],g[1]);for(var l=1;l<e;++l)g=this.transformPt(f[l]),d.lineTo(g[0],g[1]);b&&d.closePath()}}d.stroke()};return b}(a);b.CanvasDrawHelper=
a})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,k,m){void 0===a&&(a=0);void 0===b&&(b=0);void 0===k&&(k=0);void 0===m&&(m=0);this.x=a;this.y=b;this.width=k;this.height=m}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=
Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();b.default=a})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(a,b){function q(a){return a-Math.floor(a)}Object.defineProperty(b,"__esModule",{value:!0});var e=[1,256,65536,16777216],p=[1/256,1/65536,1/16777216,1/4294967296],k=function(a,b){void 0===b&&(b=0);for(var d=0,c=0;4>c;c++)d+=a[b+c]*p[c];return d}(new Uint8ClampedArray([255,255,255,255]));b.packFloatRGBA=function(a,b,h){void 0===
h&&(h=0);a=0>a?0:a>k?k:a;for(var c=0;4>c;c++)b[h+c]=Math.floor(256*q(a*e[c]))}})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(a,b,q,e,p){function k(a){if(!a)return null;switch(a.type){case "CIMPointSymbol":a=a.symbolLayers;if(!a||1!==a.length)break;return k(a[0]);case "CIMVectorMarker":a=a.markerGraphics;if(!a||1!==a.length)break;var b=a[0];if(!b)break;a=b.geometry;if(!a)break;b=b.symbol;if(!b||"CIMPolygonSymbol"!==
b.type&&"CIMLineSymbol"!==b.type)break;return{geom:a,asFill:"CIMPolygonSymbol"===b.type};case "sdf":return{geom:a.geom,asFill:a.asFill}}return null}function m(a){for(var b=Infinity,c=-Infinity,d=Infinity,f=-Infinity,e=0;e<a.length;e++)for(var l=0,n=a[e];l<n.length;l++){var m=n[l];m[0]<b&&(b=m[0]);m[0]>c&&(c=m[0]);m[1]<d&&(d=m[1]);m[1]>f&&(f=m[1])}return[b,d,c,f]}Object.defineProperty(b,"__esModule",{value:!0});b.getSDFInfo=k;b.getSDFSymbol=function(a){a=a.markerGraphics;if(!a||1!==a.length)return null;
a=a[0];if(!a)return null;a=a.symbol;return!a||"CIMPolygonSymbol"!==a.type&&"CIMLineSymbol"!==a.type?null:a};b.getExtent=function(a){return a?a.rings?m(a.rings):a.paths?m(a.paths):q.isExtent(a)?[a.xmin,a.ymin,a.xmax,a.ymax]:null:null};b.getSDFMetrics=function(a,b,c,e,f){var d=a[0],g=a[1],h=a[2];a=a[3];if(h<d||a<g)return[0,0,0];var m=h-d,k=a-g,h=Math.floor(31.5);a=(128-2*(h+1))/Math.max(m,k);var m=Math.round(m*a),k=Math.round(k*a)+2*h,t=1;b&&(t=k/a/(b.ymax-b.ymin));var p=0,q=0;e&&(f?b&&c&&0<b.ymax-
b.ymin&&(p=e.x/((b.xmax-b.xmin)/(b.ymax-b.ymin)*c),q=e.y/c):(p=e.x,q=e.y));p=.5*(b.xmax+b.xmin)+p*(b.xmax-b.xmin);q=.5*(b.ymax+b.ymin)+q*(b.ymax-b.ymin);p=(p-d)*a+h;q=(q-g)*a+h;return[t,p/(m+2*h)-.5,-(q/k-.5)]};b.buildSDF=function(a){var b,c=a.geom;b=c?c.rings?c.rings:c.paths?c.paths:void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax?[[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]]]:null:null;var d,c=Infinity,f=-Infinity,m=Infinity,l=-Infinity;for(d=
0;d<b.length;d++)for(var n=0,k=b[d];n<k.length;n++){var r=k[n];r[0]<c&&(c=r[0]);r[0]>f&&(f=r[0]);r[1]<m&&(m=r[1]);r[1]>l&&(l=r[1])}d=new p.default(c,m,f-c,l-m);m=Math.floor(31.5);n=(128-2*(m+1))/Math.max(d.width,d.height);c=Math.round(d.width*n)+2*m;f=Math.round(d.height*n)+2*m;l=[];for(k=0;k<b.length;k++){var t=b[k];if(t&&1<t.length){for(var r=[],q=0;q<t.length;q++){var A=t[q],y=A[0],A=A[1],y=y-d.x,A=A-d.y,y=y*n,A=A*n,y=y+(m-.5),A=A+(m-.5);r.push([y,A])}a.asFill&&(q=r.length-1,r[0][0]===r[q][0]&&
r[0][1]===r[q][1]||r.push(r[0]));l.push(r)}}d=c*f;b=Array(d);k=m*m+1;for(n=0;n<d;++n)b[n]=k;for(k=0;k<l.length;k++)for(r=l[k],q=r.length,n=1;n<q;++n){var t=r[n-1],y=r[n],D=void 0,A=void 0;t[0]<y[0]?(D=t[0],A=y[0]):(D=y[0],A=t[0]);var B=void 0,x=void 0;t[1]<y[1]?(B=t[1],x=y[1]):(B=y[1],x=t[1]);var z=Math.floor(D)-m,A=Math.floor(A)+m,B=Math.floor(B)-m,x=Math.floor(x)+m;0>z&&(z=0);A>c&&(A=c);0>B&&(B=0);x>f&&(x=f);for(var D=y[0]-t[0],F=y[1]-t[1],C=D*D+F*F;z<A;z++)for(var E=B;E<x;E++){var H=(z-t[0])*D+
(E-t[1])*F,G=void 0,K=void 0;0>H?(G=t[0],K=t[1]):H>C?(G=y[0],K=y[1]):(H/=C,G=t[0]+H*D,K=t[1]+H*F);H=(z-G)*(z-G)+(E-K)*(E-K);G=(f-E-1)*c+z;H<b[G]&&(b[G]=H)}}for(n=0;n<d;++n)b[n]=Math.sqrt(b[n]);if(a.asFill)for(a=0;a<l.length;a++)for(d=l[a],n=d.length,k=1;k<n;++k)for(r=d[k-1],q=d[k],y=t=void 0,r[0]<q[0]?(t=r[0],y=q[0]):(t=q[0],y=r[0]),A=B=void 0,r[1]<q[1]?(B=r[1],A=q[1]):(B=q[1],A=r[1]),t=Math.floor(t),y=Math.floor(y)+1,B=Math.floor(B),A=Math.floor(A)+1,t<m&&(t=m),y>c-m&&(y=c-m),B<m&&(B=m),A>f-m&&(A=
f-m);B<A;++B)if(r[1]>B!==q[1]>B){x=(f-B-1)*c;for(D=t;D<y;++D)D<(q[0]-r[0])*(B-r[1])/(q[1]-r[1])+r[0]&&(b[x+D]=-b[x+D]);for(D=m;D<t;++D)b[x+D]=-b[x+D]}m*=2;l=b.length;a=new Uint8Array(4*l);for(d=0;d<l;++d)e.packFloatRGBA(.5-b[d]/m,a,4*d);return[a,c,f]}})},"esri/views/2d/arcade/utils":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),
function(a,b,q,e,p,k,m,d){function h(a,b,d,e){var g=e.transform,l=e.hasZ;e=e.hasM;f.has(a)||f.set(a,c(d));a=f.get(a)(b.geometry,g,l,e);return q({},b,{geometry:a})}function c(a){var b={};switch(a){case "esriGeometryPoint":return function(a,c,d,f){return m.hydratePoint(c,b,a,d,f)};case "esriGeometryPolygon":return function(a,c,d,f){return m.hydratePolygon(c,b,a,d,f)};case "esriGeometryPolyline":return function(a,c,d,f){return m.hydratePolyline(c,b,a,d,f)};case "esriGeometryMultipoint":return function(a,
c,d,f){return m.hydrateMultipoint(c,b,a,d,f)};default:return g.error(new p("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(b,"__esModule",{value:!0});var g=k.getLogger("esri.views.2d.support.arcadeOnDemand");b.callWithOptimizedFeature=function(a,b,c,f,e){var l=f.geometryType,n=f.hasZ;f=f.hasM;b=a.referencesGeometry()?e?h(a,d.convertToFeature(b,l,n,f),l,e):d.convertToFeature(b,l,n,f):b;b=a.repurposeFeature(b);try{return a.evaluate(q({},c,{$feature:b}))}catch(A){return g.warn("Feature arcade evaluation failed:",
A),null}};b.callWithFeature=function(a,b,c,d,f){b=a.referencesGeometry()&&f?h(a,b,d,f):b;b=a.repurposeFeature(b);try{return a.evaluate(q({},c,{$feature:b}))}catch(t){return g.warn("Feature arcade evaluation failed:",t),null}};var f=new e.default;b.createHydrateFactory=c})},"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),
a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var q=a("tslib"),e=a("./global"),p=a("./iterator"),k=a("../has/has");a("./Symbol");b.WeakMap=e.default.WeakMap;if(!k.default("es6-weakmap")){var m={},d=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();b.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=d();this._frozenEntries=[];if(a)if(p.isArrayLike(a))for(var b=0;b<a.length;b++){var c=
a[b];this.set(c[0],c[1])}else try{for(b=q.__values(a),c=b.next();!c.done;c=b.next()){var e=q.__read(c.value,2);this.set(e[0],e[1])}}catch(v){l={error:v}}finally{try{c&&!c.done&&(h=b.return)&&h.call(b)}finally{if(l)throw l.error;}}var l,h}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value=
m,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==m||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==
typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));c.value=b;return this};return a}()}b.default=b.WeakMap})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(a,b,q){function e(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function p(a,b){return Math.round((a.translate[1]-
b)/a.scale[1])}function k(a,b,c){for(var d=[],f,g,l,h,n=0;n<c.length;n++){var m=c[n];if(0<n){if(l=e(a,m[0]),h=p(a,m[1]),l!==f||h!==g)d.push(b(m,l-f,h-g)),f=l,g=h}else f=e(a,m[0]),g=p(a,m[1]),d.push(b(m,f,g))}return 0<d.length?d:null}function m(a,b,c,d){return k(a,c?d?F:z:d?z:x,b)}function d(a,b,c,d){var f=[];c=c?d?F:z:d?z:x;for(d=0;d<b.length;d++){var e=k(a,c,b[d]);e&&3<=e.length&&f.push(e)}return f.length?f:null}function h(a,b,c,d){var f=[];c=c?d?F:z:d?z:x;for(d=0;d<b.length;d++){var e=k(a,c,b[d]);
e&&2<=e.length&&f.push(e)}return f.length?f:null}function c(a,b){return b*a.scale[0]+a.translate[0]}function g(a,b){return a.translate[1]-b*a.scale[1]}function f(a,b,d){var f=Array(d.length);if(!d.length)return f;var e=a.scale,l=e[0],e=e[1],h=c(a,d[0][0]);a=g(a,d[0][1]);f[0]=b(d[0],h,a);for(var n=1;n<d.length;n++){var m=d[n],h=h+m[0]*l;a-=m[1]*e;f[n]=b(m,h,a)}return f}function w(a,b,c){for(var d=Array(c.length),e=0;e<c.length;e++)d[e]=f(a,b,c[e]);return d}function l(a,b,c,d){return f(a,c?d?F:z:d?
z:x,b)}function n(a,b,c,d){return w(a,c?d?F:z:d?z:x,b)}function v(a,b,c,d){return w(a,c?d?F:z:d?z:x,b)}function r(a,b,c){var d=c[0],f=d[0],d=d[1],e=Math.min(f,b[0]),g=Math.min(d,b[1]),l=Math.max(f,b[2]);b=Math.max(d,b[3]);for(var h=1;h<c.length;h++){var n=c[h],m=n[0],n=n[1],f=f+m,d=d+n;0>m&&(e=Math.min(e,f));0<m&&(l=Math.max(l,f));0>n?g=Math.min(g,d):0<n&&(b=Math.max(b,d))}a[0]=e;a[1]=g;a[2]=l;a[3]=b;return a}function t(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;
for(var c=0;c<b.length;c++)r(a,a,b[c]);return a}function u(a,b,c,d,f){b.xmin=e(a,c.xmin);b.ymin=p(a,c.ymin);b.xmax=e(a,c.xmax);b.ymax=p(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),f&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function A(a,b,c,d,f){b.points=m(a,c.points,d,f);return b}function y(a,b,c,d,f){b.x=e(a,c.x);b.y=p(a,c.y);b!==c&&(d&&(b.z=c.z),f&&(b.m=c.m));return b}function D(a,b,c,f,e){a=d(a,c.rings,f,e);if(!a)return null;b.rings=a;return b}function B(a,b,c,d,f){a=h(a,c.paths,d,f);if(!a)return null;
b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});var x=function(a,b,c){return[b,c]},z=function(a,b,c){return[b,c,a[2]]},F=function(a,b,c){return[b,c,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==
b)return!1;var c,d,f,e;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(f=b.translate[0],e=b.translate[1],b=b.scale[0]):(f=b.extent.xmin,e=b.extent.ymax,b=b.tolerance);return c===f&&d===e&&a===b};b.quantizeX=e;b.quantizeY=p;b.quantizeBounds=function(a,b,c){b[0]=e(a,c[0]);b[3]=p(a,c[1]);b[2]=e(a,c[2]);b[1]=p(a,c[3]);return b};b.quantizePoints=m;b.quantizeRings=d;b.quantizePaths=h;b.hydrateX=
c;b.hydrateY=g;b.hydrateCoordsArray=f;b.hydrateCoordsArrayArray=w;b.hydrateBounds=function(a,b,d){return d?(b[0]=c(a,d[0]),b[1]=g(a,d[3]),b[2]=c(a,d[2]),b[3]=g(a,d[1]),b):[c(a,b[0]),g(a,b[3]),c(a,b[2]),g(a,b[1])]};b.hydratePoints=l;b.hydratePaths=n;b.hydrateRings=v;b.getQuantizedBoundsCoordsArray=r;b.getQuantizedBoundsCoordsArrayArray=t;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return r(b,b,a)};
b.getQuantizedBoundsPaths=function(a){return t([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return t([0,0,0,0],a)};b.quantizeExtent=u;b.quantizeMultipoint=A;b.quantizePoint=y;b.quantizePolygon=D;b.quantizePolyline=B;b.quantizeGeometry=function(a,b){return a&&b?q.isPoint(b)?y(a,{},b,!1,!1):q.isPolyline(b)?B(a,{},b,!1,!1):q.isPolygon(b)?D(a,{},b,!1,!1):q.isMultipoint(b)?A(a,{},b,!1,!1):q.isExtent(b)?u(a,{},b,!1,!1):null:null};b.hydrateExtent=function(a,b,d,f,e){b.xmin=c(a,d.xmin);b.ymin=g(a,
d.ymin);b.xmax=c(a,d.xmax);b.ymax=g(a,d.ymax);b!==d&&(f&&(b.zmin=d.zmin,b.zmax=d.zmax),e&&(b.mmin=d.mmin,b.mmax=d.mmax));return b};b.hydrateMultipoint=function(a,b,c,d,f){b.points=l(a,c.points,d,f);return b};b.hydratePoint=function(a,b,d,f,e){b.x=c(a,d.x);b.y=g(a,d.y);b!==d&&(f&&(b.z=d.z),e&&(b.m=d.m));return b};b.hydratePolygon=function(a,b,c,d,f){b.rings=v(a,c.rings,d,f);return b};b.hydratePolyline=function(a,b,c,d,f){b.paths=n(a,c.paths,d,f);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,q,e,p,k,m,d){function h(a,b){return a?b?4:3:b?3:2}function c(a,b,c,d){if(a){if(c)return b&&d?U:O;if(b&&d)return V}else if(b&&d)return O;return S}function g(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function f(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function w(a,b){return b*a.scale[0]+a.translate[0]}function l(a,b){return a.translate[1]-b*a.scale[1]}function n(a){a=a.coords;return{x:a[0],y:a[1]}}function v(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function r(a){a=
a.coords;return{x:a[0],y:a[1],z:a[2]}}function t(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function u(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function A(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function y(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function D(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function B(a,b){return a&&b?D:a?t:b?A:v}function x(a,b,c){if(!a)return null;for(var d=h(b,c),f=[],e=0;e<a.coords.length;e+=
d){for(var g=[],l=0;l<d;l++)g.push(a.coords[e+l]);f.push(g)}return b?c?{points:f,hasZ:b,hasM:c}:{points:f,hasZ:b}:c?{points:f,hasM:c}:{points:f}}function z(a,b,c){void 0===c&&(c=h(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var d=a.coords,f=0,e=0;for(b=b.points;e<b.length;e++)for(var g=b[e],l=0;l<c;l++)d[f++]=g[l];return a}function F(a,b,c){if(!a)return null;var d=h(b,c),f=a.coords,e=[],g=0,l=0;for(a=a.lengths;l<a.length;l++){for(var n=a[l],m=[],k=0;k<n;k++){for(var r=[],p=0;p<d;p++)r.push(f[g++]);
m.push(r)}e.push(m)}return b?c?{paths:e,hasZ:b,hasM:c}:{paths:e,hasZ:b}:c?{paths:e,hasM:c}:{paths:e}}function C(a,b,c){void 0===c&&(c=h(b.hasZ,b.hasM));var d=a.lengths,f=a.coords,e=0,g=0;for(b=b.paths;g<b.length;g++){for(var l=b[g],n=0,m=l;n<m.length;n++)for(var k=m[n],r=0;r<c;r++)f[e++]=k[r];d.push(l.length)}return a}function E(a,b,c){if(!a)return null;var d=h(b,c),f=a.coords,e=[],g=0,l=0;for(a=a.lengths;l<a.length;l++){for(var n=a[l],m=[],k=0;k<n;k++){for(var r=[],p=0;p<d;p++)r.push(f[g++]);m.push(r)}e.push(m)}return b?
c?{rings:e,hasZ:b,hasM:c}:{rings:e,hasZ:b}:c?{rings:e,hasM:c}:{rings:e}}function H(a,b,c,d){void 0===c&&(c=b.hasZ);void 0===d&&(d=b.hasM);G(a,b.rings,c,d);return a}function G(a,b,c,d){c=h(c,d);d=a.lengths;for(var f=a.coords,e=0,g=d.length=f.length=0;g<b.length;g++){for(var l=b[g],n=0,m=l;n<m.length;n++)for(var k=m[n],r=0;r<c;r++)f[e++]=k[r];d.push(l.length)}return a}function K(a,b,c,f,e,g){a.length=0;if(!c){for(f=0;f<b.length;f++)e=b[f],a.push(new k.default(null,e.attributes,null,e.attributes[g]));
return a}switch(c){case "esriGeometryPoint":f=B(f,e);for(e=0;e<b.length;e++){var l=b[e];c=l.geometry;var l=l.attributes,n=void 0;c&&(n=f(new d.default,c));a.push(new k.default(n,l,null,l[g]))}break;case "esriGeometryMultipoint":f=h(f,e);for(e=0;e<b.length;e++)l=b[e],c=l.geometry,l=l.attributes,n=void 0,c&&(n=z(new d.default,c,f)),a.push(new k.default(n,l,null,l[g]));break;case "esriGeometryPolyline":f=h(f,e);for(e=0;e<b.length;e++)l=b[e],c=l.geometry,l=l.attributes,n=void 0,c&&(n=C(new d.default,
c,f)),a.push(new k.default(n,l,null,l[g]));break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var m=b[c],l=m.geometry,n=m.centroid,m=m.attributes,r=void 0;l&&(r=H(new d.default,l,f,e));n?a.push(new k.default(r,m,v(new d.default,n),m[g])):a.push(new k.default(r,m,null,m[g]))}break;default:J.error("convertToFeatureSet:unknown-geometry",new q("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}function L(a,b,c,d,f){a.length=0;switch(c){case "esriGeometryPoint":c=n;d&&f?c=y:d?
c=r:f&&(c=u);for(d=0;d<b.length;d++){var e=b[d];f=e.geometry;e=e.attributes;f=f?c(f):null;a.push({attributes:e,geometry:f})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var g=b[c],e=g.geometry,g=g.attributes,l=void 0;e&&(l=x(e,d,f));a.push({attributes:g,geometry:l})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)g=b[c],e=g.geometry,g=g.attributes,l=void 0,e&&(l=F(e,d,f)),a.push({attributes:g,geometry:l});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var l=b[c],
g=l.geometry,e=l.attributes,h=l.centroid,l=void 0;g&&(l=E(g,d,f));h?(g=n(h),a.push({attributes:e,centroid:g,geometry:l})):a.push({attributes:e,geometry:l})}break;default:J.error("convertToFeatureSet:unknown-geometry",new q("Unable to parse unknown geometry type '"+c+"'"))}return a}function N(a,b,d,e,l,n,m,k){void 0===m&&(m=d);void 0===k&&(k=e);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;l=Q[l];var r=b.coords;b=b.lengths;var p=h(d,
e),t=h(d&&m,e&&k);d=c(d,e,m,k);if(!b.length)return d(a.coords,r,0,0,g(n,r[0]),f(n,r[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=p,a;for(var q,u=0,w,v=0,x=0;x<b.length;x++){var z=b[x];if(!(z<l)){var B=0;w=v;k=e=g(n,r[u]);q=m=f(n,r[u+1]);d(a.coords,r,w,u,k,q);B++;u+=p;w+=t;for(var C=1;C<z;C++,u+=p)if(k=g(n,r[u]),q=f(n,r[u+1]),k!==e||q!==m)d(a.coords,r,w,u,k-e,q-m),w+=t,B++,e=k,m=q;B>=l&&(a.lengths.push(B),v=w)}}a.coords.length=v;return a.coords.length?a:null}function I(a,b,c,d,f,e,g){for(var l=
d,h=0,n,m=e+c;m<g;m+=c){n=b[m];var k=b[m+1],r=b[g],p=b[g+1],t=b[e],q=b[e+1],u=r-t,w=p-q;if(0!==u||0!==w){var v=((n-t)*u+(k-q)*w)/(u*u+w*w);1<v?(t=r,q=p):0<v&&(t+=u*v,q+=w*v)}u=n-t;w=k-q;n=u*u+w*w;n>l&&(h=m,l=n)}l>d&&(h-e>c&&I(a,b,c,d,f,e,h),f(a,b,a.length,h,b[h],b[h+1]),g-h>c&&I(a,b,c,d,f,h,g))}function M(a,b,c,d,f){var e=b.coords,g=b.lengths,n=c?d?U:O:d?O:S;c=h(c,d);if(!e.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!g.length)return n(a.coords,e,0,0,w(f,e[0]),l(f,e[1])),a!==b&&
(a.lengths.length=0,a.coords.length=c),a;var m=f.scale;d=m[0];for(var m=m[1],k=0,r=0;r<g.length;r++){var p=g[r];a.lengths[r]=p;var t=w(f,e[k]),q=l(f,e[k+1]);n(a.coords,e,k,k,t,q);for(var k=k+c,u=1;u<p;u++,k+=c)t+=e[k]*d,q-=e[k+1]*m,n(a.coords,e,k,k,t,q)}a!==b&&(a.lengths.length=g.length,a.coords.length=e.length);return a}Object.defineProperty(b,"__esModule",{value:!0});var J=e.getLogger("esri.tasks.support.optimizedFeatureSet"),Q={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},
S=function(a,b,c,d,f,e){a[c]=f;a[c+1]=e},O=function(a,b,c,d,f,e){a[c]=f;a[c+1]=e;a[c+2]=b[d+2]},V=function(a,b,c,d,f,e){a[c]=f;a[c+1]=e;a[c+2]=b[d+3]},U=function(a,b,c,d,f,e){a[c]=f;a[c+1]=e;a[c+2]=b[d+2];a[c+3]=b[d+3]};b.quantizeX=g;b.quantizeY=f;b.hydrateX=w;b.hydrateY=l;b.convertToPoint=function(a,b,c){return a?b?c?y(a):r(a):c?u(a):n(a):null};b.convertFromPoint=function(a,b,c){void 0===c&&(c=B(null!=b.z,null!=b.m));return c(a,b)};b.convertToMultipoint=x;b.convertFromMultipoint=z;b.convertToPolyline=
F;b.convertFromPolyline=C;b.convertToPolygon=E;b.convertFromPolygon=H;b.convertFromNestedArray=G;var R=[],X=[];b.convertFromFeature=function(a,b,c,d,f){R[0]=a;a=K(X,R,b,c,d,f)[0];R.length=X.length=0;return a};b.convertFromFeatures=K;b.convertToFeature=function(a,b,c,d){X[0]=a;L(R,X,b,c,d);a=R[0];R.length=X.length=0;return a};b.convertFromGeometry=function(a,b,c){if(!a)return null;var f=new d.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==c&&(c=a.hasM);if(p.isPoint(a))return B(null!=b?b:
null!=a.z,null!=c?c:null!=a.m)(f,a);if(p.isPolygon(a))return H(f,a,b,c);if(p.isPolyline(a))return C(f,a,h(b,c));if(p.isMultipoint(a))return z(f,a,h(b,c));J.error("convertFromGeometry:unknown-geometry",new q("Unable to parse unknown geometry type '"+a+"'"))};b.convertToGeometry=function(a,b,c,d){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=n,c&&d?b=y:c?b=r:d&&(b=u),b(a);case "esriGeometryMultipoint":return x(a,c,d);case "esriGeometryPolyline":return F(a,
c,d);case "esriGeometryPolygon":return E(a,c,d);default:J.error("convertToGeometry:unknown-geometry",new q("Unable to parse unknown geometry type '"+b+"'"))}};b.convertToFeatures=L;b.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,d=a.transform,f=a.fields,e=a.hasM,g=a.hasZ,l=a.geometryType,h=a.exceededTransferLimit;a={features:L([],a.features,l,g,e),fields:f,geometryType:l,objectIdFieldName:b,spatialReference:c};d&&(a.transform=d);h&&(a.exceededTransferLimit=h);e&&(a.hasM=
e);g&&(a.hasZ=g);return a};b.convertFromFeatureSet=function(a,b){var c=new m.default,d=a.hasM,f=a.hasZ,e=a.features,g=a.objectIdFieldName,l=a.spatialReference,h=a.geometryType,n=a.exceededTransferLimit,k=a.transform;c.fields=a.fields;c.geometryType=h;c.objectIdFieldName=g||b;c.spatialReference=l;if(!c.objectIdFieldName)return J.error(new q("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;e&&K(c.features,e,h,f,d,c.objectIdFieldName);n&&(c.exceededTransferLimit=n);d&&
(c.hasM=d);f&&(c.hasZ=f);k&&(c.transform=k);return c};b.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,d=a.hasZ;if(!b)return a;for(var f=0,e=a.features;f<e.length;f++){var g=e[f];g.geometry&&M(g.geometry,g.geometry,c,d,b);g.centroid&&M(g.centroid,g.centroid,c,d,b)}a.transform=null;return a};b.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,f=b.features,e=b.hasM,g=b.hasZ;if(!a)return b;for(var l=0;l<f.length;l++){var h=f[l],n=new k.default(new d.default,h.attributes);
N(n.geometry,h.geometry,e,g,c,a);h.centroid&&(n.centroid=new d.default,N(n.centroid,h.centroid,e,g,"esriGeometryPoint",a));f[l]=n}b.transform=a;return b};b.quantizeOptimizedGeometry=N;b.generalizeOptimizedGeometry=function(a,b,d,f,e,g,l,n){void 0===l&&(l=d);void 0===n&&(n=f);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;e=Q[e];var m=b.coords;b=b.lengths;var k=h(d,f),r=h(d&&l,f&&n);d=c(d,f,l,n);if(!b.length)return d(a.coords,m,0,0,m[0],
m[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=k,a;f=0;g*=g;for(l=0;l<b.length;l++){n=b[l];if(!(n<e)){var p=a.coords.length/r,t=f,q=f+(n-1)*k;d(a.coords,m,a.coords.length,t,m[t],m[t+1]);I(a.coords,m,k,g,d,t,q);d(a.coords,m,a.coords.length,q,m[q],m[q+1]);t=a.coords.length/r-p;t>=e?a.lengths.push(t):a.coords.length=p*r}f+=n*k}return a.coords.length?a:null};b.getBoundsOptimizedGeometry=function(a,b,c,d){c=h(c,d);var f=d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY;
if(b&&b.coords){b=b.coords;for(var l=0;l<b.length;l+=c){var n=b[l],m=b[l+1];d=Math.min(d,n);e=Math.max(e,n);f=Math.min(f,m);g=Math.max(g,m)}}a[0]=d;a[1]=f;a[2]=e;a[3]=g;return a};b.getQuantizedBoundsOptimizedGeometry=function(a,b,c,d){c=h(c,d);d=b.coords;var f=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,n=0,m=0;for(b=b.lengths;m<b.length;m++)for(var k=b[m],r=d[n],p=d[n+1],f=Math.min(r,f),e=Math.min(p,e),g=Math.max(r,g),l=Math.max(p,l),
n=n+c,t=1;t<k;t++,n+=c){var q=d[n],u=d[n+1],r=r+q,p=p+u;0>q&&(f=Math.min(f,r));0<q&&(g=Math.max(g,r));0>u?e=Math.min(e,p):0<u&&(l=Math.max(l,p))}a[0]=f;a[1]=e;a[2]=g;a[3]=l;return a};b.hydrateOptimizedGeometry=M;b.removeZMValues=function(a,b,d,f,e,g){var l,n=h(d,f);d=c(d,f,e,g);f=b.coords;a.coords.length=0;a.lengths.length=0;(l=a.lengths).push.apply(l,b.lengths);for(b=0;b<f.length;b+=n)d(a.coords,f,a.coords.length,b,f[b],f[b+1]);return a};b.removeCollinearVectices=function(a,b,d,f,e){if(!b||!b.coords||
!b.coords.length)return null;d=Q[d];var g=b.coords;b=b.lengths;var l=c(f,e,f,e);f=h(f,e);for(var n=e=0,m=0,k=0,r=0;r<b.length;r++){var p=b[r],n=k;l(a.coords,g,n,e,g[e],g[e+1]);e+=f;var t=g[e],q=g[e+1],u=t,w=q,v=q/t,n=n+f;l(a.coords,g,n,e,u,w);e+=f;for(var x=2;x<p;x++){var t=g[e],q=g[e+1],z=q/t,B=v===z||!isFinite(v)&&!isFinite(z),v=B&&isFinite(z)?0<=v&&0<=z||0>=v&&0>=z:0<=w&&0<=q||0>=w&&0>=q;B&&v?(u+=t,w+=q):(u=t,w=q,n+=f);l(a.coords,g,n,e,u,w);e+=f;v=z}n+=f;p=(n-k)/f;p>=d&&(a.lengths[m]=p,k=n,m++)}a.coords.length>
k&&(a.coords.length=k);a.lengths.length>m&&(a.lengths.length=m);return a.coords.length&&a.lengths.length?a:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports","../../core/tsSupport/extendsHelper"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b,k,m){void 0===a&&(a=null);void 0===b&&(b={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=a;b&&(this.attributes=b);k&&(this.centroid=
k);null!=m&&(this.objectId=m)}}();b.default=a})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();b.default=a})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,q,e,p,k,m,d,h){return function(a){function b(b){b=
a.call(this,b)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;e([k.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);e([k.property({type:h.default,
json:{write:!0}})],b.prototype,"material",void 0);e([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([k.property(d.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=e([k.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(k.declared(m))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m){var d=p.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function b(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}q(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};e([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);e([m.writer("enabled")],b.prototype,"writeEnabled",null);e([m.property({type:d.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],b.prototype,"type",void 0);return b=e([m.subclass("esri.symbols.Symbol3DLayer")],b)}(m.declared(k.JSONSupport));(a||(a={})).typeJSONDictionary=d;return a})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,q,e,p){function k(a,b,h){if(!a)return a;switch(a.type){case "solid":return b=new p,b.read(a,h),b;case "sketch":return b=new e,b.read(a,h),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.read=k;b.symbol3dEdgesProperty={types:{key:"type",base:q,typeMap:{solid:p,sketch:e}},json:{read:k,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c,g){return function(a){function b(b){b=
a.call(this,b)||this;b.color=new k([0,0,0,1]);b.extensionLength=0;b.size=h.px2pt(1);return b}q(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=p({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};e([c.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);e([c.property(g.colorAndTransparencyProperty)],
b.prototype,"color",void 0);e([c.property(p({},g.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);e([c.property(g.screenSizeProperty)],b.prototype,"size",void 0);return b=e([c.subclass("esri.symbols.edges.Edges3D")],b)}(c.declared(m.JSONSupport))})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(a,b,q){function e(a){return a?72*a/96:0}function p(a,b){void 0===a&&(a=0);void 0===b&&
(b=0);return{x:a,y:b}}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function h(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function c(a){return p(a.x,a.y)}function g(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return p(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});
var f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.pt2px=function(a){return a?a/72*96:0};b.px2pt=e;b.toPt=function(a){if("string"===typeof a){if(f.test(a)){var b=a.match(f),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?e(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=p;b.createScreenPointArray=k;b.createRenderScreenPoint=m;b.createRenderScreenPointArray=d;b.createRenderScreenPointArray3=function(a,b,c){void 0===
a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;f=b.y*a;break;case "3d":h(b,l),a.state.camera.screenToRender(l,w),d=w[0],f=w[1]}return c?(c.x=d,c.y=f,c):m(d,f)};b.renderToScreen=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b.x/a;f=b.y/a;break;case "3d":h(b,w),a.state.camera.renderToScreen(w,l),d=l[0],f=l[1]}return c?(c.x=d,c.y=f,c):p(d,f)};b.screenArrayToRender=function(a,b,c){var f,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;f=b[0]*a;e=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,w),f=w[0],e=w[1]}return c?(c[0]=f,c[1]=e,2<c.length&&(c[2]=0),c):d(f,e)};b.renderArrayToScreen=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;f=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,
l),d=l[0],f=l[1]}return c?(c[0]=d,c[1]=f,c):k(d,f)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=h;b.createScreenPointFromEvent=c;b.createScreenPointFromNativeEvent=g;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?g(a,b):c(b)};b.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;
case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:q.neverReachedSilent(a)}return!1};var w=d(),l=k()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});b.colorAndTransparencyProperty={type:q,json:{type:[p.Integer],default:null,read:{source:["color","transparency"],
reader:function(a,b){a=null!=b.transparency?k.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new q([b[0]||0,b[1]||0,b[2]||0,a]):null}},write:{target:{color:{type:[p.Integer]},transparency:{type:p.Integer}},writer:function(a,b){b.color=a.toJSON().slice(0,3);a=k.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};b.screenSizeProperty={type:Number,cast:e.toPt,json:{write:!0}};b.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?
a.map(e.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(a){a=q.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};b.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.type="sketch";return b}q(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;e([p.property({type:["sketch"]})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.symbols.edges.SketchEdges3D")],b)}(p.declared(k))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.type="solid";return b}q(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;e([p.property({type:["solid"]})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.symbols.support.SolidEdges3D")],b)}(p.declared(k))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,q,e,p,k,m,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({color:k.isSome(this.color)?this.color.clone():null})};var g;e([m.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=g=e([m.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(m.declared(p.JSONSupport));b.Symbol3DMaterial=a;b.default=a})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,q,e,p,k,m,d){var h=new p.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}q(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};e([k.property({type:m,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([k.property({type:h.apiValues,readOnly:!0,json:{type:h.jsonValues}})],b.prototype,"type",void 0);return b=e([k.subclass("esri.symbols.FillSymbol")],
b)}(k.declared(d))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),function(a,b,q,e,p,k,m,d,h){var c=new p.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",
esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,f,e,g){b=a.call(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}q(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,f,e){if(a&&"string"!==typeof a)return a;var g={};null!=a&&(g.style=a);null!=b&&(g.color=b);null!=c&&(g.width=m.toPt(c));
null!=d&&(g.cap=d);null!=f&&(g.join=f);null!=e&&(g.miterLimit=m.toPt(e));return g};b.prototype.clone=function(){return new g({color:k.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit};var g;e([d.enumeration.serializable()({esriSLS:"simple-line"})],b.prototype,"type",void 0);e([d.property({type:c.apiValues,
json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);e([d.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);e([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);e([d.property({type:Number,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);
return b=g=e([d.subclass("esri.symbols.SimpleLineSymbol")],b)}(d.declared(h))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}q(b,a);b.prototype.hash=function(){return this.type+"."+this.width};e([k.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);e([k.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=e([k.subclass("esri.symbols.LineSymbol")],b)}(k.declared(m))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,
b,q,e,p,k,m,d,h,c,g){return function(a){function b(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}q(b,a);f=b;b.prototype.clone=function(){return new f({edges:p.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:p.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=function(a){return new f({material:{color:(a.color||
h.transparentWhite).clone()},outline:a.outline?new g.default({size:a.outline.width||0,color:(a.outline.color||h.white).clone()}):null})};var f;e([k.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);e([k.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);e([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([k.property({type:g.default,json:{write:!0}})],b.prototype,"outline",void 0);e([k.property(d.symbol3dEdgesProperty)],
b.prototype,"edges",void 0);return b=f=e([k.subclass("esri.symbols.FillSymbol3DLayer")],b)}(k.declared(m))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.white=new q("white");b.black=new q("black");b.transparentWhite=new q([255,255,255,0]);b.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(a,b,q,e,p,k,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);c=b;b.prototype.clone=function(){return new c({color:p.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var c;e([k.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=c=e([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(k.declared(m.default));
b.Symbol3DFillMaterial=a;b.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p([0,
0,0,1]);b.size=d.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var g;e([h.property(c.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([h.property(c.screenSizeProperty)],b.prototype,"size",void 0);e([h.property(c.stipplePatternProperty)],
b.prototype,"stipplePattern",void 0);e([h.property({type:p})],b.prototype,"stippleOffColor",void 0);return b=g=e([h.subclass("esri.symbols.support.Symbol3DOutline")],b)}(h.declared(k.JSONSupport));b.Symbol3DOutline=a;b.default=a})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m){return function(a){function b(b){b=
a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}q(b,a);c=b;b.prototype.castSize=function(a){return k.toPt(a)};b.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};b.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};var c;e([m.property({type:["underline","line-through","none"],json:{default:"none",
write:!0}})],b.prototype,"decoration",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);e([m.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],b.prototype,"size",void 0);e([m.cast("size")],b.prototype,"castSize",null);e([m.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);e([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
write:!0}})],b.prototype,"weight",void 0);return b=c=e([m.subclass("esri.symbols.Font")],b)}(m.declared(p.JSONSupport))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n){function v(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=r(a.xoffset);a=r(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function r(a){return isFinite(a)?a:0}var t=p.getLogger("esri.symbols.IconSymbol3DLayer"),u={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:k.isSome(this.material)?this.material.clone():null,outline:k.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||c.white,d=v(a),f=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||c.white).clone()}:null,e=h,g=a.size;a=a.style;var l=u[a];l?a=l:(t.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new e({size:g,resource:{primitive:a},material:{color:b},outline:f,anchor:d?"relative":void 0,anchorPosition:d})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||c.isBlack(a.color)?c.white:a.color,d=v(a);return new h({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:d?"relative":
void 0,anchorPosition:d})};b.fromCIMSymbol=function(a){return new h({resource:{href:m.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var h;e([d.property({type:l.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);e([d.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);e([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([d.enumeration.serializable()({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d.property({json:{default:"center"}})],b.prototype,"anchor",void 0);e([d.property({type:w.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new w.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],
b.prototype,"anchorPosition",void 0);e([d.property({type:n.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=h=e([d.subclass("esri.symbols.IconSymbol3DLayer")],b)}(d.declared(h))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m,d){Object.defineProperty(b,
"__esModule",{value:!0});var h=p.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,b)||this}q(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?m.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=m.toJSON(a,d),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};
var c;e([d.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);e([d.reader("href")],b.prototype,"readHref",null);e([d.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);e([d.enumeration.serializable()(h)],b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(d.declared(k.JSONSupport));b.IconSymbol3DLayerResource=a;b.defaultPrimitive="circle";b.default=a})},
"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({x:this.x,y:this.y})};var h;e([k.property({type:Number})],
b.prototype,"x",void 0);e([k.property({type:Number})],b.prototype,"y",void 0);return b=h=e([k.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(k.declared(p));b.Symbol3DAnchorPosition2D=a;b.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g){var f=p.ofType({base:null,key:"type",typeMap:{text:h}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new f;b.type="label-3d";return b}q(b,a);d=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new d({styleOrigin:k.clone(this.styleOrigin),
symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail),callout:k.clone(this.callout),verticalOffset:k.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new d({symbolLayers:[h.fromTextSymbol(a)]})};var d;e([m.property({type:g.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([m.property(c.calloutProperty)],b.prototype,"callout",void 0);e([m.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);e([m.property({type:f})],b.prototype,
"symbolLayers",void 0);e([m.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=d=e([m.subclass("esri.symbols.LabelSymbol3D")],b)}(m.declared(d))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f){function w(a){return a?
a instanceof B?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function l(a){if(a&&a.length)return a[0]}function n(a,b,c,d){b&&b.forEach(function(b,f,e){a.push(b);n(a,c.call(d,b,f,e),c,d)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var v=function(){},r=new h(a,!0,function(a){a.item=null;
a.target=null}),t=new Set,u=new Set,A=new Set,y=new Map,D=0,B=function(a){function b(b){b=a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:D++});return b}q(b,a);h=b;b.isCollection=function(a){return null!=a&&a instanceof h};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof h?{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||
(this._splice.apply(this,[0,this.length].concat(w(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=v;d.removed=!0;
c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};b.prototype.once=function(a,b){var c=this.on(a,b);return{remove:function(){c.remove()}}};b.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(w(a)));this._emitAfterChanges(1);
return this};b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(d.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(w);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var c=
this._splice(0,this.length),d=c.length,f=0;f<d;f++)a.call(b,c[f],f,c);this._emitAfterChanges(2)}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return k.find(this._items,a,b)};b.prototype.findIndex=function(a,b){return k.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var c=[];n(c,this,a,
b);return new h(c)};b.prototype.forEach=function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};
b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new h({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges(4))return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=
l(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,
b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=l(this._splice(a,1)),this._emitAfterChanges(2),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof h?a.toArray():a;for(var b=this._items,c=[],d=a.length,f=0;f<d;f++){var e=b.indexOf(a[f]);if(-1<e){for(var g=f+1,l=e+1,m=Math.min(a.length-g,b.length-l),n=0;n<m&&
a[g+n]===b[l+n];)n++;g=1+n;(e=this._splice(e,g))&&0<e.length&&c.push.apply(c,e);f+=g-1}}this._emitAfterChanges(2);return c};b.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges(4);return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=l(this._splice(0,1));this._emitAfterChanges(2);return a}};b.prototype.slice=function(a,b){void 0===
a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));this._emitAfterChanges(4);return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];d=(b?2:0)|(c.length?
1:0);if(this._emitBeforeChanges(d))return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges(d);return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;
this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var d=this,f=[],e=2;e<arguments.length;e++)f[e-2]=arguments[e];var e=this._items,g=this.constructor.prototype.itemType,l,h;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),
this._timer=c.schedule(function(){return d._dispatchChange()}));if(b){h=e.splice(a,b);if(this.hasEventListener("before-remove")){var m=r.acquire();m.target=this;m.cancellable=!0;for(var n=0,k=h.length;n<k;n++)l=h[n],m.reset(l),this.emit("before-remove",m),m.defaultPrevented&&(h.splice(n,1),e.splice(a,0,l),a+=1,--n,--k);r.release(m)}this.length=this._items.length;if(this.hasEventListener("after-remove")){l=r.acquire();l.target=this;l.cancellable=!1;k=h.length;for(n=0;n<k;n++)l.reset(h[n]),this.emit("after-remove",
l);r.release(l)}}if(f&&f.length){if(g){n=[];for(k=0;k<f.length;k++)l=f[k],m=g.ensureType(l),null==m&&null!=l||n.push(m);f=n}g=this.hasEventListener("before-add");n=this.hasEventListener("after-add");k=a===this.length;if(g||n){l=r.acquire();l.target=this;l.cancellable=!0;m=r.acquire();m.target=this;m.cancellable=!1;for(var p=0,t=f;p<t.length;p++){var q=t[p];g?(l.reset(q),this.emit("before-add",l),l.defaultPrevented||(k?e.push(q):e.splice(a++,0,q),this._set("length",e.length),n&&(m.reset(q),this.emit("after-add",
m)))):(k?e.push(q):e.splice(a++,0,q),this._set("length",e.length),m.reset(q),this.emit("after-add",m))}r.release(m);r.release(l)}else k?e.push.apply(e,f):e.splice.apply(e,[a,0].concat(f)),this._set("length",e.length)}(f&&f.length||h&&h.length)&&this._notifyChangeEvent(f,h);return h};b.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var c=r.acquire();c.target=this;c.cancellable=!0;c.type=a;this.emit("before-changes",c);b=c.defaultPrevented;r.release(c)}return b};
b.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=r.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);r.release(b)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=
null;for(var b=function(a){var b=a.changes;t.clear();u.clear();A.clear();for(var d=0;d<b.length;d++){var f=b[d],e=f.added,f=f.removed;if(e)if(0===A.size&&0===u.size)for(var g=0,l=e;g<l.length;g++)e=l[g],t.add(e);else for(g=0,l=e;g<l.length;g++)e=l[g],u.has(e)?(A.add(e),u.delete(e)):A.has(e)||t.add(e);if(f)if(0===A.size&&0===t.size)for(g=0;g<f.length;g++)e=f[g],u.add(e);else for(g=0;g<f.length;g++)e=f[g],t.has(e)?t.delete(e):(A.delete(e),u.add(e))}var h=p.acquire();t.forEach(function(a){h.push(a)});
var m=p.acquire();u.forEach(function(a){m.push(a)});var n=c._items,k=a.items,r=p.acquire();A.forEach(function(a){k.indexOf(a)!==n.indexOf(a)&&r.push(a)});if(a.listeners&&(h.length||m.length||r.length))for(b={target:c,added:h,removed:m,moved:r},d=a.listeners.length,e=0;e<d;e++)f=a.listeners[e],f.removed||f.callback.call(c,b);p.release(h);p.release(m);p.release(r)},c=this,d=0;d<a.length;d++)b(a[d]);t.clear();u.clear();A.clear()}};var h;b.ofType=function(a){if(!a)return h;if(y.has(a))return y.get(a);
var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var c in a.typeMap){var d=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+d):d}c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}q(c,a);return c=e([g.subclass("esri.core.Collection\x3c"+b+"\x3e")],c)}(g.declared(h));d={Type:a,ensureType:"function"===typeof a?f.ensureType(a):f.ensureOneOfType(a)};Object.defineProperty(c.prototype,"itemType",{value:d});y.set(a,
c);return c};e([g.property()],b.prototype,"length",void 0);e([g.property()],b.prototype,"items",null);return b=h=e([g.subclass("esri.core.Collection")],b)}(g.declared(m.EventedAccessor));return B})},"esri/core/Evented":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m){var d=function(){function a(b){this._emitter=new a.EventEmitter(this);this._emitter=new a.EventEmitter(b&&
void 0!==b.target?b.target:this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var b=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var c=this;a=this._listenersMap&&
this._listenersMap.get(a);if(!a)return!1;b=b||{};if(!b.target&&this.target||b.target&&!this.target)b.target=this.target;a.slice().forEach(function(a){a.call(c.target,b)});return 0<a.length};a.prototype.on=function(a,b){var c=this;if(Array.isArray(a)){var d=a.map(function(a){return c.on(a,b)});return k.handlesGroup(d)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);d=this._listenersMap.get(a)||
[];d.push(b);this._listenersMap.set(a,d);return{remove:function(){var d=c._listenersMap&&c._listenersMap.get(a)||[];0<=d.indexOf(b)&&d.splice(d.indexOf(b),1)}}};a.prototype.once=function(a,b){var c=this,d;return d=this.on(a,function(a){d.remove();b.call(c.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=b;a.EventedMixin=function(a){return function(a){function c(){var c=null!==a&&a.apply(this,
arguments)||this;c._emitter=new b(c);return c}q(c,a);c.prototype.emit=function(a,b){return this._emitter.emit(a,b)};c.prototype.on=function(a,b){return this._emitter.on(a,b)};c.prototype.once=function(a,b){return this._emitter.once(a,b)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=e([m.subclass("esri.core.Evented")],c)}(m.declared(a))};var g=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new d.EventEmitter(b);return b}
q(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=e([m.subclass("esri.core.Evented")],b)}(m.declared(p));a.EventedAccessor=g})(d||(d={}));return d})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x){var z={icon:n,object:r,line:v,path:t,fill:l,extrude:w,text:y,water:D},F=p.ofType({base:A,key:"type",typeMap:z}),C=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=d.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||p));return b}q(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){k.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=
function(a,b,d){b=[];for(var e=0;e<a.length;e++){var f=a[e],g=A.typeJSONDictionary.read(f.type),l=g&&z[g];l?(f=new l,f.read(a[e],d),b.push(f)):(E.warn("Unknown symbol layer type: "+g),d&&d.messages&&d.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(g||f.type||"unknown")+"' are not supported",{definition:f,context:d})))}return b};b.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=h.fromJSON(a.styleUrl,d),new B({styleUrl:b,name:a.name});if(a.styleName&&
a.name)return new B({portal:d&&d.portal||f.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,d,e){a.styleUrl&&a.name?(d=h.toJSON(a.styleUrl,e),h.isAbsolute(d)&&(d=h.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!h.hasSamePortal(a.portal.restUrl,
e.portal.restUrl)?e&&e.messages&&e.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof A||a&&z[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};e([g.property({json:{read:!1,write:!1}})],b.prototype,"color",null);e([g.property({type:F,nonNullable:!0,
json:{write:!0}}),g.cast(k.castForReferenceSetter)],b.prototype,"symbolLayers",null);e([g.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);e([g.property({type:B})],b.prototype,"styleOrigin",void 0);e([g.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);e([g.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);e([g.property({type:x.default,json:{read:!1}})],b.prototype,
"thumbnail",void 0);e([g.property({type:C.apiValues,readOnly:!0,json:{type:C.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=e([g.subclass("esri.symbols.Symbol3D")],b)}(g.declared(u))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(a,b,k){void 0===k&&(k=q);b||(b=new k);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?
b.addMany(a):a&&b.add(a);return b};b.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,b,q,e,p,k,m,d,h,c,g,f){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;
b.type="line";b.join="miter";b.cap="butt";b.size=m.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({enabled:this.enabled,material:k.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};b.fromSimpleLineSymbol=function(a){return new h({size:a.width||1,cap:a.cap||
"butt",join:a.join||"miter",material:{color:(a.color||c.white).clone()}})};var h;e([d.property({type:f.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);e([d.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);e([d.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([d.property(g.screenSizeProperty)],b.prototype,"size",
void 0);e([d.property(g.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);e([d.property({type:p})],b.prototype,"stippleOffColor",void 0);return b=h=e([d.subclass("esri.symbols.LineSymbol3DLayer")],b)}(d.declared(h))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,q,e,p,k,m,d,h,c){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
height:this.height,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var g;e([k.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);e([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,
"castShadows",void 0);e([k.property({type:d.default,json:{write:!0}})],b.prototype,"resource",void 0);e([k.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);e([k.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
k.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);e([k.property({type:h.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new h.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);e([k.property({type:Number,json:{write:!0}})],
b.prototype,"tilt",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);e([k.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=g=e([k.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(k.declared(m))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m,d){Object.defineProperty(b,"__esModule",{value:!0});var h=p.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([d.property({type:String,json:{read:m.read,write:m.write}})],b.prototype,"href",void 0);e([d.enumeration.serializable()(h)],
b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(d.declared(k.JSONSupport));b.ObjectSymbol3DLayerResource=a;b.defaultPrimitive="sphere";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",
{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({x:this.x,y:this.y,z:this.z})};var h;e([k.property({type:Number})],b.prototype,"x",void 0);e([k.property({type:Number})],b.prototype,"y",void 0);e([k.property({type:Number})],b.prototype,"z",void 0);return b=h=e([k.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(k.declared(p));b.Symbol3DAnchorPosition3D=a;b.default=a})},
"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}
q(b,a);g=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new g({enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var g;e([k.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);e([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([k.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);e([k.property({type:Number})],b.prototype,"size",null);e([k.reader("size")],
b.prototype,"readSize",null);e([k.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);e([k.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);e([k.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([k.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);e([k.property({type:Number,
json:{write:!0}})],b.prototype,"height",void 0);e([k.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);e([k.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=g=e([k.subclass("esri.symbols.PathSymbol3DLayer")],b)}(k.declared(m))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}q(b,a);c=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=p({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({enabled:this.enabled,font:this.font&&k.clone(this.font),halo:this.halo&&k.clone(this.halo),material:m.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
b=a.haloColor;var d=a.haloSize;b=b&&0<d?{color:k.clone(b),size:d}:null;d=a.font?a.font.clone():new h;return new c({size:d.size,font:d,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var c;e([d.property({type:h,json:{write:!0}})],b.prototype,"font",null);e([d.writer("font")],b.prototype,"writeFont",null);e([d.property({type:f.default,json:{write:!0}})],b.prototype,"halo",void 0);e([d.property({type:w.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.property(g.screenSizeProperty),
d.property({dependsOn:["font.size"]})],b.prototype,"size",null);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.TextSymbol3DLayer")],b)}(d.declared(c))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,q,e,p,k,m,d,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p([0,0,0,1]);b.size=0;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color),size:this.size})};var c;e([d.property(h.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([d.property(h.screenSizeProperty)],b.prototype,"size",void 0);return b=c=e([d.subclass("esri.symbols.support.Symbol3DHalo")],b)}(d.declared(k.JSONSupport));
b.Symbol3DHalo=a;b.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,b,q,e,p,k,m,d,h){return function(a){function b(b){b=a.call(this,b)||this;b.color=new p("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}q(b,
a);c=b;b.prototype.clone=function(){return new c({color:k.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;e([m.property({type:p,json:{type:[d.Integer],write:!0,default:null}})],b.prototype,"color",void 0);e([m.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);e([m.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);e([m.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);e([m.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=e([m.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(m.declared(h))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;e([k.property({type:String})],b.prototype,"name",void 0);e([k.property({type:String})],b.prototype,"styleUrl",void 0);e([k.property({type:String})],b.prototype,"styleName",void 0);e([k.property({type:m})],b.prototype,"portal",void 0);
return b=c=e([k.subclass("esri.symbols.support.StyleOrigin")],b)}(k.declared(p))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);h=b;b.prototype.clone=function(){return new h({url:this.url})};
var h;e([k.property({type:String})],b.prototype,"url",void 0);return b=h=e([k.subclass("esri.symbols.support.Thumbnail")],b)}(k.declared(p));b.Thumbnail=a;b.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,b,q,e){function p(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function k(a,b,h){if(!a)return a;switch(a.type){case "line":return b=new e,b.read(a,h),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.hasVisibleVerticalOffset=p;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?p(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.read=k;b.calloutProperty={types:{key:"type",base:q,typeMap:{line:e}},json:{read:k,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.visible=!0;return b}e(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=q({},a),delete a.type);return a};b.prototype.clone=function(){};p([m.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);p([m.property({readOnly:!0})],b.prototype,"visible",void 0);return b=p([m.subclass("esri.symbols.callouts.Callout3D")],b)}(m.declared(k.JSONSupport))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new p([0,0,0,1]);b.size=d.px2pt(1);b.border=null;return b}q(b,a);c=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&m.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({color:k.clone(this.color),size:this.size,border:k.clone(this.border)})};var c;e([h.property({type:["line"]})],b.prototype,"type",
void 0);e([h.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([h.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([h.property({type:g.default,json:{write:!0}})],b.prototype,"border",void 0);e([h.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=c=e([h.subclass("esri.symbols.callouts.LineCallout3D")],b)}(h.declared(c))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,b,q,e,p,k,m,d,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p("white");return b}q(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color)})};var c;e([d.property(h.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([d.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(d.declared(k.JSONSupport));b.LineCallout3DBorder=a;b.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,q,e,p,k,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;e([k.property(m.screenSizeProperty)],b.prototype,"screenLength",void 0);e([k.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=c=e([k.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(k.declared(p.JSONSupport));b.Symbol3DVerticalOffset=a;b.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,q,e,p,k,m,d,h,c){var g=p.ofType({base:null,key:"type",typeMap:{line:d,path:h}}),f=p.ofType({base:null,key:"type",typeMap:{line:d,path:h}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new g;b.type="line-3d";return b}q(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new c({symbolLayers:[d.fromSimpleLineSymbol(a)]})};
var c;e([m.property({type:g,json:{type:f}})],b.prototype,"symbolLayers",void 0);e([m.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=c=e([m.subclass("esri.symbols.LineSymbol3D")],b)}(m.declared(c))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,q,e,p,k,m,d){var h=
new p.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}q(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};e([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([m.property({type:h.apiValues,readOnly:!0,json:{type:h.jsonValues}})],
b.prototype,"type",void 0);e([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([m.property({type:Number,cast:function(a){return"auto"===a?a:k.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=e([m.subclass("esri.symbols.MarkerSymbol")],b)}(m.declared(d))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,q,e,p,k,m,d,h){var c=p.ofType({base:null,key:"type",typeMap:{fill:d}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}q(b,a);d=b;b.prototype.clone=function(){return new d({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};var d;e([m.property({type:c})],b.prototype,"symbolLayers",void 0);e([m.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=d=e([m.subclass("esri.symbols.MeshSymbol3D")],b)}(m.declared(h))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}q(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=m.toPt(c));null!=d&&(e.height=m.toPt(d));return e};b.prototype.clone=function(){var a=new g({color:k.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",k.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var g;e([d.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);e([d.property(c.urlPropertyDefinition)],b.prototype,"url",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);e([d.property({type:Number,
json:{write:!0}})],b.prototype,"yscale",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"height",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([d.property(c.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=g=e([d.subclass("esri.symbols.PictureFillSymbol")],
b)}(d.declared(h))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(a,b,q){function e(a,b,e){return b.imageData?q.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):p(b.url,e)}function p(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||q.isAbsolute(a)||!b.layer.parsedUrl?q.fromJSON(a,b):q.join(b.layer.parsedUrl.path,"images",a)}function k(a,
b,e,c){q.isDataProtocol(a)?(a=q.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,e&&e.imageData===b.imageData&&e.url&&q.write(e.url,b,"url",c)):q.write(a,b,"url",c)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=e;b.read=p;b.writeImageDataAndUrl=k;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:e},write:{writer:function(a,b,e,c){k(a,b,this.source,c)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,
b,e){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=p(b.url,e));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,b,q,e,p,k,m,d,h){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";
b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}q(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=k.toPt(b));null!=c&&(d.height=k.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",p.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.height+"."+this.url+"."+this.width};var c;e([m.property({json:{write:!1}})],b.prototype,"color",void 0);e([m.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);e([m.property(h.urlPropertyDefinition)],b.prototype,"url",void 0);e([m.property(h.sourcePropertyDefinition)],b.prototype,"source",void 0);e([m.property({type:Number,cast:k.toPt,
json:{write:!0}})],b.prototype,"height",void 0);e([m.reader("height",["height","size"])],b.prototype,"readHeight",null);e([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([m.property({json:{write:!1}})],b.prototype,"size",void 0);return b=c=e([m.subclass("esri.symbols.PictureMarkerSymbol")],b)}(m.declared(d))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){var n=p.ofType({base:null,key:"type",typeMap:{icon:h,object:c,text:f}}),v=p.ofType({base:null,key:"type",typeMap:{icon:h,object:c}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new n;b.type="point-3d";return b}q(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),
d.messages.push(new k("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return w.hasVisibleCallout(this)};
b.prototype.hasVisibleVerticalOffset=function(){return w.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[h.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[h.fromPictureMarkerSymbol(a)]})};
b.fromCIMSymbol=function(a){return new c({symbolLayers:[h.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[f.fromTextSymbol(a)]})};var c;e([d.property({type:l.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([d.property(w.calloutProperty)],b.prototype,"callout",void 0);e([d.property({type:n,json:{type:v,origins:{"web-scene":{type:v}}}})],b.prototype,"symbolLayers",void 0);e([d.writer("web-scene",
"symbolLayers")],b.prototype,"writeSymbolLayers",null);e([d.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.PointSymbol3D")],b)}(d.declared(g))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r){var t=p.ofType({base:null,key:"type",typeMap:{extrude:c,fill:g,icon:f,line:w,object:l,text:v,water:r}}),u=p.ofType({base:null,key:"type",typeMap:{extrude:c,fill:g,icon:f,line:w,object:l,water:r}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}q(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),d.messages.push(new k("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var e=
b.symbolLayers.getItemAt(0),f=b.symbolLayers.getItemAt(1);!f.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(e.outline={size:f.size,color:d.isSome(f.material)?f.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new c({symbolLayers:[g.fromSimpleFillSymbol(a)]})};var c;e([h.property({type:t,json:{type:u}})],b.prototype,"symbolLayers",void 0);e([h.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([h.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],
b.prototype,"type",void 0);return b=c=e([h.subclass("esri.symbols.PolygonSymbol3D")],b)}(h.declared(n))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,q,e,p,k,m,d,h,c,g){var f=new m.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",
esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=new k([0,0,0,.25]);b.outline=new g;b.type="simple-fill";b.style="solid";return b}q(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({color:d.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})};b.prototype.hash=function(){return""+this.inherited(arguments)+this.style+"."+(this.color&&this.color.hash())};var c;e([h.property()],b.prototype,"color",void 0);e([h.property()],b.prototype,"outline",void 0);e([h.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);e([h.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);return b=c=e([h.subclass("esri.symbols.SimpleFillSymbol")],
b)}(h.declared(c))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,q,e,p,k,m,d,h,c,g){var f=new k.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});
return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.color=new p([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new g;return b}q(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&(f.size=d.toPt(b));c&&(f.outline=c);e&&(f.color=e);return f};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,
"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style};var c;e([h.property()],b.prototype,"color",void 0);e([h.writer("color")],
b.prototype,"writeColor",null);e([h.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);e([h.property()],b.prototype,"size",void 0);e([h.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"path",null);e([h.property({type:g,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=c=e([h.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(h.declared(c))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(a,b,q,e,p,k,m,d,h,c){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new h;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;b.lineWidth=192;b.lineHeight=1;return b}q(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;
var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.writeLineWidth=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};b.prototype.castLineWidth=function(a){return m.toPt(a)};b.prototype.writeLineHeight=function(a,b,c,d){d&&"string"!==typeof d||(b[c]=a)};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:k.clone(this.backgroundColor),borderLineColor:k.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:k.clone(this.color),font:this.font&&
this.font.clone(),haloColor:k.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+"."+this.borderLineSize+"."+this.color.hash()+
"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var c;e([d.property({type:p,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([d.property({type:p,json:{write:!0}})],b.prototype,"borderLineColor",void 0);e([d.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);e([d.property({type:h,json:{write:!0}})],b.prototype,"font",void 0);e([d.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);e([d.property({type:p,json:{write:!0}})],b.prototype,"haloColor",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);e([d.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.property({type:String,readOnly:!0})],b.prototype,"type",void 0);e([d.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);e([d.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([d.property({type:Number,
cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([d.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([d.property({type:Number})],b.prototype,"lineWidth",void 0);e([d.writer("lineWidth")],b.prototype,"writeLineWidth",null);e([d.cast("lineWidth")],b.prototype,"castLineWidth",null);e([d.property({type:Number})],b.prototype,"lineHeight",
void 0);e([d.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=c=e([d.subclass("esri.symbols.TextSymbol")],b)}(d.declared(c))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){function n(){return k(this,void 0,void 0,function(){return p(this,function(b){return[2,h.create(function(b){return a(["./support/styleUtils"],b)})]})})}var v=d.getLogger("esri.symbols.WebStyleSymbol"),r=m.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}q(b,a);d=b;b.prototype.read=function(a,b){this.portal=
b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new d({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};b.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};b.prototype._fetchSymbol=function(a,b){return k(this,void 0,void 0,function(){var c,d;return p(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return c=e.sent(),
h.throwIfAborted(b),d=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),d.catch(function(a){v.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,d]}})})};var d;e([g.property({json:{write:!1}})],b.prototype,"color",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);e([g.property({type:f,json:{write:!1}})],b.prototype,"portal",void 0);e([g.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"styleUrl",void 0);e([g.property({type:l.default,
json:{read:!1}})],b.prototype,"thumbnail",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([g.property({type:r.apiValues,readOnly:!0,json:{type:r.jsonValues,read:!1,write:r.write}})],b.prototype,"type",void 0);return b=d=e([g.subclass("esri.symbols.WebStyleSymbol")],b)}(g.declared(w))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A){function y(a,b,c){b=a?B[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new e("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function D(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof v||a instanceof t)){var d="cim"!==a.type?A.to3D(a):{symbol:null,error:new q("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",
{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new q("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var B={esriSMS:n,esriPMS:c,esriTS:r,esriSLS:l,esriSFS:w,esriPFS:h,PointSymbol3D:g,LineSymbol3D:m,PolygonSymbol3D:f,MeshSymbol3D:d,LabelSymbol3D:k,
styleSymbolReference:t,CIMSymbolReference:p};b.read=y;b.writeTarget=function(a,b,c,d){(a=D(a,{},d))&&(b[c]=a)};b.write=D;b.fromJSON=function(a,b){return y(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new u}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,b,q,e){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=function(a,b,m,
d){void 0===b&&(b=!1);void 0===m&&(m=!1);void 0===d&&(d=!0);if(!a)return{symbol:null};if(q.isSymbol3D(a)||a instanceof q.WebStyleSymbol)d=a.clone();else if("cim"===a.type)d=q.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof q.SimpleLineSymbol)d=q.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof q.SimpleMarkerSymbol)d=q.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof q.PictureMarkerSymbol)d=q.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof q.SimpleFillSymbol)d=
q.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof q.TextSymbol)d=d?q.LabelSymbol3D.fromTextSymbol(a):q.PointSymbol3D.fromTextSymbol(a);else return{error:new e("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(d.id=a.id);if(m&&q.isSymbol3D(d))for(a=0;a<d.symbolLayers.length;++a)d.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:d}}})},"esri/renderers/Renderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/JSONSupport ../core/SetUtils ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g){var f=new m.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(a){function b(b){b=a.call(this,b)||this;b.authoringInfo=null;b.type=null;return b}q(b,a);b.prototype.getRequiredFields=function(a){return k(this,void 0,void 0,function(){var b;return p(this,function(c){switch(c.label){case 0:if(!this.collectRequiredFields)return[2,[]];b=new Set;
return[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,h.valuesOfSet(b).sort()]}})})};b.prototype.getSymbol=function(a,b){};b.prototype.getSymbolAsync=function(a,b){return k(this,void 0,void 0,function(){return p(this,function(a){return[2]})})};b.prototype.getSymbols=function(){return[]};b.prototype.getAttributeHash=function(){return JSON.stringify(this)};b.prototype.getMeshHash=function(){return JSON.stringify(this)};e([c.property({type:g,json:{write:!0}})],b.prototype,"authoringInfo",
void 0);e([c.property({type:f.apiValues,readOnly:!0,json:{type:f.jsonValues,read:!1,write:{writer:f.write,ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=e([c.subclass("esri.renderers.Renderer")],b)}(c.declared(d.JSONSupport))})},"esri/renderers/support/AuthoringInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f){var w=new p.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),l=new p.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),
n="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(a){function b(b){b=a.call(this,b)||this;b.colorRamp=null;b.lengthUnit=null;b.maxSliderValue=null;b.minSliderValue=null;b.visualVariables=null;return b}q(b,a);k=b;Object.defineProperty(b.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===
b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!0,configurable:!0});b.prototype.readColorRamp=function(a){if(a)return f.fromJSON(a)};Object.defineProperty(b.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},
set:function(a){this._set("field1",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"standardDeviationInterval",{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",
a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");this._set("type",b)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new k({classificationMethod:this.classificationMethod,colorRamp:m.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:m.clone(this.field1),field2:m.clone(this.field2),
focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(a){return a.clone()})})};var k;e([d.property({type:w.apiValues,value:null,dependsOn:["type"],json:{type:w.jsonValues,read:w.read,write:w.write,origins:{"web-document":{default:"manual",type:w.jsonValues,read:w.read,write:w.write}}}})],
b.prototype,"classificationMethod",null);e([d.property({types:f.types,json:{write:!0}})],b.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],b.prototype,"readColorRamp",null);e([d.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"fields",null);e([d.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"field1",null);e([d.property({type:c.default,value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"field2",null);e([d.property({type:["HH",
"HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],b.prototype,"focus",null);e([d.property({type:Number,value:null,dependsOn:["type"],json:{type:h.Integer,write:!0}})],b.prototype,"numClasses",null);e([d.property({type:n,json:{type:n,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],b.prototype,"lengthUnit",void 0);e([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"maxSliderValue",void 0);e([d.property({type:Number,json:{write:!0,
origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"minSliderValue",void 0);e([d.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],b.prototype,"standardDeviationInterval",null);e([d.property({type:String,value:null,json:{type:l.jsonValues,read:l.read,write:l.write,origins:{"web-scene":{type:l.jsonValues.filter(function(a){return"dotDensity"!==a}),read:l.read,write:l.write}}}})],b.prototype,"type",null);e([d.property({type:[g],
json:{write:!0}})],b.prototype,"visualVariables",void 0);return b=k=e([d.subclass("esri.renderers.support.AuthoringInfo")],b)}(d.declared(k.JSONSupport))})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,q,e,p,k,m,d){Object.defineProperty(b,"__esModule",{value:!0});
a=function(a){function b(b){b=a.call(this,b)||this;b.field="";b.normalizationField="";b.classBreakInfos=[];return b}q(b,a);g=b;b.prototype.clone=function(){return new g({field:this.field,normalizationField:this.normalizationField,classBreakInfos:k.clone(this.classBreakInfos)})};var g;e([m.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([m.property({type:[d.default],json:{write:!0}})],b.prototype,
"classBreakInfos",void 0);return b=g=e([m.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],b)}(m.declared(p.JSONSupport));b.AuthoringInfoFieldInfo=a;b.default=a})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=
a.call(this,b)||this;b.minValue=0;b.maxValue=0;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({minValue:this.minValue,maxValue:this.maxValue})};var h;e([k.property({type:Number,json:{write:!0}})],b.prototype,"minValue",void 0);e([k.property({type:Number,json:{write:!0}})],b.prototype,"maxValue",void 0);return b=h=e([k.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],b)}(k.declared(p.JSONSupport));b.AuthoringInfoClassBreakInfo=a;b.default=a})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),
function(a,b,q,e,p,k,m,d){var h=new p.default({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),c=new p.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),g={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},f=["high-to-low","above-and-below","centered-on","extremes"],w="seconds minutes hours days months years".split(" ");return function(a){function b(b){b=a.call(this,b)||this;
b.endTime=null;b.field=null;b.maxSliderValue=null;b.minSliderValue=null;b.startTime=null;b.type=null;b.units=null;return b}q(b,a);l=b;b.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};b.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(b.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new l({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var l;e([m.property({types:g,json:{write:!0}})],b.prototype,"endTime",void 0);e([d.cast("endTime")],
b.prototype,"castEndTime",null);e([m.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"maxSliderValue",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"minSliderValue",void 0);e([m.property({types:g,json:{write:!0}})],b.prototype,"startTime",void 0);e([d.cast("startTime")],b.prototype,"castStartTime",null);e([m.property({type:h.apiValues,value:null,dependsOn:["type"],json:{type:h.jsonValues,read:h.read,
write:h.write}})],b.prototype,"style",null);e([m.property({type:f,value:null,dependsOn:["type"],json:{type:f,write:!0}})],b.prototype,"theme",null);e([m.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],b.prototype,"type",void 0);e([m.property({type:w,json:{type:w,write:!0}})],b.prototype,"units",void 0);return b=l=e([m.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],b)}(m.declared(k.JSONSupport))})},"esri/tasks/support/colorRamps":function(){define(["require",
"exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,q,e,p){Object.defineProperty(b,"__esModule",{value:!0});b.types={key:"type",base:e,typeMap:{algorithmic:q,multipart:p}};b.fromJSON=function(a){return a&&a.type?"algorithmic"===a.type?q.fromJSON(a):"multipart"===a.type?p.fromJSON(a):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
function(a,b,q,e,p,k,m,d,h){return function(a){function b(b){b=a.call(this,b)||this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}e(b,a);c=b;b.prototype.clone=function(){return new c({fromColor:k.clone(this.fromColor),toColor:k.clone(this.toColor),algorithm:this.algorithm})};var c;q([m.enumeration.serializable()({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);q([m.property({type:p,json:{type:[d.Integer],
write:!0}})],b.prototype,"fromColor",void 0);q([m.property({type:p,json:{type:[d.Integer],write:!0}})],b.prototype,"toColor",void 0);q([m.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=c=q([m.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)}(m.declared(h))})},"esri/tasks/support/ColorRamp":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;return b}q(b,a);e([k.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([k.subclass("esri.tasks.support.ColorRamp")],b)}(k.declared(p.JSONSupport))})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.colorRamps=null;b.type="multipart";return b}e(b,a);d=b;b.prototype.clone=function(){return new d({colorRamps:p.clone(this.colorRamps)})};var d;q([k.property({type:[m],json:{write:!0}})],b.prototype,"colorRamps",void 0);q([k.property({type:["multipart"]})],b.prototype,"type",void 0);return b=d=q([k.subclass("esri.tasks.support.MultipartColorRamp")],b)}(k.declared(d))})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){Object.defineProperty(b,"__esModule",{value:!0});var n={base:w,key:"type",typeMap:{opacity:c,color:h,rotation:g,size:f}};b.VisualVariablesMixin=function(a){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new l;return b}q(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},enumerable:!0,configurable:!0});
b.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,b,c)};b.prototype.writeVisualVariables=function(a,b,c,d){b[c]=this._vvFactory.writeVariables(a,d)};Object.defineProperty(b.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!0,configurable:!0});b.prototype.hasVisualVariables=function(a,b){return a?!!this.getVisualVariablesForType(a,
b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};b.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};b.prototype.collectVVRequiredFields=function(a,b){return k(this,void 0,void 0,function(){var c,e,f,g;return p(this,
function(h){switch(h.label){case 0:c=[],this.visualVariables&&(c=c.concat(this.visualVariables)),e=0,f=c,h.label=1;case 1:if(!(e<f.length))return[3,4];g=f[e];if(!g)return[3,3];g.field&&d.collectField(a,b,g.field);g.normalizationField&&d.collectField(a,b,g.normalizationField);return g.valueExpression?[4,d.collectArcadeFieldNames(a,b,g.valueExpression)]:[3,3];case 2:h.sent(),h.label=3;case 3:return e++,[3,1];case 4:return[2]}})})};e([m.property({types:[n],value:null,json:{write:!0}})],b.prototype,"visualVariables",
null);e([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],b.prototype,"readVisualVariables",null);e([m.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=e([m.subclass("esri.renderers.mixins.VisualVariablesMixin")],b)}(m.declared(a))}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="color";b.normalizationField=null;return b}q(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var c;e([p.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);e([p.property({type:["color"],json:{type:["colorInfo"]}})],b.prototype,"type",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([p.property({type:[m],json:{write:!0}})],b.prototype,"stops",null);return b=c=e([p.subclass("esri.renderers.visualVariables.ColorVariable")],b)}(p.declared(k))})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,q,e,p,k,m,d,h,c){var g=m.getLogger("esri.renderers.visualVariables.VisualVariable"),f=new p.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(a){function b(b){b=a.call(this,b)||this;b.index=null;b.type=null;b.field=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;return b}q(b,a);b.prototype.castField=function(a){return null==a?a:"function"===typeof a?(g.error(".field: field must be a string value"),
null):h.ensureString(a)};Object.defineProperty(b.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!0,configurable:!0});b.prototype.clone=function(){};b.prototype.getAttributeHash=function(){return this.type+"-"+this.field+"-"+this.valueExpression};e([d.property()],b.prototype,"index",void 0);e([d.property({type:f.apiValues,readOnly:!0,json:{read:f.read,write:f.write}})],b.prototype,"type",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"field",
void 0);e([d.cast("field")],b.prototype,"castField",null);e([d.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([d.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"arcadeRequired",null);e([d.property({type:c,json:{write:!0}})],b.prototype,"legendOptions",void 0);return b=e([d.subclass("esri.renderers.visualVariables.VisualVariable")],b)}(d.declared(k.JSONSupport))})},
"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../support/LegendOptions".split(" "),function(a,b,q,e,p,k){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.showLegend=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({title:this.title,showLegend:this.showLegend})};var h;
e([p.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);return b=h=e([p.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)}(p.declared(k.default))})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){Object.defineProperty(b,"__esModule",{value:!0});
a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.title=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({title:this.title})};var h;e([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=h=e([k.subclass("esri.renderers.support.LegendOptions")],b)}(k.declared(p.JSONSupport));b.LegendOptions=a;b.default=a})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}q(b,a);g=b;b.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};b.prototype.clone=function(){return new g({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var g;e([m.property({type:p,json:{type:[d.Integer],write:!0}})],b.prototype,"color",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([m.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);e([m.writer("value")],b.prototype,"writeValue",null);return b=g=e([m.subclass("esri.renderers.visualVariables.support.ColorStop")],b)}(m.declared(k.JSONSupport))})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,q,e,p,k,m){return function(a){function b(b){b=
a.call(this,b)||this;b.type="opacity";b.normalizationField=null;return b}q(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",a)},enumerable:!0,configurable:!0});b.prototype.clone=
function(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||
0})};var c;e([p.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);e([p.property({type:["opacity"],json:{type:["transparencyInfo"]}})],b.prototype,"type",void 0);e([p.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([p.property({type:[m],json:{write:!0}})],b.prototype,"stops",null);return b=c=e([p.subclass("esri.renderers.visualVariables.OpacityVariable")],b)}(p.declared(k))})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.label=null;b.opacity=null;b.value=null;return b}q(b,a);g=b;b.prototype.readOpacity=function(a,b){return d.transparencyToOpacity(b.transparency)};b.prototype.writeOpacity=function(a,b,c){b[c]=d.opacityToTransparency(a)};b.prototype.clone=function(){return new g({label:this.label,opacity:this.opacity,value:this.value})};var g;e([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([k.property({type:Number,
json:{type:m.Integer,write:{target:"transparency"}}})],b.prototype,"opacity",void 0);e([k.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);e([k.writer("opacity")],b.prototype,"writeOpacity",null);e([k.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=g=e([k.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)}(k.declared(p.JSONSupport))})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.axis=null;b.type="rotation";b.rotationType="geographic";b.valueExpressionTitle=null;return b}q(b,a);c=b;Object.defineProperty(b.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.writeValueExpressionTitleWebScene=function(a,b,c,d){d&&d.messages&&d.messages.push(new p("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:d}))};b.prototype.clone=function(){return new c({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var c;e([k.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"cache",null);e([k.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",
write:!0}}}})],b.prototype,"axis",void 0);e([k.property({type:["rotation"],json:{type:["rotationInfo"]}})],b.prototype,"type",void 0);e([k.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],b.prototype,"rotationType",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);e([k.writer("web-scene","valueExpressionTitle")],b.prototype,"writeValueExpressionTitleWebScene",null);return b=c=e([k.subclass("esri.renderers.visualVariables.RotationVariable")],
b)}(k.declared(m))})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),function(a,b,q,e,p,k,m,d,h,c,
g,f,w,l,n){function v(a){if(null!=a){if("string"===typeof a||"number"===typeof a)return h.toPt(a);if("size"===a.type){if(l.isSizeVariable(a))return a;a=p({},a);delete a.type;return new y(a)}}}function r(a,b,c){if("object"!==typeof a)return a;b=new y;b.read(a,c);return b}var t=d.getLogger("esri.renderers.visualVariables.SizeVariable"),u=new m.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),A=new m.default({unknown:"unknown",inch:"inches",foot:"feet",
yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),y=function(a){function b(b){b=a.call(this,b)||this;b.axis=null;b.legendOptions=null;b.normalizationField=null;b.scaleBy=null;b.target=null;b.type="size";b.useSymbolValue=null;b.valueExpression=null;b.valueRepresentation=null;b.valueUnit=null;return b}q(b,a);d=b;Object.defineProperty(b.prototype,
"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:n.viewScaleRE.test(this.valueExpression)}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"expression",{set:function(a){t.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",a)):this._set("expression",
null)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"index",{set:function(a){l.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");l.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"inputValueType",{get:function(){return l.getInputValueType(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxDataValue",
{set:function(a){a&&this.stops&&(t.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxSize",{set:function(a){a&&this.stops&&(t.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!0,configurable:!0});b.prototype.castMaxSize=function(a){return v(a)};b.prototype.readMaxSize=function(a,b,c){return r(a,b,c)};Object.defineProperty(b.prototype,"minDataValue",
{set:function(a){a&&this.stops&&(t.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"minSize",{set:function(a){a&&this.stops&&(t.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!0,configurable:!0});b.prototype.castMinSize=function(a){return v(a)};b.prototype.readMinSize=function(a,b,c){return r(a,b,c)};Object.defineProperty(b.prototype,"arcadeRequired",
{get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&(t.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),
a=null);this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"transformationType",{get:function(){return l.getTransformationType(this,this.inputValueType)},enumerable:!0,configurable:!0});b.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};b.prototype.writeValueExpressionWebScene=function(a,b,c,d){"$view.scale"===a?d&&d.messages&&(a=this.index,d.messages.push(new k("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:d}))):b[c]=a};b.prototype.readValueUnit=function(a){return a?A.read(a):null};b.prototype.clone=function(){return new d({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:l.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:l.isSizeVariable(this.minSize)?
this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};b.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=
this.stops,b=a.map(function(a){return a.size}).reverse(),c=a.length,d=0;d<c;d++)a[d].size=b[d];return this};b.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.target+"-"+this.normalizationField};b.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var d;e([c.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],b.prototype,"cache",null);e([c.property({type:u.apiValues,json:{type:u.jsonValues,origins:{"web-map":{read:!1}},
read:u.read,write:u.write}})],b.prototype,"axis",void 0);e([c.property({type:String,value:null,json:{read:!1}})],b.prototype,"expression",null);e([c.property()],b.prototype,"index",null);e([c.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],b.prototype,"inputValueType",null);e([c.property({type:w,json:{write:!0}})],b.prototype,"legendOptions",void 0);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"maxDataValue",null);e([c.property({type:Number,value:null,
json:{write:!0}})],b.prototype,"maxSize",null);e([c.cast("maxSize")],b.prototype,"castMaxSize",null);e([c.reader("maxSize")],b.prototype,"readMaxSize",null);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"minDataValue",null);e([c.property({type:Number,value:null,json:{write:!0}})],b.prototype,"minSize",null);e([c.cast("minSize")],b.prototype,"castMinSize",null);e([c.reader("minSize")],b.prototype,"readMinSize",null);e([c.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",
void 0);e([c.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],b.prototype,"arcadeRequired",null);e([c.property({type:String})],b.prototype,"scaleBy",void 0);e([c.property({type:[f],value:null,json:{write:!0}})],b.prototype,"stops",null);e([c.property({type:["outline"],json:{write:!0}})],b.prototype,"target",void 0);e([c.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],
b.prototype,"transformationType",null);e([c.property({type:["size"],json:{type:["sizeInfo"]}})],b.prototype,"type",void 0);e([c.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],b.prototype,"useSymbolValue",void 0);e([c.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([c.reader("valueExpression",["valueExpression","expression"])],b.prototype,"readValueExpression",null);e([c.writer("web-scene","valueExpression")],b.prototype,"writeValueExpressionWebScene",
null);e([c.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],b.prototype,"valueRepresentation",void 0);e([c.property({type:A.apiValues,json:{write:A.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],b.prototype,"valueUnit",void 0);e([c.reader("valueUnit")],b.prototype,"readValueUnit",null);return b=d=e([c.subclass("esri.renderers.visualVariables.SizeVariable")],b)}(c.declared(g));return y})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.label=null;b.size=null;b.value=null;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({label:this.label,size:this.size,value:this.value})};var c;e([m.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([m.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"size",void 0);e([m.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([m.subclass("esri.renderers.visualVariables.support.SizeStop")],
b)}(m.declared(p.JSONSupport))})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./VisualVariableLegendOptions".split(" "),function(a,b,q,e,p,k){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.customValues=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({title:this.title,
showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var h;e([p.property({type:[Number],json:{write:!0}})],b.prototype,"customValues",void 0);return b=h=e([p.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],b)}(p.declared(k))})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(a,b){function q(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?"field":
"unknown"}Object.defineProperty(b,"__esModule",{value:!0});b.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};b.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};b.getInputValueType=q;b.getTransformationType=function(a,b){return"unknown"===(b||q(a))?"constant":a.stops?"stops":null!=a.minSize&&null!=a.maxSize&&null!=a.minDataValue&&null!=a.maxDataValue?"clamped-linear":"unknown"===(a.valueUnit||"unknown")?null!=a.minSize&&null!=a.minDataValue?
a.minSize&&a.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("require exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/utils ./sizeVariableUtils".split(" "),function(a,b,q,e,p,k,m,d,h){function c(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"color"===a.type})[0]:a)if("esri.renderers.visualVariables.ColorVariable"!==
a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var d="number"===typeof b,e=d?null:b,f=e&&e.attributes,g=d?b:null,h=a.field,l=a.cache;b=l.ipData;var k=l.hasExpression,l=a.cache.compiledFunc;if(!h&&!k)return(c=a.stops)&&c[0]&&c[0].color;if("number"!==typeof g)if(k){if(!m.isSome(c)||!m.isSome(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}g=c.arcade.arcadeUtils;h=g.getViewInfo({viewingMode:c.viewingMode,
scale:c.scale,spatialReference:c.spatialReference});e=g.createExecContext(e,h);l||(l=g.createSyntaxTree(a.valueExpression),l=g.createFunction(l),a.cache.compiledFunc=l);g=g.executeFunction(l,e)}else f&&(g=f[h]);e=a.normalizationField;f=f?parseFloat(f[e]):void 0;if(null!=g&&(!e||d||!isNaN(f)&&0!==f)&&(isNaN(f)||d||(g/=f),d=t(g,b)))return f=d[0],b=d[1],c=f===b?a.stops[f].color:q.blendColors(a.stops[f].color,a.stops[b].color,d[2],m.isSome(c)?c.color:void 0),new q(c)}}function g(a,b,c){if(a="visualVariables"in
a&&a.visualVariables?a.visualVariables.filter(function(a){return"opacity"===a.type})[0]:a)if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var d="number"===typeof b,e=d?null:b,f=e&&e.attributes,g=d?b:null,h=a.field,l=a.cache;b=l.ipData;var k=l.hasExpression,l=a.cache.compiledFunc;if(!h&&!k)return(a=a.stops)&&a[0]&&a[0].opacity;if("number"!==typeof g)if(k){if(m.isNone(c)||
m.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}g=c.arcade.arcadeUtils;c=g.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=g.createExecContext(e,c);l||(e=g.createSyntaxTree(a.valueExpression),l=g.createFunction(e),a.cache.compiledFunc=l);g=g.executeFunction(l,c)}else f&&(g=f[h]);c=a.normalizationField;f=f?parseFloat(f[c]):void 0;if(null!=g&&(!c||d||!isNaN(f)&&0!==f)&&(isNaN(f)||d||(g/=f),d=t(g,b))){b=d[0];f=d[1];
if(b===f)return a.stops[b].opacity;b=a.stops[b].opacity;return b+(a.stops[f].opacity-b)*d[2]}}}function f(a,b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"rotation"===a.type})[0]:a)if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");else{var d=a.axis||"heading",e="heading"===d&&"arithmetic"===a.rotationType?90:0,d="heading"===d&&"arithmetic"===
a.rotationType?-1:1,f="number"===typeof b?null:b,g=f&&f.attributes,h=a.field,l=a.cache.hasExpression;b=a.cache.compiledFunc;var k=0;if(!h&&!l)return k;if(l){if(m.isNone(c)||m.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");return}g=c.arcade.arcadeUtils;c=g.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=g.createExecContext(f,c);b||(b=g.createSyntaxTree(a.valueExpression),b=g.createFunction(b),a.cache.compiledFunc=b);k=
g.executeFunction(b,c)}else g&&(k=g[h]||0);return k="number"!==typeof k||isNaN(k)?null:e+d*k}}function w(a,b,c){var d="number"===typeof b,e=d?null:b,f=e&&e.attributes,g=d?b:null;b=a.cache.compiledFunc;if(a.cache.isScaleDriven)e=m.isSome(c)?c.scale:void 0,c=m.isSome(c)?c.view:void 0,null==e||c&&"3d"===c.type?(e=c=null,(e=a.stops)?(c=e[0].value,e=e[e.length-1].value):(c=a.minDataValue||0,e=a.maxDataValue||0),c=(c+e)/2):c=e,g=c;else if(!d)switch(a.inputValueType){case "expression":if(m.isNone(c)||m.isNone(c.arcade)){u.error("Use of arcade expressions requires an arcade context");
return}g=c.arcade.arcadeUtils;c=g.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:c.spatialReference});c=g.createExecContext(e,c);b||(e=g.createSyntaxTree(a.valueExpression),b=g.createFunction(e),a.cache.compiledFunc=b);g=g.executeFunction(b,c);break;case "field":f&&(g=f[a.field]);break;case "unknown":g=null}if(!h.isValidNumber(g))return null;if(d||!a.normalizationField)return g;a=f?parseFloat(f[a.normalizationField]):null;return h.isValidNumber(a)&&0!==a?g/a:null}function l(a,
b,c){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"size"===a.type})[0]:a)if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var d=w(a,b,c);b=r(d,a,b,c,a.cache.ipData);return null===b||void 0===b||isNaN(b)?0:b}}function n(a,b,c){return null==a?null:h.isSizeVariable(a)?l(a,b,c):h.isValidNumber(a)?a:null}function v(a,b,c){return h.isValidNumber(c)&&
a>c?c:h.isValidNumber(b)&&a<b?b:a}function r(a,b,c,e,f){switch(b.transformationType){case "additive":return e=n(b.minSize,c,e),a+(e||b.minDataValue);case "constant":return a=(a=b.stops)&&a.length&&a[0].size,null==a&&(a=b.minSize),n(a,c,e);case "clamped-linear":f=(a-b.minDataValue)/(b.maxDataValue-b.minDataValue);var g=n(b.minSize,c,e);c=n(b.maxSize,c,e);e=m.isSome(e)?e.shape:void 0;a<=b.minDataValue?b=g:a>=b.maxDataValue?b=c:"area"===b.scaleBy&&e?(e=(b="circle"===e)?y*Math.pow(g/2,2):g*g,e+=f*((b?
y*Math.pow(c/2,2):c*c)-e),b=b?2*Math.sqrt(e/y):Math.sqrt(e)):b=g+f*(c-g);return b;case "proportional":return f=m.isSome(e)?e.shape:void 0,a/=b.minDataValue,g=n(b.minSize,c,e),b=n(b.maxSize,c,e),e=null,e="circle"===f?2*Math.sqrt(a*Math.pow(g/2,2)):"square"===f||"diamond"===f||"image"===f?Math.sqrt(a*Math.pow(g,2)):a*g,v(e,g,b);case "stops":return f=t(a,f),g=f[0],a=f[1],f=f[2],g===a?b=n(b.stops[g].size,c,e):(g=n(b.stops[g].size,c,e),b=n(b.stops[a].size,c,e),b=g+(b-g)*f),b;case "real-world-size":return f=
(m.isSome(e)&&e.resolution?e.resolution:1)*d.meterIn[b.valueUnit],g=n(b.minSize,c,e),e=n(b.maxSize,c,e),b=b.valueRepresentation,c=null,c="area"===b?2*Math.sqrt(a/y)/f:"radius"===b||"distance"===b?2*a/f:a/f,v(c,g,e);case "identity":return a;case "unknown":return null}}function t(a,b){if(b){var c=0,d=b.length-1;b.some(function(b,e){if(a<b)return d=e,!0;c=e;return!1});return[c,d,(a-b[c])/(b[d]-b[c])]}}Object.defineProperty(b,"__esModule",{value:!0});var u=k.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),
A=new e,y=Math.PI;b.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;b.getColor=c;b.getOpacity=g;b.getRotationAngle=f;b.getSize=l;b.getSizeFromNumberOrVariable=n;b.getSizeForValue=r;b.getSizeRangeAtScale=function(a,b,c){var d=c&&"3d"===c.type;if(!(a.cache.isScaleDriven&&d||b))return null;c={scale:b,view:c};b=n(a.minSize,A,c);a=n(a.maxSize,A,c);if(null!=b||null!=a)return b>a&&(c=a,a=b,b=c),{minSize:b,maxSize:a}};b.getVisualVariableValues=function(a,b,d){if(a.visualVariables){var e=[],h=[],k=
[],m=[],n=[],r=0;for(a=a.visualVariables;r<a.length;r++){var p=a[r];switch(p.type){case "color":h.push(p);break;case "opacity":k.push(p);break;case "rotation":n.push(p);break;case "size":m.push(p)}}h.forEach(function(a){var f=c(a,b,d);e.push({variable:a,value:f})});k.forEach(function(a){var c=g(a,b,d);e.push({variable:a,value:c})});n.forEach(function(a){var c=f(a,b,d);e.push({variable:a,value:c})});m.forEach(function(a){var c=l(a,b,d);e.push({variable:a,value:c})});return e.filter(function(a){return null!=
a.value})}};b.getAllSizes=function(a,b,c){for(var d=["proportional","proportional","proportional"],e=0;e<a.length;e++){var f=a[e],g=f.useSymbolValue?"symbol-value":l(f,b,c);switch(f.axis){case "width":d[0]=g;break;case "depth":d[1]=g;break;case "height":d[2]=g;break;case "width-and-depth":d[0]=g;d[1]=g;break;case "all":case void 0:case null:d[0]=g;d[1]=g;d[2]=g;break;default:p.neverReached(f.axis)}}return d}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l){a=function(a){function b(b,c,d,e){b=a.call(this,b,c,d,e)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:h.generateUID()});return b}e(b,a);h=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",
b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==
a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&g.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,
b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};b.prototype.toJSON=function(){return{geometry:g.isSome(this.geometry)?this.geometry.toJSON():null,symbol:g.isSome(this.symbol)?this.symbol.toJSON():null,attributes:q({},
this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new h(this.cloneProperties())};b.prototype.cloneProperties=function(){return{attributes:c.clone(this.attributes),geometry:c.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:c.clone(this.symbol),visible:this.visible}};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&
(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var h;p([f.property({value:null})],b.prototype,"attributes",null);p([f.property({value:null,types:k.geometryTypes,json:{read:w.fromJSON}})],b.prototype,"geometry",null);p([f.property()],b.prototype,"layer",void 0);p([f.property({type:m})],b.prototype,"popupTemplate",void 0);p([f.property()],b.prototype,"sourceLayer",void 0);p([f.property({value:null,types:d.symbolTypes,json:{read:l.read}})],
b.prototype,"symbol",null);p([f.property({type:Boolean,value:!0})],b.prototype,"visible",null);return b=h=p([f.subclass("esri.Graphic")],b)}(f.declared(h.JSONSupport));var n=0;(function(a){a.generateUID=function(){return n++}})(a||(a={}));return a})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x,z,F,C,E,H,G,K){var L=h.ofType({key:"type",defaultKeyValue:"button",base:H,typeMap:{button:G,toggle:K}}),N={base:x,key:"type",typeMap:{media:F,text:C,attachments:B,fields:z}},I=f.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}e(b,a);c=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return v.ensureOneOfType(N,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||w.isPromiseLike(a))return a;I.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):this._readPopupInfo(b)};b.prototype.writeContent=
function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};b.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var d=c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):
!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();d||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var e=c[a];"fields"===e.type&&this._writeFieldsContent(e,b)}};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=a||""};b.prototype.clone=function(){var a=this.actions,a=a?g.clone(a.toArray()):[];return new c({actions:a,content:Array.isArray(this.content)?
g.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?g.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?g.clone(this.fieldInfos):null,layerOptions:this.layerOptions?g.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?g.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?g.clone(this.relatedRecordsInfo):
null})};b.prototype.collectRequiredFields=function(a,b){return m(this,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),r.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};b.prototype.getRequiredFields=function(a){return m(this,void 0,void 0,function(){var b;return k(this,
function(c){switch(c.label){case 0:return b=new Set,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,l.valuesOfSet(b).sort()]}})})};b.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=g.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=d.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};b.prototype._writeAttachmentContent=
function(a){a.showAttachments||(a.showAttachments=!0)};b.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};b.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=g.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=b.mediaInfos.concat(a):b.mediaInfos=a)};b.prototype._readPopupInfoElements=function(a){var b=a.description,c=a.mediaInfos,d=!1,e=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||
!c||e||(a.mediaInfos=c,e=!0),F.fromJSON(a);if("text"===a.type)return a.text||!b||d||(a.text=b,d=!0),C.fromJSON(a);if("attachments"===a.type)return B.fromJSON(a);if("fields"===a.type)return z.fromJSON(a)}).filter(Boolean)};b.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var d=[];b?d.push(new C({text:b})):d.push(new z);Array.isArray(c)&&c.length&&d.push(F.fromJSON({mediaInfos:c}));a&&d.push(B.fromJSON({displayType:"list"}));return d.length?d:b};b.prototype._getContentElementFields=
function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,e=void 0===d?[]:d,d=c.normalizeField,f=c.tooltipField,g=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),
this._extractFieldNames(g),this._extractFieldNames(c),e);d&&a.push(d);f&&a.push(f);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return m(this,void 0,void 0,function(){return k(this,function(d){switch(d.label){case 0:return c?[4,w.all(c.map(function(c){return r.collectArcadeFieldNames(a,
b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=
a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,
"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var c;p([n.property({type:L})],b.prototype,"actions",void 0);p([n.property()],b.prototype,"content",void 0);p([n.cast("content")],b.prototype,"castContent",null);p([n.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);p([n.writer("content",{popupElements:{type:h.ofType(t.types)},showAttachments:{type:Boolean},mediaInfos:{type:h.ofType(E.types)},description:{type:String}})],b.prototype,
"writeContent",null);p([n.property({type:[u],json:{write:!0}})],b.prototype,"expressionInfos",void 0);p([n.property({type:[A]})],b.prototype,"fieldInfos",void 0);p([n.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);p([n.property({type:y})],b.prototype,"layerOptions",void 0);p([n.writer("layerOptions")],b.prototype,"writeLayerOptions",null);p([n.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
void 0);p([n.property()],b.prototype,"outFields",void 0);p([n.property()],b.prototype,"overwriteActions",void 0);p([n.property({json:{type:String}})],b.prototype,"title",void 0);p([n.writer("title")],b.prototype,"writeTitle",null);p([n.property({type:D,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=c=p([n.subclass("esri.PopupTemplate")],b)}(n.declared(c.JSONSupport))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,b,q,e,p,k,m){Object.defineProperty(b,"__esModule",{value:!0});b.AttachmentsContent=q;b.BaseContent=e;b.FieldsContent=p;b.MediaContent=k;b.TextContent=m;b.isContent=function(a){return a instanceof e};b.types={base:null,key:"type",typeMap:{attachment:q,fields:p,media:k,text:m}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.displayType=null;b.type="attachments";return b}q(b,a);h=b;b.prototype.clone=function(){return new h({displayType:this.displayType})};var h;e([p.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);e([p.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.popup.content.AttachmentsContent")],b)}(p.declared(k))})},
"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;return b}q(b,a);e([k.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([k.subclass("esri.popup.content.Content")],
b)}(k.declared(p.JSONSupport))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";return b}q(b,a);d=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};
b.prototype.clone=function(){return new d({fieldInfos:Array.isArray(this.fieldInfos)?p.clone(this.fieldInfos):null})};var d;e([k.property({type:[m]})],b.prototype,"fieldInfos",void 0);e([k.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);e([k.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=e([k.subclass("esri.popup.content.FieldsContent")],b)}(k.declared(d))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),
function(a,b,q,e,p,k,m,d,h){var c=new p.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function b(b){b=a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}q(b,a);g=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=
function(){return new g({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var g;e([d.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);e([d.property({type:h,json:{write:!0}})],b.prototype,"format",void 0);e([d.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);
e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:c.apiValues,json:{write:!0,default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);e([d.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);e([d.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);e([d.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);e([d.property({type:String,
json:{write:!0}})],b.prototype,"tooltip",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=g=e([d.subclass("esri.popup.FieldInfo")],b)}(d.declared(k.JSONSupport))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),
function(a,b,q,e,p,k,m,d,h,c){return function(a){function b(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?h.formatDate(a,h.convertDateFormatToIntlOptions(this.dateFormat)):c.formatNumber(a,c.convertNumberFormatToIntlOptions(this))};var g;e([m.enumeration.serializable()(p.dictionary)],
b.prototype,"dateFormat",void 0);e([m.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);e([m.property({type:d.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=g=e([m.subclass("esri.popup.support.FieldInfoFormat")],b)}(m.declared(k.JSONSupport))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=q.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(a){return b.formats[a]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,b,q,e,p,k){function m(a){a=a||v;if(!n.has(a)){var b=k.getLocale(),b=l[k.getLocale()]||b;n.set(a,new Intl.DateTimeFormat(b,
a))}return n.get(a)}Object.defineProperty(b,"__esModule",{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var d={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},g={hour:"numeric",minute:"numeric"},f=q({},g,{second:"numeric"}),w={"short-date":a,"short-date-short-time":q({},a,g),"short-date-short-time-24":q({},a,g,{hour12:!1}),"short-date-long-time":q({},a,f),"short-date-long-time-24":q({},
a,f,{hour12:!1}),"short-date-le":a,"short-date-le-short-time":q({},a,g),"short-date-le-short-time-24":q({},a,g,{hour12:!1}),"short-date-le-long-time":q({},a,f),"short-date-le-long-time-24":q({},a,f,{hour12:!1}),"long-month-day-year":d,"long-month-day-year-short-time":q({},d,g),"long-month-day-year-short-time-24":q({},d,g,{hour12:!1}),"long-month-day-year-long-time":q({},d,f),"long-month-day-year-long-time-24":q({},d,f,{hour12:!1}),"day-short-month-year":h,"day-short-month-year-short-time":q({},h,
g),"day-short-month-year-short-time-24":q({},h,g,{hour12:!1}),"day-short-month-year-long-time":q({},h,f),"day-short-month-year-long-time-24":q({},h,f,{hour12:!1}),"long-date":c,"long-date-short-time":q({},c,g),"long-date-short-time-24":q({},c,g,{hour12:!1}),"long-date-long-time":q({},c,f),"long-date-long-time-24":q({},c,f,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":g,"long-time":f};b.dictionary=p.strict()({shortDate:"short-date",
shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);var l={ar:"ar-u-nu-latn-ca-gregory"},n=new e.default,v=w["short-date-short-time"];k.onLocaleChange(function(){n=new e.default;v=w["short-date-short-time"]});
b.getDateTimeFormatter=m;b.convertDateFormatToIntlOptions=function(a){return w[a]||null};b.formatDate=function(a,b){return m(b).format(a)}})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});var e=q.locale;b.getLocale=function(){return e};b.setLocale=function(a){e=a;p.slice().forEach(function(b){b.call(null,a)})};var p=[];b.onLocaleChange=function(a){p.push(a);return{remove:function(){p.splice(p.indexOf(a),
1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper","@dojo/framework/shim/WeakMap","./locale"],function(a,b,q,e,p){function k(a){var b=a||h;if(!d.has(b)){var c=p.getLocale(),c=m[p.getLocale()]||c;d.set(b,new Intl.NumberFormat(c,a))}return d.get(b)}Object.defineProperty(b,"__esModule",{value:!0});var m={ar:"ar-u-nu-latn"},d=new e.default,h={};p.onLocaleChange(function(){d=new e.default;h={}});b.getFormatter=k;b.convertNumberFormatToIntlOptions=function(a){void 0===
a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};b.formatNumber=function(a,b){return k(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w){return function(a){function b(b){b=a.call(this,b)||this;b.mediaInfos=null;b.type="media";return b}q(b,a);h=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return c.fromJSON(a);if("barchart"===a.type)return m.fromJSON(a);if("columnchart"===a.type)return d.fromJSON(a);if("linechart"===a.type)return g.fromJSON(a);if("piechart"===a.type)return f.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new h({mediaInfos:this.mediaInfos?p.clone(this.mediaInfos):null})};var h;e([k.property({types:[w.types]})],b.prototype,"mediaInfos",void 0);e([k.reader("mediaInfos")],b.prototype,"readMediaInfos",null);e([k.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);e([k.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=e([k.subclass("esri.popup.content.MediaContent")],b)}(k.declared(h))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="bar-chart";return b}q(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;
e([p.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([p.subclass("esri.popup.content.BarChartMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,b,
q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}q(b,a);e([p.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([p.property({type:m,json:{write:!0}})],b.prototype,"value",void 0);return b=e([p.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.caption="";b.title="";b.type=null;return b}q(b,a);e([k.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([k.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([k.subclass("esri.popup.content.mixins.MediaInfo")],b)}(k.declared(p.JSONSupport))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({fields:k.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var g;e([m.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);e([m.property({type:[d],json:{read:!1}})],b.prototype,"series",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=g=e([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(m.declared(p.JSONSupport))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.tooltip=null;b.x=null;b.y=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({tooltip:this.tooltip,x:this.x,y:this.y})};var h;e([k.property()],b.prototype,"tooltip",void 0);e([k.property()],b.prototype,"x",void 0);e([k.property()],b.prototype,"y",void 0);return b=h=e([k.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(k.declared(p))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=q.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,
q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="column-chart";return b}q(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([p.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([p.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;e([p.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);e([p.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([p.property({type:m,
json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([p.subclass("esri.popup.content.ImageMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}q(b,
a);h=b;b.prototype.clone=function(){return new h({linkURL:this.linkURL,sourceURL:this.sourceURL})};var h;e([k.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=h=e([k.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(k.declared(p.JSONSupport))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="line-chart";return b}q(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([p.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([p.subclass("esri.popup.content.LineChartMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,q,e,p,k,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="pie-chart";return b}q(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;e([p.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=e([p.subclass("esri.popup.content.PieChartMediaInfo")],b)}(p.declared(k))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,q,e,p,k,m,d){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:d,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":q,"column-chart":e,"line-chart":k,"pie-chart":m,image:p}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,
b)||this;b.text=null;b.type="text";return b}q(b,a);h=b;b.prototype.clone=function(){return new h({text:this.text})};var h;e([p.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([p.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h=e([p.subclass("esri.popup.content.TextContent")],b)}(p.declared(k))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var h;e([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,
"expression",void 0);e([k.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=h=e([k.subclass("esri.popup.ExpressionInfo")],b)}(k.declared(p.JSONSupport))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.returnTopmostRaster=
null;b.showNoDataRecords=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var h;e([k.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);e([k.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=h=e([k.subclass("esri.popup.LayerOptions")],b)}(k.declared(p.JSONSupport))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?k.clone(this.orderByFields):null})};var g;e([m.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);e([m.property({type:[d],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=g=e([m.subclass("esri.popup.RelatedRecordsInfo")],
b)}(m.declared(p.JSONSupport))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({field:this.field,order:this.order})};var h;e([k.property({type:String,
json:{write:!0}})],b.prototype,"field",void 0);e([k.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=h=e([k.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(k.declared(p.JSONSupport))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,
m){return function(a){function b(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}q(b,a);c=b;b.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;e([m.property()],b.prototype,"active",void 0);e([m.property()],b.prototype,"className",void 0);e([m.property()],b.prototype,
"disabled",void 0);e([m.property()],b.prototype,"id",void 0);e([m.property()],b.prototype,"indicator",void 0);e([m.property()],b.prototype,"title",void 0);e([m.property()],b.prototype,"type",void 0);e([m.property()],b.prototype,"visible",void 0);return b=c=e([m.subclass("esri.support.actions.ActionBase")],b)}(m.declared(k.IdentifiableMixin(p)))})},"esri/core/Identifiable":function(){define(["require","exports","./tsSupport/declareExtendsHelper","./tsSupport/decorateHelper","./accessorSupport/decorators"],
function(a,b,q,e,p){Object.defineProperty(b,"__esModule",{value:!0});var k=0;b.IdentifiableMixin=function(a){return function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+k++});return b}q(b,a);return b=e([p.subclass("esri.core.Identifiable")],b)}(p.declared(a))};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}q(b,a);return b=
e([p.subclass("esri.core.Identifiable")],b)}(p.declared(b.IdentifiableMixin(function(){return function(){}}())));b.Identifiable=a})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,b,q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="button";return b}q(b,a);h=b;b.prototype.clone=function(){return new h({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var h;e([p.property()],b.prototype,"image",void 0);return b=h=e([p.subclass("esri.support.Action.ActionButton")],b)}(p.declared(k))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,b,
q,e,p,k){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}q(b,a);h=b;b.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var h;e([p.property()],b.prototype,"image",void 0);e([p.property()],b.prototype,"value",void 0);return b=h=e([p.subclass("esri.support.Action.ActionToggle")],
b)}(p.declared(k))})},"esri/renderers/support/utils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/arrayUtils ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),function(a,b,q,e,p,k,m,d,h){function c(a,b,c){var d="";0===b?d=l.lt+" ":b===c&&(d=l.gt+" ");return d+a}function g(a){var b=a.minValue,c=a.maxValue,e=a.isFirstBreak?"":l.gt+" ";a="percent-of-total"===a.normalizationType?l.pct:"";b=null==b?"":
d.format(b);c=null==c?"":d.format(c);return e+b+a+" "+l.ld+" "+c+a}function f(a,b){return"normalizationField"in a&&a.normalizationField?{type:"normalized-field",field:a.field,normalizationField:a.normalizationField}:"field"in a&&a.field?{type:"field",field:a.field}:"valueExpression"in a&&a.valueExpression?{type:"expression",expression:a.valueExpression,title:a.valueExpressionTitle,returnType:b}:null}Object.defineProperty(b,"__esModule",{value:!0});var w=p.getLogger("esri.renderers.support.utils"),
l={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},n={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},v={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};b.meterIn={inches:k.convertUnit(1,"meters","inches"),feet:k.convertUnit(1,"meters","feet"),"us-feet":k.convertUnit(1,"meters","us-feet"),
yards:k.convertUnit(1,"meters","yards"),miles:k.convertUnit(1,"meters","miles"),"nautical-miles":k.convertUnit(1,"meters","nautical-miles"),millimeters:k.convertUnit(1,"meters","millimeters"),centimeters:k.convertUnit(1,"meters","centimeters"),decimeters:k.convertUnit(1,"meters","decimeters"),meters:k.convertUnit(1,"meters","meters"),kilometers:k.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/k.lengthToDegrees(1,"meters")};b.timelineDateFormatOptions=m.convertDateFormatToIntlOptions("short-date");
b.createColorStops=function(a){var b=a.values,e=a.colors,f=a.labelIndexes,g=a.isDate,l=a.dateFormatOptions;return b.map(function(a,k){var n=null;if(!f||-1<f.indexOf(k)){var p=void 0;(p=g?m.formatDate(a,l):d.format(a))&&(n=c(p,k,b.length-1))}return new h({value:a,color:e[k],label:n})})};b.updateColorStops=function(a){var b=a.stops,e=a.changes,f=a.isDate,g=a.dateFormatOptions,l=b.map(function(a){return a.value});a=[];for(var h=0;h<e.length;h++){var k=e[h];a.push(k.index);l[k.index]=k.value}var n=d.round(l,
{indexes:a});b.forEach(function(a,e){a.value=l[e];if(null!=a.label){var h=void 0,k=null;(h=f?m.formatDate(n[e],g):d.format(n[e]))&&(k=c(h,e,b.length-1));a.label=k}})};b.createClassBreakLabel=g;b.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,c=a.normalizationType,e=[];if(b&&b.length)if("standard-deviation"===a.classificationMethod)w.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){e.push(b[0].minValue);
for(a=0;a<b.length;a++)e.push(b[a].maxValue);e=d.round(e);b.forEach(function(a,b){a.label=g({minValue:0===b?e[0]:e[b],maxValue:e[b+1],isFirstBreak:0===b,normalizationType:c})})}else b.forEach(function(a,b){a.label=g({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:c})})};b.updateClassBreak=function(a){if("standard-deviation"===a.classificationMethod)w.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=
a.classBreaks,c=a.change,d=c.index,c=c.value,e=b.length,f=-1,l=-1;0===d?f=d:d===e?l=d-1:(l=d-1,f=d);a=a.normalizationType;d=null;-1<f&&f<e&&(d=b[f],d.minValue=c,d.label=g({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===f,normalizationType:a}));-1<l&&l<e&&(d=b[l],d.maxValue=c,d.label=g({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===l,normalizationType:a}))}};b.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,d=null,
e=0;e<b-1;e++){for(var f=a[e],g=[],l=Infinity,h=null,k=e+1;k<b;k++){var m=a[k],m=f.getFullYear()!==m.getFullYear()&&"year"||f.getMonth()!==m.getMonth()&&"month"||f.getDate()!==m.getDate()&&"day"||f.getHours()!==m.getHours()&&"hour"||f.getMinutes()!==m.getMinutes()&&"minute"||f.getSeconds()!==m.getSeconds()&&"second"||"millisecond",p=n[m];p<l&&(l=p,h=m);g.push(m)}l<c&&(c=l,d=h)}return d};b.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,e=a.fieldInfo;a=a.dateFormatInterval;var f=String(b);
(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?f=c:"number"===typeof b&&(f=e&&"date"===e.type?m.formatDate(b,a&&m.convertDateFormatToIntlOptions(v[a])):d.format(b));return f};b.getAttributes=function(a,b){var c=[];if("class-breaks"===a.type||"heatmap"===a.type)c.push(f(a,"number"));else if("unique-value"===a.type){var d=a.uniqueValueInfos[0],g=null;d&&d.value&&(d=typeof a.uniqueValueInfos[0].value,"string"===d||"number"===d)&&(g=d);c.push(f(a,g));[a.field2,a.field3].forEach(function(a){return a&&
c.push({type:"field",field:a})})}else"dot-density"===a.type&&a.attributes.forEach(function(a){return c.push(f(a,"number"))});(a=b?b(a):"visualVariables"in a?a.visualVariables:null)&&a.forEach(function(a){return c.push(f(a,"number"))});return e.unique(c.filter(Boolean),function(a,b){return"field"===a.type&&"field"===b.type?a.field===b.field:"normalized-field"===a.type&&"normalized-field"===b.type?a.field===b.field&&a.normalizationField===b.normalizationField:"expression"===a.type&&"expression"===b.type?
a.expression===b.expression:!1})}})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,q,e,p,k,m){function d(a){if(a=B[a])return a;throw Error("unknown measure");}function h(a){return D[a].baseUnit}function c(a,b){void 0===b&&(b=null);b=b||d(a);return D[b].baseUnit===a}function g(a,b,e){if(b===e)return a;var f=d(b);if(f!==d(e))throw Error("incompatible units");a=c(b,f)?a:a*
D[f].units[b].inBaseUnits;return c(e,f)?a:a/D[f].units[e].inBaseUnits}function f(a){return y.fromJSON(a.toLowerCase())||null}function w(a,b){void 0===b&&(b=v);return l(a,!0)||b}function l(a,b){void 0===b&&(b=!1);var c,d,e;null!=a&&("object"===typeof a?(c=a.wkid,d=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(d=a));c?(e=u.values[u[c]],!e&&b&&A.has(c)&&(e=r)):d&&-1!==d.search(/^PROJCS/i)&&(a=t.exec(d))&&a[1]&&(e=parseFloat(a[1].split(",")[1]));return e}function n(a){var b,c,d;null!=a&&("object"===
typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=u.units[u[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=t.exec(c))&&a[1]&&(d=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return d?f(d):null}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;var v=k.wgs84Radius*Math.PI/180,r=k.wgs84Radius*Math.PI/200,t=/UNIT\[([^\]]+)\]\]$/i,u=m,A=p.createSetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=e.strict()({meter:"meters",
foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},
decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};e={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},
"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var D={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:e},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},
"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},B=function(){var a={},b;for(b in D)for(var c in D[b].units)a[c]=b;return a}();b.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
b.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");b.measureForUnit=d;b.baseUnitForMeasure=h;b.baseUnitForUnit=function(a){return h(d(a))};b.isBaseUnit=c;b.convertUnit=g;b.preferredMetricLengthUnit=function(a,b){return 3E3>g(a,b,"meters")?"meters":"kilometers"};b.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(a,b){return 1E3>g(a,b,"feet")?"feet":
"miles"};b.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"feet")?"feet":"miles"};b.preferredMetricAreaUnit=function(a,b){return 3E6>g(a,b,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(a,b){return 1E6>g(a,b,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=function(a,b,c){void 0===c&&(c=k.wgs84Radius);return g(a,b,"meters")/(c*Math.PI/180)};b.unitFromRESTJSON=f;b.unitToRESTJSON=function(a){return y.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=
function(a){a=w(a);return 1E5<a?1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<w(a)?"meters":n(a)};b.getMetersPerUnitForSR=w;b.getMetersPerUnit=l;b.getUnitString=n;b.getDefaultUnitSystem=function(a){if(!a)return null;a=n(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:q.neverReached(a)}return null}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(a,b,q){function e(a,b){return a-b}function p(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function k(a,b,c,e,h){a=d(a,b,c,e);b=null==a.next||a.next<=h;return(null==
a.previous||a.previous<=h)&&b||a.previous+a.next<=2*h}function m(a){a=String(a);var b=a.match(h);if(b&&b[1])return{integer:b[1].split("").length,fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),c=0<b;c||(b=Math.abs(b));a=m(a);c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function d(a,b,c,d){var e=
{previous:null,next:null};if(null!=c){var f=a-c;e.previous=Math.floor(Math.abs(100*(b-c-f)/f))}null!=d&&(f=d-a,e.next=Math.floor(Math.abs(100*(d-b-f)/f)));return e}Object.defineProperty(b,"__esModule",{value:!0});var h=/^-?(\d+)(\.(\d+))?$/i;b.numDigits=m;b.percentChange=d;b.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,d=b.strictBounds,d=void 0===d?!1:d;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(e);for(var f=0;f<b.length;f++){var g=b[f],
h=a[g],q=0===g?null:a[g-1],u=g===a.length-1?null:a[g+1],A=m(h).fractional;if(A){for(var y=0,D=!1,B=void 0;y<=A&&!D;)D=p(h,y),B=d&&0===f?D[1]:D[0],D=k(h,B,q,u,c),y++;D&&(a[g]=B)}}return a};var c={maximumFractionDigits:20};b.format=function(a){return q.formatNumber(a,c)}})},"esri/intl":function(){define(["require","exports","./intl/date","./intl/number","./intl/substitute"],function(a,b,q,e,p){Object.defineProperty(b,"__esModule",{value:!0});b.formatDate=q.formatDate;b.convertDateFormatToIntlOptions=
q.convertDateFormatToIntlOptions;b.formatNumber=e.formatNumber;b.convertNumberFormatToIntlOptions=e.convertNumberFormatToIntlOptions;b.substitute=p.substitute})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,q,e,p,k,m){function d(a){switch(typeof a){case "string":return a;case "number":return m.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?k.formatDate(a):""}}Object.defineProperty(b,
"__esModule",{value:!0});var h=q.getLogger("esri.intl");b.substitute=function(a,b,f){void 0===f&&(f={});f=f.format;var c=void 0===f?{}:f;return p.replace(a,function(a){var f;var g,l=a.indexOf(":");-1===l?g=a.trim():(g=a.slice(0,l).trim(),f=a.slice(l+1).trim());if(g)if(a=e.getDeepValue(g,b),null==a)f="";else if(g=c[f]||c[g])b:switch(g.type){case "date":f=k.formatDate(a,g.intlOptions);break b;case "number":f=m.formatNumber(a,g.intlOptions);break b;default:h.warn("missing format descriptor for key {key}"),
f=d(a)}else if(f)b:switch(f.toLowerCase()){case "dateformat":f=k.formatDate(a);break b;case "numberformat":f=m.formatNumber(a);break b;default:h.warn("inline format is unsupported since 4.12: "+f),f=/^(dateformat|datestring)/i.test(f)?k.formatDate(a):/^numberformat/i.test(f)?m.formatNumber(a):d(a)}else f=d(a);else f="";return f})}})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w){var l=m.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),n={color:c,size:w,opacity:g,rotation:f},v=new k.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),r=/^\[([^\]]+)\]$/i;return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}q(b,a);Object.defineProperty(b.prototype,"visualVariables",
{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=0,c=a;b<c.length;b++){var d=c[b];switch(d.type){case "color":this.colorVariables.push(d);break;case "opacity":this.opacityVariables.push(d);break;case "rotation":this.rotationVariables.push(d);break;case "size":this.sizeVariables.push(d)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?0:a.target?1:-1});
for(b=0;b<a.length;b++)d=a[b],d.index=b}this._set("visualVariables",a)},enumerable:!0,configurable:!0});b.prototype.readVariables=function(a,b,c){var e=b.rotationExpression;b=b.rotationType;if(e=(e=e&&e.match(r))&&e[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:e});if(a)return a.map(function(a){var b=v.read(a.type),e=n[b];e||(l.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new d("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,
context:c})));b=new e;b.read(a,c);return b})};b.prototype.writeVariables=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d].toJSON(b);e&&c.push(e)}return c};b.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};e([h.property()],b.prototype,"visualVariables",null);return b=e([h.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)}(h.declared(p))})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.minValue=null;b.maxValue=0;b.symbol=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+"."+a};var g;e([m.property({type:String,
json:{write:!0}})],b.prototype,"description",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([m.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);e([m.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);e([m.property({types:p.symbolTypesRenderer,json:{origins:{"web-scene":{types:p.symbolTypesRenderer3D,read:d.read,write:d.writeTarget}},
read:d.read,write:d.writeTarget}})],b.prototype,"symbol",void 0);return b=g=e([m.subclass("esri.renderers.support.ClassBreakInfo")],b)}(m.declared(k.JSONSupport))})},"esri/renderers/RasterColormapRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/ColormapInfo ./support/colorRampUtils".split(" "),function(a,b,q,e,p,k,m,d,h){return function(a){function b(b){b=
a.call(this,b)||this;b.type="raster-colormap";return b}q(b,a);c=b;b.createFromColormap=function(a){if(!a)return null;var b=5===a[0].length;a=a.sort(function(a){return a[0]-a[1]});b=b?a.map(function(a){return d.fromJSON({value:a[0],color:a.slice(1,5),label:String(a[0])})}):a.map(function(a){return d.fromJSON({value:a[0],color:a.slice(1,4).concat([255]),label:String(a[0])})});return new c({colormapInfos:b})};b.createFromColorramp=function(a){a=h.convertColorRampToColormap(a,256);return c.createFromColormap(a)};
b.prototype.clone=function(){return new c({colormapInfos:this.colormapInfos.map(function(a){return a.toJSON()})})};b.prototype.extractColormap=function(){return this.colormapInfos.map(function(a){return[a.value,a.color.r,a.color.g,a.color.b,1<a.color.a?a.color.a:255*a.color.a&255]}).sort(function(a,b){return a[0]-b[0]})};var c;e([m.property({type:[d],json:{write:!0}})],b.prototype,"colormapInfos",void 0);e([m.enumeration.serializable()({rasterColormap:"raster-colormap"})],b.prototype,"type",void 0);
return b=c=e([m.subclass("esri.renderers.RasterColormapRenderer")],b)}(m.declared(k.JSONSupport))})},"esri/renderers/support/ColormapInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/paramHelper ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,q,e,p,k,m,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.value=null;b.label=null;b.color=
null;return b}q(b,a);e([d.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:k,json:{write:!0}})],b.prototype,"color",void 0);return b=e([d.subclass("esri.renderers.support.ColormapInfo")],b)}(d.declared(m.JSONSupport))})},"esri/renderers/support/colorRampUtils":function(){define(["require","exports","../../Color","../../core/colorUtils"],function(a,b,q,e){function p(a,b){if(!a||!b||a.length!==
b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]>b[c]+2||a[c]<b[c]-2)return!1;return!0}function k(a,b,c){a=e.toLAB(a);b=e.toLAB(b);return e.toRGB({l:a.l*(1-c)+c*b.l,a:a.a*(1-c)+c*b.a,b:a.b*(1-c)+c*b.b})}function m(a,e){if(a){e=e?e:b.PREDEFINED_JSON_COLOR_RAMPS;var c=null,d;"algorithmic"===a.type?e.some(function(b){if(p(a.fromColor.toRgb(),b.fromColor)&&p(a.toColor.toRgb(),b.toColor))return c=b.id,!0}):"multipart"===a.type&&e.some(function(b){if(a.colorRamps&&b.colorRamps&&a.colorRamps.length===
b.colorRamps.length&&(d=a.colorRamps,!b.colorRamps.some(function(a,b){if(!p(d[b].fromColor.toRgb(),(new q(a.fromColor)).toRgb())||!p(d[b].toColor.toRgb(),(new q(a.toColor)).toRgb()))return!0}))){if(c)return!0;c=b.id}});return c}}Object.defineProperty(b,"__esModule",{value:!0});b.PREDEFINED_JSON_COLOR_RAMPS=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,
254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",
fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},
{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,
245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,
186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},
{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",
fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],
toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,
255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",
type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,
204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},
{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",
type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,
0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,
153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,
255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,
147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}];b.PREDEFINED_COLOR_RAMP_NAME_MAP={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",
blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",
distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",
partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",
purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",
slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};
b.getColorRampId=m;b.getColorRampName=function(a){return(a=m(a))?b.PREDEFINED_COLOR_RAMP_NAME_MAP[a]:null};b.convertColorRampToColormap=function(a,b){if(a&&b){for(var c="multipart"===a.type?a.colorRamps.length:1,d=[],e=[],h,l,m,p,r,t=0,u=0;u<c;u++)d[u]={start:null,end:null},d[u].start=t,d[u].end=t+1/c,t=d[u].end;c=function(c){p=c/b;d.forEach(function(d,f){p>=d.start&&p<d.end&&(r=(p-d.start)/(d.end-d.start),"multipart"===a.type?(h=new q(a.colorRamps[f].fromColor),l=new q(a.colorRamps[f].toColor)):
(h=new q(a.fromColor),l=new q(a.toColor)),m=k(h,l,r),0===c?e.push([c,h.r,h.g,h.b]):c===b-1?e.push([c,l.r,l.g,l.b]):(m=k(h,l,r),e.push([c,m.r,m.g,m.b])))})};for(u=0;u<b;u++)c(u);return e}}})},"esri/core/colorUtils":function(){define(["require","exports"],function(a,b){function q(a,b){var c=[],d,e;if(a[0].length!==b.length)throw"dimensions do not match";var f=a.length,g=a[0].length,h=0;for(d=0;d<f;d++){for(e=h=0;e<g;e++)h+=a[d][e]*b[e];c.push(h)}return c}function e(a){a=[a.r/255,a.g/255,a.b/255].map(function(a){return.04045>=
a?a/12.92:Math.pow((a+.055)/1.055,2.4)});a=q(h,a);return{x:100*a[0],y:100*a[1],z:100*a[2]}}function p(a){a=q(c,[a.x/100,a.y/100,a.z/100]).map(function(a){return Math.min(1,Math.max(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055,0))});return{r:Math.round(255*a[0]),g:Math.round(255*a[1]),b:Math.round(255*a[2])}}function k(a){a=[a.x/95.047,a.y/100,a.z/108.883].map(function(a){return a>Math.pow(6/29,3)?Math.pow(a,1/3):1/3*Math.pow(29/6,2)*a+4/29});return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-
a[2])}}function m(a){var b=a.l;a=[(b+16)/116+a.a/500,(b+16)/116,(b+16)/116-a.b/200].map(function(a){return a>6/29?Math.pow(a,3):3*Math.pow(6/29,2)*(a-4/29)});return{x:95.047*a[0],y:100*a[1],z:108.883*a[2]}}function d(a){if("r"in a&&"g"in a&&"b"in a)return a;if("l"in a&&"c"in a&&"h"in a){var b=a.c,c=a.h;return p(m({l:a.l,a:b*Math.cos(c),b:b*Math.sin(c)}))}if("l"in a&&"a"in a&&"b"in a)return p(m(a));if("x"in a&&"y"in a&&"z"in a)return p(a);if("h"in a&&"s"in a&&"v"in a){c=(a.h+360)%360/60;b=a.v/100*
255;a=a.s/100*b;var d=a*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:a,g:d,b:0};break;case 1:c={r:d,g:a,b:0};break;case 2:c={r:0,g:a,b:d};break;case 3:c={r:0,g:d,b:a};break;case 4:c={r:d,g:0,b:a};break;case 5:case 6:c={r:a,g:0,b:d};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+b-a);c.g=Math.round(c.g+b-a);c.b=Math.round(c.b+b-a);return c}}Object.defineProperty(b,"__esModule",{value:!0});var h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,
1.8758,.0415],[.0557,-.204,1.057]];b.toRGB=d;b.toHSV=function(a){if("h"in a&&"s"in a&&"v"in a)return a;var b=d(a);a=b.r;var c=b.g,b=b.b,e=Math.max(a,c,b),g=e-Math.min(a,c,b),h;0===g?h=0:e===a?h=(c-b)/g%6:e===c?h=(b-a)/g+2:e===b&&(h=(a-c)/g+4);0>h&&(h+=6);return{h:60*h,s:100*(0===g?0:g/e),v:100/255*e}};b.toLAB=function(a){return"l"in a&&"a"in a&&"b"in a?a:k(e(d(a)))};b.toLCH=function(a){if(!("l"in a&&"c"in a&&"h"in a)){var b=k(e(d(a)));a=b.l;var c=b.a,g=b.b,b=Math.sqrt(c*c+g*g),c=Math.atan2(g,c),c=
0<c?c:c+2*Math.PI;a={l:a,c:b,h:c}}return a};b.toXYZ=function(a){return"x"in a&&"y"in a&&"z"in a?a:e(d(a))};b.darken=function(a,b){a=k(e(a));a.l*=1-b;return p(m(a))}})},"esri/renderers/RasterStretchRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/stretchRendererUtils ../tasks/support/colorRamps".split(" "),function(a,b,q,e,p,
k,m,d,h,c){return function(a){function b(b){b=a.call(this,b)||this;b.colorRamp=null;b.computeGamma=!1;b.dynamicRangeAdjustment=!1;b.gamma=[];b.maxPercent=null;b.minPercent=null;b.numberOfStandardDeviations=null;b.outputMax=null;b.outputMin=null;b.sigmoidStrengthLevel=null;b.statistics=[];b.histograms=null;b.useGamma=!1;b.stretchType="none";b.type="raster-stretch";return b}q(b,a);g=b;b.prototype.readColorRamp=function(a){if(a)return c.fromJSON(a)};b.prototype.writeStatistics=function(a,b,c){null==
a||0===a.length?a=null:a[0]instanceof Array||(a=a.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));b[c]=a};b.prototype.readStretchType=function(a,b){a=b.stretchType;"number"===typeof a&&(a=h.stretchTypeFunctionEnum[a]);return h.stretchTypeJSONDict.read(a)};b.prototype.clone=function(){return new g({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:m.clone(this.statistics),gamma:m.clone(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,
numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:m.clone(this.colorRamp),histograms:m.clone(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})};var g;e([d.property({types:c.types,json:{write:!0}})],b.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],b.prototype,"readColorRamp",null);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"computeGamma",void 0);e([d.property({type:Boolean,json:{write:{target:"dra"},
read:{source:"dra"}}})],b.prototype,"dynamicRangeAdjustment",void 0);e([d.property({type:[Number],json:{write:{allowNull:!0}}})],b.prototype,"gamma",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"maxPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"minPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"numberOfStandardDeviations",void 0);e([d.property({type:Number,json:{read:{source:"max"},write:{target:"max",
allowNull:!0}}})],b.prototype,"outputMax",void 0);e([d.property({type:Number,json:{read:{source:"min"},write:{target:"min",allowNull:!0}}})],b.prototype,"outputMin",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"sigmoidStrengthLevel",void 0);e([d.property({json:{write:{allowNull:!0}}})],b.prototype,"statistics",void 0);e([d.property()],b.prototype,"histograms",void 0);e([d.writer("statistics")],b.prototype,"writeStatistics",null);e([d.property({type:Boolean,json:{write:!0}})],
b.prototype,"useGamma",void 0);e([d.property({type:h.stretchTypeJSONDict.apiValues,json:{type:h.stretchTypeJSONDict.jsonValues,write:h.stretchTypeJSONDict.write}})],b.prototype,"stretchType",void 0);e([d.reader("stretchType",["stretchType"])],b.prototype,"readStretchType",null);e([d.enumeration.serializable()({rasterStretch:"raster-stretch"})],b.prototype,"type",void 0);return b=g=e([d.subclass("esri.renderers.RasterStretchRenderer")],b)}(d.declared(k.JSONSupport))})},"esri/renderers/support/stretchRendererUtils":function(){define(["require",
"exports","../../core/jsonMap"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.stretchTypeJSONDict=new q.default({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"});b.stretchTypeFunctionEnum={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}})},"esri/renderers/UniqueValueRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../symbols/support/jsonUtils ../symbols/support/styleUtils".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n,v,r,t,u,A,y,D,B,x,z,F,C,E,H){var G=l.getLogger("esri.renderers.UniqueValueRenderer"),K=A.ensureType(F);return function(a){function b(b){b=a.call(this,b)||this;b._valueInfoMap={};b._isDefaultSymbolDerived=!1;b.type="unique-value";b.backgroundFillSymbol=null;b.field=null;b.field2=null;b.field3=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;b.defaultLabel=null;b.fieldDelimiter=null;b.portal=null;b.styleOrigin=null;b.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var f=g.find(a,function(a){return a.value===b[e].value});f?u.diff(f,b[e])?(d.changed.push({type:"complete",oldValue:f,newValue:b[e]}),c=!0):d.unchanged.push({oldValue:f,newValue:b[e]}):(d.added.push(b[e]),c=!0)},f=0;f<b.length;f++)e(f);e=function(e){g.find(b,function(b){return b.value===a[e].value})||(d.removed.push(a[e]),c=!0)};for(f=0;f<
a.length;f++)e(f);return c?d:void 0}}};b._set("uniqueValueInfos",[]);return b}q(b,a);l=b;Object.defineProperty(b.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});b.prototype.writeBackgroundFillSymbolWebScene=function(a,b,c,d){E.writeTarget(a,b,c,d)};b.prototype.castField=function(a){return null==a||"function"===typeof a?a:A.ensureString(a)};b.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new f("property:unsupported",
"UniqueValueRenderer.field set to a function cannot be written to JSON")):G.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(b.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!0,configurable:!0});b.prototype.readDefaultSymbol=function(a,b,c){return E.read(a,b,c)};b.prototype.writeDefaultSymbolWebScene=function(a,b,c,d){this._isDefaultSymbolDerived||E.writeTarget(a,b,c,d)};b.prototype.writeDefaultSymbol=
function(a,b,c,d){this._isDefaultSymbolDerived||E.writeTarget(a,b,c,d)};b.prototype.readPortal=function(a,b,c){return c.portal||D.getDefault()};b.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=r.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};b.prototype.writeStyleOrigin=function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=r.toJSON(a.styleUrl,d))};Object.defineProperty(b.prototype,"uniqueValueInfos",
{set:function(a){this.styleOrigin?G.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!0,configurable:!0});b.prototype.addUniqueValueInfo=function(a,b){this.styleOrigin?G.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(a="object"===typeof a?K(a):new F({value:a,symbol:c.ensureType(b)}),this.uniqueValueInfos.push(a),
this._valueInfoMap[a.value]=a)};b.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)G.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};b.prototype.getUniqueValueInfo=function(a,b){return m(this,void 0,void 0,function(){var c,e,f;return k(this,function(g){switch(g.label){case 0:c=
b;if(!this.valueExpression||!n.isNone(b)&&!n.isNone(b.arcade))return[3,2];e=[{},c];f={};return[4,C.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=g.sent(),f)])),g.label=2;case 2:return[2,this._getUniqueValueInfo(a,c)]}})})};b.prototype.getSymbol=function(a,b){if(this.valueExpression&&(n.isNone(b)||n.isNone(b.arcade)))G.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,b))&&a.symbol||this.defaultSymbol};b.prototype.getSymbolAsync=
function(a,b){return m(this,void 0,void 0,function(){var c,e,f,g;return k(this,function(h){switch(h.label){case 0:c=b;if(!this.valueExpression||!n.isNone(c)&&!n.isNone(c.arcade))return[3,2];e=[{},c];f={};return[4,C.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=h.sent(),f)])),h.label=2;case 2:return g=this._getUniqueValueInfo(a,c),[2,g&&g.symbol||this.defaultSymbol]}})})};b.prototype.getSymbols=function(){for(var a=[],b=0,c=this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&
a.push(this.defaultSymbol);return a};b.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};b.prototype.clone=
function(){var a=new l({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:w.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:w.clone(this.visualVariables),legendOptions:w.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:w.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&
(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=w.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(w.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(b.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});b.prototype.collectRequiredFields=function(a,b){return m(this,void 0,void 0,
function(){var c;return k(this,function(d){switch(d.label){case 0:return c=[this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,v.all(c)];case 1:return d.sent(),[2]}})})};b.prototype.collectSymbolFields=function(a,b){return m(this,void 0,void 0,function(){var c;return k(this,function(d){switch(d.label){case 0:return c=this.getSymbols().map(function(c){return c.collectRequiredFields(a,b)}).concat([y.collectArcadeFieldNames(a,b,this.valueExpression)]),y.collectField(a,b,this.field),
y.collectField(a,b,this.field2),y.collectField(a,b,this.field3),[4,v.all(c)];case 1:return d.sent(),[2]}})})};b.prototype.populateFromStyle=function(){var a=this;return H.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap={};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var e=new h.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||d.name!==b.data.defaultItem||(a.defaultSymbol=
e,a._isDefaultSymbolDerived=!0);e=new F({value:d.name,symbol:e});c.push(e);a._valueInfoMap[d.name]=e});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=!0);return a})};b.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};b.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?
this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};b.prototype._getUnqiueValueInfoForExpression=function(a,b){var c=n.unwrapOr(b,{});b=c.viewingMode;var d=c.scale,e=c.spatialReference,f=this._cache.compiledFunc,c=n.expect(c.arcade).arcadeUtils;f||(f=c.createSyntaxTree(this.valueExpression),f=c.createFunction(f),this._cache.compiledFunc=f);a=c.executeFunction(f,c.createExecContext(a,c.getViewInfo({viewingMode:b,scale:d,spatialReference:e})));return this._valueInfoMap[a+
""]};b.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&this.field2){a=this.field2;d=this.field3;var e=[];b&&e.push(c[b]);a&&e.push(c[a]);d&&e.push(c[d]);d=e.join(this.fieldDelimiter||"")}else"function"===typeof b?d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};b.fromPortalStyle=function(a,b){var c=new l(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||D.getDefault());b=c.populateFromStyle();
b.catch(function(b){G.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};b.fromStyleUrl=function(a,b){b=new l(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){G.error("#fromStyleUrl('"+a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var l;e([t.property({readOnly:!0,dependsOn:["valueExpression"]})],b.prototype,"_cache",null);e([t.enumeration.serializable()({uniqueValue:"unique-value"})],
b.prototype,"type",void 0);e([t.property({types:{base:h.BaseSymbol,key:"type",typeMap:{"simple-fill":c.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":c.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":c.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{read:E.read,write:E.writeTarget}})],b.prototype,"backgroundFillSymbol",void 0);e([t.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:h.PolygonSymbol3D}})],b.prototype,"writeBackgroundFillSymbolWebScene",null);
e([t.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],b.prototype,"field",void 0);e([t.cast("field")],b.prototype,"castField",null);e([t.writer("field")],b.prototype,"writeField",null);e([t.property({type:String,json:{write:!0}})],b.prototype,"field2",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"field3",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,
"valueExpressionTitle",void 0);e([t.property({type:z.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);e([t.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",void 0);e([t.property({types:c.symbolTypesRenderer})],b.prototype,"defaultSymbol",null);e([t.reader("defaultSymbol")],b.prototype,"readDefaultSymbol",null);e([t.writer("web-scene","defaultSymbol",{defaultSymbol:{types:c.symbolTypesRenderer3D}})],b.prototype,"writeDefaultSymbolWebScene",null);e([t.writer("defaultSymbol")],
b.prototype,"writeDefaultSymbol",null);e([t.property({type:String,json:{write:!0}})],b.prototype,"fieldDelimiter",void 0);e([t.property({type:D,readOnly:!0})],b.prototype,"portal",void 0);e([t.reader("portal",["styleName"])],b.prototype,"readPortal",null);e([t.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],b.prototype,"styleOrigin",void 0);e([t.reader("styleOrigin",["styleName","styleUrl"])],b.prototype,"readStyleOrigin",null);e([t.writer("styleOrigin",
{styleName:{type:String},styleUrl:{type:String}})],b.prototype,"writeStyleOrigin",null);e([t.property({type:[F],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],b.prototype,"uniqueValueInfos",null);return b=l=e([t.subclass("esri.renderers.UniqueValueRenderer")],b)}(t.declared(x.VisualVariablesMixin(B)))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),function(a,b,q,e,p,
k){function m(a){return a instanceof e?Object.keys(a.items):a instanceof q?k.getProperties(a).keys():a?Object.keys(a):[]}function d(a,b){return a instanceof e?a.items[b]:a[b]}function h(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function c(a){return a?a.declaredClass:null}function g(a,b){var e,f=a.diff;if(f&&"function"===typeof f)return f(a,b);var l=m(a),k=m(b);if(0!==l.length||0!==k.length){if(!l.length||!k.length||h(a,b))return{type:"complete",oldValue:a,newValue:b};var n=
k.filter(function(a){return-1===l.indexOf(a)}),y=l.filter(function(a){return-1===k.indexOf(a)}),n=l.filter(function(c){return-1<k.indexOf(c)&&d(a,c)!==d(b,c)}).concat(n,y).sort();if((y=c(a))&&-1<w.indexOf(y)&&n.length)return{type:"complete",oldValue:a,newValue:b};for(var D,y=a instanceof q&&b instanceof q,B=0;B<n.length;B++){var x=n[B],z=d(a,x),F=d(b,x),C=void 0;!(y||"function"!==typeof z&&"function"!==typeof F)||z===F||null==z&&null==F||(C=f&&f[x]&&"function"===typeof f[x]?f[x](z,F):"object"===typeof z&&
"object"===typeof F&&c(z)===c(F)?g(z,F):{type:"complete",oldValue:z,newValue:F},p.isSome(C)&&(p.isSome(D)?D.diff[x]=C:D={type:"partial",diff:(e={},e[x]=C,e)}))}return D}}function f(a){if(p.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!f(d))return!1}b=0;for(c=a.removed;b<c.length;b++)if(d=c[b],!f(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!f(d))return!1;return!0;case "partial":for(b in a.diff)if(d=a.diff[b],
!f(d))return!1;return!0}}Object.defineProperty(b,"__esModule",{value:!0});var w=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];b.diff=function(a,b){if("function"!==typeof a&&"function"!==typeof b&&(a||b))return!a||!b||"object"===typeof a&&"object"===typeof b&&c(a)!==c(b)?{type:"complete",oldValue:a,newValue:b}:g(a,b)};b.isEmpty=f})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,b,q,e,p,k,m,d){return function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.symbol=null;b.value=null;return b}q(b,a);g=b;b.prototype.clone=function(){return new g({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var g;e([m.property({type:String,json:{write:!0}})],b.prototype,"description",
void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([m.property({types:p.symbolTypesRenderer,json:{origins:{"web-scene":{types:p.symbolTypesRenderer3D,read:d.read,write:d.writeTarget}},read:d.read,write:d.writeTarget}})],b.prototype,"symbol",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"value",void 0);return b=g=e([m.subclass("esri.renderers.support.UniqueValueInfo")],b)}(m.declared(k.JSONSupport))})},"esri/symbols/support/styleUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../symbols ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w,l,n){function v(a,b){return x(a,b).then(function(b){return{data:b.data,baseUrl:h.removeFile(a),styleUrl:a}})}function r(a,b,d){b=b.portal||c.getDefault();var e,f=b.url+" - "+(b.user&&b.user.username)+" - "+a;z[f]||(z[f]=t(a,b,d).then(function(a){e=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:e.itemUrl,styleName:a}}));return z[f]}function t(a,b,c){return b.load(c).then(function(){var d=new g({disableExtraQuery:!0,query:"owner:"+F+" AND type:"+C+
' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var d=null,e=a.toLowerCase();if(b&&Array.isArray(b))for(var f=0;f<b.length;f++){var g=b[f];if(g.typeKeywords.some(function(a){return a.toLowerCase()===e})&&g.type===C&&g.owner===F){d=g;break}}if(!d)throw new m("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return d.load(c)})}function u(a,b,c){return a.styleUrl?v(a.styleUrl,c):a.styleName?r(a.styleName,b,c):d.reject(new m("symbolstyleutils:style-url-and-name-missing",
"Either styleUrl or styleName is required to resolve a style"))}function A(a,b,c,e,f){for(var g=a.data,q={portal:c.portal,url:h.urlToObject(a.baseUrl),origin:"portal-item"},r=function(d){if(d.name!==b)return"continue";var g=h.fromJSON(D(d,e),q),m=d.thumbnail&&d.thumbnail.href,r=d.thumbnail&&d.thumbnail.imageData;k.isDevEnvironment()&&(g=k.adjustStaticAGOUrl(g),m=k.adjustStaticAGOUrl(m));var t={portal:c.portal,url:h.urlToObject(h.removeFile(g)),origin:"portal-item"};return{value:x(g,f).then(function(d){d=
"cimRef"===e?y(d.data):d.data;if((d=w.fromJSON(d,t))&&p.isSymbol3D(d)){if(m){var f=h.fromJSON(m,q);d.thumbnail=new n.default({url:f})}else r&&(d.thumbnail=new n.default({url:"data:image/png;base64,"+r}));a.styleUrl?d.styleOrigin=new l({portal:c.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(d.styleOrigin=new l({portal:c.portal,styleName:a.styleName,name:b}))}return d})}},t=0,g=g.items;t<g.length;t++){var u=r(g[t]);if("object"===typeof u)return u.value}return d.reject(new m("symbolstyleutils:symbol-name-not-found",
"The symbol name '"+b+"' could not be found",{symbolName:b}))}function y(a){return null===a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function D(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!f.enableWebStyleForceWOSR()){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function B(a,b,c){var d=E.replace(/\{SymbolName\}/gi,a.name);return x(d,c).then(function(a){a=y(a.data);return w.fromJSON(a,{portal:b.portal,
url:h.urlToObject(h.removeFile(d)),origin:"portal-item"})})}function x(a,b){b=q({responseType:"json",query:{f:"json"}},b);return e(h.normalize(a),b)}Object.defineProperty(b,"__esModule",{value:!0});var z={};b.fetchStyle=u;b.resolveWebStyleSymbol=function(a,b,c,e){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?B(a,b,e):u(a,b,e).then(function(d){return A(d,a.name,b,c,e)}):d.reject(new m("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};
b.fetchSymbolFromStyle=A;b.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var c=a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var F="esri_en",C="Style",E="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.isDevEnvironment=
function(a){a=a||q.location.hostname;return d.some(function(b){return null!=a.match(b)})};b.adjustStaticAGOUrl=function(a,b){if(!a)return a;b=b||q.location.hostname;return null!=b.match(e)||null!=b.match(k)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=b.match(p)||null!=b.match(m)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a};b.isTelemetryDevEnvironment=function(a){a=a||q.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(d).some(function(b){return null!=a.match(b)})};
var e=/^devext.arcgis.com$/,p=/^qaext.arcgis.com$/,k=/^[\w-]*\.mapsdevext.arcgis.com$/,m=/^[\w-]*\.mapsqa.arcgis.com$/,d=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,e,p,/^jsapps.esri.com$/,k,m]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(a,b,q){function e(a,b){return!!q("enable-feature:"+a+"/"+b)}Object.defineProperty(b,"__esModule",{value:!0});b.hasEnableFeature=e;b.enableWebStyleForceWOSR=function(){return e("jschmid","force-wosr")}})},"esri/layers/support/RasterInfo":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../geometry/Extent ../../tasks/support/FeatureSet".split(" "),
function(a,b,q,e,p,k,m,d,h){return function(a){function b(b){b=a.call(this,b)||this;b.attributeTable=null;b.bandCount=null;b.colormap=null;b.extent=null;b.format=void 0;b.height=null;b.width=null;b.histograms=null;b.keyProperties=null;b.multidimensionalInfo=null;b.noDataValue=null;b.pixelSize=null;b.pixelType=null;b.spatialReference=null;b.statistics=null;b.storageInfo=null;return b}e(b,a);Object.defineProperty(b.prototype,"dataType",{get:function(){var a=this.keyProperties&&this.keyProperties.DataType;
return a?a.toLowerCase():"generic"},enumerable:!0,configurable:!0});p([m.property({type:h,json:{write:!0}})],b.prototype,"attributeTable",void 0);p([m.property({json:{write:!0}})],b.prototype,"bandCount",void 0);p([m.property({json:{write:!0}})],b.prototype,"colormap",void 0);p([m.property({type:String,readOnly:!0})],b.prototype,"dataType",null);p([m.property({type:d,json:{write:!0}})],b.prototype,"extent",void 0);p([m.property({json:{write:!0}})],b.prototype,"format",void 0);p([m.property({json:{write:!0}})],
b.prototype,"height",void 0);p([m.property({json:{write:!0}})],b.prototype,"width",void 0);p([m.property({json:{write:!0}})],b.prototype,"histograms",void 0);p([m.property({json:{write:!0}})],b.prototype,"keyProperties",void 0);p([m.property({json:{write:!0}})],b.prototype,"multidimensionalInfo",void 0);p([m.property()],b.prototype,"noDataValue",void 0);p([m.property({json:{write:!0}})],b.prototype,"pixelSize",void 0);p([m.property({json:{write:!0}})],b.prototype,"pixelType",void 0);p([m.property({json:{write:!0}})],
b.prototype,"spatialReference",void 0);p([m.property({json:{write:!0}})],b.prototype,"statistics",void 0);p([m.property({json:{write:!0}})],b.prototype,"storageInfo",void 0);return b=p([m.subclass("esri.layers.support.RasterInfo")],b)}(m.declared(k.JSONSupport))})},"esri/tasks/support/FeatureSet":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,q,e,p,k,m,d,h,c,g,f,w){var l=new m.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});a=function(a){function b(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}e(b,a);b.prototype.readFeatures=function(a,b){b=g.fromJSON(b.spatialReference);
for(var c=[],d=0;d<a.length;d++){var e=a[d],f=k.fromJSON(e),e=e.geometry&&e.geometry.spatialReference;h.isSome(f.geometry)&&!e&&(f.geometry.spatialReference=b);c.push(f)}return c};b.prototype.writeGeometryType=function(a,b,c,d){if(a)l.write(a,b,c,d);else if(a=this.features)for(var e=0;e<a.length;e++){var f=a[e];if(f&&h.isSome(f.geometry)){l.write(f.geometry.type,b,c,d);break}}};b.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(var c=0;c<
a.length;c++){var d=a[c];d&&h.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())}};b.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};b.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,e=b[0],f=b[1],b=this.features,g=this._getQuantizationFunction(this.geometryType,
function(a){return Math.round((a-e)/c)},function(a){return Math.round((f-a)/d)}),k=0,l=b.length;k<l;k++)g(h.expect(b[k].geometry))||(b.splice(k,1),k--,l--);this.transform=a;return this};b.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],e=c[1],b=b.scale,f=b[0],g=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+d},function(a){return e-a*g}),c=0;c<a.length;c++){var k=a[c].geometry;h.isSome(k)&&b(k)}return this};
b.prototype._quantizePoints=function(a,b,c){for(var d,e,f=[],g=0,h=a.length;g<h;g++){var k=a[g];if(0<g){var l=b(k[0]),k=c(k[1]);if(l!==d||k!==e)f.push([l-d,k-e]),d=l,e=k}else d=b(k[0]),e=c(k[1]),f.push([d,e])}return 0<f.length?f:null};b.prototype._getQuantizationFunction=function(a,b,c){var d=this;return"point"===a?function(a){a.x=b(a.x);a.y=c(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var e=f.isPolygon(a)?a.rings:a.paths,g=[],h=0,k=e.length;h<k;h++){var l=d._quantizePoints(e[h],
b,c);l&&g.push(l)}return 0<g.length?(f.isPolygon(a)?a.rings=g:a.paths=g,a):null}:"multipoint"===a?function(a){var e;e=d._quantizePoints(a.points,b,c);return 0<e.length?(a.points=e,a):null}:"extent"===a?function(a){return a}:null};b.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=f.isPolygon(a)?a.rings:a.paths;for(var d,e,g=0,h=a.length;g<h;g++)for(var k=a[g],l=0,m=k.length;l<m;l++){var n=
k[l];0<l?(d+=n[0],e+=n[1]):(d=n[0],e=n[1]);n[0]=b(d);n[1]=c(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,f=0,g=a.length;f<g;f++){var h=a[f];0<f?(d+=h[0],e+=h[1]):(d=h[0],e=h[1]);h[0]=b(d);h[1]=c(e)}}};q([c.property({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0);q([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"exceededTransferLimit",void 0);q([c.property({type:[k],json:{write:!0}})],b.prototype,"features",void 0);q([c.reader("features")],b.prototype,"readFeatures",null);q([c.property({type:[w],json:{write:!0}})],b.prototype,"fields",void 0);q([c.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:l.read}}})],b.prototype,"geometryType",void 0);q([c.writer("geometryType")],b.prototype,"writeGeometryType",null);q([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"hasM",void 0);q([c.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);q([c.property({types:p.geometryTypes,json:{read:f.fromJSON,write:!0}})],b.prototype,"queryGeometry",void 0);q([c.property({type:g,json:{write:!0}})],b.prototype,"spatialReference",void 0);q([c.writer("spatialReference")],b.prototype,"writeSpatialReference",null);q([c.property({json:{write:!0}})],b.prototype,"transform",void 0);return b=q([c.subclass("esri.tasks.support.FeatureSet")],
b)}(c.declared(d.JSONSupport));a.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(a||(a={}));return a})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(a,b,q,e,p,k,m,d,h,c){var g=new p.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",
dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this,b)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;
b.valueType=null;return b}q(b,a);f=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(t){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(t){}return c?g.fromJSON(c.fieldValueType):null};b.prototype.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,
nullable:this.nullable,type:this.type,valueType:this.valueType})};var f;e([m.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);e([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);e([m.property()],b.prototype,"description",void 0);e([m.reader("description")],b.prototype,"readDescription",null);e([m.property({types:h.types,json:{read:{reader:h.fromJSON},write:!0}})],b.prototype,"domain",void 0);e([m.property({type:Boolean,json:{write:!0}})],
b.prototype,"editable",void 0);e([m.property({type:d.Integer,json:{write:!0}})],b.prototype,"length",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([m.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);e([m.enumeration.serializable()(c.kebabDict)],b.prototype,"type",void 0);e([m.property()],b.prototype,"valueType",void 0);e([m.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=f=e([m.subclass("esri.layers.support.Field")],
b)}(m.declared(k.JSONSupport))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(a,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new q.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",
esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"*noref":1}});
define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/promiseUtils ./PixelBlock ./rasterFormats/RasterCodec ./rasterFunctions/pixelUtils ../../renderers/support/RasterSymbolizer".split(" "),function(a,b,q,e,p,k,m,d,h){return function(){function a(){}a.prototype.decode=function(a){return e(this,void 0,void 0,function(){var b;return q(this,function(c){switch(c.label){case 0:return[4,m.decode(a.data,a.options)];case 1:return b=c.sent(),[2,b&&b.toJSON()]}})})};
a.prototype.symbolize=function(a){return e(this,void 0,void 0,function(){var b;return q(this,function(c){b=this.symbolizer.symbolize(k.fromJSON(a));return[2,b&&b.toJSON()]})})};a.prototype.updateSymbolizer=function(a){return e(this,void 0,void 0,function(){return q(this,function(b){this.symbolizer=h.fromJSON(a.symbolizerJSON);a.histograms&&this.symbolizer&&this.symbolizer.renderer&&"histograms"in this.symbolizer.renderer&&(this.symbolizer.renderer.histograms=a.histograms);return[2]})})};a.prototype.stretch=
function(a){a=this.symbolizer.simpleStretch(k.fromJSON(a.srcPixelBlock),a.stretchParams);return p.resolve(a&&a.toJSON())};a.prototype.mosaicAndTransform=function(a){return e(this,void 0,void 0,function(){var b,c,e;return q(this,function(f){b=a.srcPixelBlocks.map(function(a){return a?new k(a):null});c=d.mosaic(b,a.srcMosaicSize);if(!a.coefs)return[2,c&&c.toJSON()];e=d.approximateTransform(c,a.destDimension,a.coefs,a.sampleSpacing);return[2,e&&e.toJSON()]})})};return a}()});